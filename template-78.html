<h1 id="filtering---programmatic">Filtering - Programmatic</h1>
<p>Rows can be filtered programmatically using the <a href="./extensions/tr-grid-row-filtering">Row Filtering Extension</a> through the <code>extension.setColumnFilter(colIndex, expression, context)</code> API, which accepts a filter expression string or a filter function.</p>
<p><strong>Filter expression</strong></p>
<p>The expression format is a boolean statement. The supported functions are similar to those found in Excel, so you can refer to Excel functions of the same name. The expression, however, is evaluated only on each row, unlike in Excel where you can refer to any cell in the table. The data in each field can be referenced using <code>[columnName]</code>.</p>
<pre><code class="language-js">// Col1 - Rank &gt; 10
rowFilterExt.setColumnFilter(0, &#39;[rank] &gt; 10&#39;);
</code></pre>
<p><strong>Filter function</strong></p>
<p>The custom filter function helps you to fine-tune the filtering logic. The function takes three parameters: <code>rowData</code>, <code>rowId</code> and <code>context</code>. The function is called against each row in the grid. If the function returns true the row is included, or false otherwise.</p>
<pre><code class="language-js">// Col2 - Countries start with &#39;A&#39;
rowFilterExt.setColumnFilter(1, function(rowData, rowId, ctx) {
    var country = rowData.country.toLowerCase();
    return /^a/.test(country);
});
</code></pre>
<h2 id="example">Example</h2>
<code-sandbox hash="38ff326e"><pre><code class="language-css">efx-grid {
    height: 448px;
}
input[type=button] {
    margin: 5;
}
</code></pre>
<pre><code class="language-html">&lt;input id=&quot;rank_rather_10&quot; type=&quot;button&quot; value=&quot;Col1 - Rank &gt; 10&quot;&gt;
&lt;input id=&quot;start_with_a&quot; type=&quot;button&quot; value=&quot;Col2 - Countries start with &#39;A&#39;&quot;&gt;
&lt;input id=&quot;small_countries&quot; type=&quot;button&quot; value=&quot;Col3 - Small countries&quot;&gt;
&lt;input id=&quot;clear&quot; type=&quot;button&quot; value=&quot;Clear Filters&quot;&gt;
&lt;br&gt;&lt;br&gt;
&lt;efx-grid id=&quot;grid&quot;&gt;&lt;/efx-grid&gt;
</code></pre>
<pre><code class="language-javascript">await (await import(&quot;./theme-loader.js&quot;)).default; // This line is only required for demo purpose. It is not relevant for using EFX Grid in your application.

/* ---------------------------------- Note ----------------------------------
  DataGenerator, Formatters and extensions are exposed to global scope
  in the bundle file to make it easier to create live examples.
  Importing formatters and extensions is still required in your application. 
  Please see the document for further information.
---------------------------------------------------------------------------*/
var rowFilterExt = new RowFiltering();
var textFormatExt = new TextFormatting();
var configObj = {
    columns: [
        { title: &quot;Rank&quot;, field: &quot;rank&quot;, sortBy: &quot;rank&quot; },
        { title: &quot;Country&quot;, field: &quot;country&quot;, sortBy: &quot;country&quot; },
        {
            title: &quot;GDP (Millions of USD)&quot;,
            field: &quot;gdp&quot;,
            sortBy: &quot;gdp&quot;,
            alignment: &quot;right&quot;,
            formatType: {
                type: &quot;number&quot;,
                separator: 1,
                decimalPlaces: 3
            }
        }
    ],
    rowFiltering: {
        disabledUI: true
    },
    extensions: [
        rowFilterExt,
        textFormatExt
    ]
};

var grid = document.getElementById(&quot;grid&quot;);
grid.config = configObj;

// Fetch data from gdp.json
fetch(&#39;../resources/scripts/data/gdp.json&#39;).then(o =&gt; o.json()).then(response =&gt; {
    response = response.map(function(data) {
            return {
                rank: data[0],
                country: data[1],
                gdp: data[2]
            }
        });
    grid.api.addStaticDataRows(response);
});

document.getElementById(&#39;rank_rather_10&#39;).addEventListener(&#39;click&#39;, function() {
    rowFilterExt.addColumnFilter(0, &quot;[rank] &gt; 10&quot;);
});

document.getElementById(&#39;start_with_a&#39;).addEventListener(&#39;click&#39;, function() {
    rowFilterExt.addColumnFilter(1, function(rowData, rowId, ctx) {
    let country = rowData.country.toLowerCase();
    return /^a/.test(country);
    });
});

document.getElementById(&#39;small_countries&#39;).addEventListener(&#39;click&#39;, function() {
    rowFilterExt.addColumnFilter(2, function (rowData, rowId, ctx) {
    return rowData.gdp &lt;= 1000;
    });
});

document.getElementById(&#39;clear&#39;).addEventListener(&#39;click&#39;, function() {
    rowFilterExt.removeAllFilters();
});
</code></pre>
</code-sandbox>