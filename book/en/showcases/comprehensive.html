<!doctype html>
<html pandora>

<head>
  <title>Comprehensive</title>
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="x-pandora-base" content="../">
  <meta name="x-pandora-location" content="showcases/comprehensive.html">
  <link rel="stylesheet" href="../../../resources/styles/book.css">
  <script defer src="../../../resources/scripts/book.js"></script>
  <script defer src="../search.index.js"></script>
  <link rel="icon" href="../resources/images/icon.png">
</head>

<body>
  <pandora-book>
    <div class="header" no-print>
      <div class="book-icon" style="background-image:url(&quot;../resources/images/icon.png&quot;)"></div>
      <h1><a href="../index.html">Grid Usage Guide</a></h1>
      <div class="search">
        <input type="search" placeholder="Type to search...">
      </div>
    </div>
    <div class="content">
      <div class="sidebar" no-print>
        <pandora-nav id="fd8c1120-cc1c-4b8a-83d7-4bd4ddd7afd4">
          <ul>
            <li><a href="../index.html">Overview</a></li>
            <li parent id="cid-0" collapsible collapsed>
              <div collapser>General Concept</div>
              <ul>
                <li><a href="../general_concept/basic.html">Basic Grid Creation</a></li>
                <li><a href="../general_concept/initializing-data.html">Initializing Data</a></li>
                <li><a href="../general_concept/event-listeners.html">Event Listeners</a></li>
                <li><a href="../general_concept/disposing-grid.html">Disposing Grid</a></li>
              </ul>
            </li>
            <li parent id="cid-1" collapsible collapsed>
              <div collapser>Showcases</div>
              <ul>
                <li selected><a href="../showcases/comprehensive.html">Comprehensive</a></li>
              </ul>
            </li>
            <li parent id="cid-4" collapsible collapsed>
              <div collapser>APIs</div>
              <ul>
                <li><a href="../apis/README.html">Overview</a></li>
                <li parent id="cid-2" collapsible collapsed>
                  <div collapser>Composite Grid (Emerald Grid)</div>
                  <ul>
                    <li><a href="../apis/composite_grid/tr.ColumnStats.html">tr.ColumnStats</a></li>
                    <li><a href="../apis/composite_grid/tr.CompositeGrid.html">tr.CompositeGrid</a></li>
                    <li><a href="../apis/composite_grid/tr.DataCache.html">tr.DataCache</a></li>
                    <li><a href="../apis/composite_grid/tr.DataTable.html">tr.DataTable</a></li>
                    <li><a href="../apis/composite_grid/tr.DataView.html">tr.DataView</a></li>
                    <li><a href="../apis/composite_grid/tr.ElementControl.html">tr.ElementControl</a></li>
                    <li><a href="../apis/composite_grid/tr.ElementWrapper.html">tr.ElementWrapper</a></li>
                    <li><a href="../apis/composite_grid/tr.Event.html">tr.Event</a></li>
                    <li><a href="../apis/composite_grid/tr.EventDispatcher.html">tr.EventDispatcher</a></li>
                    <li><a href="../apis/composite_grid/tr.Grid.html">tr.Grid</a></li>
                    <li><a href="../apis/composite_grid/tr.IElementControl.html">tr.IElementControl</a></li>
                    <li><a href="../apis/composite_grid/tr.ILayoutGrid.html">tr.ILayoutGrid</a></li>
                    <li><a href="../apis/composite_grid/tr.LayoutGrid.html">tr.LayoutGrid</a></li>
                    <li><a href="../apis/composite_grid/tr.grid.Cell.html">tr.grid.Cell</a></li>
                    <li><a href="../apis/composite_grid/tr.grid.CellSpans.html">tr.grid.CellSpans</a></li>
                    <li><a href="../apis/composite_grid/tr.grid.DragAndDropTitlePlugin.html">tr.grid.DragAndDropTitlePlugin</a></li>
                    <li><a href="../apis/composite_grid/tr.grid.HScrollbar.html">tr.grid.HScrollbar</a></li>
                    <li><a href="../apis/composite_grid/tr.grid.ResizableTitlePlugin.html">tr.grid.ResizableTitlePlugin</a></li>
                    <li><a href="../apis/composite_grid/tr.grid.Scrollbar.html">tr.grid.Scrollbar</a></li>
                    <li><a href="../apis/composite_grid/tr.grid.SectionSettings.html">tr.grid.SectionSettings</a></li>
                    <li><a href="../apis/composite_grid/tr.grid.SortableTitlePlugin.html">tr.grid.SortableTitlePlugin</a></li>
                    <li><a href="../apis/composite_grid/tr.grid.VScrollbar.html">tr.grid.VScrollbar</a></li>
                  </ul>
                </li>
                <li parent id="cid-3" collapsible collapsed>
                  <div collapser>Real-time Grid (Atlas Blotter)</div>
                  <ul>
                    <li><a href="../apis/rt_grid/ColumnDefinition.html">ColumnDefinition</a></li>
                    <li><a href="../apis/rt_grid/Grid.html">Grid</a></li>
                    <li><a href="../apis/rt_grid/RowDefinition.html">RowDefinition</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li parent id="cid-5" collapsible collapsed>
              <div collapser>Extensions</div>
              <ul>
                <li><a href="../extensions/README.html">Overview</a></li>
                <li><a href="../extensions/tr-grid-auto-tooltip.html">Auto Tooltip</a></li>
                <li><a href="../extensions/tr-grid-cell-selection.html">Cell Selection</a></li>
                <li><a href="../extensions/tr-grid-checkbox.html">Checkbox Column</a></li>
                <li><a href="../extensions/tr-grid-column-fitter.html">Column Fitter</a></li>
                <li><a href="../extensions/tr-grid-column-formatting.html">Column Formatting</a></li>
                <li><a href="../extensions/tr-grid-column-grouping.html">Column Grouping</a></li>
                <li><a href="../extensions/tr-grid-column-resizing.html">Column Resizing</a></li>
                <li><a href="../extensions/tr-grid-column-selection.html">Column Selection</a></li>
                <li><a href="../extensions/tr-grid-column-stack.html">Column Stack</a></li>
                <li><a href="../extensions/tr-grid-conditional-coloring.html">Conditional Coloring</a></li>
                <li><a href="../extensions/tr-grid-content-wrap.html">Content Wrap</a></li>
                <li><a href="../extensions/tr-grid-contextmenu.html">Context Menu</a></li>
                <li><a href="../extensions/tr-grid-filter-input.html">Filter Input</a></li>
                <li><a href="../extensions/tr-grid-heat-map.html">Heat Map</a></li>
                <li><a href="../extensions/tr-grid-in-cell-editing.html">In-Cell Editing</a></li>
                <li><a href="../extensions/tr-grid-pagination.html">Pagination</a></li>
                <li><a href="../extensions/tr-grid-percent-bar.html">Percent Bar</a></li>
                <li><a href="../extensions/tr-grid-range-bar.html">Range Bar</a></li>
                <li><a href="../extensions/tr-grid-row-dragging.html">Row Dragging</a></li>
                <li><a href="../extensions/tr-grid-row-filtering.html">Row Filtering</a></li>
                <li><a href="../extensions/tr-grid-row-grouping.html">Row Grouping</a></li>
                <li><a href="../extensions/row-segmenting.html">Row Segmenting</a></li>
                <li><a href="../extensions/tr-grid-row-selection.html">Row Selection</a></li>
                <li><a href="../extensions/tr-grid-rowcoloring.html">Row Coloring</a></li>
                <li><a href="../extensions/statistics-row.html">Statistics Row</a></li>
                <li><a href="../extensions/tr-grid-textformatting.html">Text Formatting</a></li>
                <li><a href="../extensions/tr-grid-titlewrap.html">Title Wrap</a></li>
                <li><a href="../extensions/zoom.html">Zoom</a></li>
              </ul>
            </li>
            <li parent id="cid-6" collapsible collapsed>
              <div collapser>Content Rendering</div>
              <ul>
                <li><a href="../rendering/formatter-event-handling.html">Event Handling in Formatter</a></li>
              </ul>
            </li>
            <li parent id="cid-7" collapsible collapsed>
              <div collapser>Data</div>
              <ul>
                <li><a href="../data/columns-and-data.html">Resetting/Clearing Data</a></li>
              </ul>
            </li>
            <li parent id="cid-8" collapsible collapsed>
              <div collapser>Columns</div>
              <ul>
                <li><a href="../columns/column-resetting.html">Column Resetting</a></li>
                <li><a href="../columns/column-alignment.html">Column Alignment</a></li>
                <li><a href="../columns/dynamic-add-insert-column.html">Column Add/insert</a></li>
                <li><a href="../columns/dynamic-remove-column.html">Column Hide/remove</a></li>
                <li><a href="../columns/column-width.html">Column Width</a></li>
                <li><a href="../columns/column-reordering.html">Column Reordering</a></li>
                <li><a href="../columns/column-moving.html">Column Moving</a></li>
                <li><a href="../columns/column-freezing.html">Column Freezing</a></li>
                <li><a href="../columns/column-pinning.html">Column Pinning</a></li>
                <li><a href="../columns/column-styling.html">Column Styling</a></li>
                <li><a href="../columns/column-grouping.html">Column Grouping</a></li>
              </ul>
            </li>
            <li parent id="cid-9" collapsible collapsed>
              <div collapser>Rows</div>
              <ul>
                <li><a href="../rows/row-highlight-selection.html">Row Highlighting / Selection</a></li>
                <li><a href="../rows/row-height.html">Row Height</a></li>
                <li><a href="../rows/row-show-hide.html">Row Showing / Hiding</a></li>
                <li><a href="../rows/row-reordering.html">Row Reordering</a></li>
                <li><a href="../rows/add-header-footer.html">Adding Header &amp; Footer Sections</a></li>
                <li><a href="../rows/row-grouping.html">Row Grouping</a></li>
              </ul>
            </li>
            <li parent id="cid-10" collapsible collapsed>
              <div collapser>Scrollbars</div>
              <ul>
                <li><a href="../scrollbars/vertical-scrollbar.html">Vertical Scrollbar</a></li>
                <li><a href="../scrollbars/horizontal-scrollbar.html">Horizontal Scrollbar</a></li>
                <li><a href="../scrollbars/scroll-speed.html">Scroll Speed</a></li>
                <li><a href="../scrollbars/non-overlap-scrollbars.html">Non-Overlap Scrollbars</a></li>
                <li><a href="../scrollbars/scrollbar-visibility.html">Scrollbar Visibility</a></li>
                <li><a href="../scrollbars/left-side-column-pinning.html">Left Side Column Pinning/Freezing</a></li>
                <li><a href="../scrollbars/right-side-column-pinning.html">Right Side Column Pinning/Freezing</a></li>
              </ul>
            </li>
            <li parent id="cid-11" collapsible collapsed>
              <div collapser>Sorting</div>
              <ul>
                <li><a href="../sorting/sorting.html">Basic Sorting</a></li>
                <li><a href="../sorting/default-sorting.html">Default Sort</a></li>
                <li><a href="../sorting/server-side-sorting.html">Server Side Sorting</a></li>
                <li><a href="../sorting/multi-column-sorting.html">Multi-Column/3-States Sorting</a></li>
                <li><a href="../sorting/sorting-get-reset.html">Get Sort States / Reset All Sorting</a></li>
              </ul>
            </li>
            <li parent id="cid-12" collapsible collapsed>
              <div collapser>Filtering</div>
              <ul>
                <li><a href="../filtering/filtering-programmatically.html">Filtering Programmatically</a></li>
                <li><a href="../filtering/filtering-auto-filter-row.html">Filter UI</a></li>
                <li><a href="../filtering/custom-filter.html">Custom Filter UI</a></li>
                <li><a href="../filtering/filtering-get-reset.html">Get Filter States / Reset All</a></li>
              </ul>
            </li>
            <li parent id="cid-13" collapsible collapsed>
              <div collapser>Editing</div>
              <ul>
                <li><a href="../editing/in-cell-editor.html">In-Cell Editing</a></li>
                <li><a href="../editing/custom-editor.html">Custom Editor</a></li>
              </ul>
            </li>
            <li parent id="cid-14" collapsible collapsed>
              <div collapser>Miscellaneous</div>
              <ul>
                <li><a href="../misc/core-apis.html">Using Core APIs</a></li>
                <li><a href="../misc/real-time-market-data.html">Realtime Market Data</a></li>
              </ul>
            </li>
          </ul>
        </pandora-nav>
      </div>
      <div class="main">
        <div class="reader">
          <pandora-page>
            <h1 id="showcase">Showcase</h1>

            <div class="pandora-code-viewer" id="pid-0">
              <div class="pandora-viewer">
                <button>&lt;/&gt;</button>
              </div>
              <div class="pandora-code-view">
                <div class="pandora-toolbar">
                  <ul>
                    <li class="pandora-tab-selected" data-toggle="tab-html">HTML</li>
                    <li data-toggle="tab-js">JS</li>
                    <li data-toggle="tab-css">CSS</li>
                  </ul>
                </div>
                <div class="pandora-tab-container">
                  <pre class="pandora-tab-view tab-html">&lt;div&gt;
  &lt;span&gt;
    &lt;coral-button id=&quot;select_column_btn&quot;&gt;Select Columns&lt;/coral-button&gt;
    Data Size:
    &lt;coral-select id=&quot;dataSize&quot;&gt;
      &lt;coral-item value=&quot;10&quot;&gt;10 Rows&lt;/coral-item&gt;
      &lt;coral-item value=&quot;100&quot; selected&gt;100 Rows&lt;/coral-item&gt;
      &lt;coral-item value=&quot;1000&quot;&gt;1,000 Rows&lt;/coral-item&gt;
      &lt;coral-item value=&quot;10000&quot;&gt;10,000 Rows&lt;/coral-item&gt;
      &lt;coral-item value=&quot;100000&quot;&gt;100,000 Rows&lt;/coral-item&gt;
    &lt;/coral-select&gt;
  &lt;/span&gt;
  &lt;span&gt;
    &lt;label for=&quot;search_input&quot;&gt;Filter: &lt;/label&gt;
    &lt;input id=&quot;search_input&quot; type=&quot;search&quot; placeholder=&quot;Filter any column&quot;&gt;
  &lt;/span&gt;
&lt;/div&gt;
&lt;div id=&quot;grouping&quot;&gt;
  &lt;coral-select id=&quot;column_grouping_selector&quot; placeholder=&quot;Group By&quot;&gt;&lt;/coral-select&gt;
&lt;/div&gt;
&lt;atlas-blotter id=&quot;preview&quot;&gt;&lt;/atlas-blotter&gt;</pre>
                  <pre class="pandora-tab-view tab-js">var grid = document.getElementsByTagName(&quot;atlas-blotter&quot;)[0];
var dataSizeSelect = document.getElementById(&quot;dataSize&quot;);
var selectColumnBtn = document.getElementById(&quot;select_column_btn&quot;);

// Extensions
var checkboxExt = new tr.CheckboxExtension();
var rowGroupingExt = new tr.RowGroupingExtension();
var conditionalColoringExt = new tr.ConditionalColoringExtension();
var columnGroupingExt = new tr.ColumnGroupingExtension();
var cellSelectionExt = new tr.CellSelectionExtension();
var filterInputExt = new tr.FilterInputExtension();
var columnResizingExt = new tr.ColumnResizingExtension();
var textFormattingExt = new tr.TextFormattingExtension();
var heatMapExt = new tr.HeatMapExtension();
var inCellEditingExt = new tr.InCellEditingExtension();
var percentBarExt = new tr.PercentBarExtension();
var filterExt = new tr.RowFilteringExtension();
var rowColoring = new tr.RowColoringExtension();
var contextMenuExt = new tr.ContextMenuExtension();
var columnFitterExt = new tr.ColumnFitterExtension();

var userList = [
  &quot;Amanda Herrera&quot;,
  &quot;Josh Robertson&quot;,
  &quot;Abbie Parker&quot;,
  &quot;Christopher Washington&quot;,
  &quot;Casey Alvarez&quot;,
  &quot;Joshua Castillo&quot;,
  &quot;Skye Wilson&quot;,
  &quot;Tommy Medina&quot;,
  &quot;Vincent Smith&quot;,
  &quot;Jackson Garcia&quot;,
  &quot;Lisa Alexander&quot;,
  &quot;Holly Brooks&quot;,
  &quot;Zara Marshall&quot;,
  &quot;Kiera Shaw&quot;
];

var languageList = [
  &quot;French&quot;,
  &quot;English&quot;,
  &quot;German&quot;,
  &quot;Italian&quot;,
  &quot;Portuguese&quot;,
  &quot;Chinese&quot;,
  &quot;French&quot;,
  &quot;German&quot;,
  &quot;English&quot;,
  &quot;English&quot;,
  &quot;English&quot;,
  &quot;French&quot;,
  &quot;German&quot;,
  &quot;Chinese&quot;
];

var codeList = {
  &quot;FRA&quot;: &quot;France&quot;,
  &quot;GBR&quot;: &quot;United Kingdom&quot;,
  &quot;ISL&quot;: &quot;Iceland&quot;,
  &quot;ITA&quot;: &quot;Italy&quot;,
  &quot;PRT&quot;: &quot;Protugal&quot;,
  &quot;SWE&quot;: &quot;Sweden&quot;,
  &quot;GRC&quot;: &quot;Greece&quot;,
  &quot;DEU&quot;: &quot;Germany&quot;,
  &quot;NOR&quot;: &quot;Norway&quot;,
  &quot;IND&quot;: &quot;India&quot;,
  &quot;CHN&quot;: &quot;China&quot;
}

var countryList = [
  &quot;FRA&quot;,
  &quot;GBR&quot;,
  &quot;ISL&quot;,
  &quot;ITA&quot;,
  &quot;PRT&quot;,
  &quot;SWE&quot;,
  &quot;GRC&quot;,
  &quot;DEU&quot;,
  &quot;NOR&quot;,
  &quot;GBR&quot;,
  &quot;IND&quot;,
  &quot;FRA&quot;,
  &quot;DEU&quot;,
  &quot;CHN&quot;
];

var gameList = [
  &quot;Overhold&quot;, &quot;Cardify&quot;, &quot;Alphazap&quot;, &quot;Toughjoyfax&quot;, &quot;Voltsillam&quot;,
  &quot;Home Ing&quot;, &quot;Otcom&quot;, &quot;Solarbreeze&quot;, &quot;Alpha&quot;, &quot;Cooker run&quot;,
  &quot;Stronghold&quot;, &quot;Tresom&quot;, &quot;Andalax&quot;, &quot;Rank&quot;, &quot;King of plant&quot;,
  &quot;Alphazap&quot;, &quot;Viva&quot;, &quot;Mat Lam Tam&quot;, &quot;Wrapsafe&quot;, &quot;Gembucket&quot;
];

tr.DataGenerator.addFieldInfo(&quot;game&quot;, {
  type: &quot;set&quot;,
  members: gameList
});

tr.DataGenerator.addFieldInfo(&quot;user_id&quot;, {
  type: &quot;number&quot;,
  min: 0,
  max: userList.length,
  prec: 0
});

var fields = [
  &quot;Name&quot;,
  &quot;Language&quot;,
  &quot;Country&quot;,
  &quot;Game Name&quot;,
  &quot;Bought&quot;,
  &quot;Bank Balance&quot;,
  &quot;Rating&quot;,
  &quot;Total Winnings&quot;,
  &quot;Jan&quot;,
  &quot;Feb&quot;,
  &quot;Mar&quot;,
  &quot;Apr&quot;,
  &quot;May&quot;,
  &quot;Jun&quot;,
  &quot;Jul&quot;,
  &quot;Aug&quot;,
  &quot;Sep&quot;,
  &quot;Oct&quot;,
  &quot;Nov&quot;,
  &quot;Dec&quot;
];

var conditionsArr = fields.map(function(field) {
  return [{
    backgroundColor: &quot;#b9f6ca66&quot;,
    expression: &quot;[&quot; + field + &quot;] &gt; 60&quot;
  }, {
    backgroundColor: &quot;#ff80ab66&quot;,
    expression: &quot;[&quot; + field + &quot;] &lt; 20&quot;
  }];
});

// Custom Capitalize Formatter
const capitalizeFormatter = {
  render: function() {},
  bind: function(rowIndex, colIndex, value, cell) {
    console.log(&quot;value&quot;, value);
    cell.setContent(value.toString()
      .toUpperCase());
  }
};

var dataTypeFields = [
  &quot;user_id&quot;,
  &quot;game&quot;,
  &quot;boolean&quot;, // Bought
  &quot;TR.Volume&quot;, // Bank Balance
  &quot;index100&quot;, // Rating
  &quot;YRHIGH&quot;, // Total Winnings
];

var randNumber = tr.DataGenerator.randNumber;

var seed = Math.round(Math.random() * 100);
var mapRow = function(row) {
  var userId = row[0];
  return [false, userList[userId], languageList[userId], countryList[userId],
    row[1], row[2].toString(), row[3], row[4], row[5],
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed)
  ];
};

var dataRows = tr.DataGenerator.generate(dataTypeFields, { seed: seed, numRows: 100 })
  .map(mapRow);

const entries = languageList.map(function(item) {
  return {
    label: item,
    value: item
  };
});

var allAvailableColumns = [{
    checkboxColumn: true
  },
  {
    id: &quot;c0&quot;,
    name: fields[0],
    field: fields[0],
    width: 200,
    editableContent: true
  },
  {
    id: &quot;c1&quot;,
    name: fields[1],
    field: fields[1],
    editableContent: true,
    inCellEditing: {
      type: &quot;select&quot;,
      entries: entries
    },
    filterInput: {
      type: &quot;select&quot;,
      entries: entries
    },
    width: 200
  },
  {
    id: &quot;c2&quot;,
    name: fields[2],
    field: fields[2],
    filterInput: false,
    minWidth: 100,
    textAlign: &quot;c&quot;,
    binding: tr.CoralButtonFormatter.create({
      events: {
        click: function(event, context) {
          var value = context.getData(context.field);
          alert(codeList[value]);
        }
      }
    })
  },
  {
    id: &quot;c3&quot;,
    name: fields[3],
    field: fields[3],
    filterInput: false,
    binding: capitalizeFormatter,
    width: 120
  },
  {
    id: &quot;c4&quot;,
    name: fields[4],
    field: fields[4],
    filterInput: false,
    minWidth: 100,
    textAlign: &quot;center&quot;,
    binding: tr.CoralIconFormatter.create({
      icon: {
        true: &quot;tick&quot;,
        false: &quot;cross&quot;
      }
    }),
    inCellEditing: {
      type: &quot;checkbox&quot;
    },
    editableContent: true
  },
  {
    id: &quot;c5&quot;,
    name: fields[5],
    field: fields[5],
    minWidth: 120,
    textAlign: &quot;right&quot;,
    heatMap: {
      midPoint: 40
    },
    inCellEditing: {
      type: &quot;number&quot;
    },
    filterInput: {
      type: &quot;number&quot;
    },
    editableContent: true,
    formatType: {
      type: &quot;number&quot;,
      separator: true,
      decimalPlaces: 0
    }
  },
  {
    id: &quot;c6&quot;,
    name: fields[6],
    field: fields[6],
    filterInput: false,
    percentBar: {
      alignment: &quot;l&quot;
    },
    editableContent: true,
    noFitting: true,
    width: 120

  },
  {
    id: &quot;c7&quot;,
    name: fields[7],
    field: fields[7],
    noFitting: true,
    minWidth: 100,
    textAlign: &quot;right&quot;,
    formatType: {
      type: &quot;number&quot;,
      separator: true,
      decimalPlaces: 0
    }
  },
  {
    id: &quot;c8&quot;,
    name: fields[8],
    field: fields[8],
    conditions: conditionsArr[8],
    textAlign: &quot;right&quot;,
    formatType: &quot;percent&quot;,
    width: 120
  },
  {
    id: &quot;c9&quot;,
    name: fields[9],
    field: fields[9],
    conditions: conditionsArr[9],
    textAlign: &quot;right&quot;,
    formatType: &quot;percent&quot;,
    width: 120
  },
  {
    id: &quot;c10&quot;,
    name: fields[10],
    field: fields[10],
    conditions: conditionsArr[10],
    textAlign: &quot;right&quot;,
    formatType: &quot;percent&quot;,
    width: 120
  }, {
    id: &quot;c11&quot;,
    name: fields[11],
    field: fields[11],
    conditions: conditionsArr[11],
    textAlign: &quot;right&quot;,
    formatType: &quot;percent&quot;,
    width: 120
  }, {
    id: &quot;c12&quot;,
    name: fields[12],
    field: fields[12],
    conditions: conditionsArr[12],
    textAlign: &quot;right&quot;,
    formatType: &quot;percent&quot;,
    width: 120
  }, {
    id: &quot;c13&quot;,
    name: fields[13],
    field: fields[13],
    conditions: conditionsArr[13],
    textAlign: &quot;right&quot;,
    formatType: &quot;percent&quot;,
    width: 120
  },
  {
    id: &quot;c14&quot;,
    name: fields[14],
    field: fields[14],
    conditions: conditionsArr[14],
    textAlign: &quot;right&quot;,
    formatType: &quot;percent&quot;,
    width: 120
  },
  {
    id: &quot;c15&quot;,
    name: fields[15],
    field: fields[15],
    conditions: conditionsArr[15],
    textAlign: &quot;right&quot;,
    formatType: &quot;percent&quot;,
    width: 120
  },
  {
    id: &quot;c16&quot;,
    name: fields[16],
    field: fields[16],
    conditions: conditionsArr[16],
    textAlign: &quot;right&quot;,
    formatType: &quot;percent&quot;,
    width: 120
  },
  {
    id: &quot;c17&quot;,
    name: fields[17],
    field: fields[17],
    conditions: conditionsArr[17],
    textAlign: &quot;right&quot;,
    formatType: &quot;percent&quot;,
    width: 120,

  },
  {
    id: &quot;c18&quot;,
    name: fields[18],
    field: fields[18],
    conditions: conditionsArr[18],
    textAlign: &quot;right&quot;,
    formatType: &quot;percent&quot;,
    width: 120
  },
  {
    id: &quot;c19&quot;,
    name: fields[19],
    field: fields[19],
    conditions: conditionsArr[19],
    textAlign: &quot;right&quot;,
    formatType: &quot;percent&quot;,
    width: 120,
    editableContent: true
  }
];

// generate dynamic data and assign to &quot;atlas-blotter&quot;
dataSizeSelect.addEventListener(&quot;value-changed&quot;, function(e) {
  var seed = Math.round(Math.random() * 100);
  var dataRows = tr.DataGenerator.generate(dataTypeFields, { seed: seed, numRows: e.target.value })
    .map(mapRow);

  grid.data = dataRows;
});

// set up row Filter Extension
search_input.addEventListener(&quot;keyup&quot;, function(e) {
  const input = e.currentTarget;

  if (input._prevValue !== input.value) {
    input._prevValue = input.value;
    filterExt.refresh(); // Force filter triggering
  }
});

var filterFunc = function(rowData, rowId, context) {
  var str = &quot;&quot;;
  var val = context.input.value.toLowerCase();
  var record = rowData[&quot;ROW_DEF&quot;].getRowData();
  for (var key in record) {
    str += record[key] + &quot; &quot;;
  }
  return str.toLowerCase().indexOf(val) &gt; -1;
};

var context = {
  input: search_input
};

filterExt.addGridFilter(filterFunc, context);

// Prepare model for context-menu
const contextMenuModel = {
  items: {
    FILTER: {
      text: &quot;Filter&quot;,
      callback: function(e) {
        filterExt.openDialog(e.colIndex, {
          sortUI: true, // Show Sort area
          filterUI: true, // Show Filter area
          sortState: &quot;d&quot;, // &quot;a&quot; for ascending or &quot;d&quot; for descending
          filterChanged: function(e) { // Filter changed handler
            console.log(e.detail);
          },
          sortChanged: function(e) { // Sort changed handler
            console.log(e.detail);
          }
        });
      }
    },
    ROW_COLORING: {
      text: &quot;Set Row Color&quot;,
      items: [
        { text: &quot;Red&quot;, value: &quot;#FF0000&quot; },
        { text: &quot;Green&quot;, value: &quot;#00FF00&quot; },
        { text: &quot;Blue&quot;, value: &quot;#0000FF&quot; },
        { type: &quot;separator&quot; },
        { text: &quot;Default&quot;, value: &quot;&quot; }
      ],
      callback: function(e) {
        const { rowIndex, item: { value } } = e;
        rowColoring.setRowColor(rowIndex, value);
      }
    }
  },
  onMenu: function(e) {
    var context = e.context;
    var menu = e.menu;
    if (context === &quot;header&quot;) {
      menu.addItems(&quot;FILTER&quot;);
    } else if (context === &quot;content&quot;) {
      menu.addItems([&quot;ROW_COLORING&quot;, &quot;FILTER&quot;]);
    }
  }
};

contextMenuExt.listen(&quot;contextmenu&quot;, function(e) {
  // contextmenu event argument provides info about the right click position within the core grid
  console.log(e);
});

// set up &quot;column-selection-dialog&quot;
var dialog = null;
var confirmChanged = function(e) {
  grid.columns = e.detail.data;
};

selectColumnBtn.addEventListener(&quot;click&quot;, function() {
  if (!dialog) {
    dialog = document.createElement(&quot;column-selection-dialog&quot;);
    dialog.addEventListener(&quot;confirm&quot;, confirmChanged);
  }

  var visibleColumns = grid.columns.filter(function(column) {
    return column.checkboxColumn !== true;
  });

  var allColumns = allAvailableColumns.filter(function(column) {
    return column.checkboxColumn !== true;
  });

  dialog.init({
    data: allColumns.slice(),
    visibleItems: visibleColumns.slice()
  });
  dialog.show();
});

var blotterConfig = {
  scrollbar: true,
  autoHideScrollbar: false,
  linearWheelScrolling: true,
  stepScroll: true,
  columnGrouping: [{
      id: &quot;g1&quot;,
      title: &quot;Participant&quot;,
      alignment: &quot;center&quot;,
      children: [&quot;c0&quot;, &quot;c1&quot;, &quot;c2&quot;]
    },
    {
      id: &quot;g2&quot;,
      title: &quot;Game of Choice&quot;,
      alignment: &quot;center&quot;,
      children: [&quot;c3&quot;, &quot;c4&quot;]
    },
    {
      id: &quot;g3&quot;,
      title: &quot;Performance&quot;,
      children: [&quot;c5&quot;]
    },
    {
      id: &quot;g4&quot;,
      title: &quot;Monthly Breakdown&quot;,
      alignment: &quot;left&quot;,
      children: [&quot;c8&quot;, &quot;c9&quot;, &quot;c10&quot;, &quot;c11&quot;, &quot;c12&quot;, &quot;c13&quot;, &quot;c14&quot;, &quot;c15&quot;, &quot;c16&quot;, &quot;c17&quot;, &quot;c18&quot;, &quot;c19&quot;]
    }
  ],
  extensions: [
    columnGroupingExt,
    checkboxExt,
    rowGroupingExt,
    conditionalColoringExt,
    cellSelectionExt,
    filterInputExt,
    columnResizingExt,
    textFormattingExt,
    heatMapExt,
    inCellEditingExt,
    percentBarExt,
    filterExt,
    contextMenuExt,
    rowColoring,
    columnFitterExt
  ],
  inCellEditing: {
    type: &quot;input&quot;,
    contentSource: &quot;field&quot;,
    autoCommitText: true,
    beforeCommit: function(e) {
      // console.log(&quot;beforeCommit&quot;, e)
    }
  },
  contextMenu: contextMenuModel,
  columnFitting: {
    title: false,
    autoAdjust: true,
    paddingSize: 20
  },
  whenDefined: function(e) {
    var api = e.api;
  }
};

grid.columns = allAvailableColumns;
grid.config = blotterConfig;
grid.data = dataRows;

column_grouping_selector.addEventListener(&quot;opened-changed&quot;, function(e) {
  if (!this.opened) {
    var columns = grid.columns;
    var filtered = columns.filter(function(column) {
      return column.checkboxColumn !== true;
    });
    var data = filtered.map(function(column) {
      return {
        label: column.name,
        value: column.field
      }
    });
    var criteria = rowGroupingExt.getGroupingCriteria();
    var selectorData = data.filter(function(item) {
      return criteria.indexOf(item.value) &lt; 0;
    });

    column_grouping_selector.data = selectorData;
  }
});

function onPillRemove(e) {
  // Remove Pill
  var pill = e.target;
  pill.parentElement.removeChild(pill._arrow);
  pill.parentElement.removeChild(pill);
  var field = pill.value;

  // Update grouping criteria
  var criteria = rowGroupingExt.getGroupingCriteria().slice(0);
  criteria.splice(criteria.indexOf(field), 1);
  rowGroupingExt.setGroupingCriteria(criteria);
}

column_grouping_selector.addEventListener(&quot;value-changed&quot;, function(e) {
  var value = e.detail.value;
  var label = this.label;

  // Insert Pill
  var pill = document.createElement(&quot;coral-pill&quot;);

  var arrow = document.createElement(&quot;coral-icon&quot;);
  arrow.className = &quot;arrow&quot;;
  arrow.setAttribute(&apos;icon&apos;, &apos;right&apos;);

  pill._arrow = arrow;
  pill.setAttribute(&quot;clears&quot;, &quot;&quot;);
  pill.innerText = label;
  pill.value = value;
  pill.addEventListener(&quot;clear&quot;, onPillRemove);

  var container = document.getElementById(&quot;grouping&quot;);
  container.appendChild(pill);
  container.appendChild(arrow);

  this.value = &quot;&quot;;

  // Update grouping criteria
  var criteria = rowGroupingExt.getGroupingCriteria();
  var criteria = criteria.concat([value]);
  rowGroupingExt.setGroupingCriteria(criteria);
});</pre>
                  <pre class="pandora-tab-view tab-css">atlas-blotter {
  height: 600px;
}

#grouping .arrow {
  color: red;
  margin: 0 5px;
  vertical-align: middle;
}

#grouping .arrow:last-child {
  display: none;
}

coral-pill {
  margin: auto;
}

#column_grouping_selector {
  margin-right: 5px;
}</pre>
                  <div class="pandora-console"></div>
                </div>
              </div>
              <link rel="prefetch" href="../node_modules/tr-grid-util/dist/mock-jet.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-auto-tooltip/dist/tr-grid-auto-tooltip.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-cell-selection/dist/tr-grid-cell-selection.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-checkbox/dist/tr-grid-checkbox.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-column-fitter/dist/tr-grid-column-fitter.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-column-formatting/dist/tr-grid-column-formatting.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-column-grouping/dist/tr-grid-column-grouping.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-column-resizing/dist/tr-grid-column-resizing.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-column-selection/dist/tr-grid-column-selection.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-column-stack/dist/tr-grid-column-stack.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-conditional-coloring/dist/tr-grid-conditional-coloring.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-content-wrap/dist/tr-grid-content-wrap.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-contextmenu/dist/tr-grid-contextmenu.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-filter-input/dist/tr-grid-filter-input.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-heat-map/dist/tr-grid-heat-map.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-in-cell-editing/dist/tr-grid-in-cell-editing.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-pagination/dist/tr-grid-pagination.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-percent-bar/dist/tr-grid-percent-bar.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-range-bar/dist/tr-grid-range-bar.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-row-dragging/dist/tr-grid-row-dragging.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-row-filtering/dist/tr-grid-row-filtering.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-row-grouping/dist/tr-grid-row-grouping.min.js" type="script">
              <link rel="prefetch" href="../node_modules/@grid/row-segmenting/dist/row-segmenting.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-row-selection/dist/tr-grid-row-selection.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-rowcoloring/dist/tr-grid-rowcoloring.min.js" type="script">
              <link rel="prefetch" href="../node_modules/@grid/statistics-row/dist/statistics-row.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-textformatting/dist/tr-grid-textformatting.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-titlewrap/dist/tr-grid-titlewrap.min.js" type="script">
              <link rel="prefetch" href="../node_modules/@grid/zoom/dist/zoom.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-test-resource-v4/dist/elf-halo-light.js" type="script">
              <link rel="prefetch" href="../node_modules/@grid/formatters/dist/formatters.js" type="script">
            </div>
            <p>As seen above, the showcase includes a combination of features and extensions which allow Grid to support any data types as well as data visualization.</p>
            <p>The most commonly used features have been included in this showcase, such as sorting, filtering, and column moving. </p>
            <p>The extensions show how they can leverage Grid so it can support many use cases. The following offers a brief explanation about some of their usage:</p>
            <ol>
              <li><code>In-cell Editing Extension</code> allows the data manipulation to be made, under the &apos;Name&apos; and &apos;Bought&apos; columns, any row-data in any type can be changed.</li>
              <li>By clicking on the button under the &apos;Country&apos; column, will a dialog box pops up, showing the full country name using the <code>Formatter</code>.</li>
              <li><code>Heat Map Extension</code> uses in the &apos;Bank Balance&apos; column to provide the coloring for the columns field to present the balance health.</li>
              <li><code>Percent Bar Extension</code> uses in the &apos;Rating&apos; column allow the showcase to render the data in the bar.</li>
              <li>By scrolling to the right panel of the Grid, <code>Conditional Coloring Extension</code> applies to differentiate the percentage values making it easy to analyze the data.</li>
              <li>The &apos;Group By&apos; dropdown option utilizes an additional UI customization with the Grid&apos;s API extension in this showcase resulting an useful UI feature as a coral-pill.</li>
              <li>The total data size option for the data rendering can also be adjusted to see the performance of the <code>row virtualization</code> feature.</li>
            </ol>
            <p>The showcase includes all the following Grid features and extensions:</p>
            <ul>
              <li><code>Conditional Coloring Extension</code>,</li>
              <li><code>Column Grouping Extension</code>,</li>
              <li><code>Checkbox Extension</code>,</li>
              <li><code>Cell Selection Extension</code>,</li>
              <li><code>Filter Input Extension</code>,</li>
              <li><code>Column Resizing Extension</code>,</li>
              <li><code>Text Formatting Extension</code>,</li>
              <li><code>Heat Map Extension</code>,</li>
              <li><code>In Cell Editing Extension</code>,</li>
              <li><code>Percent Bar Extension</code>,</li>
              <li><code>Row Filtering Extension</code>,</li>
              <li><code>Context Menu Extension</code>,</li>
              <li><code>Row Coloring Extension</code>,</li>
              <li><code>Column Fitter Extension</code>,</li>
              <li><code>Coral Button Formatter</code>,</li>
              <li><code>Coral Icon Formatter</code>,</li>
              <li><code>Custom Formatter</code>,</li>
              <li><code>column-selection-dialog</code>,</li>
              <li><code>filter-dialog</code></li>
            </ul>
          </pandora-page>
          <div class="results"></div>
        </div>
      </div>
    </div>
  </pandora-book>
</body>

</html>