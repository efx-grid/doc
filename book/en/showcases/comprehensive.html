<!DOCTYPE html>
<html pandora="">

<head><style id="linkStyle">
    .link-icon {
      width: 18px;
      content: url('data:image/png;base64,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');
      margin-left: -26px;
    }
  </style>
  <title>Comprehensive</title>
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="x-pandora-base" content="../">
  <meta name="x-pandora-location" content="showcases/comprehensive.html">
  <link rel="stylesheet" href="../../../resources/styles/book.css">
  <script defer src="../../../resources/scripts/book.js"></script>
  <script defer src="../search.index.js"></script>
  <link rel="icon" href="../resources/images/icon.png">
</head>

<body>
  <pandora-book>
    <div class="header" no-print="">
      <div class="book-icon" style="background-image:url(&quot;../resources/images/icon.png&quot;)"></div>
      <h1><a href="../index.html">Grid Usage Guide</a></h1>
      <div class="search">
        <input type="search" placeholder="Type to search...">
      </div>
    </div>
    <div class="content">
      <div class="sidebar" no-print="">
        <pandora-nav id="3b109ab0-5a52-4254-9abd-67169b2072a3">
          <ul>
            <li><a href="../index.html">Overview</a></li>
            <li parent="" id="cid-0" collapsible="" collapsed="">
              <div collapser="">General Concept</div>
              <ul>
                <li><a href="../general_concept/basic.html">Basic Grid Creation</a></li>
                <li><a href="../general_concept/initializing-data.html">Initializing Data</a></li>
                <li><a href="../general_concept/accessing-data.html">Accessing Data</a></li>
                <li><a href="../general_concept/event-listeners.html">Event Listeners</a></li>
                <li><a href="../general_concept/typescript.html">Adding TypeScript</a></li>
                <li><a href="../general_concept/disposing-grid.html">Disposing Grid</a></li>
              </ul>
            </li>
            <li parent="" id="cid-1" collapsible="" collapsed="">
              <div collapser="">Showcases</div>
              <ul>
                <li selected><a href="../showcases/comprehensive.html">Comprehensive</a></li>
              </ul>
            </li>
            <li parent="" id="cid-4" collapsible="" collapsed="">
              <div collapser="">APIs</div>
              <ul>
                <li><a href="../apis/README.html">Overview</a></li>
                <li parent="" id="cid-2" collapsible="" collapsed="">
                  <div collapser="">Core</div>
                  <ul>
                    <li><a href="../apis/core/Cell.html">Cell</a></li>
                    <li><a href="../apis/core/CellSpans.html">CellSpans</a></li>
                    <li><a href="../apis/core/ColumnStats.html">ColumnStats</a></li>
                    <li><a href="../apis/core/DataCache.html">DataCache</a></li>
                    <li><a href="../apis/core/DataTable.html">DataTable</a></li>
                    <li><a href="../apis/core/DataView.html">DataView</a></li>
                    <li><a href="../apis/core/DragAndDropTitlePlugin.html">DragAndDropTitlePlugin</a></li>
                    <li><a href="../apis/core/ElementWrapper.html">ElementWrapper</a></li>
                    <li><a href="../apis/core/EventDispatcher.html">EventDispatcher</a></li>
                    <li><a href="../apis/core/Grid.html">Grid</a></li>
                    <li><a href="../apis/core/HScrollbar.html">HScrollbar</a></li>
                    <li><a href="../apis/core/ILayoutGrid.html">ILayoutGrid</a></li>
                    <li><a href="../apis/core/LayoutGrid.html">LayoutGrid</a></li>
                    <li><a href="../apis/core/Scrollbar.html">Scrollbar</a></li>
                    <li><a href="../apis/core/SectionSettings.html">SectionSettings</a></li>
                    <li><a href="../apis/core/Segment.html">Segment</a></li>
                    <li><a href="../apis/core/SegmentCollection.html">SegmentCollection</a></li>
                    <li><a href="../apis/core/SortableTitlePlugin.html">SortableTitlePlugin</a></li>
                    <li><a href="../apis/core/VScrollbar.html">VScrollbar</a></li>
                  </ul>
                </li>
                <li parent="" id="cid-3" collapsible="" collapsed="">
                  <div collapser="">Real-time Grid (EFX Grid)</div>
                  <ul>
                    <li><a href="../apis/rt_grid/ColumnDefinition.html">ColumnDefinition</a></li>
                    <li><a href="../apis/rt_grid/Grid.html">Grid</a></li>
                    <li><a href="../apis/rt_grid/RowDefinition.html">RowDefinition</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li parent="" id="cid-5" collapsible="" collapsed="">
              <div collapser="">Extensions</div>
              <ul>
                <li><a href="../extensions/README.html">Overview</a></li>
                <li><a href="../extensions/tr-grid-auto-tooltip.html">Auto Tooltip</a></li>
                <li><a href="../extensions/tr-grid-cell-selection.html">Cell Selection</a></li>
                <li><a href="../extensions/tr-grid-checkbox.html">Checkbox Column</a></li>
                <li><a href="../extensions/tr-grid-column-fitter.html">Column Fitter</a></li>
                <li><a href="../extensions/tr-grid-column-formatting.html">Column Formatting</a></li>
                <li><a href="../extensions/tr-grid-column-grouping.html">Column Grouping</a></li>
                <li><a href="../extensions/tr-grid-column-resizing.html">Column Resizing</a></li>
                <li><a href="../extensions/tr-grid-column-selection.html">Column Selection</a></li>
                <li><a href="../extensions/tr-grid-column-stack.html">Column Stack</a></li>
                <li><a href="../extensions/tr-grid-conditional-coloring.html">Conditional Coloring</a></li>
                <li><a href="../extensions/tr-grid-content-wrap.html">Content Wrap</a></li>
                <li><a href="../extensions/tr-grid-contextmenu.html">Context Menu</a></li>
                <li><a href="../extensions/tr-grid-filter-input.html">Filter Input</a></li>
                <li><a href="../extensions/tr-grid-heat-map.html">Heat Map</a></li>
                <li><a href="../extensions/tr-grid-in-cell-editing.html">In-Cell Editing</a></li>
                <li><a href="../extensions/tr-grid-pagination.html">Pagination</a></li>
                <li><a href="../extensions/tr-grid-percent-bar.html">Percent Bar</a></li>
                <li><a href="../extensions/tr-grid-range-bar.html">Range Bar</a></li>
                <li><a href="../extensions/tr-grid-row-dragging.html">Row Dragging</a></li>
                <li><a href="../extensions/tr-grid-row-filtering.html">Row Filtering</a></li>
                <li><a href="../extensions/tr-grid-row-grouping.html">Row Grouping</a></li>
                <li><a href="../extensions/row-segmenting.html">Row Segmenting</a></li>
                <li><a href="../extensions/tr-grid-row-selection.html">Row Selection</a></li>
                <li><a href="../extensions/tr-grid-rowcoloring.html">Row Coloring</a></li>
                <li><a href="../extensions/statistics-row.html">Statistics Row</a></li>
                <li><a href="../extensions/tr-grid-textformatting.html">Text Formatting</a></li>
                <li><a href="../extensions/tr-grid-titlewrap.html">Title Wrap</a></li>
                <li><a href="../extensions/zoom.html">Zoom</a></li>
              </ul>
            </li>
            <li parent="" id="cid-7" collapsible="" collapsed="">
              <div collapser="">Content Rendering</div>
              <ul>
                <li><a href="../rendering/column-formatter.html">Default Rendering</a></li>
                <li><a href="../rendering/custom-formatter.html">Custom Rendering</a></li>
                <li><a href="../rendering/change-formatter.html">Changing Formatter at Runtime</a></li>
                <li><a href="../rendering/formatter-event-handling.html">Event Handling in Formatter</a></li>
                <li parent="" id="cid-6" collapsible="" collapsed=""><a href="../rendering/predefined-formatter.html">Predefined Formatter</a>
                  <ul>
                    <li><a href="../rendering/predefined_formatters/simple-image-formatter.html">SimpleImageFormatter</a></li>
                    <li><a href="../rendering/predefined_formatters/simple-input-formatter.html">SimpleInputFormatter</a></li>
                    <li><a href="../rendering/predefined_formatters/simple-link-formatter.html">SimpleLinkFormatter</a></li>
                    <li><a href="../rendering/predefined_formatters/simple-ticker-formatter.html">SimpleTickerFormatter</a></li>
                    <li><a href="../rendering/predefined_formatters/simple-toggle-formatter.html">SimpleToggleFormatter</a></li>
                    <li><a href="../rendering/predefined_formatters/percent-bar-formatter.html">PercentBarFormatter</a></li>
                    <li><a href="../rendering/predefined_formatters/text-formatter.html">TextFormatter</a></li>
                    <li><a href="../rendering/predefined_formatters/ef-button-formatter.html">EFButtonFormatter</a></li>
                    <li><a href="../rendering/predefined_formatters/ef-checkbox-formatter.html">EFCheckboxFormatter</a></li>
                    <li><a href="../rendering/predefined_formatters/ef-combo-box-formatter.html">EFComboBoxFormatter</a></li>
                    <li><a href="../rendering/predefined_formatters/ef-datetime-picker-formatter.html">EFDateTimePickerFormatter</a></li>
                    <li><a href="../rendering/predefined_formatters/ef-icon-formatter.html">EFIconFormatter</a></li>
                    <li><a href="../rendering/predefined_formatters/ef-number-field-formatter.html">EFNumberFieldFormatter</a></li>
                    <li><a href="../rendering/predefined_formatters/ef-radio-button-formatter.html">EFRadioButtonFormatter</a></li>
                    <li><a href="../rendering/predefined_formatters/ef-select-formatter.html">EFSelectFormatter</a></li>
                    <li><a href="../rendering/predefined_formatters/ef-text-field-formatter.html">EFTextFieldFormatter</a></li>
                    <li><a href="../rendering/predefined_formatters/ef-toggle-formatter.html">EFToggleFormatter</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li parent="" id="cid-8" collapsible="" collapsed="">
              <div collapser="">Data</div>
              <ul>
                <li><a href="../data/columns-and-data.html">Resetting/Clearing Data</a></li>
                <li><a href="../data/create.html">Creating Data</a></li>
                <li><a href="../data/read.html">Reading Data</a></li>
                <li><a href="../data/update.html">Updating Data</a></li>
                <li><a href="../data/delete.html">Deleting Data</a></li>
                <li><a href="../data/data-conversion.html">Data Conversion</a></li>
              </ul>
            </li>
            <li parent="" id="cid-9" collapsible="" collapsed="">
              <div collapser="">Columns</div>
              <ul>
                <li><a href="../columns/column-resetting.html">Column Resetting</a></li>
                <li><a href="../columns/column-formatter.html">Column Formatter</a></li>
                <li><a href="../columns/dynamic-add-insert-column.html">Column Add/insert</a></li>
                <li><a href="../columns/dynamic-remove-column.html">Column Hide/remove</a></li>
                <li><a href="../columns/column-width.html">Column Width</a></li>
                <li><a href="../columns/column-reordering.html">Column Reordering</a></li>
                <li><a href="../columns/column-moving.html">Column Moving</a></li>
                <li><a href="../columns/column-freezing.html">Column Freezing</a></li>
                <li><a href="../columns/column-pinning.html">Column Pinning</a></li>
                <li><a href="../columns/column-styling.html">Column Styling</a></li>
                <li><a href="../columns/custom-title-formatter.html">Column Custom Title</a></li>
                <li><a href="../columns/column-grouping.html">Column Grouping</a></li>
              </ul>
            </li>
            <li parent="" id="cid-10" collapsible="" collapsed="">
              <div collapser="">Rows</div>
              <ul>
                <li><a href="../rows/row-highlight-selection.html">Row Highlighting / Selection</a></li>
                <li><a href="../rows/row-height.html">Row Height</a></li>
                <li><a href="../rows/row-show-hide.html">Row Showing / Hiding</a></li>
                <li><a href="../rows/row-reordering.html">Row Reordering</a></li>
                <li><a href="../rows/add-header-footer.html">Adding Header &amp; Footer Sections</a></li>
                <li><a href="../rows/row-grouping.html">Row Grouping</a></li>
              </ul>
            </li>
            <li parent="" id="cid-11" collapsible="" collapsed="">
              <div collapser="">Scrollbars</div>
              <ul>
                <li><a href="../scrollbars/vertical-scrollbar.html">Vertical Scrollbar</a></li>
                <li><a href="../scrollbars/horizontal-scrollbar.html">Horizontal Scrollbar</a></li>
                <li><a href="../scrollbars/scroll-speed.html">Scroll Speed</a></li>
                <li><a href="../scrollbars/non-overlap-scrollbars.html">Non-Overlap Scrollbars</a></li>
                <li><a href="../scrollbars/scrollbar-visibility.html">Scrollbar Visibility</a></li>
                <li><a href="../scrollbars/left-side-column-pinning.html">Left Side Column Pinning/Freezing</a></li>
                <li><a href="../scrollbars/right-side-column-pinning.html">Right Side Column Pinning/Freezing</a></li>
              </ul>
            </li>
            <li parent="" id="cid-12" collapsible="" collapsed="">
              <div collapser="">Sorting</div>
              <ul>
                <li><a href="../sorting/sorting.html">Basic Sorting</a></li>
                <li><a href="../sorting/default-sorting.html">Default Sort</a></li>
                <li><a href="../sorting/server-side-sorting.html">Server Side Sorting</a></li>
                <li><a href="../sorting/custom-sort-logic.html">Custom Sort Logic</a></li>
                <li><a href="../sorting/multi-column-sorting.html">Multi-Column/3-States Sorting</a></li>
                <li><a href="../sorting/sorting-get-reset.html">Get Sort States / Reset All Sorting</a></li>
              </ul>
            </li>
            <li parent="" id="cid-13" collapsible="" collapsed="">
              <div collapser="">Filtering</div>
              <ul>
                <li><a href="../filtering/filtering-programmatically.html">Filtering Programmatically</a></li>
                <li><a href="../filtering/filtering-auto-filter-row.html">Filter UI</a></li>
                <li><a href="../filtering/custom-filter.html">Custom Filter UI</a></li>
                <li><a href="../filtering/filtering-get-reset.html">Get Filter States / Reset All</a></li>
              </ul>
            </li>
            <li parent="" id="cid-14" collapsible="" collapsed="">
              <div collapser="">Editing</div>
              <ul>
                <li><a href="../editing/in-cell-editor.html">In-Cell Editing</a></li>
                <li><a href="../editing/custom-editor.html">Custom Editor</a></li>
              </ul>
            </li>
            <li parent="" id="cid-15" collapsible="" collapsed="">
              <div collapser="">Widgets</div>
              <ul>
                <li><a href="../widgets/column-format-dialog.html">Column Format Dialog</a></li>
                <li><a href="../widgets/column-selection-dialog.html">Column Selection Dialog</a></li>
                <li><a href="../widgets/filter-dialog.html">Filter Dialog</a></li>
              </ul>
            </li>
            <li parent="" id="cid-16" collapsible="" collapsed="">
              <div collapser="">Miscellaneous</div>
              <ul>
                <li><a href="../misc/core-apis.html">Using Core APIs</a></li>
                <li><a href="../misc/pagination.html">Pagination</a></li>
                <li><a href="../misc/loading-mask.html">Loading Mask</a></li>
                <li><a href="../misc/fifty-thosand-rows.html">50,000 Rows Handling</a></li>
                <li><a href="../misc/row-span.html">Row Span</a></li>
                <li><a href="../misc/row-expansion.html">Row Expansion</a></li>
                <li><a href="../misc/text-selection.html">Text Selection</a></li>
              </ul>
            </li>
            <li parent="" id="cid-17" collapsible="" collapsed="">
              <div collapser="">Migrating to EFX Grid</div>
              <ul>
                <li><a href="../migrating/from-emerald-grid.html">Emerald Grid</a></li>
              </ul>
            </li>
          </ul>
        </pandora-nav>
      </div>
      <div class="main">
        <div class="reader">
          <pandora-page>
            <h1 id="showcase"><a href="https://doccloud.int.refinitiv.com/content/tr-grid/latest/en/showcases/comprehensive.html" target="_top" class="link-icon"></a> Showcase</h1>

            <div class="pandora-code-viewer" id="pid-5">
              <div class="pandora-viewer">
                <button>&lt;/&gt;</button>
              </div>
              <div class="pandora-code-view">
                <div class="pandora-toolbar">
                  <ul>
                    <li class="pandora-tab-selected" data-toggle="tab-html">HTML</li>
                    <li data-toggle="tab-js">JS</li>
                    <li data-toggle="tab-css">CSS</li>
                  </ul>
                </div>
                <div class="pandora-tab-container">
                  <pre class="pandora-tab-view tab-html">&lt;div&gt;
  &lt;span&gt;
    &lt;ef-button id="select_column_btn"&gt;Select Columns&lt;/ef-button&gt;
    Data Size:
    &lt;ef-select id="dataSize"&gt;
      &lt;ef-item value="10"&gt;10 Rows&lt;/ef-item&gt;
      &lt;ef-item value="100" selected&gt;100 Rows&lt;/ef-item&gt;
      &lt;ef-item value="1000"&gt;1,000 Rows&lt;/ef-item&gt;
      &lt;ef-item value="10000"&gt;10,000 Rows&lt;/ef-item&gt;
      &lt;ef-item value="100000"&gt;100,000 Rows&lt;/ef-item&gt;
    &lt;/ef-select&gt;
  &lt;/span&gt;
  &lt;span&gt;
    &lt;label for="search_input"&gt;Filter: &lt;/label&gt;
    &lt;input id="search_input" type="search" placeholder="Filter any column"&gt;
  &lt;/span&gt;
&lt;/div&gt;
&lt;div id="grouping"&gt;
  &lt;ef-select id="column_grouping_selector" placeholder="Group By"&gt;&lt;/ef-select&gt;
&lt;/div&gt;
&lt;efx-grid id="preview"&gt;&lt;/efx-grid&gt;</pre>
                  <pre class="pandora-tab-view tab-js">var grid = document.getElementsByTagName("efx-grid")[0];
var dataSizeSelect = document.getElementById("dataSize");
var selectColumnBtn = document.getElementById("select_column_btn");

// Extensions
var checkboxExt = new CheckboxExtension();
var rowGroupingExt = new RowGroupingExtension();
var conditionalColoringExt = new ConditionalColoringExtension();
var columnGroupingExt = new ColumnGroupingExtension();
var cellSelectionExt = new CellSelectionExtension();
var filterInputExt = new FilterInputExtension();
var columnResizingExt = new ColumnResizingExtension();
var textFormattingExt = new TextFormattingExtension();
var heatMapExt = new HeatMapExtension();
var inCellEditingExt = new InCellEditingExtension();
var percentBarExt = new PercentBarExtension();
var filterExt = new RowFilteringExtension();
var rowColoring = new RowColoringExtension();
var contextMenuExt = new ContextMenuExtension();
var columnFitterExt = new ColumnFitterExtension();

var userList = [
  "Amanda Herrera",
  "Josh Robertson",
  "Abbie Parker",
  "Christopher Washington",
  "Casey Alvarez",
  "Joshua Castillo",
  "Skye Wilson",
  "Tommy Medina",
  "Vincent Smith",
  "Jackson Garcia",
  "Lisa Alexander",
  "Holly Brooks",
  "Zara Marshall",
  "Kiera Shaw"
];

var languageList = [
  "French",
  "English",
  "German",
  "Italian",
  "Portuguese",
  "Chinese",
  "French",
  "German",
  "English",
  "English",
  "English",
  "French",
  "German",
  "Chinese"
];

var codeList = {
  "FRA": "France",
  "GBR": "United Kingdom",
  "ISL": "Iceland",
  "ITA": "Italy",
  "PRT": "Protugal",
  "SWE": "Sweden",
  "GRC": "Greece",
  "DEU": "Germany",
  "NOR": "Norway",
  "IND": "India",
  "CHN": "China"
}

var countryList = [
  "FRA",
  "GBR",
  "ISL",
  "ITA",
  "PRT",
  "SWE",
  "GRC",
  "DEU",
  "NOR",
  "GBR",
  "IND",
  "FRA",
  "DEU",
  "CHN"
];

var gameList = [
  "Overhold", "Cardify", "Alphazap", "Toughjoyfax", "Voltsillam",
  "Home Ing", "Otcom", "Solarbreeze", "Alpha", "Cooker run",
  "Stronghold", "Tresom", "Andalax", "Rank", "King of plant",
  "Alphazap", "Viva", "Mat Lam Tam", "Wrapsafe", "Gembucket"
];

DataGenerator.addFieldInfo("game", {
  type: "set",
  members: gameList
});

DataGenerator.addFieldInfo("user_id", {
  type: "number",
  min: 0,
  max: userList.length,
  prec: 0
});

var fields = [
  "Name",
  "Language",
  "Country",
  "Game Name",
  "Bought",
  "Bank Balance",
  "Rating",
  "Total Winnings",
  "Jan",
  "Feb",
  "Mar",
  "Apr",
  "May",
  "Jun",
  "Jul",
  "Aug",
  "Sep",
  "Oct",
  "Nov",
  "Dec"
];

var conditionsArr = fields.map(function(field) {
  return [{
    backgroundColor: "#b9f6ca66",
    expression: "[" + field + "] &gt; 60"
  }, {
    backgroundColor: "#ff80ab66",
    expression: "[" + field + "] &lt; 20"
  }];
});

// Custom Capitalize Formatter
const capitalizeFormatter = {
  render: function() {},
  bind: function(rowIndex, colIndex, value, cell) {
    console.log("value", value);
    cell.setContent(value.toString()
      .toUpperCase());
  }
};

var dataTypeFields = [
  "user_id",
  "game",
  "boolean", // Bought
  "TR.Volume", // Bank Balance
  "index100", // Rating
  "YRHIGH", // Total Winnings
];

var randNumber = DataGenerator.randNumber;

var seed = Math.round(Math.random() * 100);
var mapRow = function(row) {
  var userId = row[0];
  return [false, userList[userId], languageList[userId], countryList[userId],
    row[1], row[2].toString(), row[3], row[4], row[5],
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed),
    randNumber(0, 100, 2, ++seed)
  ];
};

var dataRows = DataGenerator.generate(dataTypeFields, { seed: seed, numRows: 100 })
  .map(mapRow);

const entries = languageList.map(function(item) {
  return {
    label: item,
    value: item
  };
});

var allAvailableColumns = [{
    checkboxColumn: true
  },
  {
    id: "c0",
    name: fields[0],
    field: fields[0],
    width: 200,
    editableContent: true
  },
  {
    id: "c1",
    name: fields[1],
    field: fields[1],
    editableContent: true,
    inCellEditing: {
      type: "select",
      entries: entries
    },
    filterInput: {
      type: "select",
      entries: entries
    },
    width: 200
  },
  {
    id: "c2",
    name: fields[2],
    field: fields[2],
    filterInput: false,
    minWidth: 100,
    textAlign: "c",
    binding: EFButtonFormatter.create({
      events: {
        click: function(event, context) {
          var value = context.getData(context.field);
          alert(codeList[value]);
        }
      }
    })
  },
  {
    id: "c3",
    name: fields[3],
    field: fields[3],
    filterInput: false,
    binding: capitalizeFormatter,
    width: 120
  },
  {
    id: "c4",
    name: fields[4],
    field: fields[4],
    filterInput: false,
    minWidth: 100,
    textAlign: "center",
    binding: EFIconFormatter.create({
      icon: {
        true: "tick",
        false: "cross"
      }
    }),
    inCellEditing: {
      type: "checkbox"
    },
    editableContent: true
  },
  {
    id: "c5",
    name: fields[5],
    field: fields[5],
    minWidth: 120,
    textAlign: "right",
    heatMap: {
      midPoint: 40
    },
    inCellEditing: {
      type: "number"
    },
    filterInput: {
      type: "number"
    },
    editableContent: true,
    formatType: {
      type: "number",
      separator: true,
      decimalPlaces: 0
    }
  },
  {
    id: "c6",
    name: fields[6],
    field: fields[6],
    filterInput: false,
    percentBar: {
      alignment: "l"
    },
    editableContent: true,
    noFitting: true,
    width: 120

  },
  {
    id: "c7",
    name: fields[7],
    field: fields[7],
    noFitting: true,
    minWidth: 100,
    textAlign: "right",
    formatType: {
      type: "number",
      separator: true,
      decimalPlaces: 0
    }
  },
  {
    id: "c8",
    name: fields[8],
    field: fields[8],
    conditions: conditionsArr[8],
    textAlign: "right",
    formatType: "percent",
    width: 120
  },
  {
    id: "c9",
    name: fields[9],
    field: fields[9],
    conditions: conditionsArr[9],
    textAlign: "right",
    formatType: "percent",
    width: 120
  },
  {
    id: "c10",
    name: fields[10],
    field: fields[10],
    conditions: conditionsArr[10],
    textAlign: "right",
    formatType: "percent",
    width: 120
  }, {
    id: "c11",
    name: fields[11],
    field: fields[11],
    conditions: conditionsArr[11],
    textAlign: "right",
    formatType: "percent",
    width: 120
  }, {
    id: "c12",
    name: fields[12],
    field: fields[12],
    conditions: conditionsArr[12],
    textAlign: "right",
    formatType: "percent",
    width: 120
  }, {
    id: "c13",
    name: fields[13],
    field: fields[13],
    conditions: conditionsArr[13],
    textAlign: "right",
    formatType: "percent",
    width: 120
  },
  {
    id: "c14",
    name: fields[14],
    field: fields[14],
    conditions: conditionsArr[14],
    textAlign: "right",
    formatType: "percent",
    width: 120
  },
  {
    id: "c15",
    name: fields[15],
    field: fields[15],
    conditions: conditionsArr[15],
    textAlign: "right",
    formatType: "percent",
    width: 120
  },
  {
    id: "c16",
    name: fields[16],
    field: fields[16],
    conditions: conditionsArr[16],
    textAlign: "right",
    formatType: "percent",
    width: 120
  },
  {
    id: "c17",
    name: fields[17],
    field: fields[17],
    conditions: conditionsArr[17],
    textAlign: "right",
    formatType: "percent",
    width: 120,

  },
  {
    id: "c18",
    name: fields[18],
    field: fields[18],
    conditions: conditionsArr[18],
    textAlign: "right",
    formatType: "percent",
    width: 120
  },
  {
    id: "c19",
    name: fields[19],
    field: fields[19],
    conditions: conditionsArr[19],
    textAlign: "right",
    formatType: "percent",
    width: 120,
    editableContent: true
  }
];

// generate dynamic data and assign to "efx-grid"
dataSizeSelect.addEventListener("value-changed", function(e) {
  var seed = Math.round(Math.random() * 100);
  var dataRows = DataGenerator.generate(dataTypeFields, { seed: seed, numRows: e.detail.value })
    .map(mapRow);
  grid.api.removeAllRows();
  grid.data = dataRows;
});

// set up row Filter Extension
search_input.addEventListener("keyup", function(e) {
  const input = e.currentTarget;

  if (input._prevValue !== input.value) {
    input._prevValue = input.value;
    filterExt.refresh(); // Force filter triggering
  }
});

var filterFunc = function(rowData, rowId, context) {
  var str = "";
  var val = context.input.value.toLowerCase();
  var record = rowData["ROW_DEF"].getRowData();
  for (var key in record) {
    str += record[key] + " ";
  }
  return str.toLowerCase().indexOf(val) &gt; -1;
};

var context = {
  input: search_input
};

filterExt.addGridFilter(filterFunc, context);

// Prepare model for context-menu
const contextMenuModel = {
  items: {
    FILTER: {
      text: "Filter",
      callback: function(e) {
        filterExt.openDialog(e.colIndex, {
          sortUI: true, // Show Sort area
          filterUI: true, // Show Filter area
          sortState: "d", // "a" for ascending or "d" for descending
          filterChanged: function(e) { // Filter changed handler
            console.log(e.detail);
          },
          sortChanged: function(e) { // Sort changed handler
            console.log(e.detail);
          }
        });
      }
    },
    ROW_COLORING: {
      text: "Set Row Color",
      items: [
        { text: "Red", value: "#FF0000" },
        { text: "Green", value: "#00FF00" },
        { text: "Blue", value: "#0000FF" },
        { type: "separator" },
        { text: "Default", value: "" }
      ],
      callback: function(e) {
        const { rowIndex, item: { value } } = e;
        rowColoring.setRowColor(rowIndex, value);
      }
    }
  },
  onMenu: function(e) {
    var context = e.context;
    var menu = e.menu;
    if (context === "header") {
      menu.addItems("FILTER");
    } else if (context === "content") {
      menu.addItems(["ROW_COLORING", "FILTER"]);
    }
  }
};

contextMenuExt.listen("contextmenu", function(e) {
  // contextmenu event argument provides info about the right click position within the core grid
  console.log(e);
});

// set up "column-selection-dialog"
var dialog = null;
var confirmChanged = function(e) {
  grid.columns = e.detail.data;
};

selectColumnBtn.addEventListener("click", function() {
  if (!dialog) {
    dialog = document.createElement("column-selection-dialog");
    dialog.addEventListener("confirm", confirmChanged);
  }

  var visibleColumns = grid.columns.filter(function(column) {
    return column.checkboxColumn !== true;
  });

  var allColumns = allAvailableColumns.filter(function(column) {
    return column.checkboxColumn !== true;
  });

  dialog.init({
    data: allColumns.slice(),
    visibleItems: visibleColumns.slice()
  });
  dialog.show();
});

var blotterConfig = {
  scrollbar: true,
  autoHideScrollbar: false,
  linearWheelScrolling: true,
  stepScroll: true,
  columnGrouping: [{
      id: "g1",
      title: "Participant",
      alignment: "center",
      children: ["c0", "c1", "c2"]
    },
    {
      id: "g2",
      title: "Game of Choice",
      alignment: "center",
      children: ["c3", "c4"]
    },
    {
      id: "g3",
      title: "Performance",
      children: ["c5"]
    },
    {
      id: "g4",
      title: "Monthly Breakdown",
      alignment: "left",
      children: ["c8", "c9", "c10", "c11", "c12", "c13", "c14", "c15", "c16", "c17", "c18", "c19"]
    }
  ],
  extensions: [
    columnGroupingExt,
    checkboxExt,
    rowGroupingExt,
    conditionalColoringExt,
    cellSelectionExt,
    filterInputExt,
    columnResizingExt,
    textFormattingExt,
    heatMapExt,
    inCellEditingExt,
    percentBarExt,
    filterExt,
    contextMenuExt,
    rowColoring,
    columnFitterExt
  ],
  inCellEditing: {
    type: "input",
    contentSource: "field",
    autoCommitText: true,
    beforeCommit: function(e) {
      // console.log("beforeCommit", e)
    }
  },
  contextMenu: contextMenuModel,
  columnFitting: {
    title: false,
    autoAdjust: true,
    paddingSize: 20
  },
  whenDefined: function(e) {
    var api = e.api;
  }
};

grid.columns = allAvailableColumns;
grid.config = blotterConfig;
grid.data = dataRows;

column_grouping_selector.addEventListener("opened-changed", function(e) {
  if (!this.opened) {
    var columns = grid.columns;
    var filtered = columns.filter(function(column) {
      return column.checkboxColumn !== true;
    });
    var data = filtered.map(function(column) {
      return {
        label: column.name,
        value: column.field
      }
    });
    var criteria = rowGroupingExt.getGroupingCriteria();
    var selectorData = data.filter(function(item) {
      return criteria.indexOf(item.value) &lt; 0;
    });

    column_grouping_selector.data = selectorData;
  }
});

function onPillRemove(e) {
  // Remove Pill
  var pill = e.target;
  pill.parentElement.removeChild(pill._arrow);
  pill.parentElement.removeChild(pill);
  var field = pill.value;

  // Update grouping criteria
  var criteria = rowGroupingExt.getGroupingCriteria().slice(0);
  criteria.splice(criteria.indexOf(field), 1);
  rowGroupingExt.setGroupingCriteria(criteria);
}

column_grouping_selector.addEventListener("value-changed", function(e) {
  var value = e.detail.value;
  var label = this.label;

  // Insert Pill
  var pill = document.createElement("ef-pill");

  var arrow = document.createElement("ef-icon");
  arrow.className = "arrow";
  arrow.setAttribute('icon', 'right');

  pill._arrow = arrow;
  pill.setAttribute("clears", "");
  pill.innerText = label;
  pill.value = value;
  pill.addEventListener("clear", onPillRemove);

  var container = document.getElementById("grouping");
  container.appendChild(pill);
  container.appendChild(arrow);

  this.value = "";

  // Update grouping criteria
  var criteria = rowGroupingExt.getGroupingCriteria();
  var criteria = criteria.concat([value]);
  rowGroupingExt.setGroupingCriteria(criteria);
});</pre>
                  <pre class="pandora-tab-view tab-css">efx-grid {
  height: 600px;
}

#grouping .arrow {
  color: red;
  margin: 0 5px;
  vertical-align: middle;
}

#grouping .arrow:last-child {
  display: none;
}

ef-pill {
  margin: auto;
}

#column_grouping_selector {
  margin-right: 5px;
}</pre>
                  <div class="pandora-console"></div>
                </div>
              </div>
              <link rel="prefetch" href="../node_modules/tr-grid-test-resource-v5/dist/elf-halo-light.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-auto-tooltip/dist/tr-grid-auto-tooltip.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-cell-selection/dist/tr-grid-cell-selection.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-checkbox/dist/tr-grid-checkbox.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-column-fitter/dist/tr-grid-column-fitter.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-column-formatting/dist/tr-grid-column-formatting.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-column-grouping/dist/tr-grid-column-grouping.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-column-resizing/dist/tr-grid-column-resizing.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-column-selection/dist/tr-grid-column-selection.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-column-stack/dist/tr-grid-column-stack.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-conditional-coloring/dist/tr-grid-conditional-coloring.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-content-wrap/dist/tr-grid-content-wrap.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-contextmenu/dist/tr-grid-contextmenu.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-filter-input/dist/tr-grid-filter-input.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-heat-map/dist/tr-grid-heat-map.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-in-cell-editing/dist/tr-grid-in-cell-editing.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-pagination/dist/tr-grid-pagination.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-percent-bar/dist/tr-grid-percent-bar.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-range-bar/dist/tr-grid-range-bar.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-row-dragging/dist/tr-grid-row-dragging.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-row-filtering/dist/tr-grid-row-filtering.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-row-grouping/dist/tr-grid-row-grouping.min.js" type="script">
              <link rel="prefetch" href="../node_modules/@grid/row-segmenting/dist/row-segmenting.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-row-selection/dist/tr-grid-row-selection.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-rowcoloring/dist/tr-grid-rowcoloring.min.js" type="script">
              <link rel="prefetch" href="../node_modules/@grid/statistics-row/dist/statistics-row.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-textformatting/dist/tr-grid-textformatting.min.js" type="script">
              <link rel="prefetch" href="../node_modules/tr-grid-titlewrap/dist/tr-grid-titlewrap.min.js" type="script">
              <link rel="prefetch" href="../node_modules/@grid/zoom/dist/zoom.min.js" type="script">
            </div>
            <p>As seen above, the showcase includes a combination of features and extensions which allow Grid to support any data types as well as data visualization.</p>
            <p>The most commonly used features have been included in this showcase, such as sorting, filtering, and column moving. </p>
            <p>The extensions show how they can leverage Grid so it can support many use cases. The following offers a brief explanation about some of their usage:</p>
            <ol>
              <li><code>In-cell Editing Extension</code> allows the data manipulation to be made, under the 'Name' and 'Bought' columns, any row-data in any type can be changed.</li>
              <li>By clicking on the button under the 'Country' column, will a dialog box pops up, showing the full country name using the <code>Formatter</code>.</li>
              <li><code>Heat Map Extension</code> uses in the 'Bank Balance' column to provide the coloring for the columns field to present the balance health.</li>
              <li><code>Percent Bar Extension</code> uses in the 'Rating' column allow the showcase to render the data in the bar.</li>
              <li>By scrolling to the right panel of the Grid, <code>Conditional Coloring Extension</code> applies to differentiate the percentage values making it easy to analyze the data.</li>
              <li>The 'Group By' dropdown option utilizes an additional UI customization with the Grid's API extension in this showcase resulting an useful UI feature as a ef-pill.</li>
              <li>The total data size option for the data rendering can also be adjusted to see the performance of the <code>row virtualization</code> feature.</li>
            </ol>
            <p>The showcase includes all the following Grid features and extensions:</p>
            <ul>
              <li><code>Conditional Coloring Extension</code>,</li>
              <li><code>Column Grouping Extension</code>,</li>
              <li><code>Checkbox Extension</code>,</li>
              <li><code>Cell Selection Extension</code>,</li>
              <li><code>Filter Input Extension</code>,</li>
              <li><code>Column Resizing Extension</code>,</li>
              <li><code>Text Formatting Extension</code>,</li>
              <li><code>Heat Map Extension</code>,</li>
              <li><code>In Cell Editing Extension</code>,</li>
              <li><code>Percent Bar Extension</code>,</li>
              <li><code>Row Filtering Extension</code>,</li>
              <li><code>Context Menu Extension</code>,</li>
              <li><code>Row Coloring Extension</code>,</li>
              <li><code>Column Fitter Extension</code>,</li>
              <li><code>Coral Button Formatter</code>,</li>
              <li><code>Coral Icon Formatter</code>,</li>
              <li><code>Custom Formatter</code>,</li>
              <li><code>column-selection-dialog</code>,</li>
              <li><code>filter-dialog</code></li>
            </ul>
          </pandora-page>
          <div class="results"></div>
        </div>
      </div>
    </div>
  </pandora-book>
</body>

</html>