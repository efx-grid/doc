!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return isIE})),__webpack_require__.d(__webpack_exports__,"b",(function(){return isMac})),__webpack_require__.d(__webpack_exports__,"c",(function(){return prepareTSVContent}));var Util={post:function(t,e){return Util._post(t,e).then(Util.toJSON)},requestText:function(t,e){return Util._post(t,e,"text/plain").then(Util.toText)},requestByUrlEncoded:function(t,e){return Util._post(t,e,"application/x-www-form-urlencoded").then(Util.toJSON)},toJSON:function(t){return Util._logError(t)?Promise.reject(t):t.json()},toText:function(t){return Util._logError(t)?Promise.reject(t):t.text()},_logError:function(t){return!!(t&&t.status>=300)&&(console.log("Response "+t.status+": "+t.statusText),!0)},_post:function(t,e,i){var n={method:e?"POST":"GET",headers:{"Content-Type":i||"application/json"}};return e&&(n.body="string"==typeof e?e:JSON.stringify(e)),fetch(t,n)}},extendObject=function(t,e,i){if(!t)return null;if(!e||t===e)return t;var n;if(i)for(var o=i.length,r=0;r<o;++r)(n=i[r])&&extendProperty(t,e,n);else for(n in e)extendProperty(t,e,n);return t},cloneObject=function(t,e){return extendObject({},t,e)},arrayToObject=function(t,e){if(!Array.isArray(t))return t;if(!e)return null;var i=t;t={};for(var n=i.length,o=0;o<n;++o){var r=e[o];r&&void 0!==i[o]&&(t[r]=i[o])}return t},extendProperty=function(t,e,i){var n=e[i];if(null!=n){var o=t[i];Array.isArray(o)?t[i]=o.concat(n):Array.isArray(n)&&o?t[i]=n.concat(o):t[i]=n}},extendArrayProperty=function(t,e,i){var n=null;if(i){var o=t[e];n=o?Array.isArray(o)?o:t[e]=[o]:t[e]=[],Array.isArray(i)?i.length&&(i.length>1?Array.prototype.push.apply(n,i):n.push(i[0])):n.push(i)}return n},_bracketExp=new RegExp(/\[[^\[]*\]/g),parseCondition=function(expression){if(!expression)return null;if("string"!=typeof expression)return"function"==typeof expression?expression:null;for(var brackets=expression.match(_bracketExp),map={},fields=[],len=brackets?brackets.length:0,i=len;--i>=0;){var field=brackets[i];map[field]||(map[field]="f["+fields.length+"]",fields.push(field.substring(1,field.length-1)))}expression=expression.replace(_bracketExp,(function(t){return"rowData["+map[t]+"]"}));var finalExp="(function(f, rowData) { return ("+expression+"); })",fn=null;try{fn=eval(finalExp),fn=fn.bind(null,fields)}catch(t){console.log(t.message)}return fn||null},_encloseBracket=function(t){return Array.isArray(t)?"{\n"+t.join("\n")+"\n}":t},_indentBracketContent=function(t){return t.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},prettifyCss=function(t){if(t){var e="";if(Array.isArray(t))e=t.map(_encloseBracket).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {");else e="string"==typeof t?t:t+"";if(e)return e.replace(/{[\w\W]*?}/g,_indentBracketContent)}return""},getShadowRoot=function(t){var e;if(t&&(t.shadowRoot?e=t.shadowRoot:t.getRootNode&&(e=t.getRootNode()),e&&e!==document&&e!==t))return e;return null},injectCss=function(t,e){if(!t)return null;var i=document.createElement("style");i.textContent="\n"+t+"\n";var n,o=getShadowRoot(e),r=!0;return o||(r=!1,o=document.head),r&&o.children&&o.children.length&&(n=o.children[0]),n?o.insertBefore(i,n):o.appendChild(i),i},isIE=function(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0},isMac=function(){return/Mac/.test(navigator.platform)},isTouchDevice=function(){return!!(navigator.maxTouchPoints&&navigator.maxTouchPoints<256||navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints<256)},nestedObjectToArray=function(t,e){for(var i in e||(e=[]),t){var n=t[i];"object"==typeof n?nestedObjectToArray(n,e):e.push(n)}return e},rgb2Hex=function(t){if(!t||"string"!=typeof t)return"";if("#"===t.charAt(0))return t;var e=t.match(/\d+/g);if(!e||e.length<3)return t;for(var i="#",n=0;n<3;n++){var o=+e[n];o>=16||(i+="0"),i+=o?o.toString(16).toUpperCase():"0"}return i},prepareTSVContent=function(t){if(null==t)return"";var e="string"==typeof t?t:t.toString();return e.length?(e.indexOf("\n")>=0&&(e=e.replace(/[\r\n]/g," ")),e.indexOf("\t")>=0&&(e=e.replace(/\t/g," "))," "!==e.charAt(0)&&" "!==e.charAt(e.length-1)||(e=e.trim()),e):""},_unused_webpack_default_export=Util},function(t,e,i){"use strict";i.r(e);var n={inherits:function(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.base=function(t,i,n){i||(i="constructor");for(var o=arguments.length,r=new Array(o),s=2;s<o;s++)r[s-2]=arguments[s];return e.prototype[i].apply(t,r)}}},o=function(){};o.prototype._events=null,o.prototype._listenerCount=0,o.prototype.addEventListener=function(t,e){if(t&&e){this._events||(this._events={});var i=this._events[t];i?i.indexOf(e)<0&&(i.push(e),++this._listenerCount):(this._events[t]=[e],++this._listenerCount)}},o.prototype.removeEventListener=function(t,e){var i=this._events?this._events[t]:null;if(i){var n=i.indexOf(e);n>=0&&(i.splice(n,1),--this._listenerCount)}},o.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},o.prototype.hasListener=function(t){if(this._listenerCount){if(t){var e=this._events?this._events[t]:null;return!!e&&e.length>0}return!0}return!1},o.prototype.getListener=function(t,e){if(t){var i=this._events?this._events[t]:null;if(i)return e||(e=0),i[e]||null}return null},o.prototype.addListener=function(t,e){var i=t?t[e]:null;"function"==typeof i&&this.addEventListener(e,i)},o.prototype._prepareEventArguments=function(t,e){return e},o.prototype._dispatch=function(t,e){var i=this._events?this._events[t]:null;if(i){e=this._prepareEventArguments(t,e);for(var n=i.length,o=0;o<n;++o)i[o](e)}};o.preventDefault=function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())};var r=function(t,e,i){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof t&&(this._resolveHandler=t),"function"==typeof e&&(this._rejectHandler=e),null!=i&&(this._ctx=i),this.promise=new Promise(function(t,e){this._resolve=t,this._reject=e}.bind(this))};r.prototype.promise=null,r.prototype._resolve=null,r.prototype._reject=null,r.prototype._resolveHandler=null,r.prototype._rejectHandler=null,r.prototype._ctx=null,r.prototype.resolve=function(t){if(this._resolve){if(this._resolveHandler){var e=this._resolveHandler(t,this._ctx||this);null!=e&&(t=e)}this._resolve(t),this._finally()}},r.prototype.reject=function(t){if(this._reject){if(this._rejectHandler){var e=this._rejectHandler(t,this._ctx||this);null!=e&&(t=e)}this._reject(t),this._finally()}},r.prototype._finally=function(){this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var s=function(){};n.inherits(s,o),s.prototype._hosts=null,s.prototype._compositeGrid=null,s.prototype._realTimeGrid=null,s.prototype._rowGetter=null,s.prototype._initializedGrid=!1,s.prototype.listen=s.prototype.addEventListener,s.prototype.unlisten=s.prototype.removeEventListener,s.prototype.afterInit=function(t,e,i){var n=null;i&&i.getCoreGrid&&(n=i.getCoreGrid()),n&&(this.getGridApi()||this.setGridWrapper("compositegrid",i),this._compositeGrid&&n.loadPlugin(this,e)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?c:l,this._afterInit())},s.prototype._afterInit=function(){},s.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},s.prototype.hasMultiTableSupport=function(){return!1},s.prototype._prepareEventArguments=function(t,e){return e||(e={}),e.api=this.getGridApi(),e},s.prototype.getName=function(){return"GridPlugin"},s.prototype.getRelativeGrid=function(t){var e=null;if(t.target){var i=(e=t.target).api;if(i&&i.getCoreGrid)return i.getCoreGrid()}else t.getElement?e=t.getElement():1===t.nodeType&&(e=t);if(e)for(var n=this._hosts.length;--n>=0;){var o=this._hosts[n];if(o.getElement().contains(e))return o}return null},s.prototype.setGridWrapper=function(t,e){t&&("compositegrid"===(t=t.toLowerCase())?this._compositeGrid=e:"realtimegrid"===t&&(this._realTimeGrid=e))},s.prototype.getGridApi=function(t){if(null==t)return this._compositeGrid||this._realTimeGrid;var e="number"==typeof t?this._hosts[t]:t;return e&&e._wrapper||null},s.prototype.getColumnName=function(t){if(this._compositeGrid){var e=this._compositeGrid.getColumnModel(t);if(e)return e.title?e.title:e.field}else{var i=this.getColumnIndex(t),n=this._realTimeGrid.getColumnDefinition(i);if(n)return n.getName()}return""},s.prototype.getColumnIndex=function(t){if("number"==typeof t)return t;if(this._compositeGrid)return this._compositeGrid.getColumnIndex(t);for(var e=this._realTimeGrid,i=e.getColumnCount(),n=0;n<i;++n){var o=e.getColumnDefinition(n);if(o&&o.getId()===t)return n}return-1},s.prototype.getColumnId=function(t){if("string"==typeof t)return t;if(this._compositeGrid)return this._compositeGrid.getColumnId(t);var e=this._realTimeGrid.getColumnDefinition(t);return e?e.getId():""},s.prototype.getColumnCount=function(){if(this._hosts){var t=this._hosts[0];return t?t.getColumnCount():0}return 0},s.prototype._loadPlugin=function(t,e,i){return t||(t=e.getPlugin(i))||(t=e.loadPlugin(i))&&this._initializedGrid&&(t._initializedGrid=!0),t},s.prototype._requestPlugin=function(t,e,i){return this._initializedGrid?s.requestPlugin(t,e,i,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},s.requestPlugin=function(t,e,i,n,o){var l=null;if(t){var c=null;1===t.nodeType?c=t.api:t.getCoreGrid?c=t:t.getPlugin&&(l=t),c&&(l=c.getCoreGrid(),n||o||(c.getModel?n=c:o=c))}if(!l)return Promise.reject("Cannot find grid element");var a=l.getPlugin(e);if(a)return Promise.resolve(a);var u=new r;return setTimeout(s._onPluginRequested.bind(null,{grid:l,pluginRef:e,compositeGrid:n,realTimeGrid:o,config:i,deferred:u}),10),u.promise},s._onPluginRequested=function(t){var e=t.grid;if(!e.getElement())return t.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+t.pluginRef);var i=e.getPlugin(t.pluginRef);if(i)return t.deferred.resolve(i);var n=!1;return t.pluginRef.beforeInit&&(n=!0,t.pluginRef.beforeInit(e.getElement(),t.config,!0)),(i=e.loadPlugin(t.pluginRef,t.config))?(!n&&i.beforeInit&&(n=!0,i.beforeInit(e.getElement(),t.config)),i.setGridWrapper&&(t.compositeGrid?i.setGridWrapper("compositegrid",t.compositeGrid):t.realTimeGrid&&i.setGridWrapper("realtimegrid",t.realTimeGrid)),i.afterInit&&i.afterInit(),t.deferred.resolve(i)):t.deferred.reject("Unable to load required dependency: "+t.pluginRef)},s.prototype._getPlugin=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getPlugin(t):null},s.prototype._getColumnData=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getColumnData(t):null},s.prototype._getColumnOption=function(t,e,i){var n=this._getColumnData(t,i);return n?n[e]:null},s.prototype._newColumnData=function(t,e){if(null==e&&(e=this._hosts[0]),!e)return{};var i=e.getColumnData(t);return i||(i=e.setColumnData(t,{})),i},s.prototype._getField=function(t){var e=this._compositeGrid||this._realTimeGrid;return e?e.getColumnField(t):""},s.prototype._getRowData=function(t){return this._realTimeGrid&&t?t.ROW_DEF.getRowData():t},s.prototype._getRow=function(t,e){return a(t.getRowDataAt(e))},s.prototype._getData=function(t,e,i){var n=this._getRow(t,e);return n?n[i]:void 0},s.prototype._setData=function(t,e,i,n){if(this._realTimeGrid){var o=t.getRowDataAt(e);o&&o.ROW_DEF.setData(i,n)}else t.setDataAt(e,i,n)},s.prototype._setRowData=function(t,e,i){if(this._realTimeGrid){var n=t.getRowDataAt(e);n&&n.ROW_DEF.setRowData(i)}else t.setRowDataAt(e,i)},s.prototype._setColumnData=function(t,e,i,n){if(n=n||t.getAllRowIds()||[],this._realTimeGrid){for(var o=t.getDataSource(),r=o.freeze(),s=i.length<n.length?i.length:n.length,l=0;l<s;++l){var c=t.getRowData(n[l]);c&&c.ROW_DEF.setData(e,i[l])}o.freeze(r)}else t.setColumnData(e,i,n)};var l=function(t){return t},c=function(t){return t?t.ROW_DEF.getRowData():null},a=function(t){if(t){var e=t.ROW_DEF;return e?e.getRowData():t}return null},u=i(0),h=Object(u.b)(),d=function(t){var e=this;e._onMouseDown=e._onMouseDown.bind(e),e._onMouseMove=e._onMouseMove.bind(e),e._onCopy=e._onCopy.bind(e),e._onClick=e._onClick.bind(e),e._onKeyDown=e._onKeyDown.bind(e),e._onBeforeRowRemoved=e._onBeforeRowRemoved.bind(e),e._onReselection=e._onReselection.bind(e),e._onPostSectionDataBinding=e._onPostSectionDataBinding.bind(e),e._hosts=[],e._anchorRowDict={},e._isIE=Object(u.a)(),e._textRange=document.createRange(),t&&e.config({rowSelection:t})};n.inherits(d,s),d.prototype._activeGrid=null,d.prototype._anchorSection=null,d.prototype._disabled=!1,d.prototype._singleSelMode=!1,d.prototype._clickToggleMode=!1,d.prototype._pendingClickIndex=-1,d.prototype._basedOnContent=!1,d.prototype._selectionField="SELECTED_ROW",d.prototype._anchorRowDict=null,d.prototype._isIE=!1,d.prototype._textRange=null,d.prototype._timerId=0,d.prototype._pendingSelection=null,d.prototype.getName=function(){return"RowSelectionPlugin"},d.prototype.hasMultiTableSupport=function(){return!0},d.prototype.initialize=function(t,e){if(!(this._hosts.indexOf(t)>=0)){this._hosts.push(t),t.listen("mousedown",this._onMouseDown),t.listen("click",this._onClick),t.listen("keydown",this._onKeyDown),t.listen("postSectionDataBinding",this._onPostSectionDataBinding);var i=this.getGridApi(t);i&&i.listen("beforeRowRemoved",this._onBeforeRowRemoved),this.config(e)}},d.prototype.unload=function(t){var e=this._hosts.indexOf(t);e<0||(t.unlisten("mousedown",this._onMouseDown),t.unlisten("copy",this._onCopy),t.unlisten("cut",this._onCopy),t.unlisten("click",this._onClick),t.unlisten("keydown",this._onKeyDown),t.unlisten("postSectionDataBinding",this._onPostSectionDataBinding),this._hosts.splice(e,1),this._hosts.length||this._timerId&&(clearTimeout(this._timerId),this._timerId=0,this._pendingSelection=null),this._dispose())},d.prototype.config=function(t){if(t){var e=t.rowSelection;e?("object"==typeof e?(e.singleSelection&&(this._singleSelMode=!0),e.clickToggle&&(this._clickToggleMode=!0),e.basedOnContent&&(this._basedOnContent=!0),e.selectionField&&(this._selectionField=e.selectionField)):"single"===e&&(this._singleSelMode=!0),this.addListener(e,"selectionChanged"),this.addListener(e,"beforeSelection")):null!=e&&this.disable()}},d.prototype.getConfigObject=function(t){var e=t||{},i=e.rowSelection;return i||(i=e.rowSelection={}),this._singleSelMode&&(i.singleSelection=this._singleSelMode),this._clickToggleMode&&(i.clickToggle=this._clickToggleMode),this._basedOnContent&&(i.basedOnContent=this._basedOnContent),"SELECTED_ROW"!==this._selectionField&&(i.selectionField=this._selectionField),e},d.prototype.clearAllSelections=function(t,e){null==t&&(t=!0),this._clearSelectedRows(t),e&&(this._activeGrid=e)},d.prototype.clearSelectedRows=d.prototype.clearAllSelections,d.prototype.clearSelection=d.prototype.clearAllSelections,d.prototype.getActiveGrid=function(){return this._activeGrid},d.prototype.getRowAnchor=function(t){var e=this._getSection(t);return e&&e.getRowAnchor?this._basedOnContent?this._anchorRowDict[e]||-1:e.getRowAnchor():-1},d.prototype.getFirstSelectedIndex=function(t){var e=this._getSection(t);if(e){if(this._basedOnContent){var i=this._activeGrid?this._activeGrid.getDataSource():null;if(!i)return null;for(var n,o=i.getAllRowIds(!0,!0),r=i.getMultipleRowData(o),s=r.length,l=0;l<s;l++)if((n=this._getRowData(r[l]))&&n[this._selectionField])return l;return null}return e.getFirstSelectedRow()}return null},d.prototype.getLastSelectedIndex=function(t){var e=this._getSection(t);if(e){if(this._basedOnContent){var i=this._activeGrid?this._activeGrid.getDataSource():null;if(!i)return null;for(var n,o=i.getAllRowIds(!0,!0),r=i.getMultipleRowData(o),s=r.length-1;s>=0;s--)if((n=this._getRowData(r[s]))&&n[this._selectionField])return s;return null}return e.getLastSelectedRow()}return null},d.prototype.getSelectedRows=function(t){var e=this._getSection(t);if(e){if(this._basedOnContent){var i=this._activeGrid?this._activeGrid.getDataSource():null;if(!i)return null;for(var n,o=i.getAllRowIds(!0,!0),r=i.getMultipleRowData(o),s=r.length,l=[],c=0;c<s;c++)(n=this._getRowData(r[c]))&&n[this._selectionField]&&l.push(c);return l.length?l:null}return e.getSelectedRows()}return null},d.prototype.getSelectedRowIds=function(t){var e,i,n=null,o=this.getSelectedRows(t);if(o){var r=this._activeGrid.getDataSource().getAllRowIds(!0,!0);for(e=o.length,n=new Array(e),i=0;i<e;++i)n[i]=r[o[i]]||""}return n},d.prototype.getSelectedRowCount=function(t){var e=this._getSection(t);if(!e)return 0;if(this._basedOnContent){var i=this.getSelectedRows();return i?i.length:0}return e.getSelectedRowCount()},d.prototype.setSelectedRow=function(t,e,i){var n=this._getSection(i);n&&this._sectionSetSelectedRow(n,t,e)},d.prototype.selectSingleRow=function(t,e,i){if(!(t>=0))return!1;var n=i?this._activeGrid:null;n&&(this._clearSelectedRows(),this._activeGrid=i);var o=this._getSection(e);return this._selectSingleRow(o,t)?(this._scrollToRow(t),!0):(n&&(this._activeGrid=n),!1)},d.prototype.selectAllRows=function(t){if(t?this._activeGrid=t:this._activeGrid||(this._activeGrid=this._hosts[0]),this._activeGrid)for(var e=this._activeGrid.getAllSections("content"),i=e.length;--i>=0;)this._selectRowRange(0,e[i].getRowCount(),e[i]),0==i&&(this._anchorSection=e[i])},d.prototype.selectRowRange=function(t,e,i,n){this._selectRowRange(t,e,i),n&&this._scrollToRow(t)},d.prototype.disable=function(t){this._disabled=!1!==t},d.prototype.isEnabled=function(){return!this._disabled},d.prototype.disableMultiSelection=function(t){this._singleSelMode=!1!==t},d.prototype._onClick=function(t){if(this._pendingClickIndex>=0&&this._anchorSection){this._selectSingleRow(this._anchorSection,this._pendingClickIndex);var e=this.getRelativeGrid(t);this._clearPendingClickIndex(e),this._dispatchSelectionChanged(t)}},d.prototype._onMouseDown=function(t){if(!this._disabled&&(2!==t.button||!t.shiftKey&&!t.ctrlKey)){var e=this.getRelativeGrid(t);if(this._clearPendingClickIndex(e),e){var i=e.getRelativePosition(t);if(i.hit&&"content"===i.sectionType){if(2===t.button){var n=this._getPlugin("ColumnSelectionPlugin");if(n&&n.isEnabled()&&n.isSelectedColumn(i.colIndex))return}var o=i.dataSource,r=i.rowIndex;if(this._basedOnContent)if(!this._getRow(o,r))return;if(!this._dispatchBeforeSelection(t,i)){var s=this._singleSelMode||!this._activeGrid||this._activeGrid!==e,l=i.section;if(s||(t.shiftKey?this._selectFromAnchorToTarget(l,r):t.ctrlKey&&!h||h&&!t.ctrlKey&&t.metaKey?this._sectionSetSelectedRow(l,r,!l.isSelectedRow(r)):s=!0),s){if(this._anchorSection=l,l.isSelectedRow(r))return void this._setPendingClickIndex(r,e);this._activeGrid!==e&&(this._clearSelectedRows(!0),this._activeGrid=e),this._selectSingleRow(this._anchorSection,r)}var c=e.getHiddenInput();if(c){this._textRange.setStart(c.parentNode,0),this._textRange.setEnd(c,0);var a=window.getSelection();a.removeAllRanges(),a.addRange(this._textRange),this._isIE&&e.getParent().focus()}this._dispatchSelectionChanged(t,r,l)}}}}},d.prototype._onMouseMove=function(t){var e=this.getRelativeGrid(t);this._clearPendingClickIndex(e)},d.prototype._setPendingClickIndex=function(t,e){this._pendingClickIndex=t,e&&e.listen("mousemove",this._onMouseMove)},d.prototype._clearPendingClickIndex=function(t){this._pendingClickIndex=-1,t&&t.unlisten("mousemove",this._onMouseMove)},d.prototype._onKeyDown=function(t){if(this._activeGrid)switch(t.keyCode){case 33:this._selectByKey(-1,t,!0);break;case 34:case 35:this._selectByKey(1,t,!0);break;case 36:this._selectByKey(-1,t,!0);break;case 37:if(this._dispatchBeforeSelection(t))return;this._gotoPrevGrid()&&o.preventDefault(t);break;case 38:this._selectByKey(-1,t);break;case 39:if(this._dispatchBeforeSelection(t))return;this._gotoNextGrid()&&o.preventDefault(t);break;case 40:this._selectByKey(1,t)}},d.prototype._onBeforeRowRemoved=function(t){this._timerId||(this._pendingSelection=this.getFirstSelectedIndex(),this._timerId=setTimeout(this._onReselection,10))},d.prototype._onReselection=function(t){(this._timerId=0,null!=this._pendingSelection)&&(null==this.getFirstSelectedIndex()&&this.setSelectedRow(this._pendingSelection,!0));this._pendingSelection=null},d.prototype._onCopy=function(t){var e,i;t.clipboardData?(e=t.clipboardData,i="text/plain"):(e=window.clipboardData,i="Text");var n=this.getSelectedText();n&&e.setData(i,n),t.preventDefault()},d.prototype._onPostSectionDataBinding=function(t){if(this._basedOnContent&&"content"===t.sectionType&&this._activeGrid)for(var e,i,n=t.fromRowIndex;n<t.toRowIndex;n++)i=!!(e=this._getRowData(t.dataRows[n]))&&e[this._selectionField],t.section.setSelectedRow(n,!0===i)},d.prototype.getSelectedText=function(){if(!this._compositeGrid&&!this._realTimeGrid)return"";for(var t=this.getSelectedRows(),e=t.length,i=this.getColumnCount(),n="",o=this._activeGrid.getDataSource(),r=0;r<e;r++){var s=t[r],l=this._getRow(o,s);if(l){n.length&&(n+="\n");for(var c=0;c<i;c++){c>0&&(n+="\t");var a=this._getField(c);n+=Object(u.c)(l[a])}}}return n},d.prototype._getSection=function(t){return this._activeGrid||(this._activeGrid=this._hosts[0],this._activeGrid&&(this._anchorSection=this._activeGrid.getSection("content"),this._anchorSection||(this._activeGrid=null))),t?this._activeGrid.getSection(t):(this._anchorSection&&(this._anchorSection.getElement()||(this._anchorSection=null)),this._anchorSection)},d.prototype._clearSelectedRows=function(t){var e;if(this._activeGrid){if(this._basedOnContent){var i=this._activeGrid.getDataSource();if(i){var n,o,r=i.getAllRowIds(!0,!0),s=i.getMultipleRowData(r),l=[],c=[],a=s.length;for(e=0;e<a;e++)(n=this._getRowData(s[e]))&&n[this._selectionField]&&(l.push(!1),c.push(r[e]),null==o&&(o=e));1===(a=l.length)?this._setData(i,o,this._selectionField,l[0]):a>1&&this._setColumnData(i,this._selectionField,l,c)}}else{var u=this._activeGrid.getAllSections("content");for(e=u.length;--e>=0;)this._sectionClearSelectedRows(u[e],t)}t||(this._anchorSection=null),this._clearPendingClickIndex(this._activeGrid)}},d.prototype._selectByKey=function(t,e,i){if(e.preventDefault(),this._anchorSection){var n=e.shiftKey,o=0,r=this._anchorSection.getRowCount()-1;if(i){var s=this._activeGrid.getVScrollView();-1===t?s&&(o=this.getFirstSelectedIndex(this._anchorSection)<=s.firstFullRow?s.prevPageRowIndex:s.firstFullRow):o=s?this.getLastSelectedIndex(this._anchorSection)>=s.lastFullRow?s.nextPageRowIndex:s.lastFullRow:r}else o=-1===t?this.getFirstSelectedIndex(this._anchorSection)+t:this.getLastSelectedIndex(this._anchorSection)+t;if(o<0){var l=this._getPlugin("ColumnSelectionPlugin");return!n&&l&&l.isEnabled()?(l.selectSingleColumn(null,this._activeGrid),void this.clearAllSelections()):void this._scrollToRow(0)}o>r?this._scrollToRow(r):this._dispatchBeforeSelection(e)||(n&&!this._singleSelMode?this._selectFromAnchorToTarget(this._anchorSection,o):this._selectSingleRow(this._anchorSection,o),this._scrollToRow(o),this._dispatchSelectionChanged(e,o))}},d.prototype._sectionSetSelectedRow=function(t,e,i){if(this._basedOnContent){var n=this._activeGrid?this._activeGrid.getDataSource():null;if(n)this._getRow(n,e)&&(this._setData(n,e,this._selectionField,i),i&&(this._anchorRowDict[t]=e))}else t.setSelectedRow(e,i);this._pendingSelection=null},d.prototype._sectionSelectRowRange=function(t,e,i){if(this._basedOnContent){var n=this._activeGrid?this._activeGrid.getDataSource():null;if(n){for(var o=e+i-1,r=n.getAllRowIds(!0,!0),s=[],l=[],c=e;c<=o;c++){this._getRow(n,c)&&(s.push(r[c]),l.push(!0))}this._setColumnData(n,this._selectionField,l,s)}}else t.selectRowRange(e,i)},d.prototype._sectionClearSelectedRows=function(t,e){if(this._basedOnContent){var i=this.getSelectedRowIds();if(i){var n=this._activeGrid?this._activeGrid.getDataSource():null;if(n){for(var o=i.length,r=new Array(o),s=0;s<o;s++)r[s]=!1;this._setColumnData(n,this._selectionField,r,i)}}e||(this._anchorRowDict[t]=-1)}else t.clearSelectedRows()},d.prototype._selectSingleRow=function(t,e){return!!t&&(this._clearSelectedRows(),this._sectionSetSelectedRow(t,e,!0),this._anchorSection=t,!0)},d.prototype._selectRowRange=function(t,e,i){var n=this._getSection(i);n&&this._sectionSelectRowRange(n,t,e)},d.prototype._selectFromAnchorToTarget=function(t,e){if(this._anchorSection===t){var i=this.getRowAnchor(this._anchorSection);if(i!==e){this._clearSelectedRows(!0);var n=1,o=i,r=e-i;r<0&&(n=-1,o=e),this._sectionSelectRowRange(t,o,r*n+1),!this._basedOnContent&&this._anchorSection.setRowAnchor&&this._anchorSection.setRowAnchor(i)}}},d.prototype._selectSectionRange=function(t,e){if(this._activeGrid)for(var i=t;i<=e;i++){var n=this._activeGrid.getSectionSettings(i);if("content"===n.getType()){var o=n.getSection();this._sectionSelectRowRange(o,0,o.getRowCount())}}},d.prototype._gotoPrevGrid=function(){if(!this._activeGrid)return!1;if(this._activeGrid===this._hosts[0])return!1;var t=this._hosts.indexOf(this._activeGrid);return t>0&&(this._gotoGrid(t-1),!0)},d.prototype._gotoNextGrid=function(){if(!this._activeGrid)return!1;var t=this._hosts.length-1;if(this._activeGrid===this._hosts[t])return!1;var e=this._hosts.indexOf(this._activeGrid);return e>=0&&(this._gotoGrid(e+1),!0)},d.prototype._gotoGrid=function(t){var e=this.getRowAnchor(this._anchorSection),i=this._anchorSection.getIndex();this.clearSelectedRows(),this.selectSingleRow(e,i,this._hosts[t])},d.prototype._scrollToRow=function(t){var e=this._hosts[0];e&&e.scrollToRow(null,t)},d.prototype._dispatchBeforeSelection=function(t,e){if(this.hasListener("beforeSelection")){if(!e){var i=this._activeGrid||this._hosts[0];e=i?i.getRelativePosition(t):{}}if(e.event=t,this._dispatch("beforeSelection",e),e.cancel)return!0}return!1},d.prototype._dispatchSelectionChanged=function(t,e,i){if(this._activeGrid){var n=this._getPlugin("ColumnSelectionPlugin");n&&n.isEnabled()&&n.clearSelection();var o=this._getPlugin("CellEditingPlugin");o&&o.closeCellEditor(),(o=this._getPlugin("InCellEditingPlugin"))&&o.closeCellEditor()}if(this.hasListener("selectionChanged")){var r={};r.selectedRows=this.getSelectedRows(),r.rowIndex=null!=e?e:this.getRowAnchor(this._anchorSection),r.section=null!=i?i:this._anchorSection,r.event=t,r.grid=this._activeGrid,this._dispatch("selectionChanged",r)}};!function(t,e){if(t&&e&&e.prototype.getName){var i=e.prototype.getName().replace(/Plugin$/,"");if(i){var n=t.tr;n||(n=t.tr={});var o=n.grid;o||(o=n.grid={}),o[i+"Plugin"]=e,n[i+"Extension"]=e}}}(window,d)}]);