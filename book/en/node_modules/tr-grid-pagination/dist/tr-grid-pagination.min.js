!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var n={inherits:function(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.base=function(t,i,n){i||(i="constructor");for(var o=arguments.length,r=new Array(o),s=2;s<o;s++)r[s-2]=arguments[s];return e.prototype[i].apply(t,r)}}},o=function(){};o.prototype._events=null,o.prototype._listenerCount=0,o.prototype.addEventListener=function(t,e){if(t&&e){this._events||(this._events={});var i=this._events[t];i?i.indexOf(e)<0&&(i.push(e),++this._listenerCount):(this._events[t]=[e],++this._listenerCount)}},o.prototype.removeEventListener=function(t,e){var i=this._events?this._events[t]:null;if(i){var n=i.indexOf(e);n>=0&&(i.splice(n,1),--this._listenerCount)}},o.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},o.prototype.hasListener=function(t){if(this._listenerCount){if(t){var e=this._events?this._events[t]:null;return!!e&&e.length>0}return!0}return!1},o.prototype._dispatch=function(t,e){var i=this._events?this._events[t]:null;if(i)for(var n=i.length,o=0;o<n;++o)i[o](e)};o.preventDefault=function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())};var r=function(t,e,i){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof t&&(this._resolveHandler=t),"function"==typeof e&&(this._rejectHandler=e),null!=i&&(this._ctx=i),this.promise=new Promise(function(t,e){this._resolve=t,this._reject=e}.bind(this))};r.prototype.promise=null,r.prototype._resolve=null,r.prototype._reject=null,r.prototype._resolveHandler=null,r.prototype._rejectHandler=null,r.prototype._ctx=null,r.prototype.resolve=function(t){if(this._resolve){if(this._resolveHandler){var e=this._resolveHandler(t,this._ctx||this);null!=e&&(t=e)}this._resolve(t),this._finally()}},r.prototype.reject=function(t){if(this._reject){if(this._rejectHandler){var e=this._rejectHandler(t,this._ctx||this);null!=e&&(t=e)}this._reject(t),this._finally()}},r.prototype._finally=function(){this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var s=function(){};n.inherits(s,o),s.prototype._hosts=null,s.prototype._compositeGrid=null,s.prototype._realTimeGrid=null,s.prototype._initializedGrid=!1,s.prototype.listen=s.prototype.addEventListener,s.prototype.addListener=function(t,e){var i=t?t[e]:null;"function"==typeof i&&this.listen(e,i)},s.prototype.afterInit=function(t,e,i){if(!this._initializedGrid){if(this._initializedGrid=!0,!this._compositeGrid&&!this._realTimeGrid&&i&&i.getCoreGrid){var n=i.getCoreGrid();this.setGridWrapper("compositegrid",i),n.loadPlugin(this,e)}this._afterInit()}},s.prototype._afterInit=function(){},s.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._initializedGrid=!1,this._compositeGrid=this._realTimeGrid=null))},s.prototype.getName=function(){return"GridPlugin"},s.prototype.getRelativeGrid=function(t){var e=null;if(t.target){var i=(e=t.target).api;if(i&&i.getCoreGrid)return i.getCoreGrid()}else t.getElement?e=t.getElement():1===t.nodeType&&(e=t);if(e)for(var n=this._hosts.length;--n>=0;){var o=this._hosts[n];if(o.getElement().contains(e))return o}return null},s.prototype.setGridWrapper=function(t,e){t&&("compositegrid"===(t=t.toLowerCase())?this._compositeGrid=e:"realtimegrid"===t&&(this._realTimeGrid=e))},s.prototype.getColumnName=function(t){if(this._compositeGrid){var e="string"==typeof t?t:this._compositeGrid.getColumnId(t),i=this._compositeGrid.getColumnModel(e);if(i)return i.title?i.title:i.field}else{var n=this.getColumnIndex(t),o=this._realTimeGrid.getColumnDefinition(n);if(o)return o.getName()}return""},s.prototype.getColumnIndex=function(t){if("number"==typeof t)return t;if(this._compositeGrid)return this._compositeGrid.getColumnIndex(t);for(var e=this._realTimeGrid,i=e.getColumnCount(),n=0;n<i;++n){var o=e.getColumnDefinition(n);if(o&&o.getId()===t)return n}return-1},s.prototype.getColumnId=function(t){if("string"==typeof t)return t;if(this._compositeGrid)return this._compositeGrid.getColumnId(t);var e=this._realTimeGrid.getColumnDefinition(t);return e?e.getId():""},s.prototype.getColumnCount=function(){if(this._hosts){var t=this._hosts[0];return t?t.getColumnCount():0}return 0},s.prototype._loadPlugin=function(t,e,i){return t||(t=e.getPlugin(i))||(t=e.loadPlugin(i))&&this._initializedGrid&&(t._initializedGrid=!0),t},s.prototype._requestPlugin=function(t,e,i){return this._initializedGrid?s.requestPlugin(t,e,i,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},s.requestPlugin=function(t,e,i,n,o){var a=null;if(t){var l=null;1===t.nodeType?l=t.api:t.getCoreGrid?l=t:t.getPlugin&&(a=t),l&&(a=l.getCoreGrid(),n||o||(l.getModel?n=l:o=l))}if(!a)return Promise.reject("Cannot find grid element");var u=a.getPlugin(e);if(u)return Promise.resolve(u);var h=new r;return setTimeout(s._onPluginRequested.bind(null,{grid:a,pluginRef:e,compositeGrid:n,realTimeGrid:o,config:i,deferred:h}),10),h.promise},s._onPluginRequested=function(t){var e=t.grid,i=e.getPlugin(t.pluginRef);return i?t.deferred.resolve(i):(i=e.loadPlugin(t.pluginRef,t.config))?(i.setGridWrapper&&(t.compositeGrid?i.setGridWrapper("compositegrid",t.compositeGrid):t.realTimeGrid&&i.setGridWrapper("realtimegrid",t.realTimeGrid)),i.afterInit&&i.afterInit(),t.deferred.resolve(i)):t.deferred.reject("Unable to load required dependency: "+t.pluginRef)},s.prototype._getPlugin=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getPlugin(t):null},s.prototype._getColumnData=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getColumnData(t):null},s.prototype._getColumnOption=function(t,e,i){var n=this._getColumnData(t,i);return n?n[e]:null},s.prototype._newColumnData=function(t,e){if(null==e&&(e=this._hosts[0]),!e)return{};var i=e.getColumnData(t);return i||(i=e.setColumnData(t,{})),i},s.prototype._getField=function(t){var e=this._compositeGrid||this._realTimeGrid;return e?e.getColumnField(t):""},s.prototype._getRowData=function(t){return this._realTimeGrid&&t?t.ROW_DEF.getRowData():t},s.prototype._getRow=function(t,e){return a(t.getRowDataAt(e))},s.prototype._getData=function(t,e,i){var n=this._getRow(t,e);return n?n[i]:void 0},s.prototype._setData=function(t,e,i,n){if(this._realTimeGrid){var o=t.getRowDataAt(e);o&&o.ROW_DEF.setData(i,n)}else t.setDataAt(e,i,n)},s.prototype._setRowData=function(t,e,i){if(this._realTimeGrid){var n=t.getRowDataAt(e);n&&n.ROW_DEF.setRowData(i)}else t.setRowDataAt(e,i)},s.prototype._setColumnData=function(t,e,i,n){if(n=n||t.getAllRowIds()||[],this._realTimeGrid){for(var o=t.getDataSource(),r=o.freeze(),s=i.length<n.length?i.length:n.length,a=0;a<s;++a){var l=t.getRowData(n[a]);l&&l.ROW_DEF.setData(e,i[a])}o.freeze(r)}else t.setColumnData(e,i,n)};var a=function(t){if(t){var e=t.ROW_DEF;return e?e.getRowData():t}return null},l=function(t){this._onPageChanged=this._onPageChanged.bind(this),this._onPageSizeChanged=this._onPageSizeChanged.bind(this),this._onDataChanged=this._onDataChanged.bind(this),this._resolveUIs=this._resolveUIs.bind(this),this._onDispatchEvent=this._onDispatchEvent.bind(this),this._hosts=[],this._controls=[],t&&this.config({pagination:t})};n.inherits(l,s),l.prototype._controls,l.prototype._userUI,l.prototype._uiTimer=0,l.prototype._pageChangeTimer=0,l.prototype._dateView=null,l.prototype._defaultPageSize=!0,l.prototype.initialize=function(t,e){this._hosts.indexOf(t)>=0||(this._hosts.push(t),this._dataView=t.getDataSource(),this._dataView.listen("dataChanged",this._onDataChanged),this.config(e),this._defaultPageSize&&this._dataView.setPageSize(10),this._controls.length||this._requestUIUpdate())},l.prototype.unload=function(t){var e=this._hosts.indexOf(t);e<0||(this._hosts.splice(e,1),this._dispose(),this._hosts.length||(this._dataView.unlisten("dataChanged",this._onDataChanged),this._dataView=null,this.setElement(null),this._uiTimer&&(clearTimeout(this._uiTimer),this._uiTimer=0),this._pageChangeTimer&&(clearTimeout(this._pageChangeTimer),this._pageChangeTimer=0)))},l.prototype.setElement=function(t){if(this._userUI!==t){this._userUI=t;var e=this._controls.length;if(e){for(var i=0;i<e;++i){var n=this._controls[i];n.removeEventListener("page-changed",this._onPageChanged),n.removeEventListener("page-size-changed",this._onPageSizeChanged)}this._controls.length=0}null!==t&&this._requestUIUpdate()}},l.prototype._requestUIUpdate=function(){this._uiTimer||(this._uiTimer=setTimeout(this._resolveUIs,100))},l.prototype._resolveUIs=function(){if(this._uiTimer=0,!this._controls.length){var t,e,i;if(this._userUI){var n=Array.isArray(this._userUI)?this._userUI:[this._userUI];for(e=n.length,t=0;t<e;++t){var o=n[t];"string"==typeof o?(i=document.getElementById(o))&&this._controls.push(i):o&&1===o.nodeType&&this._controls.push(o)}}if(!this._controls.length&&null!==this._userUI){var r=document.getElementsByTagName("emerald-pagination"),s=-1;"number"==typeof this._userUI?s=this._userUI:1===r.length&&(s=0),(i=r[s])&&this._controls.push(i)}for(this._userUI=null,t=this._controls.length;--t>=0;){var a=this._controls[t];a.totalItems=this.getTotalRows(),a.pageSize=this.getPageSize(),a.page=this.getPageIndex(),a.addEventListener("page-changed",this._onPageChanged),a.addEventListener("page-size-changed",this._onPageSizeChanged)}}},l.prototype.getName=function(){return"PaginationPlugin"},l.prototype.config=function(t){t&&this._configPaging(t.pagination)},l.prototype.getConfigObject=function(t){var e=t||{},i=e.pagination;return i||(i=e.pagination={}),i.page=this.getPageIndex(),i.pageSize=this.getPageSize(),e},l.prototype.beforeProcessOption=function(t,e){if("paging"==t&&e)return this._configPaging(e),null},l.prototype._configPaging=function(t){if(t){var e=t.elements||t.element;void 0!==e&&this.setElement(e);var i=t.pageSize;"number"==typeof i&&this.setPageSize(i),"number"==typeof(i=t.page)&&this.setPage(i),this.addListener(t,"pageChanged")}},l._toNumber=function(t){return"number"==typeof t?t:parseInt(t,10)},l.prototype._onPageChanged=function(t){var e=l._toNumber(t.detail.value);this.setPage(e),this._pageChangeTimer||(this._pageChangeTimer=setTimeout(this._onDispatchEvent,20))},l.prototype._onDispatchEvent=function(){this._pageChangeTimer=0,this._dispatch("pageChanged",{page:this.getPageIndex()})},l.prototype._onPageSizeChanged=function(t){var e=l._toNumber(t.detail.value);this._setPageSize(e)},l.prototype._onDataChanged=function(t){var e=this._controls.length;if(e&&!t.positionChangeOnly)for(var i=0;i<e;++i)this._controls[i].totalItems=this.getTotalRows()},l.prototype.getTotalRows=function(){return this._dataView?this._dataView.getSortedRowIds(!0).length:0},l.prototype.getPageIndex=function(){return this._dataView?this._dataView.getPageIndex():1},l.prototype.getPageCount=function(){return this._dataView?this._dataView.getPageCount():0},l.prototype.getPageSize=function(){return this._dataView?this._dataView.getPageSize():0},l.prototype.setPageSize=function(t){this._defaultPageSize=!1,this._setPageSize(t)},l.prototype._setPageSize=function(t){this._dataView&&this._dataView.setPageSize(t);for(var e=this._controls.length;--e>=0;)this._controls[e].pageSize=t},l.prototype.setPage=function(t){this._dataView&&this._dataView.setPage(t);for(var e=this._controls.length;--e>=0;)this._controls[e].page=t},l.prototype.goto=l.prototype.setPage,l.prototype.first=function(){this._dataView.firstPage();for(var t=this._controls.length;--t>=0;)this._controls[t].first()},l.prototype.last=function(){this._dataView.lastPage();for(var t=this._controls.length;--t>=0;)this._controls[t].last()},l.prototype.next=function(){this._dataView.nextPage();for(var t=this._controls.length;--t>=0;)this._controls[t].next()},l.prototype.previous=function(){this._dataView.previousPage();for(var t=this._controls.length;--t>=0;)this._controls[t].previous()};!function(t,e){if(t&&e&&e.prototype.getName){var i=e.prototype.getName().replace(/Plugin$/,"");if(i){var n=t.tr;n||(n=t.tr={});var o=n.grid;o||(o=n.grid={}),o[i+"Plugin"]=e,n[i+"Extension"]=e}}}(window,l)}]);