!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=6)}([function(e,t,o){"use strict";o.r(t),o.d(t,"ElfUtil",(function(){return i}));var n=o(1),r=o(4),i={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};i.themeColors=i._defaultColors,i._components={},i._themeName="",i._elfVersion=0,i._dummyIcon=null,i._iconLoaded=!1,i._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"list",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},i.getElfVersion=function(){if(!i._elfVersion){var e=0;if(window.elf)if(window.elf.version){var t=window.elf.version.match(/\d/);t&&t[0]&&(e=parseInt(t[0],10))}else window.elf.customElements?e=3:window.customElements&&(e=4);else window.Polymer&&(e=1);i._elfVersion=e}return i._elfVersion},i.hasComponent=function(e){var t=i._components[e];if(null==t){t=0;var o=i.getElfVersion();if(e)1===o?document.createElement(e).is===e&&(t=o):o>1&&(window.customElements&&window.customElements.get(e)||document.createElement(e).constructor!==HTMLElement)&&(t=o),i._components[e]=t}return t},i.hasTheme=function(e){return e===i.getThemeName()},i.getThemeName=function(e){return i._themeName||(i._themeName=i.getCssVariable("--theme-name",document.documentElement)),i._themeName},i.injectIcons=function(e,t){if("object"==typeof e){var o=i.getThemeName();e.themeName=o;var n=i.getElfVersion();e.elfVersion=n;var r=i._icons[o];r&&(e.icons=r)}},i.getIconList=function(){var e=i._icons[i.getThemeName()];return e?Object(n.nestedObjectToArray)(e):[]},i._onIconPreloaded=function(){if(i._dummyIcon){var e=i._dummyIcon.parentNode;e&&e.removeChild(i._dummyIcon),i._dummyIcon=null}},i.prepareIconPreloading=function(){if(!i._iconLoaded){i._iconLoaded=!0;var e=i.getIconList();if(e.length){setTimeout(i._onIconPreloaded,10);var t=i._dummyIcon=document.createElement("coral-icon");return t.style.transform="scale(0)",document.body.appendChild(t),e}}return null},i.getCssVariable=function(e,t){var o="",n=t||document.body;return window&&"string"==typeof e&&1===n.nodeType&&e.match(/^--/)&&(o=(o=window.getComputedStyle(n).getPropertyValue(e)).replace(/\"/g,"")),o},i.getCssVariables=function(e,t){var o=t||document.body;if(window&&1===o.nodeType){var n=window.getComputedStyle(o);for(var r in e){var i=e[r];i&&i.match(/^--/)&&(e[r]=n.getPropertyValue(i).replace(/\"/g,""))}}return e||null},i.getThemeColors=function(){if(i.themeReady)return i.themeReady;var e=i._deferred=new r.a;i.themeReady=e.promise;var t=window?window.JET:null;if(t&&t.Settings)try{t.Settings.read(i._onColorProfile,{providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"})}catch(t){e.reject("Cannot read JET's settings")}else setTimeout(i._retrieveThemeColors,100);return e.promise},i._onColorProfile=function(e){e&&document.documentElement.setAttribute("movement-color-profile",e.toLowerCase()),i._retrieveThemeColors()},i._retrieveThemeColors=function(){var e=i.themeColors=i.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});e.up||(e.up=i._defaultColors.up,e.down=i._defaultColors.down,e.level=i._defaultColors.level,e.tickUp=i._defaultColors.tickUp,e.tickDown=i._defaultColors.tickDown),e.positive=e.up,e.negative=e.down,e.neutral=e.level;var t=document.createElement("table");t.style.visibility="hidden",t.style.position="fixed",t.style.left="0",t.style.top="0",t.style.width="0";var o=t.insertRow(-1),r=o.insertCell(-1);document.body.appendChild(t);var l=window.getComputedStyle(o);e.tableBg=l.backgroundColor;var s=window.getComputedStyle(r);e.tableText=s.color,e.tableBorder=s.borderColor,e.tableText===e.tableBorder&&(r.className="tr-lg",s=window.getComputedStyle(r),e.tableBg=s.backgroundColor,e.tableText=s.color,e.tableBorder=s.borderColor,e.tableText===e.tableBorder&&(e.tableBg=i._defaultColors.baseGrid,e.tableText=i._defaultColors.baseText,e.tableBorder="")),e.tableBg=Object(n.rgb2Hex)(e.tableBg),e.tableText=Object(n.rgb2Hex)(e.tableText),e.tableBorder=Object(n.rgb2Hex)(e.tableBorder),document.body.removeChild(t),e.baseGrid=e.tableBg,e.baseText=e.tableText,e.trackColor=e.primary||i._defaultColors.trackColor,i._deferred.resolve(e)},t.default=i},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Util",(function(){return Util})),__webpack_require__.d(__webpack_exports__,"extendObject",(function(){return extendObject})),__webpack_require__.d(__webpack_exports__,"cloneObject",(function(){return cloneObject})),__webpack_require__.d(__webpack_exports__,"extendProperty",(function(){return extendProperty})),__webpack_require__.d(__webpack_exports__,"extendArrayProperty",(function(){return extendArrayProperty})),__webpack_require__.d(__webpack_exports__,"parseCondition",(function(){return parseCondition})),__webpack_require__.d(__webpack_exports__,"prettifyCss",(function(){return prettifyCss})),__webpack_require__.d(__webpack_exports__,"getShadowRoot",(function(){return getShadowRoot})),__webpack_require__.d(__webpack_exports__,"injectCss",(function(){return injectCss})),__webpack_require__.d(__webpack_exports__,"isIE",(function(){return isIE})),__webpack_require__.d(__webpack_exports__,"isMac",(function(){return isMac})),__webpack_require__.d(__webpack_exports__,"nestedObjectToArray",(function(){return nestedObjectToArray})),__webpack_require__.d(__webpack_exports__,"rgb2Hex",(function(){return rgb2Hex})),__webpack_require__.d(__webpack_exports__,"prepareTSVContent",(function(){return prepareTSVContent}));var Util={post:function(e,t){return Util._post(e,t).then(Util.toJSON)},requestText:function(e,t){return Util._post(e,t,"text/plain").then(Util.toText)},requestByUrlEncoded:function(e,t){return Util._post(e,t,"application/x-www-form-urlencoded").then(Util.toJSON)},toJSON:function(e){return Util._logError(e)?Promise.reject(e):e.json()},toText:function(e){return Util._logError(e)?Promise.reject(e):e.text()},_logError:function(e){return!!(e&&e.status>=300)&&(console.log("Response "+e.status+": "+e.statusText),!0)},_post:function(e,t,o){var n={method:t?"POST":"GET",headers:{"Content-Type":o||"application/json"}};return t&&(n.body="string"==typeof t?t:JSON.stringify(t)),fetch(e,n)}},extendObject=function(e,t,o){if(!e)return null;if(!t||e===t)return e;var n;if(o)for(var r=o.length,i=0;i<r;++i)(n=o[i])&&extendProperty(e,t,n);else for(n in t)extendProperty(e,t,n);return e},cloneObject=function(e,t){return extendObject({},e,t)},extendProperty=function(e,t,o){var n=t[o];if(null!=n){var r=e[o];Array.isArray(r)?e[o]=r.concat(n):Array.isArray(n)&&r?e[o]=n.concat(r):e[o]=n}},extendArrayProperty=function(e,t,o){var n=null;if(o){var r=e[t];n=r?Array.isArray(r)?r:e[t]=[r]:e[t]=[],Array.isArray(o)?o.length&&(o.length>1?Array.prototype.push.apply(n,o):n.push(o[0])):n.push(o)}return n},_bracketExp=new RegExp(/\[[^\[]*\]/g),parseCondition=function(expression){if(!expression)return null;if("string"!=typeof expression)return"function"==typeof expression?expression:null;for(var brackets=expression.match(_bracketExp),map={},fields=[],len=brackets?brackets.length:0,i=len;--i>=0;){var field=brackets[i];map[field]||(map[field]="f["+fields.length+"]",fields.push(field.substring(1,field.length-1)))}expression=expression.replace(_bracketExp,(function(e){return"rowData["+map[e]+"]"}));var finalExp="(function(f, rowData) { return ("+expression+"); })",fn=null;try{fn=eval(finalExp),fn=fn.bind(null,fields)}catch(e){console.log(e.message)}return fn||null},_encloseBracket=function(e){return Array.isArray(e)?"{\n"+e.join("\n")+"\n}":e},_indentBracketContent=function(e){return e.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},prettifyCss=function(e){if(e){var t="";if(Array.isArray(e))t=e.map(_encloseBracket).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {");else t="string"==typeof e?e:e+"";if(t)return t.replace(/{[\w\W]*?}/g,_indentBracketContent)}return""},getShadowRoot=function(e){var t;if(e&&(e.shadowRoot?t=e.shadowRoot:e.getRootNode&&(t=e.getRootNode()),t&&t!==document&&t!==e))return t;return null},injectCss=function(e,t){if(!e)return null;var o=document.createElement("style");o.textContent="\n"+e+"\n";var n,r=getShadowRoot(t),i=!0;return r||(i=!1,r=document.head),i&&r.children&&r.children.length&&(n=r.children[0]),n?r.insertBefore(o,n):r.appendChild(o),o},isIE=function(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0},isMac=function(){return/Mac/.test(navigator.platform)},nestedObjectToArray=function(e,t){for(var o in t||(t=[]),e){var n=e[o];"object"==typeof n?nestedObjectToArray(n,t):t.push(n)}return t},rgb2Hex=function(e){if(!e||"string"!=typeof e)return"";if("#"===e.charAt(0))return e;var t=e.match(/\d+/g);if(!t||t.length<3)return e;for(var o="#",n=0;n<3;n++){var r=+t[n];r>=16||(o+="0"),o+=r?r.toString(16).toUpperCase():"0"}return o},prepareTSVContent=function(e){if(null==e)return"";var t="string"==typeof e?e:e.toString();return t.length?(t.indexOf("\n")>=0&&(t=t.replace(/[\r\n]/g," ")),t.indexOf("\t")>=0&&(t=t.replace(/\t/g," "))," "!==t.charAt(0)&&" "!==t.charAt(t.length-1)||(t=t.trim()),t):""}},function(e,t,o){"use strict";o.r(t),o.d(t,"Ext",(function(){return n}));var n={inherits:function(e,t){function o(){}o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e,e.base=function(e,o,n){o||(o="constructor");for(var r=arguments.length,i=new Array(r),l=2;l<r;l++)i[l-2]=arguments[l];return t.prototype[o].apply(e,i)}}};t.default=n},function(e,t,o){"use strict";o.r(t),o.d(t,"EventDispatcher",(function(){return n})),o.d(t,"preventDefault",(function(){return r}));var n=function(){};n.prototype._events=null,n.prototype._listenerCount=0,n.prototype.addEventListener=function(e,t){if(e&&t){this._events||(this._events={});var o=this._events[e];o?o.indexOf(t)<0&&(o.push(t),++this._listenerCount):(this._events[e]=[t],++this._listenerCount)}},n.prototype.removeEventListener=function(e,t){var o=this._events?this._events[e]:null;if(o){var n=o.indexOf(t);n>=0&&(o.splice(n,1),--this._listenerCount)}},n.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},n.prototype.hasListener=function(e){if(this._listenerCount){if(e){var t=this._events?this._events[e]:null;return!!t&&t.length>0}return!0}return!1},n.prototype.getListener=function(e,t){if(e){var o=this._events?this._events[e]:null;if(o)return t||(t=0),o[t]||null}return null},n.prototype.addListener=function(e,t){var o=e?e[t]:null;"function"==typeof o&&this.addEventListener(t,o)},n.prototype._prepareEventArguments=function(e,t){return t},n.prototype._dispatch=function(e,t){var o=this._events?this._events[e]:null;if(o){t=this._prepareEventArguments(e,t);for(var n=o.length,r=0;r<n;++r)o[r](t)}};var r=function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())};n.preventDefault=r,t.default=n},function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var n=function(e,t,o){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof e&&(this._resolveHandler=e),"function"==typeof t&&(this._rejectHandler=t),null!=o&&(this._ctx=o),this.promise=new Promise(function(e,t){this._resolve=e,this._reject=t}.bind(this))};n.prototype.promise=null,n.prototype._resolve=null,n.prototype._reject=null,n.prototype._resolveHandler=null,n.prototype._rejectHandler=null,n.prototype._ctx=null,n.prototype.resolve=function(e){if(this._resolve){if(this._resolveHandler){var t=this._resolveHandler(e,this._ctx||this);null!=t&&(e=t)}this._resolve(e),this._finally()}},n.prototype.reject=function(e){if(this._reject){if(this._rejectHandler){var t=this._rejectHandler(e,this._ctx||this);null!=t&&(e=t)}this._reject(e),this._finally()}},n.prototype._finally=function(){this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null}},function(e,t,o){"use strict";o.r(t),o.d(t,"GridPlugin",(function(){return l})),o.d(t,"exportExtension",(function(){return s})),o.d(t,"defaultDataGetter",(function(){return u})),o.d(t,"rowDefDataGetter",(function(){return a})),o.d(t,"defaultRowGetter",(function(){return p})),o.d(t,"rowDefRowGetter",(function(){return d})),o.d(t,"rowGetter",(function(){return c})),o.d(t,"colDataGetter",(function(){return _}));var n=o(2),r=o(3),i=o(4),l=function(){};n.Ext.inherits(l,r.EventDispatcher),l.prototype._hosts=null,l.prototype._compositeGrid=null,l.prototype._realTimeGrid=null,l.prototype._rowGetter=null,l.prototype._initializedGrid=!1,l.prototype.listen=l.prototype.addEventListener,l.prototype.afterInit=function(e,t,o){var n=null;o&&o.getCoreGrid&&(n=o.getCoreGrid()),n&&(this.getGridApi()||this.setGridWrapper("compositegrid",o),this._compositeGrid&&n.loadPlugin(this,t)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?d:p,this._afterInit())},l.prototype._afterInit=function(){},l.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},l.prototype.hasMultiTableSupport=function(){return!1},l.prototype._prepareEventArguments=function(e,t){return t||(t={}),t.api=this.getGridApi(),t},l.prototype.getName=function(){return"GridPlugin"},l.prototype.getRelativeGrid=function(e){var t=null;if(e.target){var o=(t=e.target).api;if(o&&o.getCoreGrid)return o.getCoreGrid()}else e.getElement?t=e.getElement():1===e.nodeType&&(t=e);if(t)for(var n=this._hosts.length;--n>=0;){var r=this._hosts[n];if(r.getElement().contains(t))return r}return null},l.prototype.setGridWrapper=function(e,t){e&&("compositegrid"===(e=e.toLowerCase())?this._compositeGrid=t:"realtimegrid"===e&&(this._realTimeGrid=t))},l.prototype.getGridApi=function(){return this._compositeGrid||this._realTimeGrid||null},l.prototype.getColumnName=function(e){if(this._compositeGrid){var t="string"==typeof e?e:this._compositeGrid.getColumnId(e),o=this._compositeGrid.getColumnModel(t);if(o)return o.title?o.title:o.field}else{var n=this.getColumnIndex(e),r=this._realTimeGrid.getColumnDefinition(n);if(r)return r.getName()}return""},l.prototype.getColumnIndex=function(e){if("number"==typeof e)return e;if(this._compositeGrid)return this._compositeGrid.getColumnIndex(e);for(var t=this._realTimeGrid,o=t.getColumnCount(),n=0;n<o;++n){var r=t.getColumnDefinition(n);if(r&&r.getId()===e)return n}return-1},l.prototype.getColumnId=function(e){if("string"==typeof e)return e;if(this._compositeGrid)return this._compositeGrid.getColumnId(e);var t=this._realTimeGrid.getColumnDefinition(e);return t?t.getId():""},l.prototype.getColumnCount=function(){if(this._hosts){var e=this._hosts[0];return e?e.getColumnCount():0}return 0},l.prototype._loadPlugin=function(e,t,o){return e||(e=t.getPlugin(o))||(e=t.loadPlugin(o))&&this._initializedGrid&&(e._initializedGrid=!0),e},l.prototype._requestPlugin=function(e,t,o){return this._initializedGrid?l.requestPlugin(e,t,o,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},l.requestPlugin=function(e,t,o,n,r){var s=null;if(e){var u=null;1===e.nodeType?u=e.api:e.getCoreGrid?u=e:e.getPlugin&&(s=e),u&&(s=u.getCoreGrid(),n||r||(u.getModel?n=u:r=u))}if(!s)return Promise.reject("Cannot find grid element");var a=s.getPlugin(t);if(a)return Promise.resolve(a);var p=new i.a;return setTimeout(l._onPluginRequested.bind(null,{grid:s,pluginRef:t,compositeGrid:n,realTimeGrid:r,config:o,deferred:p}),10),p.promise},l._onPluginRequested=function(e){var t=e.grid;if(!t.getElement())return e.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+e.pluginRef);var o=t.getPlugin(e.pluginRef);return o?e.deferred.resolve(o):(o=t.loadPlugin(e.pluginRef,e.config))?(o.setGridWrapper&&(e.compositeGrid?o.setGridWrapper("compositegrid",e.compositeGrid):e.realTimeGrid&&o.setGridWrapper("realtimegrid",e.realTimeGrid)),o.afterInit&&o.afterInit(),e.deferred.resolve(o)):e.deferred.reject("Unable to load required dependency: "+e.pluginRef)},l.prototype._getPlugin=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getPlugin(e):null},l.prototype._getColumnData=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getColumnData(e):null},l.prototype._getColumnOption=function(e,t,o){var n=this._getColumnData(e,o);return n?n[t]:null},l.prototype._newColumnData=function(e,t){if(null==t&&(t=this._hosts[0]),!t)return{};var o=t.getColumnData(e);return o||(o=t.setColumnData(e,{})),o},l.prototype._getField=function(e){var t=this._compositeGrid||this._realTimeGrid;return t?t.getColumnField(e):""},l.prototype._getRowData=function(e){return this._realTimeGrid&&e?e.ROW_DEF.getRowData():e},l.prototype._getRow=function(e,t){return c(e.getRowDataAt(t))},l.prototype._getData=function(e,t,o){var n=this._getRow(e,t);return n?n[o]:void 0},l.prototype._setData=function(e,t,o,n){if(this._realTimeGrid){var r=e.getRowDataAt(t);r&&r.ROW_DEF.setData(o,n)}else e.setDataAt(t,o,n)},l.prototype._setRowData=function(e,t,o){if(this._realTimeGrid){var n=e.getRowDataAt(t);n&&n.ROW_DEF.setRowData(o)}else e.setRowDataAt(t,o)},l.prototype._setColumnData=function(e,t,o,n){if(n=n||e.getAllRowIds()||[],this._realTimeGrid){for(var r=e.getDataSource(),i=r.freeze(),l=o.length<n.length?o.length:n.length,s=0;s<l;++s){var u=e.getRowData(n[s]);u&&u.ROW_DEF.setData(t,o[s])}r.freeze(i)}else e.setColumnData(t,o,n)};var s=function(e,t){if(e&&t&&t.prototype.getName){var o=t.prototype.getName().replace(/Plugin$/,"");if(o){var n=e.tr;n||(n=e.tr={});var r=n.grid;r||(r=n.grid={}),r[o+"Plugin"]=t,n[o+"Extension"]=t}}},u=function(e,t){return t[e]},a=function(e,t){var o=t.ROW_DEF.getRowData();return o?o[e]:null},p=function(e){return e},d=function(e){return e?e.ROW_DEF.getRowData():null},c=function(e){if(e){var t=e.ROW_DEF;return t?t.getRowData():e}return null},_=function(e,t){for(var o=t.getAllRowData(),n=o.length,r=new Array(n),i=0;i<n;++i)r[i]=a(e,o[i]);return r};t.default=l},function(e,t,o){"use strict";var n=o(5),r=o(7);(0,n.exportExtension)(window,r.ContextMenuPlugin)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextMenuPlugin=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=o(5),i=d(o(2)),l=d(o(8)),s=d(o(9)),u=o(1),a=o(0),p=d(o(11));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=this;t._hosts=[],t._onItemClicked=t._onItemClicked.bind(t),t._rightClickedHandler=t._rightClickedHandler.bind(t),t._onThemeLoaded=t._onThemeLoaded.bind(t),t.config({contextMenu:e})};i.default.inherits(c,r.GridPlugin),c.prototype._contextMap={title:"header",content:"content",footer:"footer",filterRow:"filterRow"},c._styles="",c._stylePromise=null,c.prototype._disabled=!1,c.prototype._popup=null,c.prototype._mouseInfo=null,c.prototype._menuAPI=null,c.prototype._csp=null,c.prototype._rsp=null,c.prototype._contextMenu=null,c.prototype._userColumns=null,c.prototype.getName=function(){return"ContextMenuPlugin"},c.prototype.initialize=function(e,t){var o=this;o._hosts.indexOf(e)>=0||(o._hosts.push(e),e.listen("postSectionRender",o._onPostSectionRender),e.listen("contextmenu",o._rightClickedHandler),o.config(t),c._stylePromise?c._applyThemeColor(e):(c._stylePromise=a.ElfUtil.getThemeColors()).then(this._onThemeLoaded))},c.prototype.unload=function(e){var t=this._hosts.indexOf(e);t<0||(e.unlisten("postSectionRender",this._onPostSectionRender),e.unlisten("contextmenu",this._rightClickedHandler),this._hosts.splice(t,1),this._dispose(),this._hosts.length||(this._csp=this._rsp=null))},c.prototype.config=function(e){if(e){var t=this;t._userColumns=e.columns;var o=e.contextMenu;null!=o&&("object"===(void 0===o?"undefined":n(o))?(t._menuAPI=new l.default(o),o.items||(o.items={})):"function"==typeof o&&(o={contextmenu:o}),this.addListener(o,"contextmenu"),t._contextMenu=o,t._disabled=!o)}},c.prototype.getConfigObject=function(e){var t=e||{};return t.contextMenu=this._contextMenu,t},c.prototype.getMenuModel=function(){return this._contextMenu},c.prototype._configureMouseInfo=function(e){var t=this._hosts[0].getRelativePosition(e);if(t.context=this._contextMap[t.sectionType]||"",t.columnDef=this._userColumns[t.colIndex],this._csp||(this._csp=this._getPlugin("ColumnSelectionPlugin")),this._rsp||(this._rsp=this._getPlugin("RowSelectionPlugin")),this._csp){var o=this._csp.getSelectedColumns();t.selectedColumns=o&&o.length?o:null}else t.selectedColumns=null;if(this._rsp){var n=this._rsp.getSelectedRows();t.selectedRows=n&&n.length?n:null}else t.selectedRows=null;return t.mouseEvent=e,t},c.prototype._rightClickedHandler=function(e){var t=this,o=t._hosts[0];if(o&&null!=o.getRelativePosition(e).rowIndex){e.preventDefault();var n=t._mouseInfo=t._configureMouseInfo(e),r=t._contextMenu;if(r&&!t._disabled){if(t._menuAPI){var i;if(n.items=r.items,t._menuAPI.clear(),n.menu=t._menuAPI,r.onMenu&&(r.onMenu(n),i=n.menu.getMenuItems()),!i||!i.length)return;t._popup&&!t._popup.isDisposed()&&t._popup.dispose();var l=o.getElement();t._popup=new s.default(l),t._popup.setMenu(i),t._popup.setPosition("custom",e.pageX,e.pageY),t._popup.addEventListener("itemClicked",t._onItemClicked),t._popup.show()}t._dispatch("contextmenu",n),delete n.mouseEvent}}},c.prototype._onItemClicked=function(e){var t=e.item,o=t.items;if(!o||!o.length){var n=this._menuAPI.findItem(t.id);if(n)for(var r=n.length,i=0;i<r;++i){var l=n[i];if(l.callback){for(var s in this._mouseInfo)e[s]=this._mouseInfo[s];l.callback(e);break}}}},c.prototype._onThemeLoaded=function(e){var t,o=(0,u.prettifyCss)([".tr-contextmenu",["outline: none;","box-sizing: border-box;","-moz-box-sizing: border-box;","border-style: solid;","border-width: 1px;","overflow: hidden;","padding: 1px;","margin: 0;","user-select: none;","list-style-type: none;","background-color: backgroundColor;","color: fontColor;","border-color: borderColor;"],".tr-contextmenu-item",["list-style: none;","padding: 3px 7px;","margin: 0;","vertical-align: middle;","white-space: nowrap;","cursor: pointer;","line-height: 20px;"],".tr-contextmenu-item[disabled]",["color: disabledColor;","cursor: default;"],".tr-contextmenu-item",["padding-right: 20px;"],".tr-contextmenu-item:hover:not([disabled])",["background-color: hoveredColor;"],".tr-contextmenu-popup",["box-shadow: 0 0 10px rgba(0,0,0,0.5);","z-index: 10;"],".tr-contextmenu-item.has-child",["position: relative;"],".tr-contextmenu-item.has-child:after",["box-sizing: border-box;","-moz-box-sizing: border-box;","display: inline-block;","width: 7px;","height: 7px;","border-style: solid;","border-width: 1px;",'content: "";',"-webkit-transform: rotate(45deg);","transform: rotate(45deg);","border-left-width: 0;","border-bottom-width: 0;","position: absolute;","right: 8px;","top: -webkit-calc(50% - 4px);","top: -moz-calc(50% - 4px);","top: calc(50% - 4px);","border-color: fontColor;"],'.tr-contextmenu-item[data-type="separator"]',["padding: 0;","border: none;","border-bottom-style: solid;","border-bottom-width: 1px;","border-bottom-color: disabledColor;"]]),n=p.default.rgb2Hex(e.tableBg),r=p.default.hex2Num(n),i=p.default.blackAndWhite(r);"#000000"===i?(t=.1,o=o.replace(/disabledColor/g,"lightgrey")):(t=.2,o=o.replace(/disabledColor/g,"gray"));var l=p.default.num2Hex(p.default.blendColor(n,i,t));o=(o=(o=(o=o.replace(/hoveredColor/g,l)).replace(/backgroundColor/g,e.tableBg)).replace(/fontColor/g,e.tableText)).replace(/borderColor/g,e.tableBorder),c._styles=o;for(var s=this._hosts.length;--s>=0;)c._applyThemeColor(this._hosts[s])},c._applyThemeColor=function(e){e&&!e._contextMenuStyles&&c._styles&&(e._contextMenuStyles=!0,(0,u.injectCss)(c._styles,e.getElement()))},t.default=c,t.ContextMenuPlugin=c},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){this._model=e,this._items=[],this._runningId=0};n.prototype.clear=function(){this._items.length=0,this._runningId=0},n.prototype.addItem=function(e){this._addItem(e,0)},n.prototype.addItems=function(e){this._addItem(e,0)},n.prototype._addItem=function(e,t){if(e)if(t>=10)console.warn("Circular reference detected");else if("string"==typeof e)"SEPARATOR"===e||e.match(/-{3,}/)?this.addSeparator():this._addItem(this._model.items[e],t+1);else if(Array.isArray(e))for(var o=e.length,n=0;n<o;++n)this._addItem(e[n],t+1);else this._assignId(e),this._items.push(e)},n.prototype.addSeparator=function(){this._items.push({type:"separator"})},n.prototype.getMenuItems=function(){return this._items},n.prototype.findItem=function(e){return this._findItem(e,this._items)},n.prototype._findItem=function(e,t){var o;if(!t)return null;if(Array.isArray(t)){for(var n=t.length,r=0;r<n;++r)if(o=this._findItem(e,t[r]))return o;return null}return t.id===e?[t]:((o=this._findItem(e,t.items))&&o.push(t),o)},n.prototype._assignId=function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this._assignId(e[t]);else e.id="_item_"+this._runningId++,e.items&&this._assignId(e.items)},t.default=n,t.MenuEventAPI=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupMenu=void 0;var n=s(o(10)),r=s(o(12)),i=s(o(3)),l=s(o(2));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=this;t.show=t.show.bind(t),t.attachTo=t.attachTo.bind(t),t.setMenu=t.setMenu.bind(t),t.setPosition=t.setPosition.bind(t),t._hoveredItem=t._hoveredItem.bind(t),t._hoveredChildItem=t._hoveredChildItem.bind(t),t._clickedItem=t._clickedItem.bind(t),t._clickedChildItem=t._clickedChildItem.bind(t),t._init(e)};l.default.inherits(u,i.default),u.prototype._evtArg,u.prototype._children,u.prototype._childrenItem,u.prototype._parentElement,u.prototype._x,u.prototype._y,u.prototype._popup,u.prototype._ulElem,u.prototype._isMounted,u.prototype._init=function(e){var t=this,o=document.createElement("div");o.className="tr-contextmenu-popup";var n=document.createElement("ul");n.className="tr-contextmenu",o.appendChild(n),t._popup=new r.default(o),t._popup.setPositioning("custom"),t._ulElem=n,t._children=[],t._childrenItem=[],t._x=0,t._y=0,t._isMounted=!0,t._parentElement=e||window.document,t._evtArg={target:t._popup._elem,currentTarget:t._popup._elem}},u.prototype.isDisposed=function(){return!this._isMounted},u.prototype.dispose=function(){var e=this;e._isMounted&&(e.removeAllEventListeners(),e._popup.dispose(),e._disposeChildren(),e._isMounted=!1)},u.prototype._disposeChildren=function(){var e=this;e._children.forEach((function(e){e&&e.dispose()})),e._childrenItem.forEach((function(e){e&&e.dispose()})),e._children.length=0,e._childrenItem.length=0},u.prototype.show=function(){var e=this;e._popup.show(!0,e._parentElement),e.setPosition(e._popup._positioning,e._x,e._y)},u.prototype.hide=function(){this._popup.hide()},u.prototype.attachTo=function(e,t){e&&this._popup.attachTo(e,t)},u.prototype.setPosition=function(e,t,o){var n=this;if("custom"===e){n._x=t,n._y=o;var r=window.innerWidth,i=window.innerHeight,l=null!=window.scrollX?window.scrollX:window.pageXOffset,s=null!=window.scrollY?window.scrollY:window.pageYOffset,u=r+l,a=i+s,p=n._popup._elem.offsetWidth,d=n._popup._elem.offsetHeight;t+p>u&&(t=u-p),o+d>a&&(o=a-d),n._popup._elem.style.left=t-l+"px",n._popup._elem.style.top=o-s+"px"}},u.prototype.addPopupChild=function(e,t){t instanceof u&&(t.attachTo(e,"right"),this._popup.addFocusElement(t._popup),this._children.push(t))},u.prototype.setMenu=function(e){if(e&&Array.isArray(e)){var t=this;Array.isArray(t._menuItems)&&t._disposeChildren(),t._menuItems=e;for(var o=0;o<e.length;o++){var r=e[o],i=new n.default(r);if(i.addEventListener("itemHovered",t._hoveredItem),i.addEventListener("itemClicked",t._clickedItem),t._childrenItem.push(i),Array.isArray(i.getItems())){var l=new u(t._parentElement);l._id=i.getId(),l.setMenu(i.getItems()),l.addEventListener("itemHovered",t._hoveredChildItem),l.addEventListener("itemClicked",t._clickedChildItem),t.addPopupChild(i.getElement(),l)}t._ulElem.appendChild(i.getElement())}}},u.prototype._hoveredChildItem=function(e){this._dispatch("itemHovered",e)},u.prototype._clickedChildItem=function(e){this._dispatch("itemClicked",e),this.hide()},u.prototype._hoveredItem=function(e){var t=this,o=t._evtArg,n=e.srcElement,r=t._children;if(n&&r.length)for(var i=0;i<r.length;i++){var l=r[i];l._id===n.getAttribute("id")?l.show():l.hide()}else o=e;t._dispatch("itemHovered",o)},u.prototype._clickedItem=function(e){var t=this;if(e.item&&e.item.id)for(var o=0;o<t._menuItems.length;o++){var n=t._menuItems[o];if(n.id===e.item.id){t._evtArg.item=n;break}}t._dispatch("itemClicked",t._evtArg),t.hide()},t.default=u,t.PopupMenu=u},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItem=void 0;var n=r(o(3));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=this;t._onItemHovered=t._onItemHovered.bind(t),t._onItemClicked=t._onItemClicked.bind(t),t._init(e),t._config(e)};r(o(2)).default.inherits(i,n.default),i.prototype._elem,i.prototype._options,i.prototype._isSelectable=!0,i.prototype._init=function(e){var t=this,o=document.createElement("li");o.className="tr-contextmenu-item",o.addEventListener("mouseover",t._onItemHovered),o.addEventListener("click",t._onItemClicked),t._elem=o,t._options=e},i.prototype.dispose=function(){var e=this;e.removeAllEventListeners(),e._elem.removeEventListener("mouseover",e._onItemHovered),e._elem.removeEventListener("click",e._onItemClicked),e._elem.parentNode.removeChild(e._elem)},i.prototype._config=function(e){var t;e||(e={});var o=this;(t=e.id)&&o.setId(t),(t=e.type)&&o.setType(t),(t=e.text)&&o.setText(t),(t=e.value)&&o.setValue(t),null!=(t=e.isDisabled)&&(!0===t?o.setSelectable(!1):o.setSelectable(!0)),null!=(t=e.isSelectable)&&(!1===t?o.setSelectable(!1):o.setSelectable(!0)),t=e.items,Array.isArray(t)&&o.setItems(t)},i.prototype._onItemHovered=function(e){var t=this;t.isSelectable()&&(e.item=t._options,t._dispatch("itemHovered",e))},i.prototype._onItemClicked=function(e){var t=this;t.isSelectable()&&!Array.isArray(t.getItems())&&(e.item=t._options,t._dispatch("itemClicked",e))},i.prototype.setId=function(e){this._elem.setAttribute("id",e),this._id=e},i.prototype.getId=function(){return this._id},i.prototype.setText=function(e){this._elem.textContent=e+"",this._text=e},i.prototype.getText=function(){return this._text},i.prototype.setValue=function(e){this._value=e},i.prototype.getValue=function(){return this._value},i.prototype.setSelectable=function(e){var t=this;e?(t._elem.removeAttribute("data-unselectable"),t._elem.removeAttribute("disabled")):(t._elem.setAttribute("data-unselectable","true"),t._elem.setAttribute("disabled","true")),t._isSelectable=!!e},i.prototype.isSelectable=function(){return this._isSelectable},i.prototype.setItems=function(e){this._items=e,this._elem.classList.add("has-child")},i.prototype.getItems=function(){return this._items},i.prototype.setType=function(e){this._elem.setAttribute("data-type",e),this._type=e},i.prototype.getType=function(){return this._type},i.prototype.getElement=function(){return this._elem},t.default=i,t.MenuItem=i},function(e,t,o){"use strict";o.r(t),o.d(t,"CellPainter",(function(){return s}));var n={"⇧":1,"B⇧":1,"↑":1,"B↑":1,26:1,1:1,'"1"':1,"-1":-1,"⇩":-1,"B⇩":-1,"↓":-1,"B↓":-1,27:-1,2:-1,'"2"':-1},r={CF_TICK:1,PRCTCK_1:1,BID_TICK:1,ASK_TICK:1},i=o(1),l=o(0),s=function(){this._conditions=[],this._scopes=[],s._painters.push(this)};s.ColoringTypes={TEXT:1,HEATMAP:2,CONDITIONAL:3},s.prototype._coloringType=0,s.prototype._conditions=null,s.prototype._blinkCondition=null,s.prototype._scopes,s._runningBlinkId=0,s._painters=[],s._emptyAry=[],s._emptyObj={},s._bgObj={backgroundColor:"",color:""},s._colorObj={color:""},s._bgStyles=["backgroundColor","color"],s._nonBgStyles=["fontSize","fontWeight","fontStyle","textAlign","textDecoration"],s._supportedStyles=s._bgStyles.concat(s._nonBgStyles),s.themeReady=null,s.parse=i.parseCondition,s.prototype.dispose=function(){var e=s._painters.indexOf(this);e>=0&&s._painters.splice(e,1),this.reset(),this._conditions=null,this._scopes.length=0,this._blinkCondition=null},s.prototype.reset=function(){this._setColoringType(0);var e=this._scopes.length;if(e){for(var t=0;t<e;++t){var o=this._scopes[t];s._clearBlinkTimer(o)&&o._restorer(),delete o.cell.blinking,o.cell=null}this._scopes.length=0}this._blinkCondition=null},s.prototype.applyThemeColor=function(){var e=l.ElfUtil.themeColors,t=this._conditions[0];if(t&&(this._coloringType===s.ColoringTypes.HEATMAP&&(t.textMode?t.baseColor=e.baseText:t.baseColor=e.baseGrid),t.useThemeColor&&(this._coloringType===s.ColoringTypes.HEATMAP||this._coloringType===s.ColoringTypes.TEXT))){var o,n;this._coloringType===s.ColoringTypes.TEXT&&"CF_TICK"===t.field?(o=e.tickUp,n=e.tickDown):(o=e.up,n=e.down);var r=e.level===e.baseText?"":e.level;s._setUpDownColors(t,o,n,r)}this._blinkCondition&&this._blinkCondition.useThemeColor&&s._setUpDownColors(this._blinkCondition,e.up,e.down,e.level,!0)},s.prototype.getConditions=function(){return this._conditions},s.prototype.getColoringType=function(){return this._coloringType},s.prototype._setColoringType=function(e){this._coloringType!==e&&(this._conditions.length=0,this._coloringType=e)},s.prototype.setConditions=function(e){this._conditions.length=0,this._setColoringType(s.ColoringTypes.CONDITIONAL);for(var t=e.length,o=0;o<t;o++)this._addCondition(e[o])},s.prototype._addCondition=function(e){var t=e.expression;t&&(e._fn=s.parse(t.text||t),this._conditions.push(e))},s.prototype.addHeatmap=function(e,t,o,n,r,i){this._setColoringType(s.ColoringTypes.HEATMAP);var l={heatmap:!0};return l.field=e,l.expression=s._heatMapCondition.bind(l),l.midPoint=t,s._setUpDownColors(l,o,n),l.baseColor=r,!0!==i&&"text"!==i||(l.textMode=!0),this._addCondition(l),l},s.prototype.addHeatmapWithTheme=function(e,t,o){var n=l.ElfUtil.themeColors,r=this.addHeatmap(e,t,n.up,n.down,n.baseGrid,o);return!0!==o&&"text"!==o||(r.baseColor=n.baseText),r.useThemeColor=!0,r},s.prototype._addColorText=function(e,t,o,n,r){this._setColoringType(s.ColoringTypes.TEXT);var i={};return i.field=t,i.expression=e.bind(null,t),s._setUpDownColors(i,o,n,r),this._addCondition(i),i},s.prototype.addColorText=function(e,t,o,n){return this._addColorText(r[e]?s._tickColorTextCondition:s._colorTextCondition,e,t,o,n)},s.prototype.addColorTextWithTheme=function(e){var t=l.ElfUtil.themeColors,o=this.addColorText(e,t.up,t.down,t.level===t.baseText?"":t.level);return o.useThemeColor=!0,o},s.prototype.addTickColorText=function(e,t,o){return this.addColorText("CF_TICK",e,t,o)},s.prototype.addTickColorTextWithTheme=function(){var e=l.ElfUtil.themeColors,t=this.addTickColorText(e.tickUp,e.tickDown,e.level);return t.useThemeColor=!0,t},s.prototype.addTickBlink=function(e,t,o,n){return this.addBlink("CF_TICK",e,t,o,n)},s.prototype.addTickBlinkWithTheme=function(e){var t=l.ElfUtil.themeColors,o=this.addTickBlink(t.tickUp,t.tickDown,t.level,e);return o.useThemeColor=!0,o},s.prototype.addBlink=function(e,t,o,n,i){return this._addBlink(r[e]?s._tickBlinkCondition:s._fieldBlinkCondition,e,t,o,n,i)},s.prototype.addBlinkWithTheme=function(e,t){var o=l.ElfUtil.themeColors,n=this.addBlink(e,o.up,o.down,o.level,t);return n.useThemeColor=!0,n},s.prototype._addBlink=function(e,t,o,n,r,i){var l=this._blinkCondition={};return l.blink=!0,l.blinkId=s._runningBlinkId++,l.field=t,l._fn=l.expression=e,!0!==i&&"border"!==i||(l.border=!0),s._setUpDownColors(l,o,n,r,!0),l},s.prototype.render=function(e,t,o,n,r){if(e){var i=e.getElement();if(i){var l=this._getStyles(t,o,n),u=null;if(this._blinkCell(e,t,l,r)?this._coloringType===s.ColoringTypes.CONDITIONAL&&(u=s._nonBgStyles):u=this._coloringType!==s.ColoringTypes.CONDITIONAL?s._bgStyles:s._supportedStyles,u)for(var a=i.style,p=u.length;--p>=0;){var d=u[p];a[d]=l[d]||""}}}},s.prototype._blinkCell=function(e,t,o,n){var r=this._blinkCondition;if(!r)return!1;if(!n)return!1;var i=e.blinking;if(i||((i={}).cell=e,e.blinking=i,this._scopes.push(i)),i.blinkId!==r.blinkId){i.blinkId=r.blinkId,i.field=r.field;var l=r.border?s._borderRestorer:s._cellRestorer;i._restorer=l.bind(null,i)}var u,a,p=r._fn(t,n,i);if(!p&&0!==p)return!1;if(p>0?(u=r.upColor,a=r.contrastUpColor):p<0?(u=r.downColor,a=r.contrastDownColor):(u=r.levelColor,a=r.contrastLevelColor),!u)return!1;var d=e.getElement();return r.border?d.style.border="1px solid "+u:(d.style.backgroundColor=u,d.style.color=a),s._clearBlinkTimer(i),i.blinkTimer=setTimeout(i._restorer,250),!(r.border||!i.blinkTimer)&&(i.color=o.color,i.backgroundColor=o.backgroundColor,!0)},s.prototype.renderForPrinting=function(e,t,o,n){if(e){var r=this._getStyles(t,o,n),i=r.backgroundColor;i&&(e.style.backgroundColor=i),(i=r.color)&&(e.style.color=i)}},s._colorTextCondition=function(e,t){var o=t[e];if(o||0===o){if(o>0)return 1;if(o<0)return-1}return"u"},s._tickColorTextCondition=function(e,t){var o=n[t[e]];if(o)return o},s._heatMapCondition=function(e,t,o){var n=e[this.field],r=n||0===n?n-this.midPoint:NaN;if(0===r||r!=r)return 0;var i=1;return r>0?(i=o-this.midPoint)<0&&(i=t-this.midPoint):(i=t-this.midPoint)>0&&(i=o-this.midPoint),i<0&&(i=-i),r/i},s._tickBlinkCondition=function(e,t,o){var r=o.field||"";if(t[r]){var i=n[e[r]];if(i)return i}},s._fieldBlinkCondition=function(e,t,o){var n=o.field||"",r=e?e[n]:NaN,i=o.oldValue;if(r||0===r){if(r=+r,o.oldValue=r,t[n])return r>i?1:r<i?-1:0}else o.oldValue=NaN},s._borderRestorer=function(e){e.blinkTimer=0;var t=e.cell.getElement();t&&(t.style.border="")},s._cellRestorer=function(e){e.blinkTimer=0;var t=e.cell.getElement();t&&(t.style.backgroundColor=e.backgroundColor||"",t.style.color=e.color||"")},s.prototype._getStyles=function(e,t,o){if(!e)return s._emptyObj;for(var n=this._conditions.length,r=0;r<n;++r){var i,l=this._conditions[r],u=l._fn;try{var a=u&&u(e,t,o)}catch(e){}if(a)return this._coloringType===s.ColoringTypes.HEATMAP?(i=a>0?s.blendColor(l.baseColor,l.upColor,a):s.blendColor(l.baseColor,l.downColor,-a),l.textMode?(s._colorObj.color=s.num2Hex(i),s._colorObj):(s._bgObj.backgroundColor=s.num2Hex(i),s._bgObj.color=s.blackAndWhite(i),s._bgObj)):this._coloringType===s.ColoringTypes.TEXT?(s._colorObj.color=a>0?l.upColor:a<0?l.downColor:l.levelColor,s._colorObj):l}return s._emptyObj},s.blendColor=function(e,t,o){o>1?o=1:o<0&&(o=0);for(var n=s.hex2Num(e),r=s.hex2Num(t),i=[],l=0;l<3;++l){var u=(r[l]-n[l])*o;i.push(n[l]+u)}return i},s.blackAndWhite=function(e){return Math.sqrt(e[0]*e[0]*.241+e[1]*e[1]*.691+e[2]*e[2]*.068)>=135?"#000000":"#FFFFFF"},s.rgb2Hex=i.rgb2Hex,s.num2Hex=function(e){return"#"+(16777216+(e[2]|e[1]<<8|e[0]<<16)).toString(16).slice(1)},s.num2Rgb=function(e){return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},s.hex2Num=function(e){var t=parseInt(e.replace(/[^0-9A-F]/gi,""),16);return[t>>16&255,t>>8&255,255&t]},s.hex2Rgb=function(e){if(e){var t=parseInt(e.replace(/[^0-9A-F]/gi,""),16);return"rgb("+(t>>16&255)+", "+(t>>8&255)+", "+(255&t)+")"}return""},s.themeChanged=function(){},s.setThemeColors=function(){},s._onThemeChanged=function(e){for(var t=s._painters,o=t.length;--o>=0;)t[o].applyThemeColor();return e},s.loadThemeColors=function(){return s.themeReady||(s.themeReady=l.ElfUtil.getThemeColors().then(s._onThemeChanged)),s.themeReady},s.reloadThemeColors=function(){return s.themeReady=l.ElfUtil.themeReady=null,s.loadThemeColors()},s.clearCellStyle=function(e){var t=e.getElement();if(t){var o=e.blinking;o&&(s._clearBlinkTimer(o),delete e.blinking,o.cell=null);for(var n=s._supportedStyles,r=n.length;--r>=0;)t.style[n[r]]=""}},s._setUpDownColors=function(e,t,o,n,r){null!=t&&(e.upColor=t,r&&(e.contrastUpColor=s.getOppositeColor(t))),null!=o&&(e.downColor=o,r&&(e.contrastDownColor=s.getOppositeColor(o))),null!=n&&(e.levelColor=n,r&&(e.contrastLevelColor=s.getOppositeColor(n)))},s._clearBlinkTimer=function(e,t){return!!e.blinkTimer&&(clearTimeout(e.blinkTimer),e.blinkTimer=0,!0)},s.getOppositeColor=function(e){if("string"==typeof e){if("#"===e.charAt(0)){var t=s.hex2Num(e);return s.blackAndWhite(t)}}else if(Array.isArray(e))return s.blackAndWhite(e);return""};t.default=s},function(e,t,o){"use strict";o.r(t),o.d(t,"Popup",(function(){return s})),o.d(t,"containElements",(function(){return l}));var n=o(2),r=o(3),i={create:function(e,t){var o=document.createElement(e);return t&&(o.className=t),o},div:function(e){return i.create("div",e)},text:function(e,t){var o=i.create("span",t);return(e||0===e)&&(o.textContent=e),o},appendChild:function(e,t){if(!e)return null;var o,n;Array.isArray(arguments[1])?(n=arguments[1],o=0):(n=arguments,o=1);for(var r=n.length;o<r;)e.appendChild(n[o]),++o;return e},buildTree:function(e,t){if(!e)return null;for(var o=arguments,n=o.length,r=1;r<n;++r){var l,s=o[r];if(s)Array.isArray(s)?l=i.buildTree.apply(null,s):1===s.nodeType&&(l=s),l&&e.appendChild(l)}return e},removeParent:function(e){if(!e)return null;var t=e.parentNode;return t&&t.removeChild(e),t},setParent:function(e,t){return e?t?(t.appendChild(e),t):i.removeParent(e):null},removeChildren:function(e,t){if(e){var o=e.childNodes.length;for((null==t||t>o)&&(t=o);--t>=0;)e.removeChild(e.lastChild)}},setContent:function(e,t){if(e)if(t||0===t){var o=t.nodeType;1===o||3===o?t!==e.lastChild&&(i.removeChildren(e),e.appendChild(t)):Array.isArray(t)?(i.removeChildren(e),i.appendChild(e,t)):e.textContent=t}else i.removeChildren(e)},toggleAttribute:function(e,t,o){o?e.setAttribute(t,"string"==typeof o?o:""):null==o?e.hasAttribute(t)?e.removeAttribute(t):e.setAttribute(t,""):e.removeAttribute(t)},toggleClass:function(e,t,o){o?e.classList.add(t):null==o?e.classList.contains(t)?e.classList.remove(t):e.classList.add(t):e.classList.remove(t)},addClasses:function(e,t){if(e)for(var o=Array.isArray(t)?t:arguments,n=o.length,r=0;r<n;++r){var i=o[r];i&&"string"==typeof i&&e.classList.add(i)}},removeClasses:function(e,t){if(e)for(var o=Array.isArray(t)?t:arguments,n=o.length,r=0;r<n;++r){var i=o[r];i&&"string"==typeof i&&e.classList.remove(i)}},preventDefault:function(e){e.preventDefault(),e.stopPropagation()},stopPropagation:function(e){e.stopPropagation()},getClientPosition:function(e,t){var o=t||{x:0,y:0};if(e.getBoundingClientRect){var n=e.getBoundingClientRect();o.x=n.left,o.y=n.top}else o.x=e.clientX,o.y=e.clientY;return o},getRelativePosition:function(e,t,o){o=i.getClientPosition(e,o);var n=i.getClientPosition(t);return o.x-=n.x,o.y-=n.y,o},closestElement:function(e,t){for(var o=e;o&&o.classList;){if(o.classList.contains(t))return o;o=o.parentNode}return null},closestTagName:function(e,t){for(var o=e;o&&o.tagName;){if(o.tagName==t)return o;o=o.parentNode}return null}},l=function(e,t){if(t.composedPath){var o=t.composedPath();return o.indexOf(e)>=0||e.contains(o[0])}return e.contains(t.target)},s=function(e,t){var o=this;o.show=o.show=o.show.bind(o),o.hide=o.hide=o.hide.bind(o),o.toggle=o.toggle=o.toggle.bind(o),o._onBlur=o._onBlur.bind(o),o._onBlurTimer=o._onBlurTimer.bind(o),o._onResize=o._onResize.bind(o),o.updatePosition=o.updatePosition.bind(o),o._onScroll=o._onScroll.bind(o),o._onMouseOver=o._onMouseOver.bind(o),o._onMouseOut=o._onMouseOut.bind(o),o._onMouseOverTimeout=o._onMouseOverTimeout.bind(o),e&&1!==e.nodeType&&(t=e,e=null),e?(o._elem=e,i.removeParent(e)):o._elem=document.createElement("div"),o._elem.style.position="fixed",o._elem.style.left="0",o._elem.style.top="0",o._elem.style.display="inline-block",o._focusElements=[o._elem],o._children=[],o._evtArg={target:o._elem,currentTarget:o._elem},o._parentElement=document.body,o.init(t)};n.Ext.inherits(s,r.EventDispatcher),s.prototype._elem=null,s.prototype._disabled=!1,s.prototype._inDoc=!1,s.prototype._autoHiding=!0,s.prototype._blurTimer=0,s.prototype._resizeTimer=0,s.prototype._attachedElem=null,s.prototype._positioning="under",s.prototype._focusElements,s.prototype._parentElement,s.prototype._children,s.prototype._evtArg,s.prototype._autoClipping=!0,s.prototype._origW=null,s.prototype._origH=null,s.prototype._hoverToShow=!1,s.prototype._hoverTimer=0,s.prototype._gap=0,s.prototype.dispose=function(){this._removeEventListeners(),this._clearMouseOverTimer();for(var e=this._children.length;--e>=0;)this._children[e].dispose();this._inDoc=!1,i.removeParent(this._elem),this._elem=null},s.prototype.getElement=function(){return this._elem},s.prototype.appendChild=function(e){e&&this._elem.appendChild(e)},s.prototype.disable=function(e){this._disabled=!1!==e},s.prototype.enable=function(e){this._disabled=!1===e},s.prototype.init=function(e){if(e){e.positioning&&(this._positioning=e.positioning),null!=e.autoHiding&&(this._autoHiding=!!e.autoHiding),null!=e.hoverToShow&&(this._hoverToShow=!!e.hoverToShow),null!=e.autoClipping&&(this._autoClipping=!!e.autoClipping),null!=e.attachedElement&&this.attachTo(e.attachedElement),null!=e.contentElement&&this.appendChild(e.contentElement),null!=e.parentElement&&this.setParentElement(e.parentElement),null!=e.popupChild&&this.addPopupChild(e.popupChild),this.addListener(e,"show"),this.addListener(e,"hide"),this.addListener(e,"shown"),this.addListener(e,"hidden");var t=e.focusElement||e.focusElements;if(t)if(Array.isArray(t))for(var o=t.length;--o>=0;)this.addFocusElement(t[o]);else this.addFocusElement(t)}},s.prototype.attachTo=function(e,t){e||(e=null),this._attachedElem!==e&&(this._hoverToShow&&this._attachedElem&&(this._attachedElem.removeEventListener("mouseover",this._onMouseOver,!1),this._attachedElem.removeEventListener("mouseout",this._onMouseOut,!1)),this.removeFocusElement(this._attachedElem),this._attachedElem=e,this.addFocusElement(this._attachedElem),this._hoverToShow&&this._attachedElem&&(this._attachedElem.addEventListener("mouseover",this._onMouseOver,!1),this._attachedElem.addEventListener("mouseout",this._onMouseOut,!1))),null!=t&&this.setPositioning(t)},s.prototype.setAttachedElement=s.prototype.attachTo,s.prototype.addFocusElement=function(e){e&&this._focusElements.indexOf(e)<0&&this._focusElements.push(e)},s.prototype.removeFocusElement=function(e){if(e){var t=this._focusElements.indexOf(e);t>=0&&this._focusElements.splice(t,1)}},s.prototype.addPopupChild=function(e){return e||((e=new s).setPositioning("right"),e.attachTo(this._elem)),this.addFocusElement(e.getElement()),this._children.push(e),e},s.prototype.setPopupGap=function(e){this._gap="number"==typeof e?e:0},s.prototype.setParentElement=function(e){return e instanceof Element?this._parentElement=e:this._parentElement||(this._parentElement=document.body),this._parentElement},s.prototype.show=function(e,t){var o=this;if(o._clearMouseOverTimer(),!o._disabled){var n=!1!==e;if(o._inDoc!==n){var r=n?"show":"hide";if(o._evtArg.type=r,o._dispatch(r,o._evtArg),o._evtArg.cancel)o._evtArg.cancel=!1;else{if(n)o._inDoc=!0,t instanceof Element||(t=o._parentElement),t.appendChild(o._elem),t.addEventListener("scroll",o._onScroll,!0),o._autoHiding&&(window.addEventListener("mousedown",o._onBlur,!0),window.addEventListener("touchstart",o._onBlur,!0)),window.addEventListener("resize",o._onResize,!1),window.addEventListener("scroll",o._onScroll,!0);else if(o._inDoc){o._removeEventListeners(),o._restoreElementSize();for(var l=o._children.length;--l>=0;)o._children[l].hide();o._inDoc=!1,i.removeParent(o._elem)}r=n?"shown":"hidden",o._evtArg.type=r,o._dispatch(r,o._evtArg),n&&o.updatePosition()}}else o.updatePosition()}},s.prototype.hide=function(e){this.show(!1===e)},s.prototype.toggle=function(e,t){null==e&&(e=!this._inDoc),e?this.show(!0,t):this.hide()},s.prototype.isShown=function(){return this._inDoc},s.prototype.isHidden=function(){return!this._inDoc},s.prototype.contains=function(e){if(e){e=Array.isArray(e)?e:[e];for(var t=this._focusElements,o=t.length;--o>=0;)if(e.indexOf(t[o])>=0||t[o].contains(e[0]))return!0}return!1},s.prototype.setPositioning=function(e){this._positioning!==e&&(this._positioning=e,this.updatePosition())},s.prototype.disableAutoHiding=function(e){var t=!1===e;this._autoHiding!==t&&(this._autoHiding=t,this._inDoc&&(t?(window.addEventListener("mousedown",this._onBlur,!0),window.addEventListener("touchstart",this._onBlur,!0)):(window.removeEventListener("mousedown",this._onBlur,!0),window.removeEventListener("touchstart",this._onBlur,!0))))},s.prototype.disableAutoClipping=function(e){var t=!1===e;this._autoClipping!==t&&(this._autoClipping=t)},s.prototype.updatePosition=function(){var e=this;if(e._resizeTimer=0,e._inDoc){if(e._attachedElem){if(!e._attachedElem.offsetWidth)return;e._autoClipping&&e._restoreElementSize();var t,o,n=i.getRelativePosition(e._attachedElem,document.body),r=n.x,l=n.y,s=window.innerWidth,u=window.innerHeight,a=null!=window.scrollX?window.scrollX:window.pageXOffset,p=null!=window.scrollY?window.scrollY:window.pageYOffset,d=s+a,c=u+p,_=e._attachedElem.offsetWidth,h=e._attachedElem.offsetHeight,f=e._elem.offsetWidth,m=e._elem.offsetHeight;"right"==e._positioning?(o=l,(t=r+_+this._gap)+f>d&&r-f>a&&(t=r-f-this._gap),o+m>c&&l+h-m>p&&(o=l+h-m)):"over"==e._positioning?((t=r)+f>d&&r+_-f>a&&(t=r+_-f),(o=l)+m>c&&l+_-m>p&&(o=l+_-m)):((t=r)+f>d&&r+_-f>a&&(t=r+_-f),(o=l+h)+m>c&&l-m>p&&(o=l-m)),e._autoClipping&&(t+f>d&&(null==e._origW&&(e._origW=e._elem.style.width),e._elem.style.width=d-t+"px"),o+m>c&&(null==e._origH&&(e._origH=e._elem.style.height),e._elem.style.height=c-o+"px")),e._elem.style.left=Math.floor(t-a)+"px",e._elem.style.top=Math.floor(o-p)+"px"}else"fixed"!=e._positioning&&"custom"!=e._positioning&&(e._elem.style.left="calc(50vw - "+Math.floor(e._elem.offsetWidth/2)+"px)",e._elem.style.top="calc(46vh - "+Math.floor(e._elem.offsetHeight/2)+"px)");e._evtArg.type="positioning",e._dispatch("positioning",e._evtArg)}},s.prototype._onBlur=function(e){if(!this._blurTimer&&this._inDoc){if(e)if(e.composedPath){if(this.contains(e.composedPath()))return}else if(this.contains(e.target))return;this._blurTimer=setTimeout(this._onBlurTimer,10)}},s.prototype._onBlurTimer=function(){this._blurTimer=0,this.contains(document.activeElement)||this.hide()},s.prototype._onResize=function(){!this._resizeTimer&&this._inDoc&&(this._resizeTimer=setTimeout(this.updatePosition,50))},s.prototype._onScroll=function(e){this.contains(e.target)||this.hide()},s.prototype._onMouseOver=function(e){this._hoverTimer||this._inDoc||(this._hoverTimer=setTimeout(this._onMouseOverTimeout,500))},s.prototype._onMouseOut=function(e){this._hoverTimer&&(e.currentTarget.contains(e.relatedTarget)||this._clearMouseOverTimer())},s.prototype._onMouseOverTimeout=function(){this._hoverTimer=0,this.show()},s.prototype._clearMouseOverTimer=function(){this._hoverTimer&&(clearTimeout(this._hoverTimer),this._hoverTimer=0)},s.prototype._restoreElementSize=function(){null!=this._origW&&(this._elem.style.width=this._origW,this._origW=null),null!=this._origH&&(this._elem.style.height=this._origH,this._origH=null)},s.prototype._removeEventListeners=function(){this._blurTimer&&(clearTimeout(this._blurTimer),this._blurTimer=0),this._resizeTimer&&(clearTimeout(this._resizeTimer),this._resizeTimer=0),window.removeEventListener("mousedown",this._onBlur,!0),window.removeEventListener("touchstart",this._onBlur,!0),window.removeEventListener("resize",this._onResize,!1),window.removeEventListener("scroll",this._onScroll,!0),this._elem.parentElement&&this._elem.parentElement.removeEventListener("scroll",this._onScroll,!0)};t.default=s}]);