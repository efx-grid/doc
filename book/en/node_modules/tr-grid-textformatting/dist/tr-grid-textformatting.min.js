!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return nestedObjectToArray})),__webpack_require__.d(__webpack_exports__,"b",(function(){return rgb2Hex}));var Util={post:function(t,e){return Util._post(t,e).then(Util.toJSON)},requestText:function(t,e){return Util._post(t,e,"text/plain").then(Util.toText)},requestByUrlEncoded:function(t,e){return Util._post(t,e,"application/x-www-form-urlencoded").then(Util.toJSON)},toJSON:function(t){return Util._logError(t)?Promise.reject(t):t.json()},toText:function(t){return Util._logError(t)?Promise.reject(t):t.text()},_logError:function(t){return!!(t&&t.status>=300)&&(console.log("Response "+t.status+": "+t.statusText),!0)},_post:function(t,e,r){var n={method:e?"POST":"GET",headers:{"Content-Type":r||"application/json"}};return e&&(n.body="string"==typeof e?e:JSON.stringify(e)),fetch(t,n)}},extendObject=function(t,e,r){if(!t)return null;if(!e||t===e)return t;var n;if(r)for(var i=r.length,o=0;o<i;++o)(n=r[o])&&extendProperty(t,e,n);else for(n in e)extendProperty(t,e,n);return t},cloneObject=function(t,e){return extendObject({},t,e)},extendProperty=function(t,e,r){var n=e[r];if(null!=n){var i=t[r];Array.isArray(i)?t[r]=i.concat(n):Array.isArray(n)&&i?t[r]=n.concat(i):t[r]=n}},extendArrayProperty=function(t,e,r){var n=null;if(r){var i=t[e];n=i?Array.isArray(i)?i:t[e]=[i]:t[e]=[],Array.isArray(r)?r.length&&(r.length>1?Array.prototype.push.apply(n,r):n.push(r[0])):n.push(r)}return n},_bracketExp=new RegExp(/\[[^\[]*\]/g),parseCondition=function(expression){if(!expression)return null;if("string"!=typeof expression)return"function"==typeof expression?expression:null;for(var brackets=expression.match(_bracketExp),map={},fields=[],len=brackets?brackets.length:0,i=len;--i>=0;){var field=brackets[i];map[field]||(map[field]="f["+fields.length+"]",fields.push(field.substring(1,field.length-1)))}expression=expression.replace(_bracketExp,(function(t){return"rowData["+map[t]+"]"}));var finalExp="(function(f, rowData) { return ("+expression+"); })",fn=null;try{fn=eval(finalExp),fn=fn.bind(null,fields)}catch(t){console.log(t.message)}return fn||null},_encloseBracket=function(t){return Array.isArray(t)?"{\n"+t.join("\n")+"\n}":t},_indentBracketContent=function(t){return t.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},prettifyCss=function(t){if(t){var e="";if(Array.isArray(t))e=t.map(_encloseBracket).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {");else e="string"==typeof t?t:t+"";if(e)return e.replace(/{[\w\W]*?}/g,_indentBracketContent)}return""},getShadowRoot=function(t){var e;if(t&&(t.shadowRoot?e=t.shadowRoot:t.getRootNode&&(e=t.getRootNode()),e&&e!==document&&e!==t))return e;return null},injectCss=function(t,e){if(!t)return null;var r=document.createElement("style");r.textContent="\n"+t+"\n";var n,i=getShadowRoot(e),o=!0;return i||(o=!1,i=document.head),o&&i.children&&i.children.length&&(n=i.children[0]),n?i.insertBefore(r,n):i.appendChild(r),r},isIE=function(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0},isMac=function(){return/Mac/.test(navigator.platform)},nestedObjectToArray=function(t,e){for(var r in e||(e=[]),t){var n=t[r];"object"==typeof n?nestedObjectToArray(n,e):e.push(n)}return e},rgb2Hex=function(t){if(!t||"string"!=typeof t)return"";if("#"===t.charAt(0))return t;var e=t.match(/\d+/g);if(!e||e.length<3)return t;for(var r="#",n=0;n<3;n++){var i=+e[n];i>=16||(r+="0"),r+=i?i.toString(16).toUpperCase():"0"}return r},prepareTSVContent=function(t){if(null==t)return"";var e="string"==typeof t?t:t.toString();return e.length?(e.indexOf("\n")>=0&&(e=e.replace(/[\r\n]/g," ")),e.indexOf("\t")>=0&&(e=e.replace(/\t/g," "))," "!==e.charAt(0)&&" "!==e.charAt(e.length-1)||(e=e.trim()),e):""}},function(t,e,r){"use strict";r.r(e);var n={inherits:function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.base=function(t,r,n){r||(r="constructor");for(var i=arguments.length,o=new Array(i),a=2;a<i;a++)o[a-2]=arguments[a];return e.prototype[r].apply(t,o)}}},i=function(){};i.prototype._events=null,i.prototype._listenerCount=0,i.prototype.addEventListener=function(t,e){if(t&&e){this._events||(this._events={});var r=this._events[t];r?r.indexOf(e)<0&&(r.push(e),++this._listenerCount):(this._events[t]=[e],++this._listenerCount)}},i.prototype.removeEventListener=function(t,e){var r=this._events?this._events[t]:null;if(r){var n=r.indexOf(e);n>=0&&(r.splice(n,1),--this._listenerCount)}},i.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},i.prototype.hasListener=function(t){if(this._listenerCount){if(t){var e=this._events?this._events[t]:null;return!!e&&e.length>0}return!0}return!1},i.prototype.getListener=function(t,e){if(t){var r=this._events?this._events[t]:null;if(r)return e||(e=0),r[e]||null}return null},i.prototype.addListener=function(t,e){var r=t?t[e]:null;"function"==typeof r&&this.addEventListener(e,r)},i.prototype._prepareEventArguments=function(t,e){return e},i.prototype._dispatch=function(t,e){var r=this._events?this._events[t]:null;if(r){e=this._prepareEventArguments(t,e);for(var n=r.length,i=0;i<n;++i)r[i](e)}};i.preventDefault=function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())};var o=function(t,e,r){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof t&&(this._resolveHandler=t),"function"==typeof e&&(this._rejectHandler=e),null!=r&&(this._ctx=r),this.promise=new Promise(function(t,e){this._resolve=t,this._reject=e}.bind(this))};o.prototype.promise=null,o.prototype._resolve=null,o.prototype._reject=null,o.prototype._resolveHandler=null,o.prototype._rejectHandler=null,o.prototype._ctx=null,o.prototype.resolve=function(t){if(this._resolve){if(this._resolveHandler){var e=this._resolveHandler(t,this._ctx||this);null!=e&&(t=e)}this._resolve(t),this._finally()}},o.prototype.reject=function(t){if(this._reject){if(this._rejectHandler){var e=this._rejectHandler(t,this._ctx||this);null!=e&&(t=e)}this._reject(t),this._finally()}},o.prototype._finally=function(){this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var a=function(){};n.inherits(a,i),a.prototype._hosts=null,a.prototype._compositeGrid=null,a.prototype._realTimeGrid=null,a.prototype._rowGetter=null,a.prototype._initializedGrid=!1,a.prototype.listen=a.prototype.addEventListener,a.prototype.afterInit=function(t,e,r){var n=null;r&&r.getCoreGrid&&(n=r.getCoreGrid()),n&&(this.getGridApi()||this.setGridWrapper("compositegrid",r),this._compositeGrid&&n.loadPlugin(this,e)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?s:l,this._afterInit())},a.prototype._afterInit=function(){},a.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},a.prototype.hasMultiTableSupport=function(){return!1},a.prototype._prepareEventArguments=function(t,e){return e||(e={}),e.api=this.getGridApi(),e},a.prototype.getName=function(){return"GridPlugin"},a.prototype.getRelativeGrid=function(t){var e=null;if(t.target){var r=(e=t.target).api;if(r&&r.getCoreGrid)return r.getCoreGrid()}else t.getElement?e=t.getElement():1===t.nodeType&&(e=t);if(e)for(var n=this._hosts.length;--n>=0;){var i=this._hosts[n];if(i.getElement().contains(e))return i}return null},a.prototype.setGridWrapper=function(t,e){t&&("compositegrid"===(t=t.toLowerCase())?this._compositeGrid=e:"realtimegrid"===t&&(this._realTimeGrid=e))},a.prototype.getGridApi=function(){return this._compositeGrid||this._realTimeGrid||null},a.prototype.getColumnName=function(t){if(this._compositeGrid){var e="string"==typeof t?t:this._compositeGrid.getColumnId(t),r=this._compositeGrid.getColumnModel(e);if(r)return r.title?r.title:r.field}else{var n=this.getColumnIndex(t),i=this._realTimeGrid.getColumnDefinition(n);if(i)return i.getName()}return""},a.prototype.getColumnIndex=function(t){if("number"==typeof t)return t;if(this._compositeGrid)return this._compositeGrid.getColumnIndex(t);for(var e=this._realTimeGrid,r=e.getColumnCount(),n=0;n<r;++n){var i=e.getColumnDefinition(n);if(i&&i.getId()===t)return n}return-1},a.prototype.getColumnId=function(t){if("string"==typeof t)return t;if(this._compositeGrid)return this._compositeGrid.getColumnId(t);var e=this._realTimeGrid.getColumnDefinition(t);return e?e.getId():""},a.prototype.getColumnCount=function(){if(this._hosts){var t=this._hosts[0];return t?t.getColumnCount():0}return 0},a.prototype._loadPlugin=function(t,e,r){return t||(t=e.getPlugin(r))||(t=e.loadPlugin(r))&&this._initializedGrid&&(t._initializedGrid=!0),t},a.prototype._requestPlugin=function(t,e,r){return this._initializedGrid?a.requestPlugin(t,e,r,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},a.requestPlugin=function(t,e,r,n,i){var l=null;if(t){var s=null;1===t.nodeType?s=t.api:t.getCoreGrid?s=t:t.getPlugin&&(l=t),s&&(l=s.getCoreGrid(),n||i||(s.getModel?n=s:i=s))}if(!l)return Promise.reject("Cannot find grid element");var u=l.getPlugin(e);if(u)return Promise.resolve(u);var p=new o;return setTimeout(a._onPluginRequested.bind(null,{grid:l,pluginRef:e,compositeGrid:n,realTimeGrid:i,config:r,deferred:p}),10),p.promise},a._onPluginRequested=function(t){var e=t.grid;if(!e.getElement())return t.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+t.pluginRef);var r=e.getPlugin(t.pluginRef);return r?t.deferred.resolve(r):(r=e.loadPlugin(t.pluginRef,t.config))?(r.setGridWrapper&&(t.compositeGrid?r.setGridWrapper("compositegrid",t.compositeGrid):t.realTimeGrid&&r.setGridWrapper("realtimegrid",t.realTimeGrid)),r.afterInit&&r.afterInit(),t.deferred.resolve(r)):t.deferred.reject("Unable to load required dependency: "+t.pluginRef)},a.prototype._getPlugin=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getPlugin(t):null},a.prototype._getColumnData=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getColumnData(t):null},a.prototype._getColumnOption=function(t,e,r){var n=this._getColumnData(t,r);return n?n[e]:null},a.prototype._newColumnData=function(t,e){if(null==e&&(e=this._hosts[0]),!e)return{};var r=e.getColumnData(t);return r||(r=e.setColumnData(t,{})),r},a.prototype._getField=function(t){var e=this._compositeGrid||this._realTimeGrid;return e?e.getColumnField(t):""},a.prototype._getRowData=function(t){return this._realTimeGrid&&t?t.ROW_DEF.getRowData():t},a.prototype._getRow=function(t,e){return u(t.getRowDataAt(e))},a.prototype._getData=function(t,e,r){var n=this._getRow(t,e);return n?n[r]:void 0},a.prototype._setData=function(t,e,r,n){if(this._realTimeGrid){var i=t.getRowDataAt(e);i&&i.ROW_DEF.setData(r,n)}else t.setDataAt(e,r,n)},a.prototype._setRowData=function(t,e,r){if(this._realTimeGrid){var n=t.getRowDataAt(e);n&&n.ROW_DEF.setRowData(r)}else t.setRowDataAt(e,r)},a.prototype._setColumnData=function(t,e,r,n){if(n=n||t.getAllRowIds()||[],this._realTimeGrid){for(var i=t.getDataSource(),o=i.freeze(),a=r.length<n.length?r.length:n.length,l=0;l<a;++l){var s=t.getRowData(n[l]);s&&s.ROW_DEF.setData(e,r[l])}i.freeze(o)}else t.setColumnData(e,r,n)};var l=function(t){return t},s=function(t){return t?t.ROW_DEF.getRowData():null},u=function(t){if(t){var e=t.ROW_DEF;return e?e.getRowData():t}return null},p=function(t){this.format=this.format=this.format.bind(this),this.init(t)};p._denominator=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],p._zeroes=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000"],p.prototype._precision=2,p.prototype._sepChar=",",p.prototype._percentChar=" %",p.prototype._precisionEnabled=!1,p.prototype._separatorEnabled=!1,p.prototype._percentSignEnabled=!1,p.prototype._percentFormatEnabled=!1,p.prototype._plusSignEnabled=!1,p.prototype._multiplyBy100Enabled=!1,p.prototype._scaler="",p.prototype.init=function(t){if(t){var e=t.formatType,r=t.precisionEnabled;this._precisionEnabled=null==r||""===r||!!r,null!=(r=t.decimalPlaces)&&""!==r&&(this._precision="number"==typeof r?r:2),null!=(r=t.plusSign)&&""!==r&&(this._plusSignEnabled=!!r),null!=(r=t.separator)&&""!==r&&(this._separatorEnabled=!!r),this.enableMillionScaling(!1),"scaled"!==e&&"scaledvalue"!==e||(null!=(r=t.scalingUnit)&&""!==r?r&&"string"==typeof r&&("b"==(r=r.charAt(0).toLowerCase())?this.enableBillionScaling():"m"==r&&this.enableMillionScaling()):this.enableMillionScaling()),"percent"===e?(r=t.percentSign,this._percentSignEnabled=null==r||""===r||!!r,(null!=(r=t.mutiplyBy100)&&""!==r||null!=(r=t.multiplyBy100)&&""!==r)&&(this._multiplyBy100Enabled=!!r)):this._percentSignEnabled=this._multiplyBy100Enabled=!1}},p.prototype.resetToDefaults=function(){this._precisionEnabled=!1,this._precision=2,this._plusSignEnabled=!1,this._separatorEnabled=!1,this._percentSignEnabled=!1,this._scaler="",this._multiplyBy100Enabled=!1},p.padDecimalPartWithZeroes=function(t,e){var r=t.lastIndexOf(".");if(r>=0){var n=t.length-r-1;n<e&&(t+=p._zeroes[e-n])}else t+="."+p._zeroes[e];return t},p.prototype.getOptions=function(t){t||(t={}),t.precisionEnabled=this._precisionEnabled,t.decimalPlaces=this._precision,t.plusSign=this._plusSignEnabled,t.separator=this._separatorEnabled,t.percentSign=this._percentSignEnabled;var e="";return"b"==this._scaler?e="billion":"m"==this._scaler&&(e="million"),t.scalingUnit=e,t.mutiplyBy100=this._multiplyBy100Enabled,t.multiplyBy100=this._multiplyBy100Enabled,t},p.prototype.format=function(t){if(!t)if(null===t)t=0;else if(0!==t)return"";var e,r;t>=0?(e=t,r=this._plusSignEnabled?"+":""):(e=-t,r="-"),this._multiplyBy100Enabled&&(e*=100);var n,i=e,o=this._percentFormatEnabled?"":this._scaler;if(o&&("b"===o&&e<1e9&&(o="m"),"m"===o?e>=1e6?e/=1e6:e>=1e3&&(e/=1e3):"b"===o&&(e/=1e9),this._precisionEnabled||(e=Math.round(100*e)/100)),this._precisionEnabled)if(this._precision>0){var a=p._denominator[this._precision];e=Math.round(e*a)/a}else e=Math.round(e);e>0?n=e>=1e-6?r+e:r+"0.000000"+(n=1e7*e/10+"").substr(2):n="0";if(this._separatorEnabled&&e>=1e3){var l=n.split(".");n=l[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),l.length>1&&(n+="."+l[1])}return(this._precisionEnabled||o)&&this._precision>0&&(n=p.padDecimalPartWithZeroes(n,this._precision)),o&&("m"===o?i>=1e6?n+="M":i>=1e3&&(n+="K"):"b"===o&&(n+="B")),(this._percentSignEnabled||this._percentFormatEnabled)&&(n+=this._percentChar),n},p.prototype.enableDefaultFormat=function(){var t=this;t._precisionEnabled=t._separatorEnabled=t._percentSignEnabled=!1,t._percentFormatEnabled=t._plusSignEnabled=t._multiplyBy100Enabled=!1,t._scaler=""},p.prototype.enablePrecision=function(t){this._precisionEnabled=!1!==t},p.prototype.enableSeparator=function(t){this._separatorEnabled=!1!==t},p.prototype.enablePercentSign=function(t){this._percentSignEnabled=!1!==t},p.prototype.enablePercentFormat=function(t){this._percentFormatEnabled=!1!==t},p.prototype.enablePlusSign=function(t){this._plusSignEnabled=!1!==t},p.prototype.enableMultiplyBy100=function(t){this._multiplyBy100Enabled=!1!==t},p.prototype.enableMillionScaling=function(t){this._scaler=!1!==t?"m":""},p.prototype.enableBillionScaling=function(t){this._scaler=!1!==t?"b":""},p.prototype.isDefaultFormatEnabled=function(){return!(this._precisionEnabled||this._separatorEnabled||this._percentSignEnabled||this._scaler||this._percentFormatEnabled)},p.prototype.isPrecisionEnabled=function(){return this._precisionEnabled},p.prototype.isSeparatorEnabled=function(){return this._separatorEnabled},p.prototype.isPercentSignEnabled=function(){return this._percentSignEnabled},p.prototype.isPercentFormatEnabled=function(){return this._percentFormatEnabled},p.prototype.isPlusSignEnabled=function(){return this._plusSignEnabled},p.prototype.isMultiplyBy100Enabled=function(){return this._multiplyBy100Enabled},p.prototype.isMillionScalingEnabled=function(){return"m"===this._scaler},p.prototype.isBillionScalingEnabled=function(){return"b"===this._scaler},p.prototype.getPrecision=function(){return this._precision},p.prototype.setPrecision=function(t){this._precision=t<p._denominator.length?t:p._denominator.length-1},p.prototype.setSeparatorCharacter=function(t){this._sepChar=t},p.prototype.setPercentSignCharacter=function(t){this._percentChar=t};var d=function(t){this.format=this.format=this.format.bind(this),d._startMidnightInterval(),this.init(t)};d.prototype._field="",d.prototype._formattedField="",d.prototype._combinedField="",d.prototype._formatType="number",d.prototype._mixedTypeInput=!1,d.prototype._dateTimeFormat="",d.prototype._idnSource="",d.prototype._timeZone="GMT",d.prototype._df=null,d.prototype._nf=null,d._lastMidnight=null,d._updateMidnight=function(){d._lastMidnight=new Date,d._lastMidnight.setUTCHours(0,0,0,0)},d._startMidnightInterval=function(){if(!d._lastMidnight){d._updateMidnight();var t=d._lastMidnight.valueOf()+86405e3-(new Date).valueOf();setTimeout(d._setMidnightInterval,t)}},d._setMidnightInterval=function(){setInterval(d._updateMidnight,864e5)},d.prototype.init=function(t){if(t){var e=t.field;e&&this.setField(e);var r=t.formatType;(e="datetime"===r?"datetime":t.fieldDataType||r)&&this.setFormatType(e);var n=t.dateTimeFormat,i=t.useUTCTime;if(null==i&&null==n||this.setDateTimeMeta(n||"MM/DD/YYYY",i,t.idnSource?"idn":""),"datetime"===this._formatType&&!this._df){var o=window.tr?window.tr.fn:null;o&&o.DateTime&&(this._df=o.DateTime.TEXT||null)}}},d.prototype.getOptions=function(t){return t||(t={}),t.field=this._field,t.formatType=this._formatType,t.dateTimeFormat=this._dateTimeFormat,t.useUTCTime="GMT"==this._timeZone,t},d.prototype.getField=function(){return this._field},d.prototype.clone=function(){var t=new d;return t._field=this._field,t._formattedField=this._formattedField,t._combinedField=this._combinedField,t._formatType=this._formatType,t._mixedTypeInput=this._mixedTypeInput,t._dateTimeFormat=this._dateTimeFormat,t._idnSource=this._idnSource,t._timeZone=this._timeZone,t._df=this._df,t._nf=this._nf,t},d.prototype.setFormatType=function(t){this._formatType=t.toLowerCase(),this._mixedTypeInput="freetext"==this._formatType||"formula"==this._formatType},d.prototype.setField=function(t,e,r){this._field=t,this._formattedField=r||t+"_FORMATTED",this._combinedField=e||""},d.prototype.setDateTimeMeta=function(t,e,r){this._dateTimeFormat=t,this._timeZone=!1!==e?"GMT":"LOCAL",this._idnSource=r&&"idn"==r.toLowerCase()?"idn":""},d.prototype.setDateFormatter=function(t){this._df=t},d.prototype.setNumberFormatter=function(t){t?"function"==typeof t?this._nf=t:"function"==typeof t.format&&(this._nf=t.format):this._nf=null},d.prototype.getProperties=function(){var t={field:this._field,formattedField:this._formattedField,combinedField:this._combinedField,type:this._formatType};return"datetime"===this._formatType&&(t.dateTimeFormat=this._dateTimeFormat,t.timeZone=this._timeZone,t.idnSource=this._idnSource),t},d.prototype.format=function(t){return!t||"object"!=typeof t||t instanceof Date?this._format(t,null):this.formatRowData(t)},d.prototype.formatRowData=function(t){return t?this._format(t[this._field],t):""},d.prototype.formatValue=function(t){return this._format(t,null)},d.prototype._format=function(t,e){if(!t&&0!==t)return null!==t?"":this._nf&&!this._mixedTypeInput?this._nf(0):"";if("datetime"==this._formatType)return this._formatDateTime(t,e);if(this._mixedTypeInput&&"number"!=typeof t)return"string"!=typeof t?t+"":t;if(this._nf){if("number"!=typeof t){var r=+t;return r==r?this._nf(r):t+""}return this._nf(t)}return this._mixedTypeInput?"formula"==this._formatType?Math.round(1e6*t)/1e6+"":t+"":this._formatNumber(t,e)},d.prototype._formatDateTime=function(t,e){if(!this._df)return"";if(this._idnSource){var r=+t;if(r!=r)return t;var n=e&&this._combinedField?+e[this._combinedField]:NaN;if(n==n)r=n;else if(r<86400)r+=d._lastMidnight.valueOf()/1e3;else{if("NEWS_TIME"!==this._field&&"LOCAL"===this._timeZone)r+=60*new Date(1e3*r).getTimezoneOffset()}t=new Date(1e3*r)}return this._df(t,this._dateTimeFormat,this._timeZone)},d.prototype._formatNumber=function(t,e){var r;if(e){if(!(r=e[this._formattedField])){if(null===r&&0===t)return"";r=t}}else r=t;if("number"==this._formatType){if("string"==typeof r&&r.indexOf(",")>=0)return r.replace(/,/g,"")}else if("percent"==this._formatType)if("string"==typeof r){if(r.lastIndexOf("%")<0&&0!=+r)return r+" %"}else if("number"==typeof r)return r==r?r+" %":"#INVALID";return r||(0===r?"0":"")};var c=function(){this._onSectionBinding=this._onSectionBinding.bind(this),this._onColumnAdded=this._onColumnAdded.bind(this),this._hosts=[]};n.inherits(c,a),c.prototype._noFormatting=!0,c.prototype._disabled=!1,c.prototype._idnSource="",c.prototype.getName=function(){return"TextFormattingPlugin"},c.prototype.hasMultiTableSupport=function(){return!0},c.prototype.initialize=function(t,e){this._hosts.indexOf(t)>=0||(this._hosts.push(t),t.listen("postSectionDataBinding",this._onSectionBinding),1===this._hosts.length&&(t.listen("columnAdded",this._onColumnAdded),this.config(e)))},c.prototype.unload=function(t){var e=this._hosts.indexOf(t);e<0||(t.unlisten("postSectionDataBinding",this._onSectionBinding),t.unlisten("columnAdded",this._onColumnAdded),this._hosts.splice(e,1))},c.prototype.config=function(t){if(t){this._idnSource=t.idnSource?"idn":"";var e=t.autoTextFormatting;null!=e&&(this._disabled=!e);var r=t.columns;if(r){for(var n=0,i=r.length,o=0;o<i;++o)n|=this._setColumnFormat(o,r[o]);if(n)for(i=this._hosts.length,o=0;o<i;++o)this._hosts[o].requestRowRefresh()}}},c.prototype.getConfigObject=function(t){var e=t||{};this._idnSource&&(e.idnSource=!0),this._disabled&&(e.autoTextFormatting=!1);var r=e.columns;r||(r=e.columns=[]);for(var n=this.getColumnCount(),i=0;i<n;++i){var o=r[i];o||(o=r[i]={}),this.getColumnFormatOptions(i,o)}return e},c.prototype.setColumnFormat=function(t,e){if(this._setColumnFormat(t,e))for(var r=this._hosts.length,n=0;n<r;++n)this._hosts[n].requestRowRefresh()},c.prototype._setColumnFormat=function(t,e){var r,n=this._newColumnData(t),i=e,o=null;if(i){r=i.field;var a=i.autoTextFormatting;null!=a&&(n.autoTextFormatting=!!a);var l=i.formatLogic;"function"==typeof l&&(n.formatLogic=l),(o=i.formatType||i.type)&&"object"==typeof o?(o.field&&(r=o.field),null!=(a=o.autoTextFormatting)&&(n.autoTextFormatting=!!a),"function"==typeof(l=o.formatLogic)&&(n.formatLogic=l)):o=i}var s=n.formatOptions;if(n.formatOptions=null,n.textFormatter=null,n.numberFormatter=null,!o)return!!s;var u=o.formatType||o.type;if(!u||"string"!=typeof u)return!!s;if("general"===(u=u.toLowerCase()))return!!s;r||(r=this._getField(t))||s&&(r=s.field),this._noFormatting=!1,o.field=r,o.formatType=u,o.formattedField||(o.formattedField=r+"_FORMATTED"),null==o.idnSource&&(o.idnSource=this._idnSource);var c=new d(o),f=null;return"number"!=u&&"scaled"!=u&&"percent"!=u||(f=new p(o),c.setNumberFormatter(f.format)),n.formatOptions=o,n.textFormatter=c,n.numberFormatter=f,!0},c.prototype.getColumnFormatOptions=function(t,e){e||(e={});var r=this._getColumnData(t);if(r){var n=r.formatOptions,i=r.textFormatter,o=r.numberFormatter;null!=r.autoTextFormatting&&(e.autoTextFormatting=r.autoTextFormatting),n&&(e.formatType=n.formatType||n.type),i&&i.getOptions(e),o&&o.getOptions(e)}return e},c.prototype._onColumnAdded=function(t){t.context&&this._setColumnFormat(t.colIndex,t.context)},c.prototype._onSectionBinding=function(t){if(!this._noFormatting&&!this._disabled)for(var e=t.section,r=t.dataRows,n=e.getColumnCount(),i=t.fromRowIndex,o=t.toRowIndex,a={},l=0;l<n;++l){var s=this._getColumnData(l);if(s)if(!1!==s.autoTextFormatting)if(s.formatOptions){var u=s.textFormatter,p=s.formatLogic;a.colIndex=l,a.format=u.format;for(var d=i;d<o;++d){var f=e.getCell(l,d,!1);if(f){var h=this._getRowData(r[d]);a.formattedText=c._getFormattedText(u,h,f),p?(a.rowIndex=d,a.cell=f,a.rowData=h,p(a)):f.setTextContent(a.formattedText)}}}}},c._getFormattedText=function(t,e,r){if(e)return t.formatRowData(e);var n=r.getContent();return n?t.formatValue(n.textContent):""},c.prototype.getFormatter=function(t){return this._getColumnOption(t,"textFormatter")||null},c.prototype.formatText=function(t,e){if(null!=e){var r=this.getFormatter(t);return r?r.formatValue(e):e+""}return""},c.prototype.openDialog=function(t){if(this._formatDialog||(this._formatDialog=document.createElement("tr-grid-format-dialog"),this._formatDialog.addEventListener("data-change",this._onFormatDialogDataChange.bind(this))),"tr-grid-format-dialog"===this._formatDialog.is){var e=this.getColumnFormatOptions(t);this._formatDialog.data={valueFormatTab:e},this._formatDialog.colIndex=t,this._formatDialog.show()}},c.prototype._onFormatDialogDataChange=function(t){var e=this._formatDialog.colIndex,r=t.detail.data.valueFormatTab;this.setColumnFormat(e,r),r.colIndex=e,this._dispatch("formatChanged",r)};var f={create:function(t,e){var r=document.createElement(t);return e&&(r.className=e),r},div:function(t){return f.create("div",t)},text:function(t,e){var r=f.create("span",e);return(t||0===t)&&(r.textContent=t),r},appendChild:function(t,e){if(!t)return null;var r,n;Array.isArray(arguments[1])?(n=arguments[1],r=0):(n=arguments,r=1);for(var i=n.length;r<i;)t.appendChild(n[r]),++r;return t},buildTree:function(t,e){if(!t)return null;for(var r=arguments,n=r.length,i=1;i<n;++i){var o,a=r[i];if(a)Array.isArray(a)?o=f.buildTree.apply(null,a):1===a.nodeType&&(o=a),o&&t.appendChild(o)}return t},removeParent:function(t){if(!t)return null;var e=t.parentNode;return e&&e.removeChild(t),e},setParent:function(t,e){return t?e?(e.appendChild(t),e):f.removeParent(t):null},removeChildren:function(t,e){if(t){var r=t.childNodes.length;for((null==e||e>r)&&(e=r);--e>=0;)t.removeChild(t.lastChild)}},setContent:function(t,e){if(t)if(e||0===e){var r=e.nodeType;1===r||3===r?e!==t.lastChild&&(f.removeChildren(t),t.appendChild(e)):Array.isArray(e)?(f.removeChildren(t),f.appendChild(t,e)):t.textContent=e}else f.removeChildren(t)},toggleAttribute:function(t,e,r){r?t.setAttribute(e,"string"==typeof r?r:""):null==r?t.hasAttribute(e)?t.removeAttribute(e):t.setAttribute(e,""):t.removeAttribute(e)},toggleClass:function(t,e,r){r?t.classList.add(e):null==r?t.classList.contains(e)?t.classList.remove(e):t.classList.add(e):t.classList.remove(e)},addClasses:function(t,e){if(t)for(var r=Array.isArray(e)?e:arguments,n=r.length,i=0;i<n;++i){var o=r[i];o&&"string"==typeof o&&t.classList.add(o)}},removeClasses:function(t,e){if(t)for(var r=Array.isArray(e)?e:arguments,n=r.length,i=0;i<n;++i){var o=r[i];o&&"string"==typeof o&&t.classList.remove(o)}},preventDefault:function(t){t.preventDefault(),t.stopPropagation()},stopPropagation:function(t){t.stopPropagation()},getClientPosition:function(t,e){var r=e||{x:0,y:0};if(t.getBoundingClientRect){var n=t.getBoundingClientRect();r.x=n.left,r.y=n.top}else r.x=t.clientX,r.y=t.clientY;return r},getRelativePosition:function(t,e,r){r=f.getClientPosition(t,r);var n=f.getClientPosition(e);return r.x-=n.x,r.y-=n.y,r},closestElement:function(t,e){for(var r=t;r&&r.classList;){if(r.classList.contains(e))return r;r=r.parentNode}return null},closestTagName:function(t,e){for(var r=t;r&&r.tagName;){if(r.tagName==e)return r;r=r.parentNode}return null}},h=r(0),_=function(t,e,r){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof t&&(this._resolveHandler=t),"function"==typeof e&&(this._rejectHandler=e),null!=r&&(this._ctx=r),this.promise=new Promise(function(t,e){this._resolve=t,this._reject=e}.bind(this))};_.prototype.promise=null,_.prototype._resolve=null,_.prototype._reject=null,_.prototype._resolveHandler=null,_.prototype._rejectHandler=null,_.prototype._ctx=null,_.prototype.resolve=function(t){if(this._resolve){if(this._resolveHandler){var e=this._resolveHandler(t,this._ctx||this);null!=e&&(t=e)}this._resolve(t),this._finally()}},_.prototype.reject=function(t){if(this._reject){if(this._rejectHandler){var e=this._rejectHandler(t,this._ctx||this);null!=e&&(t=e)}this._reject(t),this._finally()}},_.prototype._finally=function(){this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var m={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};m.themeColors=m._defaultColors,m._components={},m._themeName="",m._elfVersion=0,m._dummyIcon=null,m._iconLoaded=!1,m._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"list",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},m.getElfVersion=function(){if(!m._elfVersion){var t=0;if(window.elf)if(window.elf.version){var e=window.elf.version.match(/\d/);e&&e[0]&&(t=parseInt(e[0],10))}else window.elf.customElements?t=3:window.customElements&&(t=4);else window.Polymer&&(t=1);m._elfVersion=t}return m._elfVersion},m.hasComponent=function(t){var e=m._components[t];if(null==e){e=0;var r=m.getElfVersion();if(t)1===r?document.createElement(t).is===t&&(e=r):r>1&&(window.customElements&&window.customElements.get(t)||document.createElement(t).constructor!==HTMLElement)&&(e=r),m._components[t]=e}return e},m.hasTheme=function(t){return t===m.getThemeName()},m.getThemeName=function(t){return m._themeName||(m._themeName=m.getCssVariable("--theme-name",t)),m._themeName},m.injectIcons=function(t,e){if("object"==typeof t){var r=m.getThemeName(e);t.themeName=r;var n=m.getElfVersion();t.elfVersion=n;var i=m._icons[r];i&&(t.icons=i)}},m.getIconList=function(){var t=m._icons[m.getThemeName()];return t?Object(h.a)(t):[]},m._onIconPreloaded=function(){if(m._dummyIcon){var t=m._dummyIcon.parentNode;t&&t.removeChild(m._dummyIcon),m._dummyIcon=null}},m.prepareIconPreloading=function(){if(!m._iconLoaded){m._iconLoaded=!0;var t=m.getIconList();if(t.length){setTimeout(m._onIconPreloaded,10);var e=m._dummyIcon=document.createElement("coral-icon");return e.style.transform="scale(0)",document.body.appendChild(e),t}}return null},m.getCssVariable=function(t,e){var r="",n=e||document.body;return window&&"string"==typeof t&&1===n.nodeType&&t.match(/^--/)&&(r=(r=window.getComputedStyle(n).getPropertyValue(t)).replace(/\"/g,"")),r},m.getCssVariables=function(t,e){var r=e||document.body;if(window&&1===r.nodeType){var n=window.getComputedStyle(r);for(var i in t){var o=t[i];o&&o.match(/^--/)&&(t[i]=n.getPropertyValue(o).replace(/\"/g,""))}}return t||null},m.getThemeColors=function(){if(m.themeReady)return m.themeReady;var t=m._deferred=new _;m.themeReady=t.promise;var e=window?window.JET:null;if(e&&e.Settings)try{e.Settings.read(m._onColorProfile,{providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"})}catch(e){t.reject("Cannot read JET's settings")}else setTimeout(m._retrieveThemeColors,100);return t.promise},m._onColorProfile=function(t){t&&document.documentElement.setAttribute("movement-color-profile",t.toLowerCase()),m._retrieveThemeColors()},m._retrieveThemeColors=function(){var t=m.themeColors=m.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});t.up||(t.up=m._defaultColors.up,t.down=m._defaultColors.down,t.level=m._defaultColors.level,t.tickUp=m._defaultColors.tickUp,t.tickDown=m._defaultColors.tickDown),t.positive=t.up,t.negative=t.down,t.neutral=t.level;var e=document.createElement("table");e.style.visibility="hidden",e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.width="0";var r=e.insertRow(-1),n=r.insertCell(-1);document.body.appendChild(e);var i=window.getComputedStyle(r);t.tableBg=i.backgroundColor;var o=window.getComputedStyle(n);t.tableText=o.color,t.tableBorder=o.borderColor,t.tableText===t.tableBorder&&(n.className="tr-lg",o=window.getComputedStyle(n),t.tableBg=o.backgroundColor,t.tableText=o.color,t.tableBorder=o.borderColor,t.tableText===t.tableBorder&&(t.tableBg=m._defaultColors.baseGrid,t.tableText=m._defaultColors.baseText,t.tableBorder="")),t.tableBg=Object(h.b)(t.tableBg),t.tableText=Object(h.b)(t.tableText),t.tableBorder=Object(h.b)(t.tableBorder),document.body.removeChild(e),t.baseGrid=t.tableBg,t.baseText=t.tableText,t.trackColor=t.primary||m._defaultColors.trackColor,m._deferred.resolve(t)};var g=function(t){this._topNode=t||f.div(),this._topNode._percentBar=this,this._topNode.classList.add("tr-percent-bar"),this._bar=f.div(),this._track=f.div(),this._track.appendChild(this._bar),this._txt=f.create("span"),this.setAlignment("c")};g.prototype._topNode=null,g.prototype._track=null,g.prototype._bar=null,g.prototype._txt=null,g.prototype._textWidth="56px",g.prototype._textHidden=!1,g.prototype._alignment,g.prototype._absValue,g.prototype._maxValue=100,g.prototype._sign=1,g.prototype._dirtySign=!0,g.prototype._invalid=!1,g.prototype._movementColorUsed=!0,g.prototype._tooltipEnabled=!0,g.prototype.getElement=function(){return this._topNode},g.prototype.getValue=function(){return this._absValue*this._sign},g.prototype.getPercent=function(){return this._absValue/this._maxValue*this._sign},g.prototype.setValue=function(t,e,r){var n=this;if(!t&&0!==t)return n._absValue=NaN,void(n._invalid||(n._invalid=!0,n._topNode.style.display="none"));n._invalid&&(n._invalid=!1,n._topNode.style.display=""),t>=0?(n._absValue=t,n._dirtySign|=1!==n._sign,n._sign=1):(n._absValue=-t,n._dirtySign|=-1!==n._sign,n._sign=-1),null!=e&&(n._maxValue=e>=0?e:-e),n._absValue>n._maxValue&&(n._absValue=n._maxValue),n._update(!0,r)},g.prototype.setMax=function(t){this._maxValue=t>=0?t:-t,this._absValue>this._maxValue&&(this._absValue=this._maxValue),this._update()},g.prototype.setText=function(t){this._invalid||this._txt._prevText!==t&&(this._txt._prevText=t,this._txt.textContent=t,this._tooltipEnabled&&(t?this._topNode.setAttribute("title",t):this._topNode.removeAttribute("title")))},g.prototype.hideText=function(t){this._textHidden=!1!==t,this._textHidden?f.removeParent(this._txt):this._reorderElements(),this.setAlignment(this._alignment)},g.prototype.isTextHidden=function(){return this._textHidden||"0px"===this._textWidth},g.prototype.setTextWidth=function(t){"number"==typeof t?(t<=8&&(console.log("Please use hideText() method instead of small textWidth"),t=0),t+="px"):t||(t="56px");var e=t;this._textWidth!==e&&(this._textWidth=e,this.setAlignment(this._alignment))},g.prototype.setMaxTextLength=g.prototype.setTextWidth,g.prototype.getTextScrollWidth=function(){return this._txt.scrollWidth>this._txt.offsetWidth?this._txt.scrollWidth:NaN},g.prototype.getAlignment=function(){switch(this._alignment){case"l":return"left";case"r":return"right"}return"center"},g.prototype.setAlignment=function(t){"c"===(t=t?t.charAt(0).toLowerCase():"c")?(this._track.style.width="50%",this._txt.style.width="50%",this._txt.style.textOverflow="elipsis",this._dirtySign=!0):(this.isTextHidden()?this._track.style.width="100%":this._track.style.width="calc(100% - "+this._textWidth+")",this._txt.style.width=this._textWidth,this._txt.style.textAlign="right",this._track.style.left="",this._txt.style.transform="",this._bar.style.right="r"===t?"0":""),this._alignment!==t&&(this._alignment=t,this.isTextHidden()||this._reorderElements()),this._update(!1)},g.prototype._reorderElements=function(){"l"!==this._alignment?(this._topNode.appendChild(this._track),this._topNode.appendChild(this._txt)):(this._topNode.appendChild(this._txt),this._topNode.appendChild(this._track))},g.prototype.useMovementColor=function(t){this._movementColorUsed=!1!==t,this.updateBarColor()},g.prototype.setTrackColor=function(t){this._track.style.backgroundColor=t||""},g.prototype.enableTooltip=function(t){this._tooltipEnabled=!1!==t,this._tooltipEnabled||this._topNode.removeAttribute("title")},g.prototype._update=function(t,e){var r=this;if(r._dirtySign&&(r._dirtySign=!1,"c"===r._alignment&&(r._sign>=0?(r._track.style.left="50%",r._bar.style.right="",r._txt.style.transform="translateX(-100%)",r._txt.style.textAlign="right"):(r._track.style.left="",r._bar.style.right="0",r._txt.style.transform="",r._txt.style.textAlign="left")),r._movementColorUsed&&r.updateBarColor()),!1!==t){var n=100!==r._maxValue?r._absValue/r._maxValue*100:r._absValue;r._bar.style.width=n+"%",null!=e?r.setText(e):r.setText((n*r._sign*100|0)/100+"%")}},g.prototype.updateBarColor=function(){var t=m.themeColors.trackColor;this._movementColorUsed&&(t=this._sign>=0?m.themeColors.up:m.themeColors.down),this._bar.style.backgroundColor=t},function(t,e){if(t&&e&&e.prototype.getName){var r=e.prototype.getName().replace(/Plugin$/,"");if(r){var n=t.tr;n||(n=t.tr={});var i=n.grid;i||(i=n.grid={}),i[r+"Plugin"]=e,n[r+"Extension"]=e}}}(window,c),window&&window.tr&&(window.tr.grid&&(window.tr.grid.NumberFormatter=p),window.tr.PercentBar=g)}]);