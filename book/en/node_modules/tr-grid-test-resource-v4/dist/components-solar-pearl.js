/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 57);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, "n", function() { return /* reexport */ property; });
__webpack_require__.d(__webpack_exports__, "o", function() { return /* reexport */ query; });
__webpack_require__.d(__webpack_exports__, "j", function() { return /* reexport */ eventOptions; });
__webpack_require__.d(__webpack_exports__, "k", function() { return /* reexport */ lit_html["g" /* html */]; });
__webpack_require__.d(__webpack_exports__, "q", function() { return /* reexport */ lit_html["k" /* svg */]; });
__webpack_require__.d(__webpack_exports__, "h", function() { return /* reexport */ css_tag_css; });
__webpack_require__.d(__webpack_exports__, "l", function() { return /* reexport */ ifDefined; });
__webpack_require__.d(__webpack_exports__, "p", function() { return /* reexport */ style_map["a" /* styleMap */]; });
__webpack_require__.d(__webpack_exports__, "r", function() { return /* reexport */ unsafeHTML; });
__webpack_require__.d(__webpack_exports__, "a", function() { return /* reexport */ BasicElement_BasicElement; });
__webpack_require__.d(__webpack_exports__, "b", function() { return /* reexport */ ControlElement_ControlElement; });
__webpack_require__.d(__webpack_exports__, "f", function() { return /* reexport */ ResponsiveElement_ResponsiveElement; });
__webpack_require__.d(__webpack_exports__, "g", function() { return /* reexport */ WarningNotice_WarningNotice; });
__webpack_require__.d(__webpack_exports__, "c", function() { return /* reexport */ DeprecationNotice_DeprecationNotice; });
__webpack_require__.d(__webpack_exports__, "i", function() { return /* reexport */ CustomElement; });
__webpack_require__.d(__webpack_exports__, "d", function() { return /* reexport */ focusableHelper_FocusableHelper; });
__webpack_require__.d(__webpack_exports__, "m", function() { return /* reexport */ matches; });
__webpack_require__.d(__webpack_exports__, "e", function() { return /* reexport */ FocusedPropertyKey; });

// UNUSED EXPORTS: defaultConverter, notEqual, UpdatingElement, ReactiveElement, internalProperty, state, queryAsync, queryAll, queryAssignedNodes, TemplateResult, SVGTemplateResult, supportsAdoptingStyleSheets, CSSResult, unsafeCSS, cache, classMap, guard, repeat, until, LitElement, TapEvent

// EXTERNAL MODULE: ./node_modules/lit-html/lib/dom.js
var dom = __webpack_require__(13);

// EXTERNAL MODULE: ./node_modules/lit-html/lib/template.js
var lib_template = __webpack_require__(4);

// CONCATENATED MODULE: ./node_modules/lit-html/lib/modify-template.js
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */

const walkerNodeFilter = 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */;
/**
 * Removes the list of nodes from a Template safely. In addition to removing
 * nodes from the Template, the Template part indices are updated to match
 * the mutated Template DOM.
 *
 * As the template is walked the removal state is tracked and
 * part indices are adjusted as needed.
 *
 * div
 *   div#1 (remove) <-- start removing (removing node is div#1)
 *     div
 *       div#2 (remove)  <-- continue removing (removing node is still div#1)
 *         div
 * div <-- stop removing since previous sibling is the removing node (div#1,
 * removed 4 nodes)
 */
function removeNodesFromTemplate(template, nodesToRemove) {
    const { element: { content }, parts } = template;
    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);
    let partIndex = nextActiveIndexInTemplateParts(parts);
    let part = parts[partIndex];
    let nodeIndex = -1;
    let removeCount = 0;
    const nodesToRemoveInTemplate = [];
    let currentRemovingNode = null;
    while (walker.nextNode()) {
        nodeIndex++;
        const node = walker.currentNode;
        // End removal if stepped past the removing node
        if (node.previousSibling === currentRemovingNode) {
            currentRemovingNode = null;
        }
        // A node to remove was found in the template
        if (nodesToRemove.has(node)) {
            nodesToRemoveInTemplate.push(node);
            // Track node we're removing
            if (currentRemovingNode === null) {
                currentRemovingNode = node;
            }
        }
        // When removing, increment count by which to adjust subsequent part indices
        if (currentRemovingNode !== null) {
            removeCount++;
        }
        while (part !== undefined && part.index === nodeIndex) {
            // If part is in a removed node deactivate it by setting index to -1 or
            // adjust the index as needed.
            part.index = currentRemovingNode !== null ? -1 : part.index - removeCount;
            // go to the next active part.
            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);
            part = parts[partIndex];
        }
    }
    nodesToRemoveInTemplate.forEach((n) => n.parentNode.removeChild(n));
}
const countNodes = (node) => {
    let count = (node.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */) ? 0 : 1;
    const walker = document.createTreeWalker(node, walkerNodeFilter, null, false);
    while (walker.nextNode()) {
        count++;
    }
    return count;
};
const nextActiveIndexInTemplateParts = (parts, startIndex = -1) => {
    for (let i = startIndex + 1; i < parts.length; i++) {
        const part = parts[i];
        if (Object(lib_template["d" /* isTemplatePartActive */])(part)) {
            return i;
        }
    }
    return -1;
};
/**
 * Inserts the given node into the Template, optionally before the given
 * refNode. In addition to inserting the node into the Template, the Template
 * part indices are updated to match the mutated Template DOM.
 */
function insertNodeIntoTemplate(template, node, refNode = null) {
    const { element: { content }, parts } = template;
    // If there's no refNode, then put node at end of template.
    // No part indices need to be shifted in this case.
    if (refNode === null || refNode === undefined) {
        content.appendChild(node);
        return;
    }
    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);
    let partIndex = nextActiveIndexInTemplateParts(parts);
    let insertCount = 0;
    let walkerIndex = -1;
    while (walker.nextNode()) {
        walkerIndex++;
        const walkerNode = walker.currentNode;
        if (walkerNode === refNode) {
            insertCount = countNodes(node);
            refNode.parentNode.insertBefore(node, refNode);
        }
        while (partIndex !== -1 && parts[partIndex].index === walkerIndex) {
            // If we've inserted the node, simply adjust all subsequent parts
            if (insertCount > 0) {
                while (partIndex !== -1) {
                    parts[partIndex].index += insertCount;
                    partIndex = nextActiveIndexInTemplateParts(parts, partIndex);
                }
                return;
            }
            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);
        }
    }
}
//# sourceMappingURL=modify-template.js.map
// EXTERNAL MODULE: ./node_modules/lit-html/lib/render.js
var render = __webpack_require__(21);

// EXTERNAL MODULE: ./node_modules/lit-html/lib/template-factory.js
var template_factory = __webpack_require__(20);

// EXTERNAL MODULE: ./node_modules/lit-html/lib/template-instance.js
var template_instance = __webpack_require__(19);

// EXTERNAL MODULE: ./node_modules/lit-html/lit-html.js + 1 modules
var lit_html = __webpack_require__(3);

// CONCATENATED MODULE: ./node_modules/lit-html/lib/shady-render.js
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * Module to add shady DOM/shady CSS polyfill support to lit-html template
 * rendering. See the [[render]] method for details.
 *
 * @packageDocumentation
 */
/**
 * Do not remove this comment; it keeps typedoc from misplacing the module
 * docs.
 */







// Get a key to lookup in `templateCaches`.
const getTemplateCacheKey = (type, scopeName) => `${type}--${scopeName}`;
let compatibleShadyCSSVersion = true;
if (typeof window.ShadyCSS === 'undefined') {
    compatibleShadyCSSVersion = false;
}
else if (typeof window.ShadyCSS.prepareTemplateDom === 'undefined') {
    console.warn(`Incompatible ShadyCSS version detected. ` +
        `Please update to at least @webcomponents/webcomponentsjs@2.0.2 and ` +
        `@webcomponents/shadycss@1.3.1.`);
    compatibleShadyCSSVersion = false;
}
/**
 * Template factory which scopes template DOM using ShadyCSS.
 * @param scopeName {string}
 */
const shadyTemplateFactory = (scopeName) => (result) => {
    const cacheKey = getTemplateCacheKey(result.type, scopeName);
    let templateCache = template_factory["a" /* templateCaches */].get(cacheKey);
    if (templateCache === undefined) {
        templateCache = {
            stringsArray: new WeakMap(),
            keyString: new Map()
        };
        template_factory["a" /* templateCaches */].set(cacheKey, templateCache);
    }
    let template = templateCache.stringsArray.get(result.strings);
    if (template !== undefined) {
        return template;
    }
    const key = result.strings.join(lib_template["f" /* marker */]);
    template = templateCache.keyString.get(key);
    if (template === undefined) {
        const element = result.getTemplateElement();
        if (compatibleShadyCSSVersion) {
            window.ShadyCSS.prepareTemplateDom(element, scopeName);
        }
        template = new lib_template["a" /* Template */](result, element);
        templateCache.keyString.set(key, template);
    }
    templateCache.stringsArray.set(result.strings, template);
    return template;
};
const TEMPLATE_TYPES = ['html', 'svg'];
/**
 * Removes all style elements from Templates for the given scopeName.
 */
const removeStylesFromLitTemplates = (scopeName) => {
    TEMPLATE_TYPES.forEach((type) => {
        const templates = template_factory["a" /* templateCaches */].get(getTemplateCacheKey(type, scopeName));
        if (templates !== undefined) {
            templates.keyString.forEach((template) => {
                const { element: { content } } = template;
                // IE 11 doesn't support the iterable param Set constructor
                const styles = new Set();
                Array.from(content.querySelectorAll('style')).forEach((s) => {
                    styles.add(s);
                });
                removeNodesFromTemplate(template, styles);
            });
        }
    });
};
const shadyRenderSet = new Set();
/**
 * For the given scope name, ensures that ShadyCSS style scoping is performed.
 * This is done just once per scope name so the fragment and template cannot
 * be modified.
 * (1) extracts styles from the rendered fragment and hands them to ShadyCSS
 * to be scoped and appended to the document
 * (2) removes style elements from all lit-html Templates for this scope name.
 *
 * Note, <style> elements can only be placed into templates for the
 * initial rendering of the scope. If <style> elements are included in templates
 * dynamically rendered to the scope (after the first scope render), they will
 * not be scoped and the <style> will be left in the template and rendered
 * output.
 */
const prepareTemplateStyles = (scopeName, renderedDOM, template) => {
    shadyRenderSet.add(scopeName);
    // If `renderedDOM` is stamped from a Template, then we need to edit that
    // Template's underlying template element. Otherwise, we create one here
    // to give to ShadyCSS, which still requires one while scoping.
    const templateElement = !!template ? template.element : document.createElement('template');
    // Move styles out of rendered DOM and store.
    const styles = renderedDOM.querySelectorAll('style');
    const { length } = styles;
    // If there are no styles, skip unnecessary work
    if (length === 0) {
        // Ensure prepareTemplateStyles is called to support adding
        // styles via `prepareAdoptedCssText` since that requires that
        // `prepareTemplateStyles` is called.
        //
        // ShadyCSS will only update styles containing @apply in the template
        // given to `prepareTemplateStyles`. If no lit Template was given,
        // ShadyCSS will not be able to update uses of @apply in any relevant
        // template. However, this is not a problem because we only create the
        // template for the purpose of supporting `prepareAdoptedCssText`,
        // which doesn't support @apply at all.
        window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);
        return;
    }
    const condensedStyle = document.createElement('style');
    // Collect styles into a single style. This helps us make sure ShadyCSS
    // manipulations will not prevent us from being able to fix up template
    // part indices.
    // NOTE: collecting styles is inefficient for browsers but ShadyCSS
    // currently does this anyway. When it does not, this should be changed.
    for (let i = 0; i < length; i++) {
        const style = styles[i];
        style.parentNode.removeChild(style);
        condensedStyle.textContent += style.textContent;
    }
    // Remove styles from nested templates in this scope.
    removeStylesFromLitTemplates(scopeName);
    // And then put the condensed style into the "root" template passed in as
    // `template`.
    const content = templateElement.content;
    if (!!template) {
        insertNodeIntoTemplate(template, condensedStyle, content.firstChild);
    }
    else {
        content.insertBefore(condensedStyle, content.firstChild);
    }
    // Note, it's important that ShadyCSS gets the template that `lit-html`
    // will actually render so that it can update the style inside when
    // needed (e.g. @apply native Shadow DOM case).
    window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);
    const style = content.querySelector('style');
    if (window.ShadyCSS.nativeShadow && style !== null) {
        // When in native Shadow DOM, ensure the style created by ShadyCSS is
        // included in initially rendered output (`renderedDOM`).
        renderedDOM.insertBefore(style.cloneNode(true), renderedDOM.firstChild);
    }
    else if (!!template) {
        // When no style is left in the template, parts will be broken as a
        // result. To fix this, we put back the style node ShadyCSS removed
        // and then tell lit to remove that node from the template.
        // There can be no style in the template in 2 cases (1) when Shady DOM
        // is in use, ShadyCSS removes all styles, (2) when native Shadow DOM
        // is in use ShadyCSS removes the style if it contains no content.
        // NOTE, ShadyCSS creates its own style so we can safely add/remove
        // `condensedStyle` here.
        content.insertBefore(condensedStyle, content.firstChild);
        const removes = new Set();
        removes.add(condensedStyle);
        removeNodesFromTemplate(template, removes);
    }
};
/**
 * Extension to the standard `render` method which supports rendering
 * to ShadowRoots when the ShadyDOM (https://github.com/webcomponents/shadydom)
 * and ShadyCSS (https://github.com/webcomponents/shadycss) polyfills are used
 * or when the webcomponentsjs
 * (https://github.com/webcomponents/webcomponentsjs) polyfill is used.
 *
 * Adds a `scopeName` option which is used to scope element DOM and stylesheets
 * when native ShadowDOM is unavailable. The `scopeName` will be added to
 * the class attribute of all rendered DOM. In addition, any style elements will
 * be automatically re-written with this `scopeName` selector and moved out
 * of the rendered DOM and into the document `<head>`.
 *
 * It is common to use this render method in conjunction with a custom element
 * which renders a shadowRoot. When this is done, typically the element's
 * `localName` should be used as the `scopeName`.
 *
 * In addition to DOM scoping, ShadyCSS also supports a basic shim for css
 * custom properties (needed only on older browsers like IE11) and a shim for
 * a deprecated feature called `@apply` that supports applying a set of css
 * custom properties to a given location.
 *
 * Usage considerations:
 *
 * * Part values in `<style>` elements are only applied the first time a given
 * `scopeName` renders. Subsequent changes to parts in style elements will have
 * no effect. Because of this, parts in style elements should only be used for
 * values that will never change, for example parts that set scope-wide theme
 * values or parts which render shared style elements.
 *
 * * Note, due to a limitation of the ShadyDOM polyfill, rendering in a
 * custom element's `constructor` is not supported. Instead rendering should
 * either done asynchronously, for example at microtask timing (for example
 * `Promise.resolve()`), or be deferred until the first time the element's
 * `connectedCallback` runs.
 *
 * Usage considerations when using shimmed custom properties or `@apply`:
 *
 * * Whenever any dynamic changes are made which affect
 * css custom properties, `ShadyCSS.styleElement(element)` must be called
 * to update the element. There are two cases when this is needed:
 * (1) the element is connected to a new parent, (2) a class is added to the
 * element that causes it to match different custom properties.
 * To address the first case when rendering a custom element, `styleElement`
 * should be called in the element's `connectedCallback`.
 *
 * * Shimmed custom properties may only be defined either for an entire
 * shadowRoot (for example, in a `:host` rule) or via a rule that directly
 * matches an element with a shadowRoot. In other words, instead of flowing from
 * parent to child as do native css custom properties, shimmed custom properties
 * flow only from shadowRoots to nested shadowRoots.
 *
 * * When using `@apply` mixing css shorthand property names with
 * non-shorthand names (for example `border` and `border-width`) is not
 * supported.
 */
const shady_render_render = (result, container, options) => {
    if (!options || typeof options !== 'object' || !options.scopeName) {
        throw new Error('The `scopeName` option is required.');
    }
    const scopeName = options.scopeName;
    const hasRendered = render["a" /* parts */].has(container);
    const needsScoping = compatibleShadyCSSVersion &&
        container.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */ &&
        !!container.host;
    // Handle first render to a scope specially...
    const firstScopeRender = needsScoping && !shadyRenderSet.has(scopeName);
    // On first scope render, render into a fragment; this cannot be a single
    // fragment that is reused since nested renders can occur synchronously.
    const renderContainer = firstScopeRender ? document.createDocumentFragment() : container;
    Object(render["b" /* render */])(result, renderContainer, Object.assign({ templateFactory: shadyTemplateFactory(scopeName) }, options));
    // When performing first scope render,
    // (1) We've rendered into a fragment so that there's a chance to
    // `prepareTemplateStyles` before sub-elements hit the DOM
    // (which might cause them to render based on a common pattern of
    // rendering in a custom element's `connectedCallback`);
    // (2) Scope the template with ShadyCSS one time only for this scope.
    // (3) Render the fragment into the container and make sure the
    // container knows its `part` is the one we just rendered. This ensures
    // DOM will be re-used on subsequent renders.
    if (firstScopeRender) {
        const part = render["a" /* parts */].get(renderContainer);
        render["a" /* parts */].delete(renderContainer);
        // ShadyCSS might have style sheets (e.g. from `prepareAdoptedCssText`)
        // that should apply to `renderContainer` even if the rendered value is
        // not a TemplateInstance. However, it will only insert scoped styles
        // into the document if `prepareTemplateStyles` has already been called
        // for the given scope name.
        const template = part.value instanceof template_instance["a" /* TemplateInstance */] ?
            part.value.template :
            undefined;
        prepareTemplateStyles(scopeName, renderContainer, template);
        Object(dom["b" /* removeNodes */])(container, container.firstChild);
        container.appendChild(renderContainer);
        render["a" /* parts */].set(container, part);
    }
    // After elements have hit the DOM, update styling if this is the
    // initial render to this container.
    // This is needed whenever dynamic changes are made so it would be
    // safest to do every render; however, this would regress performance
    // so we leave it up to the user to call `ShadyCSS.styleElement`
    // for dynamic changes.
    if (!hasRendered && needsScoping) {
        window.ShadyCSS.styleElement(container.host);
    }
};
//# sourceMappingURL=shady-render.js.map
// CONCATENATED MODULE: ./node_modules/lit-element/lib/updating-element.js
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
var updating_element_a;
/**
 * Use this module if you want to create your own base class extending
 * [[UpdatingElement]].
 * @packageDocumentation
 */
/*
 * When using Closure Compiler, JSCompiler_renameProperty(property, object) is
 * replaced at compile time by the munged name for object[property]. We cannot
 * alias this function, so we have to use a small shim that has the same
 * behavior when not compiling.
 */
window.JSCompiler_renameProperty =
    (prop, _obj) => prop;
const defaultConverter = {
    toAttribute(value, type) {
        switch (type) {
            case Boolean:
                return value ? '' : null;
            case Object:
            case Array:
                // if the value is `null` or `undefined` pass this through
                // to allow removing/no change behavior.
                return value == null ? value : JSON.stringify(value);
        }
        return value;
    },
    fromAttribute(value, type) {
        switch (type) {
            case Boolean:
                return value !== null;
            case Number:
                return value === null ? null : Number(value);
            case Object:
            case Array:
                // Type assert to adhere to Bazel's "must type assert JSON parse" rule.
                return JSON.parse(value);
        }
        return value;
    }
};
/**
 * Change function that returns true if `value` is different from `oldValue`.
 * This method is used as the default for a property's `hasChanged` function.
 */
const notEqual = (value, old) => {
    // This ensures (old==NaN, value==NaN) always returns false
    return old !== value && (old === old || value === value);
};
const defaultPropertyDeclaration = {
    attribute: true,
    type: String,
    converter: defaultConverter,
    reflect: false,
    hasChanged: notEqual
};
const STATE_HAS_UPDATED = 1;
const STATE_UPDATE_REQUESTED = 1 << 2;
const STATE_IS_REFLECTING_TO_ATTRIBUTE = 1 << 3;
const STATE_IS_REFLECTING_TO_PROPERTY = 1 << 4;
/**
 * The Closure JS Compiler doesn't currently have good support for static
 * property semantics where "this" is dynamic (e.g.
 * https://github.com/google/closure-compiler/issues/3177 and others) so we use
 * this hack to bypass any rewriting by the compiler.
 */
const finalized = 'finalized';
/**
 * Base element class which manages element properties and attributes. When
 * properties change, the `update` method is asynchronously called. This method
 * should be supplied by subclassers to render updates as desired.
 * @noInheritDoc
 */
class UpdatingElement extends HTMLElement {
    constructor() {
        super();
        this.initialize();
    }
    /**
     * Returns a list of attributes corresponding to the registered properties.
     * @nocollapse
     */
    static get observedAttributes() {
        // note: piggy backing on this to ensure we're finalized.
        this.finalize();
        const attributes = [];
        // Use forEach so this works even if for/of loops are compiled to for loops
        // expecting arrays
        this._classProperties.forEach((v, p) => {
            const attr = this._attributeNameForProperty(p, v);
            if (attr !== undefined) {
                this._attributeToPropertyMap.set(attr, p);
                attributes.push(attr);
            }
        });
        return attributes;
    }
    /**
     * Ensures the private `_classProperties` property metadata is created.
     * In addition to `finalize` this is also called in `createProperty` to
     * ensure the `@property` decorator can add property metadata.
     */
    /** @nocollapse */
    static _ensureClassProperties() {
        // ensure private storage for property declarations.
        if (!this.hasOwnProperty(JSCompiler_renameProperty('_classProperties', this))) {
            this._classProperties = new Map();
            // NOTE: Workaround IE11 not supporting Map constructor argument.
            const superProperties = Object.getPrototypeOf(this)._classProperties;
            if (superProperties !== undefined) {
                superProperties.forEach((v, k) => this._classProperties.set(k, v));
            }
        }
    }
    /**
     * Creates a property accessor on the element prototype if one does not exist
     * and stores a PropertyDeclaration for the property with the given options.
     * The property setter calls the property's `hasChanged` property option
     * or uses a strict identity check to determine whether or not to request
     * an update.
     *
     * This method may be overridden to customize properties; however,
     * when doing so, it's important to call `super.createProperty` to ensure
     * the property is setup correctly. This method calls
     * `getPropertyDescriptor` internally to get a descriptor to install.
     * To customize what properties do when they are get or set, override
     * `getPropertyDescriptor`. To customize the options for a property,
     * implement `createProperty` like this:
     *
     * static createProperty(name, options) {
     *   options = Object.assign(options, {myOption: true});
     *   super.createProperty(name, options);
     * }
     *
     * @nocollapse
     */
    static createProperty(name, options = defaultPropertyDeclaration) {
        // Note, since this can be called by the `@property` decorator which
        // is called before `finalize`, we ensure storage exists for property
        // metadata.
        this._ensureClassProperties();
        this._classProperties.set(name, options);
        // Do not generate an accessor if the prototype already has one, since
        // it would be lost otherwise and that would never be the user's intention;
        // Instead, we expect users to call `requestUpdate` themselves from
        // user-defined accessors. Note that if the super has an accessor we will
        // still overwrite it
        if (options.noAccessor || this.prototype.hasOwnProperty(name)) {
            return;
        }
        const key = typeof name === 'symbol' ? Symbol() : `__${name}`;
        const descriptor = this.getPropertyDescriptor(name, key, options);
        if (descriptor !== undefined) {
            Object.defineProperty(this.prototype, name, descriptor);
        }
    }
    /**
     * Returns a property descriptor to be defined on the given named property.
     * If no descriptor is returned, the property will not become an accessor.
     * For example,
     *
     *   class MyElement extends LitElement {
     *     static getPropertyDescriptor(name, key, options) {
     *       const defaultDescriptor =
     *           super.getPropertyDescriptor(name, key, options);
     *       const setter = defaultDescriptor.set;
     *       return {
     *         get: defaultDescriptor.get,
     *         set(value) {
     *           setter.call(this, value);
     *           // custom action.
     *         },
     *         configurable: true,
     *         enumerable: true
     *       }
     *     }
     *   }
     *
     * @nocollapse
     */
    static getPropertyDescriptor(name, key, options) {
        return {
            // tslint:disable-next-line:no-any no symbol in index
            get() {
                return this[key];
            },
            set(value) {
                const oldValue = this[name];
                this[key] = value;
                this
                    .requestUpdateInternal(name, oldValue, options);
            },
            configurable: true,
            enumerable: true
        };
    }
    /**
     * Returns the property options associated with the given property.
     * These options are defined with a PropertyDeclaration via the `properties`
     * object or the `@property` decorator and are registered in
     * `createProperty(...)`.
     *
     * Note, this method should be considered "final" and not overridden. To
     * customize the options for a given property, override `createProperty`.
     *
     * @nocollapse
     * @final
     */
    static getPropertyOptions(name) {
        return this._classProperties && this._classProperties.get(name) ||
            defaultPropertyDeclaration;
    }
    /**
     * Creates property accessors for registered properties and ensures
     * any superclasses are also finalized.
     * @nocollapse
     */
    static finalize() {
        // finalize any superclasses
        const superCtor = Object.getPrototypeOf(this);
        if (!superCtor.hasOwnProperty(finalized)) {
            superCtor.finalize();
        }
        this[finalized] = true;
        this._ensureClassProperties();
        // initialize Map populated in observedAttributes
        this._attributeToPropertyMap = new Map();
        // make any properties
        // Note, only process "own" properties since this element will inherit
        // any properties defined on the superClass, and finalization ensures
        // the entire prototype chain is finalized.
        if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {
            const props = this.properties;
            // support symbols in properties (IE11 does not support this)
            const propKeys = [
                ...Object.getOwnPropertyNames(props),
                ...(typeof Object.getOwnPropertySymbols === 'function') ?
                    Object.getOwnPropertySymbols(props) :
                    []
            ];
            // This for/of is ok because propKeys is an array
            for (const p of propKeys) {
                // note, use of `any` is due to TypeSript lack of support for symbol in
                // index types
                // tslint:disable-next-line:no-any no symbol in index
                this.createProperty(p, props[p]);
            }
        }
    }
    /**
     * Returns the property name for the given attribute `name`.
     * @nocollapse
     */
    static _attributeNameForProperty(name, options) {
        const attribute = options.attribute;
        return attribute === false ?
            undefined :
            (typeof attribute === 'string' ?
                attribute :
                (typeof name === 'string' ? name.toLowerCase() : undefined));
    }
    /**
     * Returns true if a property should request an update.
     * Called when a property value is set and uses the `hasChanged`
     * option for the property if present or a strict identity check.
     * @nocollapse
     */
    static _valueHasChanged(value, old, hasChanged = notEqual) {
        return hasChanged(value, old);
    }
    /**
     * Returns the property value for the given attribute value.
     * Called via the `attributeChangedCallback` and uses the property's
     * `converter` or `converter.fromAttribute` property option.
     * @nocollapse
     */
    static _propertyValueFromAttribute(value, options) {
        const type = options.type;
        const converter = options.converter || defaultConverter;
        const fromAttribute = (typeof converter === 'function' ? converter : converter.fromAttribute);
        return fromAttribute ? fromAttribute(value, type) : value;
    }
    /**
     * Returns the attribute value for the given property value. If this
     * returns undefined, the property will *not* be reflected to an attribute.
     * If this returns null, the attribute will be removed, otherwise the
     * attribute will be set to the value.
     * This uses the property's `reflect` and `type.toAttribute` property options.
     * @nocollapse
     */
    static _propertyValueToAttribute(value, options) {
        if (options.reflect === undefined) {
            return;
        }
        const type = options.type;
        const converter = options.converter;
        const toAttribute = converter && converter.toAttribute ||
            defaultConverter.toAttribute;
        return toAttribute(value, type);
    }
    /**
     * Performs element initialization. By default captures any pre-set values for
     * registered properties.
     */
    initialize() {
        this._updateState = 0;
        this._updatePromise =
            new Promise((res) => this._enableUpdatingResolver = res);
        this._changedProperties = new Map();
        this._saveInstanceProperties();
        // ensures first update will be caught by an early access of
        // `updateComplete`
        this.requestUpdateInternal();
    }
    /**
     * Fixes any properties set on the instance before upgrade time.
     * Otherwise these would shadow the accessor and break these properties.
     * The properties are stored in a Map which is played back after the
     * constructor runs. Note, on very old versions of Safari (<=9) or Chrome
     * (<=41), properties created for native platform properties like (`id` or
     * `name`) may not have default values set in the element constructor. On
     * these browsers native properties appear on instances and therefore their
     * default value will overwrite any element default (e.g. if the element sets
     * this.id = 'id' in the constructor, the 'id' will become '' since this is
     * the native platform default).
     */
    _saveInstanceProperties() {
        // Use forEach so this works even if for/of loops are compiled to for loops
        // expecting arrays
        this.constructor
            ._classProperties.forEach((_v, p) => {
            if (this.hasOwnProperty(p)) {
                const value = this[p];
                delete this[p];
                if (!this._instanceProperties) {
                    this._instanceProperties = new Map();
                }
                this._instanceProperties.set(p, value);
            }
        });
    }
    /**
     * Applies previously saved instance properties.
     */
    _applyInstanceProperties() {
        // Use forEach so this works even if for/of loops are compiled to for loops
        // expecting arrays
        // tslint:disable-next-line:no-any
        this._instanceProperties.forEach((v, p) => this[p] = v);
        this._instanceProperties = undefined;
    }
    connectedCallback() {
        // Ensure first connection completes an update. Updates cannot complete
        // before connection.
        this.enableUpdating();
    }
    enableUpdating() {
        if (this._enableUpdatingResolver !== undefined) {
            this._enableUpdatingResolver();
            this._enableUpdatingResolver = undefined;
        }
    }
    /**
     * Allows for `super.disconnectedCallback()` in extensions while
     * reserving the possibility of making non-breaking feature additions
     * when disconnecting at some point in the future.
     */
    disconnectedCallback() {
    }
    /**
     * Synchronizes property values when attributes change.
     */
    attributeChangedCallback(name, old, value) {
        if (old !== value) {
            this._attributeToProperty(name, value);
        }
    }
    _propertyToAttribute(name, value, options = defaultPropertyDeclaration) {
        const ctor = this.constructor;
        const attr = ctor._attributeNameForProperty(name, options);
        if (attr !== undefined) {
            const attrValue = ctor._propertyValueToAttribute(value, options);
            // an undefined value does not change the attribute.
            if (attrValue === undefined) {
                return;
            }
            // Track if the property is being reflected to avoid
            // setting the property again via `attributeChangedCallback`. Note:
            // 1. this takes advantage of the fact that the callback is synchronous.
            // 2. will behave incorrectly if multiple attributes are in the reaction
            // stack at time of calling. However, since we process attributes
            // in `update` this should not be possible (or an extreme corner case
            // that we'd like to discover).
            // mark state reflecting
            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_ATTRIBUTE;
            if (attrValue == null) {
                this.removeAttribute(attr);
            }
            else {
                this.setAttribute(attr, attrValue);
            }
            // mark state not reflecting
            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_ATTRIBUTE;
        }
    }
    _attributeToProperty(name, value) {
        // Use tracking info to avoid deserializing attribute value if it was
        // just set from a property setter.
        if (this._updateState & STATE_IS_REFLECTING_TO_ATTRIBUTE) {
            return;
        }
        const ctor = this.constructor;
        // Note, hint this as an `AttributeMap` so closure clearly understands
        // the type; it has issues with tracking types through statics
        // tslint:disable-next-line:no-unnecessary-type-assertion
        const propName = ctor._attributeToPropertyMap.get(name);
        if (propName !== undefined) {
            const options = ctor.getPropertyOptions(propName);
            // mark state reflecting
            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_PROPERTY;
            this[propName] =
                // tslint:disable-next-line:no-any
                ctor._propertyValueFromAttribute(value, options);
            // mark state not reflecting
            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_PROPERTY;
        }
    }
    /**
     * This protected version of `requestUpdate` does not access or return the
     * `updateComplete` promise. This promise can be overridden and is therefore
     * not free to access.
     */
    requestUpdateInternal(name, oldValue, options) {
        let shouldRequestUpdate = true;
        // If we have a property key, perform property update steps.
        if (name !== undefined) {
            const ctor = this.constructor;
            options = options || ctor.getPropertyOptions(name);
            if (ctor._valueHasChanged(this[name], oldValue, options.hasChanged)) {
                if (!this._changedProperties.has(name)) {
                    this._changedProperties.set(name, oldValue);
                }
                // Add to reflecting properties set.
                // Note, it's important that every change has a chance to add the
                // property to `_reflectingProperties`. This ensures setting
                // attribute + property reflects correctly.
                if (options.reflect === true &&
                    !(this._updateState & STATE_IS_REFLECTING_TO_PROPERTY)) {
                    if (this._reflectingProperties === undefined) {
                        this._reflectingProperties = new Map();
                    }
                    this._reflectingProperties.set(name, options);
                }
            }
            else {
                // Abort the request if the property should not be considered changed.
                shouldRequestUpdate = false;
            }
        }
        if (!this._hasRequestedUpdate && shouldRequestUpdate) {
            this._updatePromise = this._enqueueUpdate();
        }
    }
    /**
     * Requests an update which is processed asynchronously. This should
     * be called when an element should update based on some state not triggered
     * by setting a property. In this case, pass no arguments. It should also be
     * called when manually implementing a property setter. In this case, pass the
     * property `name` and `oldValue` to ensure that any configured property
     * options are honored. Returns the `updateComplete` Promise which is resolved
     * when the update completes.
     *
     * @param name {PropertyKey} (optional) name of requesting property
     * @param oldValue {any} (optional) old value of requesting property
     * @returns {Promise} A Promise that is resolved when the update completes.
     */
    requestUpdate(name, oldValue) {
        this.requestUpdateInternal(name, oldValue);
        return this.updateComplete;
    }
    /**
     * Sets up the element to asynchronously update.
     */
    async _enqueueUpdate() {
        this._updateState = this._updateState | STATE_UPDATE_REQUESTED;
        try {
            // Ensure any previous update has resolved before updating.
            // This `await` also ensures that property changes are batched.
            await this._updatePromise;
        }
        catch (e) {
            // Ignore any previous errors. We only care that the previous cycle is
            // done. Any error should have been handled in the previous update.
        }
        const result = this.performUpdate();
        // If `performUpdate` returns a Promise, we await it. This is done to
        // enable coordinating updates with a scheduler. Note, the result is
        // checked to avoid delaying an additional microtask unless we need to.
        if (result != null) {
            await result;
        }
        return !this._hasRequestedUpdate;
    }
    get _hasRequestedUpdate() {
        return (this._updateState & STATE_UPDATE_REQUESTED);
    }
    get hasUpdated() {
        return (this._updateState & STATE_HAS_UPDATED);
    }
    /**
     * Performs an element update. Note, if an exception is thrown during the
     * update, `firstUpdated` and `updated` will not be called.
     *
     * You can override this method to change the timing of updates. If this
     * method is overridden, `super.performUpdate()` must be called.
     *
     * For instance, to schedule updates to occur just before the next frame:
     *
     * ```
     * protected async performUpdate(): Promise<unknown> {
     *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));
     *   super.performUpdate();
     * }
     * ```
     */
    performUpdate() {
        // Abort any update if one is not pending when this is called.
        // This can happen if `performUpdate` is called early to "flush"
        // the update.
        if (!this._hasRequestedUpdate) {
            return;
        }
        // Mixin instance properties once, if they exist.
        if (this._instanceProperties) {
            this._applyInstanceProperties();
        }
        let shouldUpdate = false;
        const changedProperties = this._changedProperties;
        try {
            shouldUpdate = this.shouldUpdate(changedProperties);
            if (shouldUpdate) {
                this.update(changedProperties);
            }
            else {
                this._markUpdated();
            }
        }
        catch (e) {
            // Prevent `firstUpdated` and `updated` from running when there's an
            // update exception.
            shouldUpdate = false;
            // Ensure element can accept additional updates after an exception.
            this._markUpdated();
            throw e;
        }
        if (shouldUpdate) {
            if (!(this._updateState & STATE_HAS_UPDATED)) {
                this._updateState = this._updateState | STATE_HAS_UPDATED;
                this.firstUpdated(changedProperties);
            }
            this.updated(changedProperties);
        }
    }
    _markUpdated() {
        this._changedProperties = new Map();
        this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;
    }
    /**
     * Returns a Promise that resolves when the element has completed updating.
     * The Promise value is a boolean that is `true` if the element completed the
     * update without triggering another update. The Promise result is `false` if
     * a property was set inside `updated()`. If the Promise is rejected, an
     * exception was thrown during the update.
     *
     * To await additional asynchronous work, override the `_getUpdateComplete`
     * method. For example, it is sometimes useful to await a rendered element
     * before fulfilling this Promise. To do this, first await
     * `super._getUpdateComplete()`, then any subsequent state.
     *
     * @returns {Promise} The Promise returns a boolean that indicates if the
     * update resolved without triggering another update.
     */
    get updateComplete() {
        return this._getUpdateComplete();
    }
    /**
     * Override point for the `updateComplete` promise.
     *
     * It is not safe to override the `updateComplete` getter directly due to a
     * limitation in TypeScript which means it is not possible to call a
     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target
     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).
     * This method should be overridden instead. For example:
     *
     *   class MyElement extends LitElement {
     *     async _getUpdateComplete() {
     *       await super._getUpdateComplete();
     *       await this._myChild.updateComplete;
     *     }
     *   }
     * @deprecated Override `getUpdateComplete()` instead for forward
     *     compatibility with `lit-element` 3.0 / `@lit/reactive-element`.
     */
    _getUpdateComplete() {
        return this.getUpdateComplete();
    }
    /**
     * Override point for the `updateComplete` promise.
     *
     * It is not safe to override the `updateComplete` getter directly due to a
     * limitation in TypeScript which means it is not possible to call a
     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target
     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).
     * This method should be overridden instead. For example:
     *
     *   class MyElement extends LitElement {
     *     async getUpdateComplete() {
     *       await super.getUpdateComplete();
     *       await this._myChild.updateComplete;
     *     }
     *   }
     */
    getUpdateComplete() {
        return this._updatePromise;
    }
    /**
     * Controls whether or not `update` should be called when the element requests
     * an update. By default, this method always returns `true`, but this can be
     * customized to control when to update.
     *
     * @param _changedProperties Map of changed properties with old values
     */
    shouldUpdate(_changedProperties) {
        return true;
    }
    /**
     * Updates the element. This method reflects property values to attributes.
     * It can be overridden to render and keep updated element DOM.
     * Setting properties inside this method will *not* trigger
     * another update.
     *
     * @param _changedProperties Map of changed properties with old values
     */
    update(_changedProperties) {
        if (this._reflectingProperties !== undefined &&
            this._reflectingProperties.size > 0) {
            // Use forEach so this works even if for/of loops are compiled to for
            // loops expecting arrays
            this._reflectingProperties.forEach((v, k) => this._propertyToAttribute(k, this[k], v));
            this._reflectingProperties = undefined;
        }
        this._markUpdated();
    }
    /**
     * Invoked whenever the element is updated. Implement to perform
     * post-updating tasks via DOM APIs, for example, focusing an element.
     *
     * Setting properties inside this method will trigger the element to update
     * again after this update cycle completes.
     *
     * @param _changedProperties Map of changed properties with old values
     */
    updated(_changedProperties) {
    }
    /**
     * Invoked when the element is first updated. Implement to perform one time
     * work on the element after update.
     *
     * Setting properties inside this method will trigger the element to update
     * again after this update cycle completes.
     *
     * @param _changedProperties Map of changed properties with old values
     */
    firstUpdated(_changedProperties) {
    }
}
updating_element_a = finalized;
/**
 * Marks class as having finished creating properties.
 */
UpdatingElement[updating_element_a] = true;
//# sourceMappingURL=updating-element.js.map
// CONCATENATED MODULE: ./node_modules/lit-element/lib/decorators.js
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const legacyCustomElement = (tagName, clazz) => {
    window.customElements.define(tagName, clazz);
    // Cast as any because TS doesn't recognize the return type as being a
    // subtype of the decorated class when clazz is typed as
    // `Constructor<HTMLElement>` for some reason.
    // `Constructor<HTMLElement>` is helpful to make sure the decorator is
    // applied to elements however.
    // tslint:disable-next-line:no-any
    return clazz;
};
const standardCustomElement = (tagName, descriptor) => {
    const { kind, elements } = descriptor;
    return {
        kind,
        elements,
        // This callback is called once the class is otherwise fully defined
        finisher(clazz) {
            window.customElements.define(tagName, clazz);
        }
    };
};
/**
 * Class decorator factory that defines the decorated class as a custom element.
 *
 * ```
 * @customElement('my-element')
 * class MyElement {
 *   render() {
 *     return html``;
 *   }
 * }
 * ```
 * @category Decorator
 * @param tagName The name of the custom element to define.
 */
const customElement = (tagName) => (classOrDescriptor) => (typeof classOrDescriptor === 'function') ?
    legacyCustomElement(tagName, classOrDescriptor) :
    standardCustomElement(tagName, classOrDescriptor);
const standardProperty = (options, element) => {
    // When decorating an accessor, pass it through and add property metadata.
    // Note, the `hasOwnProperty` check in `createProperty` ensures we don't
    // stomp over the user's accessor.
    if (element.kind === 'method' && element.descriptor &&
        !('value' in element.descriptor)) {
        return Object.assign(Object.assign({}, element), { finisher(clazz) {
                clazz.createProperty(element.key, options);
            } });
    }
    else {
        // createProperty() takes care of defining the property, but we still
        // must return some kind of descriptor, so return a descriptor for an
        // unused prototype field. The finisher calls createProperty().
        return {
            kind: 'field',
            key: Symbol(),
            placement: 'own',
            descriptor: {},
            // When @babel/plugin-proposal-decorators implements initializers,
            // do this instead of the initializer below. See:
            // https://github.com/babel/babel/issues/9260 extras: [
            //   {
            //     kind: 'initializer',
            //     placement: 'own',
            //     initializer: descriptor.initializer,
            //   }
            // ],
            initializer() {
                if (typeof element.initializer === 'function') {
                    this[element.key] = element.initializer.call(this);
                }
            },
            finisher(clazz) {
                clazz.createProperty(element.key, options);
            }
        };
    }
};
const legacyProperty = (options, proto, name) => {
    proto.constructor
        .createProperty(name, options);
};
/**
 * A property decorator which creates a LitElement property which reflects a
 * corresponding attribute value. A [[`PropertyDeclaration`]] may optionally be
 * supplied to configure property features.
 *
 * This decorator should only be used for public fields. Private or protected
 * fields should use the [[`internalProperty`]] decorator.
 *
 * @example
 * ```ts
 * class MyElement {
 *   @property({ type: Boolean })
 *   clicked = false;
 * }
 * ```
 * @category Decorator
 * @ExportDecoratedItems
 */
function property(options) {
    // tslint:disable-next-line:no-any decorator
    return (protoOrDescriptor, name) => (name !== undefined) ?
        legacyProperty(options, protoOrDescriptor, name) :
        standardProperty(options, protoOrDescriptor);
}
/**
 * Declares a private or protected property that still triggers updates to the
 * element when it changes.
 *
 * Properties declared this way must not be used from HTML or HTML templating
 * systems, they're solely for properties internal to the element. These
 * properties may be renamed by optimization tools like the Closure Compiler.
 * @category Decorator
 * @deprecated `internalProperty` has been renamed to `state` in lit-element
 *     3.0. Please update to `state` now to be compatible with 3.0.
 */
function internalProperty(options) {
    return property({ attribute: false, hasChanged: options === null || options === void 0 ? void 0 : options.hasChanged });
}
/**
 * Declares a private or protected property that still triggers updates to the
 * element when it changes.
 *
 * Properties declared this way must not be used from HTML or HTML templating
 * systems, they're solely for properties internal to the element. These
 * properties may be renamed by optimization tools like the Closure Compiler.
 * @category Decorator
 */
const decorators_state = (options) => internalProperty(options);
/**
 * A property decorator that converts a class property into a getter that
 * executes a querySelector on the element's renderRoot.
 *
 * @param selector A DOMString containing one or more selectors to match.
 * @param cache An optional boolean which when true performs the DOM query only
 * once and caches the result.
 *
 * See: https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector
 *
 * @example
 *
 * ```ts
 * class MyElement {
 *   @query('#first')
 *   first;
 *
 *   render() {
 *     return html`
 *       <div id="first"></div>
 *       <div id="second"></div>
 *     `;
 *   }
 * }
 * ```
 * @category Decorator
 */
function query(selector, cache) {
    return (protoOrDescriptor, 
    // tslint:disable-next-line:no-any decorator
    name) => {
        const descriptor = {
            get() {
                return this.renderRoot.querySelector(selector);
            },
            enumerable: true,
            configurable: true,
        };
        if (cache) {
            const prop = name !== undefined ? name : protoOrDescriptor.key;
            const key = typeof prop === 'symbol' ? Symbol() : `__${prop}`;
            descriptor.get = function () {
                if (this[key] === undefined) {
                    (this[key] =
                        this.renderRoot.querySelector(selector));
                }
                return this[key];
            };
        }
        return (name !== undefined) ?
            legacyQuery(descriptor, protoOrDescriptor, name) :
            standardQuery(descriptor, protoOrDescriptor);
    };
}
// Note, in the future, we may extend this decorator to support the use case
// where the queried element may need to do work to become ready to interact
// with (e.g. load some implementation code). If so, we might elect to
// add a second argument defining a function that can be run to make the
// queried element loaded/updated/ready.
/**
 * A property decorator that converts a class property into a getter that
 * returns a promise that resolves to the result of a querySelector on the
 * element's renderRoot done after the element's `updateComplete` promise
 * resolves. When the queried property may change with element state, this
 * decorator can be used instead of requiring users to await the
 * `updateComplete` before accessing the property.
 *
 * @param selector A DOMString containing one or more selectors to match.
 *
 * See: https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector
 *
 * @example
 * ```ts
 * class MyElement {
 *   @queryAsync('#first')
 *   first;
 *
 *   render() {
 *     return html`
 *       <div id="first"></div>
 *       <div id="second"></div>
 *     `;
 *   }
 * }
 *
 * // external usage
 * async doSomethingWithFirst() {
 *  (await aMyElement.first).doSomething();
 * }
 * ```
 * @category Decorator
 */
function queryAsync(selector) {
    return (protoOrDescriptor, 
    // tslint:disable-next-line:no-any decorator
    name) => {
        const descriptor = {
            async get() {
                await this.updateComplete;
                return this.renderRoot.querySelector(selector);
            },
            enumerable: true,
            configurable: true,
        };
        return (name !== undefined) ?
            legacyQuery(descriptor, protoOrDescriptor, name) :
            standardQuery(descriptor, protoOrDescriptor);
    };
}
/**
 * A property decorator that converts a class property into a getter
 * that executes a querySelectorAll on the element's renderRoot.
 *
 * @param selector A DOMString containing one or more selectors to match.
 *
 * See:
 * https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll
 *
 * @example
 * ```ts
 * class MyElement {
 *   @queryAll('div')
 *   divs;
 *
 *   render() {
 *     return html`
 *       <div id="first"></div>
 *       <div id="second"></div>
 *     `;
 *   }
 * }
 * ```
 * @category Decorator
 */
function queryAll(selector) {
    return (protoOrDescriptor, 
    // tslint:disable-next-line:no-any decorator
    name) => {
        const descriptor = {
            get() {
                return this.renderRoot.querySelectorAll(selector);
            },
            enumerable: true,
            configurable: true,
        };
        return (name !== undefined) ?
            legacyQuery(descriptor, protoOrDescriptor, name) :
            standardQuery(descriptor, protoOrDescriptor);
    };
}
const legacyQuery = (descriptor, proto, name) => {
    Object.defineProperty(proto, name, descriptor);
};
const standardQuery = (descriptor, element) => ({
    kind: 'method',
    placement: 'prototype',
    key: element.key,
    descriptor,
});
const standardEventOptions = (options, element) => {
    return Object.assign(Object.assign({}, element), { finisher(clazz) {
            Object.assign(clazz.prototype[element.key], options);
        } });
};
const legacyEventOptions = 
// tslint:disable-next-line:no-any legacy decorator
(options, proto, name) => {
    Object.assign(proto[name], options);
};
/**
 * Adds event listener options to a method used as an event listener in a
 * lit-html template.
 *
 * @param options An object that specifies event listener options as accepted by
 * `EventTarget#addEventListener` and `EventTarget#removeEventListener`.
 *
 * Current browsers support the `capture`, `passive`, and `once` options. See:
 * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters
 *
 * @example
 * ```ts
 * class MyElement {
 *   clicked = false;
 *
 *   render() {
 *     return html`
 *       <div @click=${this._onClick}`>
 *         <button></button>
 *       </div>
 *     `;
 *   }
 *
 *   @eventOptions({capture: true})
 *   _onClick(e) {
 *     this.clicked = true;
 *   }
 * }
 * ```
 * @category Decorator
 */
function eventOptions(options) {
    // Return value typed as any to prevent TypeScript from complaining that
    // standard decorator function signature does not match TypeScript decorator
    // signature
    // TODO(kschaaf): unclear why it was only failing on this decorator and not
    // the others
    return ((protoOrDescriptor, name) => (name !== undefined) ?
        legacyEventOptions(options, protoOrDescriptor, name) :
        standardEventOptions(options, protoOrDescriptor));
}
// x-browser support for matches
// tslint:disable-next-line:no-any
const ElementProto = Element.prototype;
const legacyMatches = ElementProto.msMatchesSelector || ElementProto.webkitMatchesSelector;
/**
 * A property decorator that converts a class property into a getter that
 * returns the `assignedNodes` of the given named `slot`. Note, the type of
 * this property should be annotated as `NodeListOf<HTMLElement>`.
 *
 * @param slotName A string name of the slot.
 * @param flatten A boolean which when true flattens the assigned nodes,
 * meaning any assigned nodes that are slot elements are replaced with their
 * assigned nodes.
 * @param selector A string which filters the results to elements that match
 * the given css selector.
 *
 * * @example
 * ```ts
 * class MyElement {
 *   @queryAssignedNodes('list', true, '.item')
 *   listItems;
 *
 *   render() {
 *     return html`
 *       <slot name="list"></slot>
 *     `;
 *   }
 * }
 * ```
 * @category Decorator
 */
function queryAssignedNodes(slotName = '', flatten = false, selector = '') {
    return (protoOrDescriptor, 
    // tslint:disable-next-line:no-any decorator
    name) => {
        const descriptor = {
            get() {
                const slotSelector = `slot${slotName ? `[name=${slotName}]` : ':not([name])'}`;
                const slot = this.renderRoot.querySelector(slotSelector);
                let nodes = slot && slot.assignedNodes({ flatten });
                if (nodes && selector) {
                    nodes = nodes.filter((node) => node.nodeType === Node.ELEMENT_NODE &&
                        // tslint:disable-next-line:no-any testing existence on older browsers
                        (node.matches ?
                            node.matches(selector) :
                            legacyMatches.call(node, selector)));
                }
                return nodes;
            },
            enumerable: true,
            configurable: true,
        };
        return (name !== undefined) ?
            legacyQuery(descriptor, protoOrDescriptor, name) :
            standardQuery(descriptor, protoOrDescriptor);
    };
}
//# sourceMappingURL=decorators.js.map
// CONCATENATED MODULE: ./node_modules/lit-element/lib/css-tag.js
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
 * Whether the current browser supports `adoptedStyleSheets`.
 */
const supportsAdoptingStyleSheets = (window.ShadowRoot) &&
    (window.ShadyCSS === undefined || window.ShadyCSS.nativeShadow) &&
    ('adoptedStyleSheets' in Document.prototype) &&
    ('replace' in CSSStyleSheet.prototype);
const constructionToken = Symbol();
class CSSResult {
    constructor(cssText, safeToken) {
        if (safeToken !== constructionToken) {
            throw new Error('CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');
        }
        this.cssText = cssText;
    }
    // Note, this is a getter so that it's lazy. In practice, this means
    // stylesheets are not created until the first element instance is made.
    get styleSheet() {
        if (this._styleSheet === undefined) {
            // Note, if `supportsAdoptingStyleSheets` is true then we assume
            // CSSStyleSheet is constructable.
            if (supportsAdoptingStyleSheets) {
                this._styleSheet = new CSSStyleSheet();
                this._styleSheet.replaceSync(this.cssText);
            }
            else {
                this._styleSheet = null;
            }
        }
        return this._styleSheet;
    }
    toString() {
        return this.cssText;
    }
}
/**
 * Wrap a value for interpolation in a [[`css`]] tagged template literal.
 *
 * This is unsafe because untrusted CSS text can be used to phone home
 * or exfiltrate data to an attacker controlled site. Take care to only use
 * this with trusted input.
 */
const unsafeCSS = (value) => {
    return new CSSResult(String(value), constructionToken);
};
const textFromCSSResult = (value) => {
    if (value instanceof CSSResult) {
        return value.cssText;
    }
    else if (typeof value === 'number') {
        return value;
    }
    else {
        throw new Error(`Value passed to 'css' function must be a 'css' function result: ${value}. Use 'unsafeCSS' to pass non-literal values, but
            take care to ensure page security.`);
    }
};
/**
 * Template tag which which can be used with LitElement's [[LitElement.styles |
 * `styles`]] property to set element styles. For security reasons, only literal
 * string values may be used. To incorporate non-literal values [[`unsafeCSS`]]
 * may be used inside a template string part.
 */
const css_tag_css = (strings, ...values) => {
    const cssText = values.reduce((acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1], strings[0]);
    return new CSSResult(cssText, constructionToken);
};
//# sourceMappingURL=css-tag.js.map
// CONCATENATED MODULE: ./node_modules/lit-element/lit-element.js
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * The main LitElement module, which defines the [[`LitElement`]] base class and
 * related APIs.
 *
 *  LitElement components can define a template and a set of observed
 * properties. Changing an observed property triggers a re-render of the
 * element.
 *
 *  Import [[`LitElement`]] and [[`html`]] from this module to create a
 * component:
 *
 *  ```js
 * import {LitElement, html} from 'lit-element';
 *
 * class MyElement extends LitElement {
 *
 *   // Declare observed properties
 *   static get properties() {
 *     return {
 *       adjective: {}
 *     }
 *   }
 *
 *   constructor() {
 *     this.adjective = 'awesome';
 *   }
 *
 *   // Define the element's template
 *   render() {
 *     return html`<p>your ${adjective} template here</p>`;
 *   }
 * }
 *
 * customElements.define('my-element', MyElement);
 * ```
 *
 * `LitElement` extends [[`UpdatingElement`]] and adds lit-html templating.
 * The `UpdatingElement` class is provided for users that want to build
 * their own custom element base classes that don't use lit-html.
 *
 * @packageDocumentation
 */








// IMPORTANT: do not change the property name or the assignment expression.
// This line will be used in regexes to search for LitElement usage.
// TODO(justinfagnani): inject version number at build time
(window['litElementVersions'] || (window['litElementVersions'] = []))
    .push('2.5.1');
/**
 * Sentinal value used to avoid calling lit-html's render function when
 * subclasses do not implement `render`
 */
const renderNotImplemented = {};
/**
 * Base element class that manages element properties and attributes, and
 * renders a lit-html template.
 *
 * To define a component, subclass `LitElement` and implement a
 * `render` method to provide the component's template. Define properties
 * using the [[`properties`]] property or the [[`property`]] decorator.
 */
class lit_element_LitElement extends UpdatingElement {
    /**
     * Return the array of styles to apply to the element.
     * Override this method to integrate into a style management system.
     *
     * @nocollapse
     */
    static getStyles() {
        return this.styles;
    }
    /** @nocollapse */
    static _getUniqueStyles() {
        // Only gather styles once per class
        if (this.hasOwnProperty(JSCompiler_renameProperty('_styles', this))) {
            return;
        }
        // Take care not to call `this.getStyles()` multiple times since this
        // generates new CSSResults each time.
        // TODO(sorvell): Since we do not cache CSSResults by input, any
        // shared styles will generate new stylesheet objects, which is wasteful.
        // This should be addressed when a browser ships constructable
        // stylesheets.
        const userStyles = this.getStyles();
        if (Array.isArray(userStyles)) {
            // De-duplicate styles preserving the _last_ instance in the set.
            // This is a performance optimization to avoid duplicated styles that can
            // occur especially when composing via subclassing.
            // The last item is kept to try to preserve the cascade order with the
            // assumption that it's most important that last added styles override
            // previous styles.
            const addStyles = (styles, set) => styles.reduceRight((set, s) => 
            // Note: On IE set.add() does not return the set
            Array.isArray(s) ? addStyles(s, set) : (set.add(s), set), set);
            // Array.from does not work on Set in IE, otherwise return
            // Array.from(addStyles(userStyles, new Set<CSSResult>())).reverse()
            const set = addStyles(userStyles, new Set());
            const styles = [];
            set.forEach((v) => styles.unshift(v));
            this._styles = styles;
        }
        else {
            this._styles = userStyles === undefined ? [] : [userStyles];
        }
        // Ensure that there are no invalid CSSStyleSheet instances here. They are
        // invalid in two conditions.
        // (1) the sheet is non-constructible (`sheet` of a HTMLStyleElement), but
        //     this is impossible to check except via .replaceSync or use
        // (2) the ShadyCSS polyfill is enabled (:. supportsAdoptingStyleSheets is
        //     false)
        this._styles = this._styles.map((s) => {
            if (s instanceof CSSStyleSheet && !supportsAdoptingStyleSheets) {
                // Flatten the cssText from the passed constructible stylesheet (or
                // undetectable non-constructible stylesheet). The user might have
                // expected to update their stylesheets over time, but the alternative
                // is a crash.
                const cssText = Array.prototype.slice.call(s.cssRules)
                    .reduce((css, rule) => css + rule.cssText, '');
                return unsafeCSS(cssText);
            }
            return s;
        });
    }
    /**
     * Performs element initialization. By default this calls
     * [[`createRenderRoot`]] to create the element [[`renderRoot`]] node and
     * captures any pre-set values for registered properties.
     */
    initialize() {
        super.initialize();
        this.constructor._getUniqueStyles();
        this.renderRoot = this.createRenderRoot();
        // Note, if renderRoot is not a shadowRoot, styles would/could apply to the
        // element's getRootNode(). While this could be done, we're choosing not to
        // support this now since it would require different logic around de-duping.
        if (window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot) {
            this.adoptStyles();
        }
    }
    /**
     * Returns the node into which the element should render and by default
     * creates and returns an open shadowRoot. Implement to customize where the
     * element's DOM is rendered. For example, to render into the element's
     * childNodes, return `this`.
     * @returns {Element|DocumentFragment} Returns a node into which to render.
     */
    createRenderRoot() {
        return this.attachShadow(this.constructor.shadowRootOptions);
    }
    /**
     * Applies styling to the element shadowRoot using the [[`styles`]]
     * property. Styling will apply using `shadowRoot.adoptedStyleSheets` where
     * available and will fallback otherwise. When Shadow DOM is polyfilled,
     * ShadyCSS scopes styles and adds them to the document. When Shadow DOM
     * is available but `adoptedStyleSheets` is not, styles are appended to the
     * end of the `shadowRoot` to [mimic spec
     * behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).
     */
    adoptStyles() {
        const styles = this.constructor._styles;
        if (styles.length === 0) {
            return;
        }
        // There are three separate cases here based on Shadow DOM support.
        // (1) shadowRoot polyfilled: use ShadyCSS
        // (2) shadowRoot.adoptedStyleSheets available: use it
        // (3) shadowRoot.adoptedStyleSheets polyfilled: append styles after
        // rendering
        if (window.ShadyCSS !== undefined && !window.ShadyCSS.nativeShadow) {
            window.ShadyCSS.ScopingShim.prepareAdoptedCssText(styles.map((s) => s.cssText), this.localName);
        }
        else if (supportsAdoptingStyleSheets) {
            this.renderRoot.adoptedStyleSheets =
                styles.map((s) => s instanceof CSSStyleSheet ? s : s.styleSheet);
        }
        else {
            // This must be done after rendering so the actual style insertion is done
            // in `update`.
            this._needsShimAdoptedStyleSheets = true;
        }
    }
    connectedCallback() {
        super.connectedCallback();
        // Note, first update/render handles styleElement so we only call this if
        // connected after first update.
        if (this.hasUpdated && window.ShadyCSS !== undefined) {
            window.ShadyCSS.styleElement(this);
        }
    }
    /**
     * Updates the element. This method reflects property values to attributes
     * and calls `render` to render DOM via lit-html. Setting properties inside
     * this method will *not* trigger another update.
     * @param _changedProperties Map of changed properties with old values
     */
    update(changedProperties) {
        // Setting properties in `render` should not trigger an update. Since
        // updates are allowed after super.update, it's important to call `render`
        // before that.
        const templateResult = this.render();
        super.update(changedProperties);
        // If render is not implemented by the component, don't call lit-html render
        if (templateResult !== renderNotImplemented) {
            this.constructor
                .render(templateResult, this.renderRoot, { scopeName: this.localName, eventContext: this });
        }
        // When native Shadow DOM is used but adoptedStyles are not supported,
        // insert styling after rendering to ensure adoptedStyles have highest
        // priority.
        if (this._needsShimAdoptedStyleSheets) {
            this._needsShimAdoptedStyleSheets = false;
            this.constructor._styles.forEach((s) => {
                const style = document.createElement('style');
                style.textContent = s.cssText;
                this.renderRoot.appendChild(style);
            });
        }
    }
    /**
     * Invoked on each update to perform rendering tasks. This method may return
     * any value renderable by lit-html's `NodePart` - typically a
     * `TemplateResult`. Setting properties inside this method will *not* trigger
     * the element to update.
     */
    render() {
        return renderNotImplemented;
    }
}
/**
 * Ensure this class is marked as `finalized` as an optimization ensuring
 * it will not needlessly try to `finalize`.
 *
 * Note this property name is a string to prevent breaking Closure JS Compiler
 * optimizations. See updating-element.ts for more information.
 */
lit_element_LitElement['finalized'] = true;
/**
 * Reference to the underlying library method used to render the element's
 * DOM. By default, points to the `render` method from lit-html's shady-render
 * module.
 *
 * **Most users will never need to touch this property.**
 *
 * This  property should not be confused with the `render` instance method,
 * which should be overridden to define a template for the element.
 *
 * Advanced users creating a new base class based on LitElement can override
 * this property to point to a custom render method with a signature that
 * matches [shady-render's `render`
 * method](https://lit-html.polymer-project.org/api/modules/shady_render.html#render).
 *
 * @nocollapse
 */
lit_element_LitElement.render = shady_render_render;
/** @nocollapse */
lit_element_LitElement.shadowRootOptions = { mode: 'open' };
//# sourceMappingURL=lit-element.js.map
// CONCATENATED MODULE: ./node_modules/lit-html/directives/cache.js
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */


const templateCaches = new WeakMap();
/**
 * Enables fast switching between multiple templates by caching the DOM nodes
 * and TemplateInstances produced by the templates.
 *
 * Example:
 *
 * ```
 * let checked = false;
 *
 * html`
 *   ${cache(checked ? html`input is checked` : html`input is not checked`)}
 * `
 * ```
 */
const cache = Object(lit_html["f" /* directive */])((value) => (part) => {
    if (!(part instanceof lit_html["b" /* NodePart */])) {
        throw new Error('cache can only be used in text bindings');
    }
    let templateCache = templateCaches.get(part);
    if (templateCache === undefined) {
        templateCache = new WeakMap();
        templateCaches.set(part, templateCache);
    }
    const previousValue = part.value;
    // First, can we update the current TemplateInstance, or do we need to move
    // the current nodes into the cache?
    if (previousValue instanceof template_instance["a" /* TemplateInstance */]) {
        if (value instanceof lit_html["d" /* TemplateResult */] &&
            previousValue.template === part.options.templateFactory(value)) {
            // Same Template, just trigger an update of the TemplateInstance
            part.setValue(value);
            return;
        }
        else {
            // Not the same Template, move the nodes from the DOM into the cache.
            let cachedTemplate = templateCache.get(previousValue.template);
            if (cachedTemplate === undefined) {
                cachedTemplate = {
                    instance: previousValue,
                    nodes: document.createDocumentFragment(),
                };
                templateCache.set(previousValue.template, cachedTemplate);
            }
            Object(lit_html["j" /* reparentNodes */])(cachedTemplate.nodes, part.startNode.nextSibling, part.endNode);
        }
    }
    // Next, can we reuse nodes from the cache?
    if (value instanceof lit_html["d" /* TemplateResult */]) {
        const template = part.options.templateFactory(value);
        const cachedTemplate = templateCache.get(template);
        if (cachedTemplate !== undefined) {
            // Move nodes out of cache
            part.setValue(cachedTemplate.nodes);
            part.commit();
            // Set the Part value to the TemplateInstance so it'll update it.
            part.value = cachedTemplate.instance;
        }
    }
    part.setValue(value);
});
//# sourceMappingURL=cache.js.map
// CONCATENATED MODULE: ./node_modules/lit-html/directives/class-map.js
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */

// IE11 doesn't support classList on SVG elements, so we emulate it with a Set
class ClassList {
    constructor(element) {
        this.classes = new Set();
        this.changed = false;
        this.element = element;
        const classList = (element.getAttribute('class') || '').split(/\s+/);
        for (const cls of classList) {
            this.classes.add(cls);
        }
    }
    add(cls) {
        this.classes.add(cls);
        this.changed = true;
    }
    remove(cls) {
        this.classes.delete(cls);
        this.changed = true;
    }
    commit() {
        if (this.changed) {
            let classString = '';
            this.classes.forEach((cls) => classString += cls + ' ');
            this.element.setAttribute('class', classString);
        }
    }
}
/**
 * Stores the ClassInfo object applied to a given AttributePart.
 * Used to unset existing values when a new ClassInfo object is applied.
 */
const previousClassesCache = new WeakMap();
/**
 * A directive that applies CSS classes. This must be used in the `class`
 * attribute and must be the only part used in the attribute. It takes each
 * property in the `classInfo` argument and adds the property name to the
 * element's `class` if the property value is truthy; if the property value is
 * falsey, the property name is removed from the element's `class`. For example
 * `{foo: bar}` applies the class `foo` if the value of `bar` is truthy.
 * @param classInfo {ClassInfo}
 */
const classMap = Object(lit_html["f" /* directive */])((classInfo) => (part) => {
    if (!(part instanceof lit_html["a" /* AttributePart */]) || (part instanceof lit_html["c" /* PropertyPart */]) ||
        part.committer.name !== 'class' || part.committer.parts.length > 1) {
        throw new Error('The `classMap` directive must be used in the `class` attribute ' +
            'and must be the only part in the attribute.');
    }
    const { committer } = part;
    const { element } = committer;
    let previousClasses = previousClassesCache.get(part);
    if (previousClasses === undefined) {
        // Write static classes once
        // Use setAttribute() because className isn't a string on SVG elements
        element.setAttribute('class', committer.strings.join(' '));
        previousClassesCache.set(part, previousClasses = new Set());
    }
    const classList = (element.classList || new ClassList(element));
    // Remove old classes that no longer apply
    // We use forEach() instead of for-of so that re don't require down-level
    // iteration.
    previousClasses.forEach((name) => {
        if (!(name in classInfo)) {
            classList.remove(name);
            previousClasses.delete(name);
        }
    });
    // Add or remove classes based on their classMap value
    for (const name in classInfo) {
        const value = classInfo[name];
        if (value != previousClasses.has(name)) {
            // We explicitly want a loose truthy check of `value` because it seems
            // more convenient that '' and 0 are skipped.
            if (value) {
                classList.add(name);
                previousClasses.add(name);
            }
            else {
                classList.remove(name);
                previousClasses.delete(name);
            }
        }
    }
    if (typeof classList.commit === 'function') {
        classList.commit();
    }
});
//# sourceMappingURL=class-map.js.map
// CONCATENATED MODULE: ./node_modules/lit-html/directives/guard.js
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */

const guard_previousValues = new WeakMap();
/**
 * Prevents re-render of a template function until a single value or an array of
 * values changes.
 *
 * Example:
 *
 * ```js
 * html`
 *   <div>
 *     ${guard([user.id, company.id], () => html`...`)}
 *   </div>
 * ```
 *
 * In this case, the template only renders if either `user.id` or `company.id`
 * changes.
 *
 * guard() is useful with immutable data patterns, by preventing expensive work
 * until data updates.
 *
 * Example:
 *
 * ```js
 * html`
 *   <div>
 *     ${guard([immutableItems], () => immutableItems.map(i => html`${i}`))}
 *   </div>
 * ```
 *
 * In this case, items are mapped over only when the array reference changes.
 *
 * @param value the value to check before re-rendering
 * @param f the template function
 */
const guard = Object(lit_html["f" /* directive */])((value, f) => (part) => {
    const previousValue = guard_previousValues.get(part);
    if (Array.isArray(value)) {
        // Dirty-check arrays by item
        if (Array.isArray(previousValue) &&
            previousValue.length === value.length &&
            value.every((v, i) => v === previousValue[i])) {
            return;
        }
    }
    else if (previousValue === value &&
        (value !== undefined || guard_previousValues.has(part))) {
        // Dirty-check non-arrays by identity
        return;
    }
    part.setValue(f());
    // Copy the value if it's an array so that if it's mutated we don't forget
    // what the previous values were.
    guard_previousValues.set(part, Array.isArray(value) ? Array.from(value) : value);
});
//# sourceMappingURL=guard.js.map
// CONCATENATED MODULE: ./node_modules/lit-html/directives/if-defined.js
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */

const if_defined_previousValues = new WeakMap();
/**
 * For AttributeParts, sets the attribute if the value is defined and removes
 * the attribute if the value is undefined.
 *
 * For other part types, this directive is a no-op.
 */
const ifDefined = Object(lit_html["f" /* directive */])((value) => (part) => {
    const previousValue = if_defined_previousValues.get(part);
    if (value === undefined && part instanceof lit_html["a" /* AttributePart */]) {
        // If the value is undefined, remove the attribute, but only if the value
        // was previously defined.
        if (previousValue !== undefined || !if_defined_previousValues.has(part)) {
            const name = part.committer.name;
            part.committer.element.removeAttribute(name);
        }
    }
    else if (value !== previousValue) {
        part.setValue(value);
    }
    if_defined_previousValues.set(part, value);
});
//# sourceMappingURL=if-defined.js.map
// CONCATENATED MODULE: ./node_modules/lit-html/directives/repeat.js
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */

// Helper functions for manipulating parts
// TODO(kschaaf): Refactor into Part API?
const createAndInsertPart = (containerPart, beforePart) => {
    const container = containerPart.startNode.parentNode;
    const beforeNode = beforePart === undefined ? containerPart.endNode :
        beforePart.startNode;
    const startNode = container.insertBefore(Object(lit_html["e" /* createMarker */])(), beforeNode);
    container.insertBefore(Object(lit_html["e" /* createMarker */])(), beforeNode);
    const newPart = new lit_html["b" /* NodePart */](containerPart.options);
    newPart.insertAfterNode(startNode);
    return newPart;
};
const updatePart = (part, value) => {
    part.setValue(value);
    part.commit();
    return part;
};
const insertPartBefore = (containerPart, part, ref) => {
    const container = containerPart.startNode.parentNode;
    const beforeNode = ref ? ref.startNode : containerPart.endNode;
    const endNode = part.endNode.nextSibling;
    if (endNode !== beforeNode) {
        Object(lit_html["j" /* reparentNodes */])(container, part.startNode, endNode, beforeNode);
    }
};
const removePart = (part) => {
    Object(lit_html["i" /* removeNodes */])(part.startNode.parentNode, part.startNode, part.endNode.nextSibling);
};
// Helper for generating a map of array item to its index over a subset
// of an array (used to lazily generate `newKeyToIndexMap` and
// `oldKeyToIndexMap`)
const generateMap = (list, start, end) => {
    const map = new Map();
    for (let i = start; i <= end; i++) {
        map.set(list[i], i);
    }
    return map;
};
// Stores previous ordered list of parts and map of key to index
const partListCache = new WeakMap();
const keyListCache = new WeakMap();
/**
 * A directive that repeats a series of values (usually `TemplateResults`)
 * generated from an iterable, and updates those items efficiently when the
 * iterable changes based on user-provided `keys` associated with each item.
 *
 * Note that if a `keyFn` is provided, strict key-to-DOM mapping is maintained,
 * meaning previous DOM for a given key is moved into the new position if
 * needed, and DOM will never be reused with values for different keys (new DOM
 * will always be created for new keys). This is generally the most efficient
 * way to use `repeat` since it performs minimum unnecessary work for insertions
 * and removals.
 *
 * IMPORTANT: If providing a `keyFn`, keys *must* be unique for all items in a
 * given call to `repeat`. The behavior when two or more items have the same key
 * is undefined.
 *
 * If no `keyFn` is provided, this directive will perform similar to mapping
 * items to values, and DOM will be reused against potentially different items.
 */
const repeat = Object(lit_html["f" /* directive */])((items, keyFnOrTemplate, template) => {
    let keyFn;
    if (template === undefined) {
        template = keyFnOrTemplate;
    }
    else if (keyFnOrTemplate !== undefined) {
        keyFn = keyFnOrTemplate;
    }
    return (containerPart) => {
        if (!(containerPart instanceof lit_html["b" /* NodePart */])) {
            throw new Error('repeat can only be used in text bindings');
        }
        // Old part & key lists are retrieved from the last update
        // (associated with the part for this instance of the directive)
        const oldParts = partListCache.get(containerPart) || [];
        const oldKeys = keyListCache.get(containerPart) || [];
        // New part list will be built up as we go (either reused from
        // old parts or created for new keys in this update). This is
        // saved in the above cache at the end of the update.
        const newParts = [];
        // New value list is eagerly generated from items along with a
        // parallel array indicating its key.
        const newValues = [];
        const newKeys = [];
        let index = 0;
        for (const item of items) {
            newKeys[index] = keyFn ? keyFn(item, index) : index;
            newValues[index] = template(item, index);
            index++;
        }
        // Maps from key to index for current and previous update; these
        // are generated lazily only when needed as a performance
        // optimization, since they are only required for multiple
        // non-contiguous changes in the list, which are less common.
        let newKeyToIndexMap;
        let oldKeyToIndexMap;
        // Head and tail pointers to old parts and new values
        let oldHead = 0;
        let oldTail = oldParts.length - 1;
        let newHead = 0;
        let newTail = newValues.length - 1;
        // Overview of O(n) reconciliation algorithm (general approach
        // based on ideas found in ivi, vue, snabbdom, etc.):
        //
        // * We start with the list of old parts and new values (and
        //   arrays of their respective keys), head/tail pointers into
        //   each, and we build up the new list of parts by updating
        //   (and when needed, moving) old parts or creating new ones.
        //   The initial scenario might look like this (for brevity of
        //   the diagrams, the numbers in the array reflect keys
        //   associated with the old parts or new values, although keys
        //   and parts/values are actually stored in parallel arrays
        //   indexed using the same head/tail pointers):
        //
        //      oldHead v                 v oldTail
        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]
        //   newParts: [ ,  ,  ,  ,  ,  ,  ]
        //   newKeys:  [0, 2, 1, 4, 3, 7, 6] <- reflects the user's new
        //                                      item order
        //      newHead ^                 ^ newTail
        //
        // * Iterate old & new lists from both sides, updating,
        //   swapping, or removing parts at the head/tail locations
        //   until neither head nor tail can move.
        //
        // * Example below: keys at head pointers match, so update old
        //   part 0 in-place (no need to move it) and record part 0 in
        //   the `newParts` list. The last thing we do is advance the
        //   `oldHead` and `newHead` pointers (will be reflected in the
        //   next diagram).
        //
        //      oldHead v                 v oldTail
        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]
        //   newParts: [0,  ,  ,  ,  ,  ,  ] <- heads matched: update 0
        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead
        //                                      & newHead
        //      newHead ^                 ^ newTail
        //
        // * Example below: head pointers don't match, but tail
        //   pointers do, so update part 6 in place (no need to move
        //   it), and record part 6 in the `newParts` list. Last,
        //   advance the `oldTail` and `oldHead` pointers.
        //
        //         oldHead v              v oldTail
        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]
        //   newParts: [0,  ,  ,  ,  ,  , 6] <- tails matched: update 6
        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldTail
        //                                      & newTail
        //         newHead ^              ^ newTail
        //
        // * If neither head nor tail match; next check if one of the
        //   old head/tail items was removed. We first need to generate
        //   the reverse map of new keys to index (`newKeyToIndexMap`),
        //   which is done once lazily as a performance optimization,
        //   since we only hit this case if multiple non-contiguous
        //   changes were made. Note that for contiguous removal
        //   anywhere in the list, the head and tails would advance
        //   from either end and pass each other before we get to this
        //   case and removals would be handled in the final while loop
        //   without needing to generate the map.
        //
        // * Example below: The key at `oldTail` was removed (no longer
        //   in the `newKeyToIndexMap`), so remove that part from the
        //   DOM and advance just the `oldTail` pointer.
        //
        //         oldHead v           v oldTail
        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]
        //   newParts: [0,  ,  ,  ,  ,  , 6] <- 5 not in new map: remove
        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    5 and advance oldTail
        //         newHead ^           ^ newTail
        //
        // * Once head and tail cannot move, any mismatches are due to
        //   either new or moved items; if a new key is in the previous
        //   "old key to old index" map, move the old part to the new
        //   location, otherwise create and insert a new part. Note
        //   that when moving an old part we null its position in the
        //   oldParts array if it lies between the head and tail so we
        //   know to skip it when the pointers get there.
        //
        // * Example below: neither head nor tail match, and neither
        //   were removed; so find the `newHead` key in the
        //   `oldKeyToIndexMap`, and move that old part's DOM into the
        //   next head position (before `oldParts[oldHead]`). Last,
        //   null the part in the `oldPart` array since it was
        //   somewhere in the remaining oldParts still to be scanned
        //   (between the head and tail pointers) so that we know to
        //   skip that old part on future iterations.
        //
        //         oldHead v        v oldTail
        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]
        //   newParts: [0, 2,  ,  ,  ,  , 6] <- stuck: update & move 2
        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    into place and advance
        //                                      newHead
        //         newHead ^           ^ newTail
        //
        // * Note that for moves/insertions like the one above, a part
        //   inserted at the head pointer is inserted before the
        //   current `oldParts[oldHead]`, and a part inserted at the
        //   tail pointer is inserted before `newParts[newTail+1]`. The
        //   seeming asymmetry lies in the fact that new parts are
        //   moved into place outside in, so to the right of the head
        //   pointer are old parts, and to the right of the tail
        //   pointer are new parts.
        //
        // * We always restart back from the top of the algorithm,
        //   allowing matching and simple updates in place to
        //   continue...
        //
        // * Example below: the head pointers once again match, so
        //   simply update part 1 and record it in the `newParts`
        //   array.  Last, advance both head pointers.
        //
        //         oldHead v        v oldTail
        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]
        //   newParts: [0, 2, 1,  ,  ,  , 6] <- heads matched: update 1
        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead
        //                                      & newHead
        //            newHead ^        ^ newTail
        //
        // * As mentioned above, items that were moved as a result of
        //   being stuck (the final else clause in the code below) are
        //   marked with null, so we always advance old pointers over
        //   these so we're comparing the next actual old value on
        //   either end.
        //
        // * Example below: `oldHead` is null (already placed in
        //   newParts), so advance `oldHead`.
        //
        //            oldHead v     v oldTail
        //   oldKeys:  [0, 1, -, 3, 4, 5, 6] <- old head already used:
        //   newParts: [0, 2, 1,  ,  ,  , 6]    advance oldHead
        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]
        //               newHead ^     ^ newTail
        //
        // * Note it's not critical to mark old parts as null when they
        //   are moved from head to tail or tail to head, since they
        //   will be outside the pointer range and never visited again.
        //
        // * Example below: Here the old tail key matches the new head
        //   key, so the part at the `oldTail` position and move its
        //   DOM to the new head position (before `oldParts[oldHead]`).
        //   Last, advance `oldTail` and `newHead` pointers.
        //
        //               oldHead v  v oldTail
        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]
        //   newParts: [0, 2, 1, 4,  ,  , 6] <- old tail matches new
        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]   head: update & move 4,
        //                                     advance oldTail & newHead
        //               newHead ^     ^ newTail
        //
        // * Example below: Old and new head keys match, so update the
        //   old head part in place, and advance the `oldHead` and
        //   `newHead` pointers.
        //
        //               oldHead v oldTail
        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]
        //   newParts: [0, 2, 1, 4, 3,   ,6] <- heads match: update 3
        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance oldHead &
        //                                      newHead
        //                  newHead ^  ^ newTail
        //
        // * Once the new or old pointers move past each other then all
        //   we have left is additions (if old list exhausted) or
        //   removals (if new list exhausted). Those are handled in the
        //   final while loops at the end.
        //
        // * Example below: `oldHead` exceeded `oldTail`, so we're done
        //   with the main loop.  Create the remaining part and insert
        //   it at the new head position, and the update is complete.
        //
        //                   (oldHead > oldTail)
        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]
        //   newParts: [0, 2, 1, 4, 3, 7 ,6] <- create and insert 7
        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]
        //                     newHead ^ newTail
        //
        // * Note that the order of the if/else clauses is not
        //   important to the algorithm, as long as the null checks
        //   come first (to ensure we're always working on valid old
        //   parts) and that the final else clause comes last (since
        //   that's where the expensive moves occur). The order of
        //   remaining clauses is is just a simple guess at which cases
        //   will be most common.
        //
        // * TODO(kschaaf) Note, we could calculate the longest
        //   increasing subsequence (LIS) of old items in new position,
        //   and only move those not in the LIS set. However that costs
        //   O(nlogn) time and adds a bit more code, and only helps
        //   make rare types of mutations require fewer moves. The
        //   above handles removes, adds, reversal, swaps, and single
        //   moves of contiguous items in linear time, in the minimum
        //   number of moves. As the number of multiple moves where LIS
        //   might help approaches a random shuffle, the LIS
        //   optimization becomes less helpful, so it seems not worth
        //   the code at this point. Could reconsider if a compelling
        //   case arises.
        while (oldHead <= oldTail && newHead <= newTail) {
            if (oldParts[oldHead] === null) {
                // `null` means old part at head has already been used
                // below; skip
                oldHead++;
            }
            else if (oldParts[oldTail] === null) {
                // `null` means old part at tail has already been used
                // below; skip
                oldTail--;
            }
            else if (oldKeys[oldHead] === newKeys[newHead]) {
                // Old head matches new head; update in place
                newParts[newHead] =
                    updatePart(oldParts[oldHead], newValues[newHead]);
                oldHead++;
                newHead++;
            }
            else if (oldKeys[oldTail] === newKeys[newTail]) {
                // Old tail matches new tail; update in place
                newParts[newTail] =
                    updatePart(oldParts[oldTail], newValues[newTail]);
                oldTail--;
                newTail--;
            }
            else if (oldKeys[oldHead] === newKeys[newTail]) {
                // Old head matches new tail; update and move to new tail
                newParts[newTail] =
                    updatePart(oldParts[oldHead], newValues[newTail]);
                insertPartBefore(containerPart, oldParts[oldHead], newParts[newTail + 1]);
                oldHead++;
                newTail--;
            }
            else if (oldKeys[oldTail] === newKeys[newHead]) {
                // Old tail matches new head; update and move to new head
                newParts[newHead] =
                    updatePart(oldParts[oldTail], newValues[newHead]);
                insertPartBefore(containerPart, oldParts[oldTail], oldParts[oldHead]);
                oldTail--;
                newHead++;
            }
            else {
                if (newKeyToIndexMap === undefined) {
                    // Lazily generate key-to-index maps, used for removals &
                    // moves below
                    newKeyToIndexMap = generateMap(newKeys, newHead, newTail);
                    oldKeyToIndexMap = generateMap(oldKeys, oldHead, oldTail);
                }
                if (!newKeyToIndexMap.has(oldKeys[oldHead])) {
                    // Old head is no longer in new list; remove
                    removePart(oldParts[oldHead]);
                    oldHead++;
                }
                else if (!newKeyToIndexMap.has(oldKeys[oldTail])) {
                    // Old tail is no longer in new list; remove
                    removePart(oldParts[oldTail]);
                    oldTail--;
                }
                else {
                    // Any mismatches at this point are due to additions or
                    // moves; see if we have an old part we can reuse and move
                    // into place
                    const oldIndex = oldKeyToIndexMap.get(newKeys[newHead]);
                    const oldPart = oldIndex !== undefined ? oldParts[oldIndex] : null;
                    if (oldPart === null) {
                        // No old part for this value; create a new one and
                        // insert it
                        const newPart = createAndInsertPart(containerPart, oldParts[oldHead]);
                        updatePart(newPart, newValues[newHead]);
                        newParts[newHead] = newPart;
                    }
                    else {
                        // Reuse old part
                        newParts[newHead] =
                            updatePart(oldPart, newValues[newHead]);
                        insertPartBefore(containerPart, oldPart, oldParts[oldHead]);
                        // This marks the old part as having been used, so that
                        // it will be skipped in the first two checks above
                        oldParts[oldIndex] = null;
                    }
                    newHead++;
                }
            }
        }
        // Add parts for any remaining new values
        while (newHead <= newTail) {
            // For all remaining additions, we insert before last new
            // tail, since old pointers are no longer valid
            const newPart = createAndInsertPart(containerPart, newParts[newTail + 1]);
            updatePart(newPart, newValues[newHead]);
            newParts[newHead++] = newPart;
        }
        // Remove any remaining unused old parts
        while (oldHead <= oldTail) {
            const oldPart = oldParts[oldHead++];
            if (oldPart !== null) {
                removePart(oldPart);
            }
        }
        // Save order of new parts for next round
        partListCache.set(containerPart, newParts);
        keyListCache.set(containerPart, newKeys);
    };
});
//# sourceMappingURL=repeat.js.map
// EXTERNAL MODULE: ./node_modules/lit-html/directives/style-map.js
var style_map = __webpack_require__(36);

// EXTERNAL MODULE: ./node_modules/lit-html/lib/parts.js
var lib_parts = __webpack_require__(5);

// CONCATENATED MODULE: ./node_modules/lit-html/directives/unsafe-html.js
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */


// For each part, remember the value that was last rendered to the part by the
// unsafeHTML directive, and the DocumentFragment that was last set as a value.
// The DocumentFragment is used as a unique key to check if the last value
// rendered to the part was with unsafeHTML. If not, we'll always re-render the
// value passed to unsafeHTML.
const unsafe_html_previousValues = new WeakMap();
/**
 * Renders the result as HTML, rather than text.
 *
 * Note, this is unsafe to use with any user-provided input that hasn't been
 * sanitized or escaped, as it may lead to cross-site-scripting
 * vulnerabilities.
 */
const unsafeHTML = Object(lit_html["f" /* directive */])((value) => (part) => {
    if (!(part instanceof lit_html["b" /* NodePart */])) {
        throw new Error('unsafeHTML can only be used in text bindings');
    }
    const previousValue = unsafe_html_previousValues.get(part);
    if (previousValue !== undefined && Object(lib_parts["h" /* isPrimitive */])(value) &&
        value === previousValue.value && part.value === previousValue.fragment) {
        return;
    }
    const template = document.createElement('template');
    template.innerHTML = value; // innerHTML casts to string internally
    const fragment = document.importNode(template.content, true);
    part.setValue(fragment);
    unsafe_html_previousValues.set(part, { value, fragment });
});
//# sourceMappingURL=unsafe-html.js.map
// CONCATENATED MODULE: ./node_modules/lit-html/directives/until.js
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */


const _state = new WeakMap();
// Effectively infinity, but a SMI.
const _infinity = 0x7fffffff;
/**
 * Renders one of a series of values, including Promises, to a Part.
 *
 * Values are rendered in priority order, with the first argument having the
 * highest priority and the last argument having the lowest priority. If a
 * value is a Promise, low-priority values will be rendered until it resolves.
 *
 * The priority of values can be used to create placeholder content for async
 * data. For example, a Promise with pending content can be the first,
 * highest-priority, argument, and a non_promise loading indicator template can
 * be used as the second, lower-priority, argument. The loading indicator will
 * render immediately, and the primary content will render when the Promise
 * resolves.
 *
 * Example:
 *
 *     const content = fetch('./content.txt').then(r => r.text());
 *     html`${until(content, html`<span>Loading...</span>`)}`
 */
const until_until = Object(lit_html["f" /* directive */])((...args) => (part) => {
    let state = _state.get(part);
    if (state === undefined) {
        state = {
            lastRenderedIndex: _infinity,
            values: [],
        };
        _state.set(part, state);
    }
    const previousValues = state.values;
    let previousLength = previousValues.length;
    state.values = args;
    for (let i = 0; i < args.length; i++) {
        // If we've rendered a higher-priority value already, stop.
        if (i > state.lastRenderedIndex) {
            break;
        }
        const value = args[i];
        // Render non-Promise values immediately
        if (Object(lib_parts["h" /* isPrimitive */])(value) ||
            typeof value.then !== 'function') {
            part.setValue(value);
            state.lastRenderedIndex = i;
            // Since a lower-priority value will never overwrite a higher-priority
            // synchronous value, we can stop processing now.
            break;
        }
        // If this is a Promise we've already handled, skip it.
        if (i < previousLength && value === previousValues[i]) {
            continue;
        }
        // We have a Promise that we haven't seen before, so priorities may have
        // changed. Forget what we rendered before.
        state.lastRenderedIndex = _infinity;
        previousLength = 0;
        Promise.resolve(value).then((resolvedValue) => {
            const index = state.values.indexOf(value);
            // If state.values doesn't contain the value, we've re-rendered without
            // the value, so don't render it. Then, only render if the value is
            // higher-priority than what's already been rendered.
            if (index > -1 && index < state.lastRenderedIndex) {
                state.lastRenderedIndex = index;
                part.setValue(resolvedValue);
                part.commit();
            }
        });
    }
});
//# sourceMappingURL=until.js.map
// CONCATENATED MODULE: ./node_modules/@elf/core/lib/utils/elementReady.js
const elementReady_callbacks = new Map();
/**
 * Fires a callback when both element and theme are defined.
 * @param name tag name of the element
 * @param callback callback to execute when both element and theme are ready
 * @returns {void}
 */
const ready = function (name, callback) {
    const callbackCollection = elementReady_callbacks.get(name) || [];
    callbackCollection.push(callback);
    if (callbackCollection.length === 2) {
        try {
            callbackCollection.forEach(callback => callback && callback());
        }
        catch (e) {
            setTimeout(() => {
                throw e;
            });
        }
        finally {
            elementReady_callbacks.delete(name);
        }
    }
    else {
        elementReady_callbacks.set(name, callbackCollection);
    }
};

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/errors/GenericError.js
const generateMessage = (message, supportURL) => !supportURL ? message : `${message}\n\n${supportURL}\n`;
class GenericError extends Error {
    constructor(message, supportURL) {
        super(generateMessage(message, supportURL));
        this.stack = undefined; // Clean error
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/errors/DuplicateStyleError.js

const DuplicateStyleError_generateMessage = (name) => 
/* eslint-disable-next-line indent */
`Only one theme file can be loaded per element

[${name}] has already been defined.

Potential causes:
1. You are trying to load a multiple variants of a theme
2. You have loaded multiple themes in your application bundle
3. Duplication of styles occur in async module imports`;
class DuplicateStyleError_DuplicateStyleError extends GenericError {
    constructor(name) {
        super(DuplicateStyleError_generateMessage(name), 'https://elf.int.refinitiv.com/error/duplicate-styles');
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/registries/CustomStyleRegistry.js


const register = new Map();
/**
 * Custom Style Registry takes theme styles
 * and applies them to elements when they are defined.
 */
class CustomStyleRegistry_CustomStyleRegistry {
    /**
     * Define a style definition for a custom element.
     * @param name tag name of the custom element
     * @param css css style string
     * @returns {void}
     */
    static define(name, css) {
        if (register.has(name)) {
            throw new DuplicateStyleError_DuplicateStyleError(name);
        }
        register.set(name, css);
        ready(name);
    }
    /**
     * Gets any custom style that has already been defined.
     * @param name tag name of the custom element
     * @returns css styles, based on the tag name
     */
    static get(name) {
        return register.get(name) || '';
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/errors/DuplicateElementError.js

const DuplicateElementError_generateMessage = (name) => 
/* eslint-disable-next-line indent */
`Only one version of a Custom Element can be registered in the browser

[${name}] has already been defined.

Recommended fix:
1. Run 'npm dedupe' in you project folder
2. Rebuild your project`;
class DuplicateElementError_DuplicateElementError extends GenericError {
    constructor(name) {
        super(DuplicateElementError_generateMessage(name), 'https://elf.int.refinitiv.com/error/duplicate-element');
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/registries/ElementRegistry.js




class ElementRegistrationItem {
    constructor(definition) {
        this.creations = 0;
        this.connections = 0;
        this.disconnections = 0;
        this.version = definition.version;
    }
}
const ElementRegistry_register = new Map();
const upgrade = (name, definition) => {
    const baseStyles = definition.styles;
    const themeStyles = unsafeCSS(CustomStyleRegistry_CustomStyleRegistry.get(name));
    const styles = [].concat(baseStyles ? [baseStyles, themeStyles] : themeStyles);
    /**
     * Override the static styles property,
     * defined in the element. Inject element styles + theme styles.
     * @override
     */
    Object.defineProperty(definition, 'styles', {
        get() {
            return styles;
        }
    });
    customElements.define(name, definition);
};
class ElementRegistry_ElementRegistry {
    /**
     * Define a new custom element into the registry.
     * @param name tag name of the custom element
     * @param definition the class definition of the element
     * @returns {void}
     */
    static define(name, definition) {
        if (ElementRegistry_register.has(name)) {
            // Allow the application to still load
            setTimeout(() => {
                throw new DuplicateElementError_DuplicateElementError(name);
            });
        }
        else {
            ElementRegistry_register.set(name, new ElementRegistrationItem(definition));
            ready(name, () => upgrade(name, definition));
        }
    }
    /**
     * Gets the definition of an already defined custom element.
     * @param name tag name of the custom element
     * @returns Element registration object, or, `undefined`,
     * when there is no item registered by the provided name.
     */
    static get(name) {
        return ElementRegistry_register.get(name);
    }
    /**
     * Logs the creation of an element
     * @param element ELement to register the creation of
     * @returns {void}
     */
    static create(element) {
        const { localName: name } = element;
        if (ElementRegistry_register.has(name)) {
            ElementRegistry_register.get(name).creations += 1;
        }
    }
    /**
     * Logs the connection of an element
     * @param element ELement to register the connection of
     * @returns {void}
     */
    static connect(element) {
        const { localName: name } = element;
        if (ElementRegistry_register.has(name)) {
            ElementRegistry_register.get(name).connections += 1;
        }
    }
    /**
     * Logs the disconnection of an element
     * @param element ELement to register the disconnection of
     * @returns {void}
     */
    static disconnect(element) {
        const { localName: name } = element;
        if (ElementRegistry_register.has(name)) {
            ElementRegistry_register.get(name).disconnections += 1;
        }
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/registries/FocusRegistry.js

const FocusRegistry_register = new Set(); /* Track all active elements */
const focusedMap = new Map(); /* Track all focused elements */
const FocusedPropertyKey = Symbol('focused');
let autoFocusFrame = null;
const autoFocus = (element) => {
    /* need to wait for elements to render, first come first focused */
    if (element.autofocus && autoFocusFrame === null) {
        autoFocusFrame = requestAnimationFrame(() => {
            autoFocusFrame = null;
            element.focus();
        });
    }
};
// Keys are unreliable when performed outside the main window
let isKey = false; /* true if any key is pressed */
let isKeyTab = false; /* true if Tab is pressed */
let isKeyShift = false; /* true if Shift is pressed */
/**
 * Reset keys. Run of keyup or on window blur
 * @returns {void}
 */
const resetKeys = () => {
    isKey = false;
    isKeyTab = false;
    isKeyShift = false;
};
/**
 * Get an active element either on document or inside the shadow root
 * @param [deep=false] set to true to look through all shadow root elements
 * @returns active element or null
 */
const getActiveElement = (deep = false) => {
    const getShadowActiveElement = (activeElement) => {
        var _a;
        if ((_a = activeElement === null || activeElement === void 0 ? void 0 : activeElement.shadowRoot) === null || _a === void 0 ? void 0 : _a.activeElement) {
            if (deep) {
                return getShadowActiveElement(activeElement.shadowRoot.activeElement);
            }
            return activeElement.shadowRoot.activeElement;
        }
        return activeElement;
    };
    return getShadowActiveElement(document.activeElement);
};
/**
 * Delegate focus to the first or last tabbable element
 * @param element Custom element
 * @param [first=true] Set to false to delegate to last tabbable element
 * @returns {void}
 */
const delegateFocus = (element, first = true) => {
    const tabbableElements = element.tabbableElements;
    const delegateFocusElement = tabbableElements[first ? 0 : tabbableElements.length - 1];
    if (delegateFocusElement && delegateFocusElement !== element) {
        delegateFocusElement.focus();
    }
};
/**
 * Get all elements in ancestor tree that are of BasicElement
 * @param target A node to start searching from
 * @param [includeAll=false] Set to true to include all registered elements, not just tabbable
 * @returns collection of BasicElement
 */
const getRegisteredPath = (target, includeAll = false) => {
    let node = target;
    const elements = [];
    while (node) {
        if (node instanceof BasicElement_BasicElement && FocusRegistry_register.has(node) && (includeAll || node.tabbable)) {
            elements.push(node);
        }
        if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {
            node = node.host;
        }
        else {
            node = node.parentNode;
        }
    }
    return elements;
};
/**
 * Run when document keydown event happens
 * Pass through the focus on shift tab, to delegate to the previous element
 * @param event Keyboard event
 * @returns {void}
 */
const onDocumentKeyDown = (event) => {
    isKey = true;
    isKeyTab = event.key === 'Tab';
    isKeyShift = event.shiftKey;
    if (isKeyTab && isKeyShift) {
        // If current focused is the first in focus, focus on self to move to previous element
        const path = getRegisteredPath(event.composedPath()[0]);
        const activeElement = getActiveElement(true);
        for (let i = path.length - 1; i >= 0; i -= 1) {
            const parent = path[i];
            const firstTabbableElement = parent.tabbableElements[0];
            if (firstTabbableElement === activeElement) {
                parent.focus();
                return;
            }
        }
    }
};
/**
 * Check if an element should delegate focus
 * @param target Target
 * @returns true if should
 */
const shouldDelegateOnFocus = (target) => {
    return !isKeyShift
        && target instanceof BasicElement_BasicElement
        && FocusRegistry_register.has(target)
        && target.delegatesFocus
        && getActiveElement(true) === target;
};
let syncAnimationFrame = null;
/**
 * Set element `focused` state in asynchronous way
 * @returns {void}
 */
const updateFocusedState = () => {
    if (syncAnimationFrame) {
        cancelAnimationFrame(syncAnimationFrame);
    }
    const focused = isKey ? 'visible' : '';
    syncAnimationFrame = requestAnimationFrame(() => {
        syncAnimationFrame = null;
        const activeElement = getActiveElement(true);
        const focusedPath = activeElement ? getRegisteredPath(activeElement, true) : [];
        focusedMap.forEach((state, el) => {
            if (!focusedPath.includes(el)) {
                focusedMap.delete(el);
                el.removeAttribute('focused');
                void el.requestUpdate(FocusedPropertyKey, true);
            }
        });
        focusedPath.forEach(el => {
            const focusedChanged = !focusedMap.has(el);
            if (!focusedChanged || focusedMap.get(el) !== focused) {
                focusedMap.set(el, focused);
                el.setAttribute('focused', focused);
                focusedChanged && el.requestUpdate(FocusedPropertyKey, false);
            }
        });
    });
};
/**
 * Run on focus event
 * @param event Focus event
 * @returns {void}
 */
const onFocus = (event) => {
    const target = event.target;
    shouldDelegateOnFocus(target) && delegateFocus(target);
    updateFocusedState();
};
/**
 * Run on blur event
 * @returns {void}
 */
const onBlur = () => {
    updateFocusedState();
};
const onDocumentFocus = (event) => onFocus(event);
const onDocumentBlur = () => onBlur();
const onDocumentKeyUp = () => resetKeys();
const onWindowBlur = () => resetKeys();
const onShadowRootFocus = function (event) {
    onFocus(event);
};
const onShadowRootBlur = function () {
    const element = this.host;
    /* this is required because Chrome does not fire focus event on document or shadowRoot when focus
    changes from shadowRoot to element itself */
    if (element.delegatesFocus) {
        requestAnimationFrame(() => {
            if (getActiveElement(true) === element) {
                delegateFocus(element);
            }
            updateFocusedState();
        });
    }
};
class FocusRegistry {
    /**
     * Connect an element to focus global listener
     * @param element Element to register the connection of
     * @returns {void}
     */
    static connect(element) {
        if (!FocusRegistry_register.size) {
            document.addEventListener('keydown', onDocumentKeyDown, true);
            document.addEventListener('keyup', onDocumentKeyUp, true);
            document.addEventListener('focus', onDocumentFocus, true);
            document.addEventListener('blur', onDocumentBlur, true);
            window.addEventListener('blur', onWindowBlur);
        }
        if (element.renderRoot instanceof ShadowRoot) {
            /* No need to remove listeners as same callback with the same scope is skipped */
            element.renderRoot.addEventListener('focus', onShadowRootFocus, true);
            element.renderRoot.addEventListener('blur', onShadowRootBlur, true);
        }
        FocusRegistry_register.add(element);
        autoFocus(element);
    }
    /**
     * Disconnect an element of focus global listener
     * @param element Element to register the disconnection of
     * @returns {void}
     */
    static disconnect(element) {
        FocusRegistry_register.delete(element);
        if (!FocusRegistry_register.size) {
            document.removeEventListener('keydown', onDocumentKeyDown, true);
            document.removeEventListener('keyup', onDocumentKeyUp, true);
            document.removeEventListener('focus', onDocumentFocus, true);
            document.removeEventListener('blur', onDocumentBlur, true);
            window.removeEventListener('blur', onWindowBlur);
        }
    }
}


// CONCATENATED MODULE: ./node_modules/@elf/core/lib/utils/shadyStyles.js
const _ShadyCSS = window.ShadyCSS;
const ShadyCSS = _ShadyCSS && !_ShadyCSS.nativeCss ? _ShadyCSS : undefined;

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/utils/matches.js
// eslint-disable-next-line @typescript-eslint/ban-ts-ignore
// @ts-ignore
// eslint-disable-next-line @typescript-eslint/unbound-method
const matchesPrototype = Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
/**
 * Cross-browser implementation of Element.matches function to
 * check if the Element would be selected by the provided selectorString
 * @param element an element to run matches on
 * @param selectors is a string representing the selector to test
 * @returns true if selectors matches
 */
const matches = (element, selectors) => {
    return matchesPrototype.call(element, selectors);
};

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/utils/focusableHelper.js


/**
 * An improved copy of IronFocusablesHelper
 */
class focusableHelper_FocusableHelper {
    /**
     * Returns the normalized element tabindex. If not focusable, returns -1.
     * It checks for the attribute "tabindex" instead of the element property
     * `tabIndex` since browsers assign different values to it.
     * e.g. in Firefox `<div contenteditable>` has `tabIndex = -1`
     * @param element Element
     * @returns normalizedTabIndex
     */
    static normalizedTabIndex(element) {
        if (this.isFocusable(element)) {
            const tabIndex = element.getAttribute('tabindex') || 0;
            return Number(tabIndex);
        }
        return -1;
    }
    /**
     * Searches for nodes that are tabbable and adds them to the `result` array.
     * Returns if the `result` array needs to be sorted by tabindex.
     * @param node The starting point for the search; added to `result` if tabbable.
     * @param result Result
     * @param delegatedList A collection of nodes, which cannot follow DOM order
     * @returns needsSort
     */
    static collectTabbableNodes(node, result, delegatedList) {
        // If not an element or not visible, no need to explore children.
        const element = node;
        if (node.nodeType !== Node.ELEMENT_NODE || !this.isVisible(element)) {
            return false;
        }
        const tabIndex = this.normalizedTabIndex(element);
        let needsSort = tabIndex > 0;
        if (tabIndex >= 0) {
            result.push(element);
        }
        let children;
        if (element.localName === 'content' || element.localName === 'slot') {
            children = element.assignedNodes({ flatten: true });
        }
        else if (element.shadowRoot) {
            // Use shadow root if possible, will check for distributed nodes.
            children = element.shadowRoot.children;
        }
        else {
            children = element.children || []; // in IE11 for SVG elements can be undefined
        }
        let childrenNeedSort = false;
        let tabbableChildren = [];
        for (let i = 0; i < children.length; i += 1) {
            // Ensure method is always invoked to collect tabbable children.
            childrenNeedSort = this.collectTabbableNodes(children[i], tabbableChildren, delegatedList) || childrenNeedSort;
        }
        // If element delegates focus, but does not have any children, the element still can be focused.
        if (element instanceof BasicElement_BasicElement && element.delegatesFocus && tabIndex >= 0 && tabbableChildren.length && element.hasAttribute('tabindex')) {
            // Sort collection immediately as the order is dictated by delegated element
            if (childrenNeedSort) {
                tabbableChildren = this.sortByTabIndex(tabbableChildren);
            }
            delegatedList.unshift({
                element,
                children: tabbableChildren
            });
        }
        else {
            needsSort = childrenNeedSort || needsSort;
            result.push(...tabbableChildren);
        }
        return needsSort;
    }
    /**
     * Sorts an array of tabbable elements by tabindex. Returns a new array.
     * @param tabbables Tabbables
     * @returns sortedList
     */
    static sortByTabIndex(tabbables) {
        // Implement a merge sort as Array.prototype.sort does a non-stable sort
        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort
        const len = tabbables.length;
        if (len < 2) {
            return tabbables;
        }
        const pivot = Math.ceil(len / 2);
        const left = this.sortByTabIndex(tabbables.slice(0, pivot));
        const right = this.sortByTabIndex(tabbables.slice(pivot));
        return focusableHelper_FocusableHelper.mergeSortByTabIndex(left, right);
    }
    /**
     * Process remaining nodes to compose the list of tabbable nodes taking into account that
     * some elements are delegated
     * @param result Result
     * @param delegatedList A collection of nodes, which cannot follow natural DOM order
     * @returns {void}
     */
    static composeDelegated(result, delegatedList) {
        for (let i = 0; i < delegatedList.length; i += 1) {
            const { element, children } = delegatedList[i];
            const index = result.indexOf(element);
            if (index !== -1) {
                // If element delegates focus and has focusable children, it cannot be focused itself.
                // Strip this element and keep the order.
                result.splice(index, 1, ...children);
            }
        }
    }
    /**
     * Merge sort iterator, merges the two arrays into one, sorted by tab index.
     * @param left Left list
     * @param right Right list
     * @returns sorted list
     */
    static mergeSortByTabIndex(left, right) {
        const result = [];
        while ((left.length > 0) && (right.length > 0)) {
            if (focusableHelper_FocusableHelper.hasLowerTabOrder(left[0], right[0])) {
                result.push(right.shift());
            }
            else {
                result.push(left.shift());
            }
        }
        return result.concat(left, right);
    }
    /**
     * Returns if element `a` has lower tab order compared to element `b`
     * (both elements are assumed to be focusable and tabbable).
     * Elements with tabindex = 0 have lower tab order compared to elements
     * with tabindex > 0.
     * If both have same tabindex, it returns false.
     * @param a Left-side element
     * @param b Right-side element
     * @returns isLower
     */
    static hasLowerTabOrder(a, b) {
        // Normalize tabIndexes
        // e.g. in Firefox `<div contenteditable>` has `tabIndex = -1`
        const ati = Math.max(a.tabIndex, 0);
        const bti = Math.max(b.tabIndex, 0);
        return (ati === 0 || bti === 0) ? bti > ati : ati > bti;
    }
    /**
     * Returns false if the element has `visibility: hidden` or `display: none`
     * @param element Element
     * @returns visible
     */
    static isVisible(element) {
        const style = window.getComputedStyle(element);
        return style.visibility !== 'hidden' && style.display !== 'none';
    }
    /**
     * Returns a sorted array of tabbable nodes, including the root node.
     * It searches the tabbable nodes in the light and shadow dom of the children,
     * sorting the result by tabindex.
     * @param node Node
     * @returns tabbableNodes
     */
    static getTabbableNodes(node) {
        let result = [];
        const delegatedList = [];
        // If there is at least one element with tabindex > 0, we need to sort
        // the final array by tabindex.
        const needsSortByTabIndex = this.collectTabbableNodes(node, result, delegatedList);
        if (needsSortByTabIndex) {
            result = this.sortByTabIndex(result);
        }
        this.composeDelegated(result, delegatedList);
        return result;
    }
    /**
     * Returns if a element is focusable.
     * @param element Element
     * @returns focusable
     */
    static isFocusable(element) {
        // From http://stackoverflow.com/a/1600194/4228703:
        // There isn't a definite list, it's up to the browser. The only
        // standard we have is DOM Level 2 HTML
        // https://www.w3.org/TR/DOM-Level-2-HTML/html.html, according to which the
        // only elements that have a focus() method are HTMLInputElement,
        // HTMLSelectElement, HTMLTextAreaElement and HTMLAnchorElement. This
        // notably omits HTMLButtonElement and HTMLAreaElement. Referring to these
        // tests with tabbables in different browsers
        // http://allyjs.io/data-tables/focusable.html
        // Elements that cannot be focused if they have [disabled] attribute.
        if (matches(element, 'input, select, textarea, button, object')) {
            return matches(element, ':not([disabled])');
        }
        // Elements that can be focused even if they have [disabled] attribute.
        return matches(element, 'a[href], area[href], iframe, [tabindex], [contentEditable]');
    }
    /**
     * Returns if a element is tabbable. To be tabbable, a element must be
     * focusable, visible, and with a tabindex !== -1.
     * @param element Element
     * @returns tabbable
     */
    static isTabbable(element) {
        return this.isFocusable(element) && element.tabIndex >= 0 && this.isVisible(element);
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/elements/BasicElement.js
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





const CSS_VARIABLE_REGEXP = /^--\w/;
const CSS_VARIABLE_REPLACE_REGEXP = /['"]([^'"]+?)['"]/g;
const NOTIFY_REGEXP = /([a-zA-Z])(?=[A-Z])/g;
const isNullOrUndefined = (v) => v === undefined || v === null;
const toChangedEvent = (name) => `${name.replace(NOTIFY_REGEXP, '$1-').toLowerCase()}-changed`;
/**
 * Gets a computed style value from any HTML element
 * @param el Element to get computed styles from
 * @param key CSS property key, used to get the value
 * @returns CSS style property value
 */
const getComputedStyleValue = (el, key) => {
    if (ShadyCSS) {
        try {
            /**
             * There's a bug in ShadyCSS. Which means this can fail,
             * if called on an element too early :(
             */
            return ShadyCSS.getComputedStyleValue(el, key);
        }
        catch (e) {
            return '';
        }
    }
    return getComputedStyle(el).getPropertyValue(key);
};
/**
 * Basic element base class.
 * Usually used for creating low-level elements.
 */
class BasicElement_BasicElement extends lit_element_LitElement {
    /**
     * Creates and registers instance of Element.
     */
    constructor() {
        super();
        /**
         * Set the default tabindex of element
         * null - for unset
         * -1 - can be focused; but cannot be tabbed
         * 0 - can be focused; can be tabbed; the order is based on DOM order
         * >= 1 - can be focused; can be tabbed; the order is based on tabindex (anti-pattern)
         */
        this.defaultTabIndex = null;
        /**
         * False to not delegate the focus by default
         */
        this.delegatesFocus = false;
        /**
         * The element should be automatically focused after added to the DOM.
         * Only one element can be auto-focused at any time.
         */
        this.autofocus = false;
        ElementRegistry_ElementRegistry.create(this);
    }
    /**
     * Get focused state of an element:
     * @readonly
     */
    get focused() {
        return this.hasAttribute('focused');
    }
    /**
    * Gets any defined css variables by name/key
    * @param options options list of variables and fallbacks
    * @returns value of the css variable, or, fallback if specified, when a a variable is null.
    * @deprecated
    */
    cssVariable(...options) {
        /* eslint-disable-next-line no-console */
        console.warn('this.cssVariable() is deprecated. Use this.getComputedVariable() instead.');
        return this.getComputedVariable(...options);
    }
    /**
     * Gets any defined css variables by name/key
     * @param options options list of variables and fallbacks
     * @returns value of the css variable, or, fallback if specified, when a a variable is null.
     * @example
     * this.getComputedVariable('--valid-name'); // return value of the --valid-name
     * this.getComputedVariable('--invalid-name', '10px'); // return fallback value 10px
     */
    getComputedVariable(...options) {
        const option = options.length ? options.shift() + '' : '';
        if (CSS_VARIABLE_REGEXP.test(option)) {
            const val = getComputedStyleValue(this, option)
                .trim().replace(CSS_VARIABLE_REPLACE_REGEXP, '$1');
            return val ? val : this.getComputedVariable(...options);
        }
        return option; // fallback
    }
    /**
     * Updates, adds, or removes a css variable from the element.
     * @param key css variable key
     * @param value css variable value
     * @returns {void}
     */
    updateVariable(key, value) {
        if (CSS_VARIABLE_REGEXP.test(key)) {
            if (ShadyCSS) {
                ShadyCSS.styleSubtree(this, { [key]: value });
            }
            else if (isNullOrUndefined(value)) {
                this.style.removeProperty(key);
            }
            else {
                this.style.setProperty(key, value + '');
            }
        }
    }
    /**
     * Update styles when using ShadyCSS scoping and custom property shim
     * @param {CSSProps} props properties for apply to the document
     * @returns {void}
     */
    updateStyles(props) {
        if (ShadyCSS) {
            ShadyCSS.styleDocument(props);
        }
    }
    /**
     * Dispatch property change event when the property's value has been changed.
     * Event name is transformed to hyphen case, e.g. myProperty -> my-property-changed.
     * Event details contain the new value.
     * @param name Property name
     * @param value New value
     * @param [cancelable=false] Set to true if the event can be cancelled
     * @returns false if the event is prevented
     */
    notifyPropertyChange(name, value, cancelable = false) {
        const event = new CustomEvent(toChangedEvent(name), {
            cancelable,
            bubbles: false,
            detail: {
                value
            }
        });
        this.dispatchEvent(event);
        if (event.defaultPrevented) {
            return false;
        }
        return true;
    }
    /**
     * Registers the connection to the DOM
     * @returns {void}
     */
    connectedCallback() {
        super.connectedCallback();
        ElementRegistry_ElementRegistry.connect(this);
        // process tabindex before any other callbacks
        if (!this.hasAttribute('tabindex') && typeof this.defaultTabIndex === 'number') {
            this.tabIndex = this.defaultTabIndex;
        }
        FocusRegistry.connect(this);
    }
    /**
     * Registers the disconnection from the DOM
     * @returns {void}
     */
    disconnectedCallback() {
        super.disconnectedCallback();
        ElementRegistry_ElementRegistry.disconnect(this);
        FocusRegistry.disconnect(this);
    }
    /**
     * Check to see if the element if tabbable.
     * Element is tabbable if it has tabindex >=0
     * and is visible on the screen.
     */
    get tabbable() {
        return focusableHelper_FocusableHelper.isTabbable(this);
    }
    /**
     * Get a sorted collection of nodes that can be tabbed through.
     */
    get tabbableElements() {
        return focusableHelper_FocusableHelper.getTabbableNodes(this);
    }
    /**
     * Placeholder for getting an element's version number
     * @returns version number
     */
    static get version() {
        return 'unknown';
    }
}
__decorate([
    property({ type: Boolean, attribute: 'autofocus', reflect: true })
], BasicElement_BasicElement.prototype, "autofocus", void 0);

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/notices/Notice.js
const Notice_generateMessage = (type, message, supportURL) => `${type} notice:\n${!supportURL ? message : `${message}\n\n${supportURL}\n`}`;
/**
 * **Notice**\
 * Used to show notices in the console.
 */
class Notice {
    /**
     * Create a warning notice to show in the console.
     * @param message Warning message to show in the console
     * @param supportURL Support URL to show additional information
     */
    constructor(message, supportURL) {
        /**
         * Flag used to check whether the notice has
         * already been shown in the console.
         */
        this.shown = false;
        /**
         * Type of notice
         */
        this.type = 'Information';
        this.message = Notice_generateMessage(this.type, message, supportURL);
    }
    /**
     * Shows the warning notice in the console
     * @returns {void}
     */
    show() {
        /* eslint-disable-next-line no-console */
        console.info(this.message);
        this.shown = true;
    }
    /**
     * Shows the warning notice only once
     * @returns {void}
     */
    once() {
        if (!this.shown) {
            this.show();
        }
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/notices/WarningNotice.js

/**
 * **Warning Notice**\
 * Used to show warning notices in the console.
 */
class WarningNotice_WarningNotice extends Notice {
    constructor() {
        super(...arguments);
        this.type = 'Warning';
    }
    show() {
        /* eslint-disable-next-line no-console */
        console.warn(this.message);
        this.shown = true;
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/elements/ControlElement.js
var ControlElement_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



/**
 * Control element base class.
 * Usually used for creating form-style elements.
 */
class ControlElement_ControlElement extends BasicElement_BasicElement {
    constructor() {
        super(...arguments);
        /**
         * All control element by default need to be focusable
         */
        this.defaultTabIndex = 0;
        /**
         * Control element should delegate focus by default
         */
        this.delegatesFocus = true;
        /**
         * Name of the element.
         */
        this.name = '';
        /**
         * Indicates whether the user can interact with the element.
         */
        this.disabled = false;
        /**
         * Indicates whether the user can interact and still show value with the element.
         */
        this.readonly = false;
        /**
         * Value of the `tabindex` before focusing was disabled.
         */
        this.oldTabIndex = null;
        /**
         * Internal value of the element.
         * Controlled by public setter and getter
         */
        this._value = '';
    }
    /**
     * Value of the element
     * @param value Element value
     */
    set value(value) {
        const oldValue = this._value;
        value = this.castValue(value);
        if (!this.isValidValue(value)) {
            this.warnInvalidValue(value);
            value = '';
        }
        if (oldValue !== value) {
            this._value = value;
            this.requestUpdate('value', oldValue);
        }
    }
    get value() {
        return this._value;
    }
    /**
     * Get a sorted collection of nodes that can be tabbed through if component not disabled.
     */
    get tabbableElements() {
        return this.disabled ? [] : super.tabbableElements;
    }
    /**
     * @override
     * @returns {void}
     */
    update(changedProperties) {
        if (changedProperties.has('disabled')) {
            this.disableChanged(changedProperties);
        }
        if (changedProperties.has('readonly')) {
            this.readonlyChanged(this.readonly);
        }
        super.update(changedProperties);
    }
    /**
     * Update disabled state if detect value changed
     * @param changedProperties Properties that has changed
     * @returns {void}
     */
    disableChanged(changedProperties) {
        this.setAttribute('aria-disabled', this.disabled ? 'true' : 'false');
        if (this.disabled) {
            this.disableFocus();
        }
        else if (changedProperties.get('disabled') === true) { /* re-enable only if disabled changed from true to false */
            this.enableFocus();
        }
    }
    /**
     * Update readonly state if detect value changed
     * @param readonly new value change
     * @returns {void}
     */
    readonlyChanged(readonly) {
        this.setAttribute('aria-readonly', readonly ? 'true' : 'false');
    }
    /**
     * Re-enables focus, if the focus has been previously
     * disabled by running disableFocus.
     * @returns {void}
     */
    enableFocus() {
        this.style.removeProperty('pointer-events');
        if (this.oldTabIndex !== null && this.tabIndex === -1) {
            this.tabIndex = this.oldTabIndex;
        }
        this.oldTabIndex = null;
    }
    /**
     * Disables the ability to focus and tab on element.
     * @returns {void}
     */
    disableFocus() {
        this.style.setProperty('pointer-events', 'none');
        if (this.hasAttribute('tabindex') && this.tabIndex >= 0) {
            this.oldTabIndex = this.tabIndex;
            this.tabIndex = -1;
        }
        this.hasAttribute('focused') && this.blur();
    }
    /**
     * Cast value to string
     * @param value Value that is not string, but
     * which may be set by app developer, e.g. number or date
     * @returns string representation of the value
     */
    castValue(value) {
        if (typeof value === 'string') {
            return value;
        }
        if (value === null) {
            return '';
        }
        return `${value}`;
    }
    /**
     * Used to show a warning when the value does not pass the validation
     * @param value that is invalid
     * @returns {void}
     */
    warnInvalidValue(value) {
        new WarningNotice_WarningNotice(`The specified value "${value}" is not valid.`).show();
    }
    /**
     * Validate that the value confirms the control type
     * The validation resets value.
     * For input validation use lazy validation.
     * @param value Value to check
     * @returns false if value is invalid
     */
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    isValidValue(value) {
        return true;
    }
    /**
     * On *user-interaction* set the value and notify.
     * @param value New value
     * @returns {void}
     */
    setValueAndNotify(value) {
        if (this.value !== value) {
            this.value = value;
            this.notifyPropertyChange('value', value);
        }
    }
    /**
     * Resets the element value to its initial setting
     * @returns Whether the value has changed
     */
    reset() {
        const initialValue = this.getAttribute('value') || '';
        const currentValue = this.value;
        if (currentValue !== initialValue) {
            this.value = initialValue;
            return true;
        }
        return false;
    }
}
ControlElement_decorate([
    property({ type: String })
], ControlElement_ControlElement.prototype, "name", void 0);
ControlElement_decorate([
    property({ type: Boolean, reflect: true })
], ControlElement_ControlElement.prototype, "disabled", void 0);
ControlElement_decorate([
    property({ type: String })
], ControlElement_ControlElement.prototype, "value", null);
ControlElement_decorate([
    property({ type: Boolean, reflect: true })
], ControlElement_ControlElement.prototype, "readonly", void 0);

// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js
var resizeObservers = [];


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js

var hasActiveObservations = function () {
    return resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });
};


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js

var hasSkippedObservations = function () {
    return resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });
};


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js
var msg = 'ResizeObserver loop completed with undelivered notifications.';
var deliverResizeLoopError = function () {
    var event;
    if (typeof ErrorEvent === 'function') {
        event = new ErrorEvent('error', {
            message: msg
        });
    }
    else {
        event = document.createEvent('Event');
        event.initEvent('error', false, false);
        event.message = msg;
    }
    window.dispatchEvent(event);
};


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js
var ResizeObserverBoxOptions;
(function (ResizeObserverBoxOptions) {
    ResizeObserverBoxOptions["BORDER_BOX"] = "border-box";
    ResizeObserverBoxOptions["CONTENT_BOX"] = "content-box";
    ResizeObserverBoxOptions["DEVICE_PIXEL_CONTENT_BOX"] = "device-pixel-content-box";
})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/utils/freeze.js
var freeze = function (obj) { return Object.freeze(obj); };

// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js

var ResizeObserverSize_ResizeObserverSize = (function () {
    function ResizeObserverSize(inlineSize, blockSize) {
        this.inlineSize = inlineSize;
        this.blockSize = blockSize;
        freeze(this);
    }
    return ResizeObserverSize;
}());


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js

var DOMRectReadOnly_DOMRectReadOnly = (function () {
    function DOMRectReadOnly(x, y, width, height) {
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
        this.top = this.y;
        this.left = this.x;
        this.bottom = this.top + this.height;
        this.right = this.left + this.width;
        return freeze(this);
    }
    DOMRectReadOnly.prototype.toJSON = function () {
        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;
        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };
    };
    DOMRectReadOnly.fromRect = function (rectangle) {
        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);
    };
    return DOMRectReadOnly;
}());


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/utils/element.js
var isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };
var isHidden = function (target) {
    if (isSVG(target)) {
        var _a = target.getBBox(), width = _a.width, height = _a.height;
        return !width && !height;
    }
    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;
    return !(offsetWidth || offsetHeight || target.getClientRects().length);
};
var isElement = function (obj) {
    var _a, _b;
    if (obj instanceof Element) {
        return true;
    }
    var scope = (_b = (_a = obj) === null || _a === void 0 ? void 0 : _a.ownerDocument) === null || _b === void 0 ? void 0 : _b.defaultView;
    return !!(scope && obj instanceof scope.Element);
};
var isReplacedElement = function (target) {
    switch (target.tagName) {
        case 'INPUT':
            if (target.type !== 'image') {
                break;
            }
        case 'VIDEO':
        case 'AUDIO':
        case 'EMBED':
        case 'OBJECT':
        case 'CANVAS':
        case 'IFRAME':
        case 'IMG':
            return true;
    }
    return false;
};


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/utils/global.js
var global = typeof window !== 'undefined' ? window : {};

// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js






var calculateBoxSize_cache = new WeakMap();
var scrollRegexp = /auto|scroll/;
var verticalRegexp = /^tb|vertical/;
var IE = (/msie|trident/i).test(global.navigator && global.navigator.userAgent);
var parseDimension = function (pixel) { return parseFloat(pixel || '0'); };
var calculateBoxSize_size = function (inlineSize, blockSize, switchSizes) {
    if (inlineSize === void 0) { inlineSize = 0; }
    if (blockSize === void 0) { blockSize = 0; }
    if (switchSizes === void 0) { switchSizes = false; }
    return new ResizeObserverSize_ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);
};
var zeroBoxes = freeze({
    devicePixelContentBoxSize: calculateBoxSize_size(),
    borderBoxSize: calculateBoxSize_size(),
    contentBoxSize: calculateBoxSize_size(),
    contentRect: new DOMRectReadOnly_DOMRectReadOnly(0, 0, 0, 0)
});
var calculateBoxSizes = function (target, forceRecalculation) {
    if (forceRecalculation === void 0) { forceRecalculation = false; }
    if (calculateBoxSize_cache.has(target) && !forceRecalculation) {
        return calculateBoxSize_cache.get(target);
    }
    if (isHidden(target)) {
        calculateBoxSize_cache.set(target, zeroBoxes);
        return zeroBoxes;
    }
    var cs = getComputedStyle(target);
    var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();
    var removePadding = !IE && cs.boxSizing === 'border-box';
    var switchSizes = verticalRegexp.test(cs.writingMode || '');
    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');
    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');
    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);
    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);
    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);
    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);
    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);
    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);
    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);
    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);
    var horizontalPadding = paddingLeft + paddingRight;
    var verticalPadding = paddingTop + paddingBottom;
    var horizontalBorderArea = borderLeft + borderRight;
    var verticalBorderArea = borderTop + borderBottom;
    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;
    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;
    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;
    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;
    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;
    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;
    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;
    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;
    var boxes = freeze({
        devicePixelContentBoxSize: calculateBoxSize_size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),
        borderBoxSize: calculateBoxSize_size(borderBoxWidth, borderBoxHeight, switchSizes),
        contentBoxSize: calculateBoxSize_size(contentWidth, contentHeight, switchSizes),
        contentRect: new DOMRectReadOnly_DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)
    });
    calculateBoxSize_cache.set(target, boxes);
    return boxes;
};
var calculateBoxSize = function (target, observedBox, forceRecalculation) {
    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;
    switch (observedBox) {
        case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:
            return devicePixelContentBoxSize;
        case ResizeObserverBoxOptions.BORDER_BOX:
            return borderBoxSize;
        default:
            return contentBoxSize;
    }
};


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js


var ResizeObserverEntry_ResizeObserverEntry = (function () {
    function ResizeObserverEntry(target) {
        var boxes = calculateBoxSizes(target);
        this.target = target;
        this.contentRect = boxes.contentRect;
        this.borderBoxSize = freeze([boxes.borderBoxSize]);
        this.contentBoxSize = freeze([boxes.contentBoxSize]);
        this.devicePixelContentBoxSize = freeze([boxes.devicePixelContentBoxSize]);
    }
    return ResizeObserverEntry;
}());


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js

var calculateDepthForNode = function (node) {
    if (isHidden(node)) {
        return Infinity;
    }
    var depth = 0;
    var parent = node.parentNode;
    while (parent) {
        depth += 1;
        parent = parent.parentNode;
    }
    return depth;
};


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js




var broadcastActiveObservations = function () {
    var shallowestDepth = Infinity;
    var callbacks = [];
    resizeObservers.forEach(function processObserver(ro) {
        if (ro.activeTargets.length === 0) {
            return;
        }
        var entries = [];
        ro.activeTargets.forEach(function processTarget(ot) {
            var entry = new ResizeObserverEntry_ResizeObserverEntry(ot.target);
            var targetDepth = calculateDepthForNode(ot.target);
            entries.push(entry);
            ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);
            if (targetDepth < shallowestDepth) {
                shallowestDepth = targetDepth;
            }
        });
        callbacks.push(function resizeObserverCallback() {
            ro.callback.call(ro.observer, entries, ro.observer);
        });
        ro.activeTargets.splice(0, ro.activeTargets.length);
    });
    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {
        var callback = callbacks_1[_i];
        callback();
    }
    return shallowestDepth;
};


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js


var gatherActiveObservationsAtDepth = function (depth) {
    resizeObservers.forEach(function processObserver(ro) {
        ro.activeTargets.splice(0, ro.activeTargets.length);
        ro.skippedTargets.splice(0, ro.skippedTargets.length);
        ro.observationTargets.forEach(function processTarget(ot) {
            if (ot.isActive()) {
                if (calculateDepthForNode(ot.target) > depth) {
                    ro.activeTargets.push(ot);
                }
                else {
                    ro.skippedTargets.push(ot);
                }
            }
        });
    });
};


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/utils/process.js





var process = function () {
    var depth = 0;
    gatherActiveObservationsAtDepth(depth);
    while (hasActiveObservations()) {
        depth = broadcastActiveObservations();
        gatherActiveObservationsAtDepth(depth);
    }
    if (hasSkippedObservations()) {
        deliverResizeLoopError();
    }
    return depth > 0;
};


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js
var trigger;
var queueMicroTask_callbacks = [];
var notify = function () { return queueMicroTask_callbacks.splice(0).forEach(function (cb) { return cb(); }); };
var queueMicroTask = function (callback) {
    if (!trigger) {
        var toggle_1 = 0;
        var el_1 = document.createTextNode('');
        var config = { characterData: true };
        new MutationObserver(function () { return notify(); }).observe(el_1, config);
        trigger = function () { el_1.textContent = "" + (toggle_1 ? toggle_1-- : toggle_1++); };
    }
    queueMicroTask_callbacks.push(callback);
    trigger();
};


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js

var queueResizeObserver = function (cb) {
    queueMicroTask(function ResizeObserver() {
        requestAnimationFrame(cb);
    });
};


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/utils/scheduler.js



var watching = 0;
var isWatching = function () { return !!watching; };
var CATCH_PERIOD = 250;
var observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };
var events = [
    'resize',
    'load',
    'transitionend',
    'animationend',
    'animationstart',
    'animationiteration',
    'keyup',
    'keydown',
    'mouseup',
    'mousedown',
    'mouseover',
    'mouseout',
    'blur',
    'focus'
];
var time = function (timeout) {
    if (timeout === void 0) { timeout = 0; }
    return Date.now() + timeout;
};
var scheduled = false;
var scheduler_Scheduler = (function () {
    function Scheduler() {
        var _this = this;
        this.stopped = true;
        this.listener = function () { return _this.schedule(); };
    }
    Scheduler.prototype.run = function (timeout) {
        var _this = this;
        if (timeout === void 0) { timeout = CATCH_PERIOD; }
        if (scheduled) {
            return;
        }
        scheduled = true;
        var until = time(timeout);
        queueResizeObserver(function () {
            var elementsHaveResized = false;
            try {
                elementsHaveResized = process();
            }
            finally {
                scheduled = false;
                timeout = until - time();
                if (!isWatching()) {
                    return;
                }
                if (elementsHaveResized) {
                    _this.run(1000);
                }
                else if (timeout > 0) {
                    _this.run(timeout);
                }
                else {
                    _this.start();
                }
            }
        });
    };
    Scheduler.prototype.schedule = function () {
        this.stop();
        this.run();
    };
    Scheduler.prototype.observe = function () {
        var _this = this;
        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };
        document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);
    };
    Scheduler.prototype.start = function () {
        var _this = this;
        if (this.stopped) {
            this.stopped = false;
            this.observer = new MutationObserver(this.listener);
            this.observe();
            events.forEach(function (name) { return global.addEventListener(name, _this.listener, true); });
        }
    };
    Scheduler.prototype.stop = function () {
        var _this = this;
        if (!this.stopped) {
            this.observer && this.observer.disconnect();
            events.forEach(function (name) { return global.removeEventListener(name, _this.listener, true); });
            this.stopped = true;
        }
    };
    return Scheduler;
}());
var scheduler = new scheduler_Scheduler();
var updateCount = function (n) {
    !watching && n > 0 && scheduler.start();
    watching += n;
    !watching && scheduler.stop();
};


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/ResizeObservation.js



var skipNotifyOnElement = function (target) {
    return !isSVG(target)
        && !isReplacedElement(target)
        && getComputedStyle(target).display === 'inline';
};
var ResizeObservation_ResizeObservation = (function () {
    function ResizeObservation(target, observedBox) {
        this.target = target;
        this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;
        this.lastReportedSize = {
            inlineSize: 0,
            blockSize: 0
        };
    }
    ResizeObservation.prototype.isActive = function () {
        var size = calculateBoxSize(this.target, this.observedBox, true);
        if (skipNotifyOnElement(this.target)) {
            this.lastReportedSize = size;
        }
        if (this.lastReportedSize.inlineSize !== size.inlineSize
            || this.lastReportedSize.blockSize !== size.blockSize) {
            return true;
        }
        return false;
    };
    return ResizeObservation;
}());


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js
var ResizeObserverDetail = (function () {
    function ResizeObserverDetail(resizeObserver, callback) {
        this.activeTargets = [];
        this.skippedTargets = [];
        this.observationTargets = [];
        this.observer = resizeObserver;
        this.callback = callback;
    }
    return ResizeObserverDetail;
}());


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js




var observerMap = new WeakMap();
var getObservationIndex = function (observationTargets, target) {
    for (var i = 0; i < observationTargets.length; i += 1) {
        if (observationTargets[i].target === target) {
            return i;
        }
    }
    return -1;
};
var ResizeObserverController_ResizeObserverController = (function () {
    function ResizeObserverController() {
    }
    ResizeObserverController.connect = function (resizeObserver, callback) {
        var detail = new ResizeObserverDetail(resizeObserver, callback);
        observerMap.set(resizeObserver, detail);
    };
    ResizeObserverController.observe = function (resizeObserver, target, options) {
        var detail = observerMap.get(resizeObserver);
        var firstObservation = detail.observationTargets.length === 0;
        if (getObservationIndex(detail.observationTargets, target) < 0) {
            firstObservation && resizeObservers.push(detail);
            detail.observationTargets.push(new ResizeObservation_ResizeObservation(target, options && options.box));
            updateCount(1);
            scheduler.schedule();
        }
    };
    ResizeObserverController.unobserve = function (resizeObserver, target) {
        var detail = observerMap.get(resizeObserver);
        var index = getObservationIndex(detail.observationTargets, target);
        var lastObservation = detail.observationTargets.length === 1;
        if (index >= 0) {
            lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);
            detail.observationTargets.splice(index, 1);
            updateCount(-1);
        }
    };
    ResizeObserverController.disconnect = function (resizeObserver) {
        var _this = this;
        var detail = observerMap.get(resizeObserver);
        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });
        detail.activeTargets.splice(0, detail.activeTargets.length);
    };
    return ResizeObserverController;
}());


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/ResizeObserver.js


var ResizeObserver_ResizeObserver = (function () {
    function ResizeObserver(callback) {
        if (arguments.length === 0) {
            throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");
        }
        if (typeof callback !== 'function') {
            throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");
        }
        ResizeObserverController_ResizeObserverController.connect(this, callback);
    }
    ResizeObserver.prototype.observe = function (target, options) {
        if (arguments.length === 0) {
            throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");
        }
        if (!isElement(target)) {
            throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");
        }
        ResizeObserverController_ResizeObserverController.observe(this, target, options);
    };
    ResizeObserver.prototype.unobserve = function (target) {
        if (arguments.length === 0) {
            throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");
        }
        if (!isElement(target)) {
            throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");
        }
        ResizeObserverController_ResizeObserverController.unobserve(this, target);
    };
    ResizeObserver.prototype.disconnect = function () {
        ResizeObserverController_ResizeObserverController.disconnect(this);
    };
    ResizeObserver.toString = function () {
        return 'function ResizeObserver () { [polyfill code] }';
    };
    return ResizeObserver;
}());


// CONCATENATED MODULE: ./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js




// CONCATENATED MODULE: ./node_modules/@elf/core/lib/elements/ResponsiveElement.js


/**
 * Triggers resizedCallback on an element,
 * allowing for content to react to changes
 * before firing a resize event.
 * @param entry ResizeObserverEntry
 * @returns {void}
 */
const triggerResize = (entry) => {
    const { inlineSize: width, blockSize: height } = entry.borderBoxSize[0];
    const event = new CustomEvent('resize', {
        bubbles: false,
        cancelable: false,
        detail: {
            width: width,
            height: height
        }
    });
    /**
     * Trigger resizedCallback before dispatching resize event,
     * to make sure everything inside the function is executed and ready to use
     * in an EventListener
     */
    entry.target.resizedCallback({ width, height });
    entry.target.dispatchEvent(event);
};
/**
 * Global resize observer,
 * used to watch changes in element dimensions
 */
const ResponsiveElement_resizeObserver = new ResizeObserver_ResizeObserver(entries => {
    entries.forEach(entry => triggerResize(entry));
});
/**
 * Responsive element base class.
 * Used for creating elements that need to
 * be aware of their dimensions. Data-viz, charts, grids, etc.
 */
class ResponsiveElement_ResponsiveElement extends BasicElement_BasicElement {
    /**
     * Called when the element has been appended to the DOM
     * @returns {void}
     */
    connectedCallback() {
        super.connectedCallback();
        ResponsiveElement_resizeObserver.observe(this, {
            box: 'border-box' // Observe the outer edges
        });
    }
    /**
     * Called when the element has been removed from the DOM
     * @returns {void}
     */
    disconnectedCallback() {
        ResponsiveElement_resizeObserver.unobserve(this);
        super.disconnectedCallback();
    }
    /**
     * Called when the element's dimensions have changed
     * @param size dimension details
     * @returns {void}
     */
    /* eslint-disable-next-line @typescript-eslint/no-unused-vars */
    resizedCallback(size) {
        // placeholder
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/notices/DeprecationNotice.js

/**
 * **Deprecation Notice**\
 * Used to show deprecation warnings in the console.
 */
class DeprecationNotice_DeprecationNotice extends WarningNotice_WarningNotice {
    constructor() {
        super(...arguments);
        this.type = 'Deprecation';
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/decorators/CustomElement.js


const defaultOptions = {
    theme: true
};
/**
 * Registers a Custom Element
 * into the ELF element registry.
 * Use this instead of `customElements.define`
 * to allow for ELF theming support and telemetry.
 * @param name tag name
 * @param options element registration options
 * @returns Element registration decorator
 */
const CustomElement = function (name, options = defaultOptions) {
    options = Object.assign(Object.assign({}, defaultOptions), options);
    return (target) => {
        ElementRegistry_ElementRegistry.define(name, target);
        if (options.theme === false) {
            CustomStyleRegistry_CustomStyleRegistry.define(name, '');
        }
    };
};

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/utils/global.js
const global_global = (typeof window === 'undefined' ? undefined || {} : window);

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/events/TapEvent.js


const isIE = (/Trident/g).test(navigator.userAgent);
let positions;
let metaKeys;
class TapEvent extends Event {
    constructor(type, eventInitDict) {
        super(type, eventInitDict);
        this.pageX = 0;
        this.pageY = 0;
        this.screenX = 0;
        this.screenY = 0;
        this.clientX = 0;
        this.clientY = 0;
        this.altKey = false;
        this.ctrlKey = false;
        this.metaKey = false;
        this.shiftKey = false;
        if (positions) {
            this.pageX = positions.pageX;
            this.pageY = positions.pageY;
            this.screenX = positions.screenX;
            this.screenY = positions.screenY;
            this.clientX = positions.clientX;
            this.clientY = positions.clientY;
        }
        if (metaKeys) {
            this.altKey = metaKeys.altKey;
            this.ctrlKey = metaKeys.ctrlKey;
            this.metaKey = metaKeys.metaKey;
            this.shiftKey = metaKeys.shiftKey;
        }
    }
}
/**
 * checks if click event is generated by pressing `space` or `enter` on a button
 * @param event click event for checking
 * @return true if event was generated by pressing `space` or `enter` on a button
 */
const isButtonEnterOrSpace = (event) => {
    return isIE && event instanceof PointerEvent ? false : event.detail === 0;
};
/**
 * Run click event if role='button'
 * @param event Enter or Spacebar keyboard event
 * @returns {void}
 */
const onEnterOrSpacebar = (event) => {
    const tapTarget = [...event.composedPath()][0];
    // Matches is split because IE11 does not support `:not(input[type=button])` selector
    if (tapTarget instanceof HTMLElement
        && matches(tapTarget, '[role=button]')
        && !matches(tapTarget, 'button,a,input[type=button],input[type=submit]')) {
        event.preventDefault();
        tapTarget.click();
    }
};
/**
 * Applies tap events to global
 * @param target globalThis or window object
 * @returns {void}
 */
const applyEvent = (target) => {
    /**
     * Should fire `tap` events.
     * This could be false if another library has added this feature.
     */
    const onTap = !('ontap' in target);
    /**
     * Should fire `tapend` events.
     * This could be false if another library has added this feature.
     */
    const onTapEnd = !('ontapend' in target);
    /**
     * Should fire `tapstart` events.
     * This could be false if another library has added this feature.
     */
    const onTapStart = !('ontapstart' in target);
    /**
     * If we can't fire any events,
     * don't bother to add logic.
     */
    if (!onTap && !onTapEnd && !onTapStart) {
        return;
    }
    /**
     * The starting touch point.
     * This is the most recent `touchstart`.
     */
    let startTouch;
    /**
     * The current touch identifier.
     * This is used to keep track of the current touch point,
     * when multiple touches are discovered.
     */
    let currentTouch = -1;
    /**
     * The last tap event target.
     * This is used to filter out duplicate tap events,
     * when a natural click event is fired.
     */
    let lastTapTarget;
    /**
     * Stored event path from `mousestart` event.
     * Used to match correct tap target.
     */
    let mouseEventPath = [];
    /**
     * Stored event path from `touchstart` event.
     * Used to match correct tap target.
     */
    let touchEventPath = [];
    /**
     * Dispatches a tap event on the current tap target
     * @param type event type
     * @param target event target
     * @param info event information
     * @returns {void}
     */
    const dispatchTapOnTarget = (type, target, info) => {
        const { pageX, pageY, screenX, screenY, clientX, clientY } = info;
        positions = { pageX, pageY, screenX, screenY, clientX, clientY };
        if (info instanceof MouseEvent) {
            const { altKey, ctrlKey, shiftKey, metaKey } = info;
            metaKeys = { altKey, ctrlKey, shiftKey, metaKey };
        }
        else {
            metaKeys = undefined;
        }
        const tapEvent = new TapEvent(type, {
            bubbles: true,
            composed: true,
            cancelable: true
        });
        target.dispatchEvent(tapEvent);
        if (tapEvent.defaultPrevented && info instanceof Event) {
            info.preventDefault();
        }
    };
    /**
     * Listen to `mousedown` events on the target.
     * Use this to fire tap events, unless one
     * has already been triggered from a touch event.
     */
    target.addEventListener('mousedown', (event) => {
        if (!lastTapTarget && event.target && currentTouch === -1) {
            mouseEventPath = [...event.composedPath()];
            const tapTarget = mouseEventPath[0];
            if (tapTarget) {
                onTapStart && dispatchTapOnTarget('tapstart', tapTarget, event);
            }
        }
    }, true);
    /**
     * Listen to `mouseup` events on the target.
     * Use this to fire tap events, unless one
     * has already been triggered from a touch event.
     */
    target.addEventListener('mouseup', (event) => {
        if (lastTapTarget) {
            /**
             * Tap events have been dispatched,
             * so rest and return.
             */
            lastTapTarget = null;
            return;
        }
        const path = [...event.composedPath()];
        const tapEndTarget = path[0];
        if (tapEndTarget) {
            onTapEnd && dispatchTapOnTarget('tapend', tapEndTarget, event);
        }
        if (!onTap) {
            return;
        }
        if (mouseEventPath.length < path.length) {
            path.splice(0, path.length - mouseEventPath.length);
        }
        else if (mouseEventPath.length > path.length) {
            mouseEventPath.splice(0, mouseEventPath.length - path.length);
        }
        /**
         * find closest shared NODE_ELEMENT for branches of mousedown and mouseup composedPaths to fire `tap` event
         */
        for (let i = 0; i < mouseEventPath.length - 1; i += 1) {
            if (mouseEventPath[i] === path[i] && path[i].nodeType === Node.ELEMENT_NODE) {
                const tapTarget = mouseEventPath[i];
                dispatchTapOnTarget('tap', tapTarget, event);
                break;
            }
        }
    }, true);
    /**
     * Listen to `touchstart` events
     * to get the initial touch information.
     * Also fires a tapstart event.
     */
    target.addEventListener('touchstart', (event) => {
        startTouch = event.changedTouches[0];
        currentTouch = startTouch.identifier;
        touchEventPath = [...event.composedPath()];
        const tapTarget = touchEventPath[0];
        if (tapTarget) {
            onTapStart && dispatchTapOnTarget('tapstart', tapTarget, startTouch);
        }
    }, true);
    /**
     * Listen to `touchmove` events and cancel any tap event.
     * A `touchmove` event is only fired after threshold has been reached.
     * This keeps it consistent with standard `click` events on touch devices.
     */
    target.addEventListener('touchmove', () => {
        currentTouch = -1;
    }, true);
    /**
     * Listen to `touchend` events.
     * Fire tapend event and check whether
     * a tap event can also be fired.
     */
    target.addEventListener('touchend', (event) => {
        try {
            const touch = event.changedTouches[0];
            const path = [...event.composedPath()];
            if (touchEventPath.length < path.length) {
                path.splice(0, path.length - touchEventPath.length);
            }
            const tapTarget = path[0];
            if (tapTarget) {
                onTapEnd && dispatchTapOnTarget('tapend', tapTarget, touch);
            }
            if (tapTarget && touch.identifier === currentTouch) {
                lastTapTarget = tapTarget;
                onTap && dispatchTapOnTarget('tap', tapTarget, touch);
            }
        }
        finally {
            currentTouch = -1;
        }
    }, true);
    /**
     * Listen to `click` events on the target.
     * Use this to fire tap events, if `enter` or `space` was pressed on button
     */
    target.addEventListener('click', (event) => {
        if (isButtonEnterOrSpace(event)) {
            const path = [...event.composedPath()];
            const tapTarget = path[0];
            onTap && dispatchTapOnTarget('tap', tapTarget, event);
        }
    }, true);
    /**
     * Listen to `keyup` event on the target
     * Use this to fire tap event, if `enter` or `space` is clicked
     */
    target.addEventListener('keyup', (event) => {
        switch (event.key) {
            case 'Enter':
            case 'Spacebar':
            case ' ':
                onEnterOrSpacebar(event);
                return;
            // no default
        }
    }, true);
    /**
     * Updated target containing tap support.
     */
    const tapTarget = target;
    tapTarget.ontap = null;
    tapTarget.ontapstart = null;
    tapTarget.ontapend = null;
};
applyEvent(global_global);

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/registries/NativeStyleRegistry.js


const NativeStyleRegistry_register = new Map();
/**
 * Native Style Registry takes theme styles
 * for standard HTML elements and applies these to the document.
 */
class NativeStyleRegistry_NativeStyleRegistry {
    /**
     * Defines a style definition for a native element.
     * @param name tag name of the element
     * @param css css styles for the element
     * @returns {void}
     */
    static define(name, css) {
        var _a;
        if (NativeStyleRegistry_register.has(name)) {
            throw new DuplicateStyleError_DuplicateStyleError(name);
        }
        NativeStyleRegistry_register.set(name, css);
        // Skip if style has empty content
        // it causes problem in shadyCSS in IE
        if (!css) {
            return;
        }
        const head = document.head;
        const childRef = head.firstElementChild;
        const style = document.createElement('style');
        style.setAttribute('scope', name);
        style.textContent = css;
        childRef ? head.insertBefore(style, childRef) : head.appendChild(style);
        // Register style tag with ShadyCSS
        // to support CSS variables in legacy browsers
        (_a = ShadyCSS === null || ShadyCSS === void 0 ? void 0 : ShadyCSS.CustomStyleInterface) === null || _a === void 0 ? void 0 : _a.addCustomStyle(style);
    }
    /**
     * Gets any native style that has already been defined.
     * @param name tag name of the element
     * @returns css styles, based on the tag name
     */
    static get(name) {
        return NativeStyleRegistry_register.get(name) || '';
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/core/lib/elf.js
/**
 * Export all from lit-element
 */

/**
 * Export directives from lit-html
 * todo: asyncAppend/Replace breaks build
 */
// export { asyncAppend } from 'lit-html/directives/async-append';
// export { asyncReplace } from 'lit-html/directives/async-replace';








/**
 * Export element base classes
 */




class elf_LitElement extends BasicElement_BasicElement {
    constructor() {
        /* eslint-disable-next-line no-console */
        console.warn('Please use an ELF element type, instead of LitElement');
        super();
    }
}
/**
 * Export notices.
 * These can be used to show warning messages in the console.
 * For example, when deprecated features are used in elements.
 */


/**
 * Export Custom Element decorator
 * Use this to register elements into the registry.
 * Overrides customElement decorator from lit-element export.
 * @override
 */

 // We have to do this due to some transpilation issue (es-dev-server --> IE)
/**
 * Export TapEvent
 */

/**
 * Export useful utils
 */


/**
 * Export focused key.
 * Used to observe `focused` attribute changes
 */




global_global.elf = global_global.Elf = global_global.ELF = {
    customStyles: CustomStyleRegistry_CustomStyleRegistry,
    nativeStyles: NativeStyleRegistry_NativeStyleRegistry,
    version: '4.6.3'
};
Object.freeze(global_global.elf);


/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, "h", function() { return /* reexport */ rgb; });
__webpack_require__.d(__webpack_exports__, "f", function() { return /* reexport */ micro_task_runner_MicroTaskRunner; });
__webpack_require__.d(__webpack_exports__, "g", function() { return /* reexport */ timeout_task_runner_TimeoutTaskRunner; });
__webpack_require__.d(__webpack_exports__, "b", function() { return /* reexport */ animation_task_runner_AnimationTaskRunner; });
__webpack_require__.d(__webpack_exports__, "a", function() { return /* reexport */ after_render_task_runner_AfterRenderTaskRunner; });
__webpack_require__.d(__webpack_exports__, "d", function() { return /* reexport */ collection_composer_CollectionComposer; });
__webpack_require__.d(__webpack_exports__, "i", function() { return /* reexport */ esm_browser_v4; });
__webpack_require__.d(__webpack_exports__, "c", function() { return /* reexport */ CdnLoader; });
__webpack_require__.d(__webpack_exports__, "e", function() { return /* reexport */ Deferred; });

// UNUSED EXPORTS: color, hsl, lab, hcl, lch, gray, cubehelix, flush, EventEmitter

// CONCATENATED MODULE: ./node_modules/d3-color/src/define.js
/* harmony default export */ var define = (function(constructor, factory, prototype) {
  constructor.prototype = factory.prototype = prototype;
  prototype.constructor = constructor;
});

function extend(parent, definition) {
  var prototype = Object.create(parent.prototype);
  for (var key in definition) prototype[key] = definition[key];
  return prototype;
}

// CONCATENATED MODULE: ./node_modules/d3-color/src/color.js


function Color() {}

var darker = 0.7;
var brighter = 1 / darker;

var reI = "\\s*([+-]?\\d+)\\s*",
    reN = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",
    reP = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",
    reHex = /^#([0-9a-f]{3,8})$/,
    reRgbInteger = new RegExp("^rgb\\(" + [reI, reI, reI] + "\\)$"),
    reRgbPercent = new RegExp("^rgb\\(" + [reP, reP, reP] + "\\)$"),
    reRgbaInteger = new RegExp("^rgba\\(" + [reI, reI, reI, reN] + "\\)$"),
    reRgbaPercent = new RegExp("^rgba\\(" + [reP, reP, reP, reN] + "\\)$"),
    reHslPercent = new RegExp("^hsl\\(" + [reN, reP, reP] + "\\)$"),
    reHslaPercent = new RegExp("^hsla\\(" + [reN, reP, reP, reN] + "\\)$");

var named = {
  aliceblue: 0xf0f8ff,
  antiquewhite: 0xfaebd7,
  aqua: 0x00ffff,
  aquamarine: 0x7fffd4,
  azure: 0xf0ffff,
  beige: 0xf5f5dc,
  bisque: 0xffe4c4,
  black: 0x000000,
  blanchedalmond: 0xffebcd,
  blue: 0x0000ff,
  blueviolet: 0x8a2be2,
  brown: 0xa52a2a,
  burlywood: 0xdeb887,
  cadetblue: 0x5f9ea0,
  chartreuse: 0x7fff00,
  chocolate: 0xd2691e,
  coral: 0xff7f50,
  cornflowerblue: 0x6495ed,
  cornsilk: 0xfff8dc,
  crimson: 0xdc143c,
  cyan: 0x00ffff,
  darkblue: 0x00008b,
  darkcyan: 0x008b8b,
  darkgoldenrod: 0xb8860b,
  darkgray: 0xa9a9a9,
  darkgreen: 0x006400,
  darkgrey: 0xa9a9a9,
  darkkhaki: 0xbdb76b,
  darkmagenta: 0x8b008b,
  darkolivegreen: 0x556b2f,
  darkorange: 0xff8c00,
  darkorchid: 0x9932cc,
  darkred: 0x8b0000,
  darksalmon: 0xe9967a,
  darkseagreen: 0x8fbc8f,
  darkslateblue: 0x483d8b,
  darkslategray: 0x2f4f4f,
  darkslategrey: 0x2f4f4f,
  darkturquoise: 0x00ced1,
  darkviolet: 0x9400d3,
  deeppink: 0xff1493,
  deepskyblue: 0x00bfff,
  dimgray: 0x696969,
  dimgrey: 0x696969,
  dodgerblue: 0x1e90ff,
  firebrick: 0xb22222,
  floralwhite: 0xfffaf0,
  forestgreen: 0x228b22,
  fuchsia: 0xff00ff,
  gainsboro: 0xdcdcdc,
  ghostwhite: 0xf8f8ff,
  gold: 0xffd700,
  goldenrod: 0xdaa520,
  gray: 0x808080,
  green: 0x008000,
  greenyellow: 0xadff2f,
  grey: 0x808080,
  honeydew: 0xf0fff0,
  hotpink: 0xff69b4,
  indianred: 0xcd5c5c,
  indigo: 0x4b0082,
  ivory: 0xfffff0,
  khaki: 0xf0e68c,
  lavender: 0xe6e6fa,
  lavenderblush: 0xfff0f5,
  lawngreen: 0x7cfc00,
  lemonchiffon: 0xfffacd,
  lightblue: 0xadd8e6,
  lightcoral: 0xf08080,
  lightcyan: 0xe0ffff,
  lightgoldenrodyellow: 0xfafad2,
  lightgray: 0xd3d3d3,
  lightgreen: 0x90ee90,
  lightgrey: 0xd3d3d3,
  lightpink: 0xffb6c1,
  lightsalmon: 0xffa07a,
  lightseagreen: 0x20b2aa,
  lightskyblue: 0x87cefa,
  lightslategray: 0x778899,
  lightslategrey: 0x778899,
  lightsteelblue: 0xb0c4de,
  lightyellow: 0xffffe0,
  lime: 0x00ff00,
  limegreen: 0x32cd32,
  linen: 0xfaf0e6,
  magenta: 0xff00ff,
  maroon: 0x800000,
  mediumaquamarine: 0x66cdaa,
  mediumblue: 0x0000cd,
  mediumorchid: 0xba55d3,
  mediumpurple: 0x9370db,
  mediumseagreen: 0x3cb371,
  mediumslateblue: 0x7b68ee,
  mediumspringgreen: 0x00fa9a,
  mediumturquoise: 0x48d1cc,
  mediumvioletred: 0xc71585,
  midnightblue: 0x191970,
  mintcream: 0xf5fffa,
  mistyrose: 0xffe4e1,
  moccasin: 0xffe4b5,
  navajowhite: 0xffdead,
  navy: 0x000080,
  oldlace: 0xfdf5e6,
  olive: 0x808000,
  olivedrab: 0x6b8e23,
  orange: 0xffa500,
  orangered: 0xff4500,
  orchid: 0xda70d6,
  palegoldenrod: 0xeee8aa,
  palegreen: 0x98fb98,
  paleturquoise: 0xafeeee,
  palevioletred: 0xdb7093,
  papayawhip: 0xffefd5,
  peachpuff: 0xffdab9,
  peru: 0xcd853f,
  pink: 0xffc0cb,
  plum: 0xdda0dd,
  powderblue: 0xb0e0e6,
  purple: 0x800080,
  rebeccapurple: 0x663399,
  red: 0xff0000,
  rosybrown: 0xbc8f8f,
  royalblue: 0x4169e1,
  saddlebrown: 0x8b4513,
  salmon: 0xfa8072,
  sandybrown: 0xf4a460,
  seagreen: 0x2e8b57,
  seashell: 0xfff5ee,
  sienna: 0xa0522d,
  silver: 0xc0c0c0,
  skyblue: 0x87ceeb,
  slateblue: 0x6a5acd,
  slategray: 0x708090,
  slategrey: 0x708090,
  snow: 0xfffafa,
  springgreen: 0x00ff7f,
  steelblue: 0x4682b4,
  tan: 0xd2b48c,
  teal: 0x008080,
  thistle: 0xd8bfd8,
  tomato: 0xff6347,
  turquoise: 0x40e0d0,
  violet: 0xee82ee,
  wheat: 0xf5deb3,
  white: 0xffffff,
  whitesmoke: 0xf5f5f5,
  yellow: 0xffff00,
  yellowgreen: 0x9acd32
};

define(Color, color, {
  copy: function(channels) {
    return Object.assign(new this.constructor, this, channels);
  },
  displayable: function() {
    return this.rgb().displayable();
  },
  hex: color_formatHex, // Deprecated! Use color.formatHex.
  formatHex: color_formatHex,
  formatHsl: color_formatHsl,
  formatRgb: color_formatRgb,
  toString: color_formatRgb
});

function color_formatHex() {
  return this.rgb().formatHex();
}

function color_formatHsl() {
  return hslConvert(this).formatHsl();
}

function color_formatRgb() {
  return this.rgb().formatRgb();
}

function color(format) {
  var m, l;
  format = (format + "").trim().toLowerCase();
  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000
      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00
      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000
      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000
      : null) // invalid hex
      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)
      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)
      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)
      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)
      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)
      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)
      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins
      : format === "transparent" ? new Rgb(NaN, NaN, NaN, 0)
      : null;
}

function rgbn(n) {
  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);
}

function rgba(r, g, b, a) {
  if (a <= 0) r = g = b = NaN;
  return new Rgb(r, g, b, a);
}

function rgbConvert(o) {
  if (!(o instanceof Color)) o = color(o);
  if (!o) return new Rgb;
  o = o.rgb();
  return new Rgb(o.r, o.g, o.b, o.opacity);
}

function rgb(r, g, b, opacity) {
  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);
}

function Rgb(r, g, b, opacity) {
  this.r = +r;
  this.g = +g;
  this.b = +b;
  this.opacity = +opacity;
}

define(Rgb, rgb, extend(Color, {
  brighter: function(k) {
    k = k == null ? brighter : Math.pow(brighter, k);
    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);
  },
  darker: function(k) {
    k = k == null ? darker : Math.pow(darker, k);
    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);
  },
  rgb: function() {
    return this;
  },
  displayable: function() {
    return (-0.5 <= this.r && this.r < 255.5)
        && (-0.5 <= this.g && this.g < 255.5)
        && (-0.5 <= this.b && this.b < 255.5)
        && (0 <= this.opacity && this.opacity <= 1);
  },
  hex: rgb_formatHex, // Deprecated! Use color.formatHex.
  formatHex: rgb_formatHex,
  formatRgb: rgb_formatRgb,
  toString: rgb_formatRgb
}));

function rgb_formatHex() {
  return "#" + hex(this.r) + hex(this.g) + hex(this.b);
}

function rgb_formatRgb() {
  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));
  return (a === 1 ? "rgb(" : "rgba(")
      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + ", "
      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + ", "
      + Math.max(0, Math.min(255, Math.round(this.b) || 0))
      + (a === 1 ? ")" : ", " + a + ")");
}

function hex(value) {
  value = Math.max(0, Math.min(255, Math.round(value) || 0));
  return (value < 16 ? "0" : "") + value.toString(16);
}

function hsla(h, s, l, a) {
  if (a <= 0) h = s = l = NaN;
  else if (l <= 0 || l >= 1) h = s = NaN;
  else if (s <= 0) h = NaN;
  return new Hsl(h, s, l, a);
}

function hslConvert(o) {
  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Color)) o = color(o);
  if (!o) return new Hsl;
  if (o instanceof Hsl) return o;
  o = o.rgb();
  var r = o.r / 255,
      g = o.g / 255,
      b = o.b / 255,
      min = Math.min(r, g, b),
      max = Math.max(r, g, b),
      h = NaN,
      s = max - min,
      l = (max + min) / 2;
  if (s) {
    if (r === max) h = (g - b) / s + (g < b) * 6;
    else if (g === max) h = (b - r) / s + 2;
    else h = (r - g) / s + 4;
    s /= l < 0.5 ? max + min : 2 - max - min;
    h *= 60;
  } else {
    s = l > 0 && l < 1 ? 0 : h;
  }
  return new Hsl(h, s, l, o.opacity);
}

function hsl(h, s, l, opacity) {
  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);
}

function Hsl(h, s, l, opacity) {
  this.h = +h;
  this.s = +s;
  this.l = +l;
  this.opacity = +opacity;
}

define(Hsl, hsl, extend(Color, {
  brighter: function(k) {
    k = k == null ? brighter : Math.pow(brighter, k);
    return new Hsl(this.h, this.s, this.l * k, this.opacity);
  },
  darker: function(k) {
    k = k == null ? darker : Math.pow(darker, k);
    return new Hsl(this.h, this.s, this.l * k, this.opacity);
  },
  rgb: function() {
    var h = this.h % 360 + (this.h < 0) * 360,
        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,
        l = this.l,
        m2 = l + (l < 0.5 ? l : 1 - l) * s,
        m1 = 2 * l - m2;
    return new Rgb(
      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),
      hsl2rgb(h, m1, m2),
      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),
      this.opacity
    );
  },
  displayable: function() {
    return (0 <= this.s && this.s <= 1 || isNaN(this.s))
        && (0 <= this.l && this.l <= 1)
        && (0 <= this.opacity && this.opacity <= 1);
  },
  formatHsl: function() {
    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));
    return (a === 1 ? "hsl(" : "hsla(")
        + (this.h || 0) + ", "
        + (this.s || 0) * 100 + "%, "
        + (this.l || 0) * 100 + "%"
        + (a === 1 ? ")" : ", " + a + ")");
  }
}));

/* From FvD 13.37, CSS Color Module Level 3 */
function hsl2rgb(h, m1, m2) {
  return (h < 60 ? m1 + (m2 - m1) * h / 60
      : h < 180 ? m2
      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60
      : m1) * 255;
}

// CONCATENATED MODULE: ./node_modules/d3-color/src/index.js




// CONCATENATED MODULE: ./node_modules/@elf/utils/lib/color/color.js


// CONCATENATED MODULE: ./node_modules/@elf/utils/lib/async/task.js
let Tasks = new Set();
/**
 * Force run all pending tasks
 * Useful for testing purposes
 * @returns {void}
 */
const flush = () => {
    const tasks = Tasks;
    Tasks = new Set(); /* IE11 does not support Set iterables */
    for (const task of tasks) {
        task.fulfil();
    }
};
/**
 * A utility class to create Task
 */
class Task {
    /**
     * Create the new task
     * @param callback The callback to execute
     */
    constructor(callback, ...args) {
        this.callback = callback;
        this.args = args;
        Tasks.add(this);
    }
    /**
     * Immediately fulfil the callback
     * @returns {void}
     */
    fulfil() {
        if (Tasks.has(this)) {
            Tasks.delete(this);
            this.callback();
        }
    }
    /**
     * Cancel the task
     * @returns {void}
     */
    cancel() {
        Tasks.delete(this);
    }
}


// CONCATENATED MODULE: ./node_modules/@elf/utils/lib/async/runner.js
class Runner {
    constructor(Task, ...args) {
        this._processing = false;
        this.Task = Task;
        this.args = args;
    }
    /**
     * Schedule a task
     * @param callback Callback function
     * @returns {void}
     */
    /* eslint-disable-next-line @typescript-eslint/no-unused-vars */
    schedule(callback) {
        // placeholder
    }
    /**
     * Cancel the task
     * @returns {void}
     */
    cancel() {
        if (this.task) {
            this.task.cancel();
        }
    }
    /**
     * Immediately fulfil the task
     * @returns {void}
     */
    fulfil() {
        if (this.task) {
            this.task.fulfil();
        }
    }
    /**
     * Initialise a runner task
     * @param callback Task callback function
     * @returns {void}
     */
    createTask(callback) {
        this._task = new this.Task(callback, ...this.args);
    }
    /**
     * Run the main callback
     * @param callback The callback to execute
     * @returns {void}
     */
    runCallback(callback) {
        this._processing = true;
        try {
            callback();
        }
        catch (e) {
            setTimeout(() => {
                throw e;
            });
        }
        finally {
            this._processing = false;
        }
    }
    /**
     * Checks to see whether the
     * runner is currently processing the task
     */
    get processing() {
        return this._processing;
    }
    /**
     * Checks to see whether the
     * runner is currently processing the task
     */
    get task() {
        return this._task;
    }
}


// CONCATENATED MODULE: ./node_modules/@elf/utils/lib/async/throttler-runner.js

class throttler_runner_ThrottlerRunner extends Runner {
    constructor() {
        super(...arguments);
        this.hasThrottler = false;
    }
    /**
     * Schedule a throttled task
     * @param callback Callback function
     * @returns {void}
     */
    schedule(callback) {
        this.callback = callback;
        if (!this.hasThrottler) {
            this.hasThrottler = true;
            this.createTask(() => {
                this.hasThrottler = false;
                const clb = this.callback;
                this.callback = undefined;
                this.runCallback(clb);
            });
        }
    }
    cancel() {
        super.cancel();
        this.hasThrottler = false;
    }
}


// CONCATENATED MODULE: ./node_modules/@elf/utils/lib/async/animation-task-runner.js


/**
 * Task to be executed on the next animation frame
 * @private
 */
class animation_task_runner_AnimationTask extends Task {
    constructor() {
        super(...arguments);
        this.animationFrame = requestAnimationFrame(() => this.fulfil());
    }
    cancel() {
        super.cancel();
        cancelAnimationFrame(this.animationFrame);
    }
}
/**
 * Throttles task execution and only executes
 * the latest scheduled task, on the next animation frame.
 */
class animation_task_runner_AnimationTaskRunner extends throttler_runner_ThrottlerRunner {
    constructor() {
        super(animation_task_runner_AnimationTask);
    }
}


// CONCATENATED MODULE: ./node_modules/@elf/utils/lib/async/micro-task-runner.js



const throwErrorAsync = (error) => {
    setTimeout(() => {
        throw error;
    });
};
const queueMicrotask = (callback) => {
    if ('queueMicroTask' in window) {
        return window.queueMicrotask(callback);
    }
    Promise.resolve().then(callback).catch(throwErrorAsync);
};
/**
 * Task to be executed after any current synchronous tasks
 * @private
 */
class micro_task_runner_MicroTask extends Task {
    constructor(callback) {
        super(callback);
        queueMicrotask(() => this.fulfil());
    }
}
/**
 * Throttles task execution and only executes
 * the latest scheduled task, after any current synchronous tasks.
 */
class micro_task_runner_MicroTaskRunner extends throttler_runner_ThrottlerRunner {
    constructor() {
        super(micro_task_runner_MicroTask);
        this.loopRunner = new animation_task_runner_AnimationTaskRunner();
    }
    schedule(callback) {
        if (this.processing) {
            // loop protection
            this.loopRunner.schedule(() => this.schedule(callback));
            return;
        }
        super.schedule(callback);
    }
    cancel() {
        if (this.loopRunner) {
            this.loopRunner.cancel();
        }
        super.cancel();
    }
}


// CONCATENATED MODULE: ./node_modules/@elf/utils/lib/async/debouncer-runner.js

/**
 * Debounces a task
 */
class debouncer_runner_DebouncerRunner extends Runner {
    schedule(callback) {
        this.cancel();
        this.createTask(() => {
            this.runCallback(callback);
        });
    }
}


// CONCATENATED MODULE: ./node_modules/@elf/utils/lib/async/timeout-task-runner.js


/**
 * Task to be executed after a defined time
 * @private
 */
class timeout_task_runner_TimeoutTask extends Task {
    constructor(callback, timeout) {
        super(callback);
        this.timeout = window.setTimeout(this.fulfil.bind(this), timeout);
    }
    cancel() {
        super.cancel();
        clearTimeout(this.timeout);
    }
}
/**
 * Debounces task execution and only executes
 * the latest scheduled task, after the given timeout.
 */
class timeout_task_runner_TimeoutTaskRunner extends debouncer_runner_DebouncerRunner {
    /**
     * @param [timeout=0] de-bounce timeout
     */
    constructor(timeout = 0) {
        super(timeout_task_runner_TimeoutTask, timeout);
    }
}


// CONCATENATED MODULE: ./node_modules/@elf/utils/lib/async/after-render-task-runner.js


/**
 * Task to be executed after next animation frame
 * @private
 */
class after_render_task_runner_AfterRenderTask extends Task {
    constructor() {
        super(...arguments);
        this.animationFrame = requestAnimationFrame(() => {
            this.timeout = window.setTimeout(this.fulfil.bind(this));
        });
    }
    cancel() {
        super.cancel();
        clearTimeout(this.timeout);
        cancelAnimationFrame(this.animationFrame);
    }
}
/**
 * Throttles task execution and only executes
 * the latest scheduled task, after the next animation frame.
 */
class after_render_task_runner_AfterRenderTaskRunner extends throttler_runner_ThrottlerRunner {
    constructor() {
        super(after_render_task_runner_AfterRenderTask);
    }
}


// CONCATENATED MODULE: ./node_modules/@elf/utils/lib/event/event-emitter.js
/**
 * Enables event management on
 * other sub-classes.
 *
 * @example
 *
 * interface CustomEventData {
 *   foo: string;
 *   bar: number;
 * }
 *
 * interface OtherCustomEventData extends CustomEventData {
 *   baz: number[];
 * }
 *
 * interface EventDataMap {
 *   'custom-event': CustomEventData;
 *   'other-custom-event': OtherCustomEventData;
 * }
 *
 * class EmitterClass extends EventEmitter<EventDataMap> {
 *   test (): void {
 *     this.emit('custom-event', {
 *       foo: 'hello earth',
 *       bar: 1
 *     });
 *     this.emit('other-custom-event', {
 *       foo: 'hello mars',
 *       bar: 0.2,
 *       baz: [1, 2, 3]
 *     });
 *   }
 * }
 *
 * const ec = new EmitterClass();
 * ec.on('custom-event', (data) => console.log(data.foo));
 * ec.on('other-custom-event', (data) => console.log(data.baz));
 * ec.test();
 */
class EventEmitter {
    constructor() {
        /**
         * Collection of subscribed event handlers.
         */
        this.events = new Map();
    }
    /**
     * Gets the event listeners for a specific event name.
     * @param name Name of the event
     * @returns Collection of active listeners
     */
    getEventListeners(name) {
        if (!this.events.has(name)) {
            this.events.set(name, []);
        }
        return this.events.get(name);
    }
    /**
     * Emits an event
     * @param name Name of the event to emit
     * @param data Data that should be passed to the handlers.
     * @returns {void}
     */
    emit(name, data) {
        for (const handler of this.getEventListeners(name)) {
            handler(data);
        }
    }
    /**
     * Subscribes to an event
     * @param name Name of the event to subscribe to
     * @param listener Event listener to use
     * @returns {void}
     */
    on(name, listener) {
        this.getEventListeners(name).push(listener);
        return this;
    }
    /**
     * Unsubscribes from an event
     * @param name Name of the event to unsubscribe from
     * @param listener Original event listener to remove
     * @returns {void}
     */
    off(name, listener) {
        const events = this.getEventListeners(name);
        const index = events.indexOf(listener);
        if (index !== -1) {
            events.splice(index, 1);
            return true;
        }
        return false;
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/utils/lib/collection/flatten.js
class FlatResult {
    constructor() {
        this.items = [];
        this.depths = [];
    }
}
const RETURN_ZERO = () => 0;
const isNested = (items) => {
    var _a, _b;
    for (let i = 0; i < items.length; i += 1) {
        if ((_b = (_a = items[i]) === null || _a === void 0 ? void 0 : _a.items) === null || _b === void 0 ? void 0 : _b.length) {
            return true;
        }
    }
    return false;
};
const processFlat = (items) => {
    const result = new FlatResult();
    result.items = items.slice();
    result.depths = 'fill' in Array.prototype ? Array(result.items.length).fill(0) : result.items.map(RETURN_ZERO);
    return result;
};
const processNested = (items, result = new FlatResult(), depth = 0) => {
    // !IMPORTANT: The flattening order should not be modified.
    for (let i = 0; i < items.length; i += 1) {
        const item = items[i];
        result.items.push(item);
        result.depths.push(depth);
        item.items && processNested(item.items, result, depth + 1);
    }
    return result;
};
/**
 * Quickly flattens a deeply nested `CollectionItem` array.
 * @param items Collection of nested items to flatten
 * @return Flattened array of Collection Items
 */
const flatten = (items) => {
    // Running `isDataNested` on nested data is near instant in most cases.
    // It's also faster to run this check on a large flat structure than it is to process nested by default.
    return isNested(items) ? processNested(items) : processFlat(items);
};

// CONCATENATED MODULE: ./node_modules/@elf/utils/lib/collection/collection-composer.js



/**
 * Internal query engine for returning all items.
 * Used for gathering items at specific depths.
 * @returns `true`
 */
const QUERY_ALL = () => true;
/**
 * Manages boolean states of a data collection,
 * toggling various item options in the most performant way possible.
 */
class collection_composer_CollectionComposer extends EventEmitter {
    constructor(data) {
        super();
        /**
         * Scheduler used to emit events.
         */
        this.emitter = new micro_task_runner_MicroTaskRunner();
        /**
         * Emits a modification event when
         * something has changed in the collection
         * @returns {void}
         */
        this.emitModification = () => this.emit('modification', undefined);
        /**
         * Current key index to use for creating item keys.
         */
        this.key = 0;
        /**
         * Items keys used for modifications.
         * Composite keys are created, using item key + property name.
         */
        this.keys = new Map();
        /**
         * Storage location for property changes.
         */
        this.modifications = new Map();
        /**
         * Initialisation timestamp
         */
        this.timestamp = performance.now();
        /**
         * Storage location for change timestamps.
         */
        this.timestamps = new Map();
        /**
         * Collection of locked items
         */
        this.vault = new Set();
        if (data instanceof collection_composer_CollectionComposer) {
            this.data = this.clone(data);
        }
        else if (Array.isArray(data)) {
            this.data = data.slice();
        }
        else {
            throw new Error('CollectionComposer expects an array of data');
        }
    }
    /**
     * Returns the top level items only.
     * To get nested levels, use `getItemChildren()`.
     */
    get topLevelItems() {
        return this.queryItems(QUERY_ALL, 0);
    }
    /**
     * Collection of all items.
     * @returns Collection of data items
     */
    get items() {
        if (!this._items) {
            const { items, depths } = flatten(this.data);
            this._items = items;
            this.depths = depths;
        }
        return this._items;
    }
    /**
     * Returns the size of the collection.
     * Nested structures will include all descendants.
     */
    get size() {
        return this.items.length;
    }
    /**
     * Updates item timestamp and emits a modification event
     * @param item Original data item
     * @returns {void}
     */
    registerItemModification(item) {
        this.timestamps.set(item, performance.now());
        this.emitter.schedule(this.emitModification);
    }
    /**
     * Clones a composer instance,
     * copying data over into the current instance.
     * @param composer Composer to clone
     * @returns Copy of the original composer's data object
     */
    clone(composer) {
        var _a, _b;
        this._items = (_a = composer._items) === null || _a === void 0 ? void 0 : _a.slice();
        this.depths = (_b = composer.depths) === null || _b === void 0 ? void 0 : _b.slice();
        this.key = composer.key;
        this.keys = new Map(composer.keys);
        this.modifications = new Map(composer.modifications);
        this.timestamps = new Map(composer.timestamps);
        this.timestamp = composer.timestamp;
        this.vault = new Set(this.vault);
        return composer.data.slice();
    }
    /**
     * Returns the modification key for the item
     * @param item Original data item
     * @returns Unique item key
     */
    getItemKey(item) {
        if (!this.keys.has(item)) {
            const key = (this.key += 1).toString(36) + '.';
            this.keys.set(item, key);
        }
        return this.keys.get(item);
    }
    /**
     * Returns the modification key for the item property
     * @param item Original data item
     * @param property Property name
     * @returns Unique item property key
     */
    getItemPropertyKey(item, property) {
        return this.getItemKey(item) + property;
    }
    /**
     * Checks to see if the item is included in the composer
     * @param item Original data item to check
     * @returns True, if the item is valid.
     */
    isValidItem(item) {
        return this.items.includes(item);
    }
    /**
     * Checks to see if the item isn't included in the composer
     * @param item Original data item to check
     * @returns True, if the item is invalid.
     */
    isInvalidItem(item) {
        return !this.isValidItem(item);
    }
    /**
     * Gets the index range of the item.
     * This includes the indexes of all descendants.
     * @param item Original data item
     * @returns Start and end index range of item and descendants
     */
    getItemIndexRange(item) {
        const startIndex = this.items.indexOf(item);
        const endIndex = startIndex + this.getItemDescendants(item).length;
        return { startIndex, endIndex };
    }
    /**
     * Add a new item at a specified index with a specified depth
     * @param item Data item to add
     * @param index Index to place the item
     * @param [depth=0] Depth of the item
     * @returns {void}
     */
    addItemAtIndex(item, index = this.items.length, depth = 0) {
        this.items.splice(index, 0, item);
        this.depths.splice(index, 0, depth);
    }
    /**
     * Removes an item at a specific index
     * @param index Index to remove from the collection
     * @returns {void}
     */
    removeItemAtIndex(index) {
        this.items.splice(index, 1);
        this.depths.splice(index, 1);
    }
    addItem(item, parentOrIndex, index = parentOrIndex) {
        const parent = parentOrIndex && typeof parentOrIndex !== 'number' ? parentOrIndex : null;
        if (parent && this.isInvalidItem(parent)) {
            throw new Error('parent item does not belong to this composer');
        }
        /**
         * Collection of where the item should sit.
         */
        const collection = parent ? this.getItemChildren(parent) : this.topLevelItems;
        /**
         * Index of where to place the item in the collection.
         */
        const collectionIndex = typeof index === 'number' ? index : collection.length;
        /**
         * Sibling to insert before, if any.
         */
        const insertBefore = collection[collectionIndex];
        /**
         * Index of the parent item, if available.
         */
        const parentIndex = parent ? this.items.indexOf(parent) : -1;
        /**
         * Depth of the parent, if available.
         */
        const parentDepth = this.depths[parentIndex];
        /**
         * Depth of the child item.
         */
        const childDepth = parent ? parentDepth + 1 : 0;
        if (insertBefore) {
            // inserts the item in front of a sibling
            index = this.items.indexOf(insertBefore);
        }
        else if (parent) {
            // inserts an item at the end of the parent's items collection
            index = this.getItemIndexRange(parent).endIndex + 1;
        }
        else {
            // adds the item to the end of the collection (default)
            index = this.items.length;
        }
        this.addItemAtIndex(item, index, childDepth);
        this.registerItemModification(item);
    }
    /**
     * Removes a data item from the composer
     * @param item Data item to remove
     * @returns {void}
     */
    removeItem(item) {
        if (this.isInvalidItem(item)) {
            return;
        }
        for (const child of this.getItemChildren(item)) {
            this.removeItem(child);
        }
        this.removeItemAtIndex(this.items.indexOf(item));
        this.unlockItem(item); // Make sure the item is removed from vault
        this.removeItem(item); // Removes any silly multiple references
    }
    /**
     * Locks the item in the vault.
     * This prevents any future modifications.
     * @param item Original data item
     * @returns Whether the item was added or not
     */
    lockItem(item) {
        if (!this.vault.has(item)) {
            this.vault.add(item);
            this.registerItemModification(item);
            return true;
        }
        return false;
    }
    /**
     * Unlocks the item from the vault.
     * This enables any future modifications.
     * @param item Original data item
     * @returns Whether the item was removed or not
     */
    unlockItem(item) {
        if (this.vault.has(item)) {
            this.vault.delete(item);
            this.registerItemModification(item);
            return true;
        }
        return false;
    }
    /**
     * Determines if the item is locked.
     * @param item Original data item
     * @returns Locked state
     */
    isItemLocked(item) {
        return this.vault.has(item);
    }
    /**
     * Determines if the item has children
     * and is therefore a parent item.
     * @param item Original data item
     * @returns Whether the item is a parent or not
     */
    isItemParent(item) {
        const index = this.items.indexOf(item);
        const depth = this.depths[index];
        const nextDepth = this.depths[index + 1];
        return depth < nextDepth;
    }
    /**
     * Determines if the item has a parent
     * and is therefore a child item.
     * @param item Original data item
     * @returns Whether the item is a child or not
     */
    isItemChild(item) {
        return this.getItemDepth(item) > 0;
    }
    /**
     * Gets the property value of an item
     * @param item Original data item
     * @param property Property name to get the value of
     * @returns Value of the property
     */
    getItemPropertyValue(item, property) {
        let key = '';
        if (this.keys.has(item)) {
            key = this.getItemPropertyKey(item, property);
        }
        if (key && this.modifications.has(key)) {
            return this.modifications.get(key);
        }
        return item[property];
    }
    /**
     * Sets the property value of an item
     * @param item Original data item
     * @param property Property name to set the value of
     * @param value New value of the property
     * @returns {void}
     */
    setItemPropertyValue(item, property, value) {
        if (this.isItemLocked(item)) {
            return; // do not modify a locked item
        }
        if (property === 'items') {
            throw new Error('\'items\' property is protected and cannot be set');
        }
        const key = this.getItemPropertyKey(item, property);
        const currentValue = this.getItemPropertyValue(item, property);
        if (currentValue !== value) {
            this.modifications.set(key, value);
            this.registerItemModification(item);
        }
    }
    /**
     * Gets the nested depth of the item.
     * @param item Original data item
     * @returns Depth of item
     */
    getItemDepth(item) {
        const index = this.items.indexOf(item);
        if (index !== -1) {
            return this.depths[index];
        }
        return NaN;
    }
    /**
     * Gets the timestamp of when the item was last updated.
     * If no updates have occurred, the timestamp of composer creation is returned instead.
     * @param item Original data item
     * @returns Item timestamp
     */
    getItemTimestamp(item) {
        return this.timestamps.get(item) || this.timestamp;
    }
    /**
     * Updates the item timestamp,
     * causing an item modification without changing any properties.
     * @param item Original data item
     * @returns Latest item timestamp
     */
    updateItemTimestamp(item) {
        this.registerItemModification(item);
        return this.getItemTimestamp(item);
    }
    /**
     * Gets all items with a matching property value
     * @param property Property name
     * @param value Value to compare against
     * @param [depth=0] Depth of nested data to include
     * @returns Matched items
     */
    queryItemsByPropertyValue(property, value, depth = 0) {
        const result = [];
        for (let i = 0; i < this.items.length; i += 1) {
            const item = this.items[i];
            const itemDepth = this.depths[i];
            itemDepth <= depth && this.getItemPropertyValue(item, property) === value && result.push(item);
        }
        return Object.freeze(result);
    }
    /**
     * Query items, return results which are matched
     * against the comparison engine.
     * @param engine Comparison engine for matching results
     * @param [depth=0] Depth of nested data to include
     * @returns Matched items
     */
    queryItems(engine, depth = 0) {
        const result = [];
        for (let i = 0; i < this.items.length; i += 1) {
            const item = this.items[i];
            const itemDepth = this.depths[i];
            itemDepth <= depth && engine(item, this) && result.push(item);
        }
        return Object.freeze(result);
    }
    /**
     * Gets the item parent, if available.
     * @param item Original data item
     * @returns The parent data item, or, `null`.
     */
    getItemParent(item) {
        var _a;
        let index = this.items.indexOf(item);
        while (index > 0) {
            const next = this.items[index -= 1];
            if ((_a = next.items) === null || _a === void 0 ? void 0 : _a.includes(item)) {
                return next;
            }
        }
        return null;
    }
    /**
     * Gets the list of item ancestors.
     * @param item Original data item
     * @returns Array of data items in the order of shallowest to deepest
     */
    getItemAncestors(item) {
        const result = [];
        let parent = this.getItemParent(item);
        while (parent) {
            result.unshift(parent);
            parent = this.getItemParent(parent);
        }
        return Object.freeze(result);
    }
    /**
     * Gets the list of item siblings.
     * @param item Original data item
     * @returns Array of sibling data items
     */
    getItemSiblings(item) {
        let result = [];
        const parent = this.getItemParent(item);
        if (parent) {
            result = this.getItemChildren(parent).slice();
            result.splice(result.indexOf(item), 1);
        }
        else if (this.items.includes(item)) {
            result = this.topLevelItems.slice();
            result.splice(result.indexOf(item), 1);
        }
        return Object.freeze(result);
    }
    /**
     * Gets the list of item children.
     * @param item Original data item
     * @returns Array of child data items
     */
    getItemChildren(item) {
        return this.getItemDescendants(item, 1);
    }
    /**
     * Gets the list of item descendants.
     * @param item Original data item
     * @param [depth=Infinity] Depth of nested data to include
     * @returns Array of data items in the order of shallowest to deepest
     */
    getItemDescendants(item, depth = Infinity) {
        const result = [];
        /**
         * Parent index, if available.
         */
        const parentIndex = this.items.indexOf(item);
        /**
         * Parent depth, if available.
         */
        const parentDepth = this.depths[parentIndex];
        /**
         * Max depth
         */
        const maxDepth = parentDepth + depth;
        /**
         * Index to start retrieving descendants
         */
        const startIndex = parentIndex + 1;
        for (let i = startIndex; i > 0 && i < this.items.length; i += 1) {
            const depth = this.depths[i];
            if (depth <= parentDepth) {
                break;
            }
            if (depth <= maxDepth) {
                result.push(this.items[i]);
            }
        }
        return Object.freeze(result);
    }
}

// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/rng.js
// Unique ID creation requires a high quality random # generator. In the browser we therefore
// require the crypto API and do not support built-in fallback to lower quality random number
// generators (like Math.random()).
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  // lazy load so that environments that need to polyfill have a chance to do so
  if (!getRandomValues) {
    // getRandomValues needs to be invoked in a context where "this" is a Crypto implementation. Also,
    // find the complete implementation of crypto (msCrypto) on IE11.
    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);

    if (!getRandomValues) {
      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');
    }
  }

  return getRandomValues(rnds8);
}
// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/regex.js
/* harmony default export */ var regex = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);
// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/validate.js


function validate(uuid) {
  return typeof uuid === 'string' && regex.test(uuid);
}

/* harmony default export */ var esm_browser_validate = (validate);
// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/stringify.js

/**
 * Convert array of 16 byte values to UUID string format of the form:
 * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
 */

var byteToHex = [];

for (var stringify_i = 0; stringify_i < 256; ++stringify_i) {
  byteToHex.push((stringify_i + 0x100).toString(16).substr(1));
}

function stringify(arr) {
  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  // Note: Be careful editing this code!  It's been tuned for performance
  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434
  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one
  // of the following:
  // - One or more input array values don't map to a hex octet (leading to
  // "undefined" in the uuid)
  // - Invalid input values for the RFC `version` or `variant` fields

  if (!esm_browser_validate(uuid)) {
    throw TypeError('Stringified UUID is invalid');
  }

  return uuid;
}

/* harmony default export */ var esm_browser_stringify = (stringify);
// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/v4.js



function v4(options, buf, offset) {
  options = options || {};
  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`

  rnds[6] = rnds[6] & 0x0f | 0x40;
  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided

  if (buf) {
    offset = offset || 0;

    for (var i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }

    return buf;
  }

  return esm_browser_stringify(rnds);
}

/* harmony default export */ var esm_browser_v4 = (v4);
// CONCATENATED MODULE: ./node_modules/@elf/utils/lib/miscellaneous/uuid.js


// CONCATENATED MODULE: ./node_modules/@elf/utils/lib/loader/cdn-loader.js
/**
 * Caches and provides any load results, Loaded either by name from CDN or directly by URL.
 */
class CdnLoader {
    constructor() {
        this.responseCache = new Map();
    }
    /**
     * Strips any unsafe nodes from the response.
     * Prevents any external attacks from malicious scripts
     * and other hijack methods. Only keeps SVGGraphicsElements.
     * @param elements COllection of nodes
     * @returns {void}
     */
    stripUnsafeNodes(...elements) {
        var _a;
        for (const el of elements) {
            // Type of SVGGraphicsElement?
            if (el instanceof SVGElement && 'getBBox' in el) {
                this.stripUnsafeNodes(...el.childNodes);
            }
            else {
                (_a = el.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(el);
            }
        }
    }
    /**
     * Asynchronously tries to load
     * @param href The location of the SVG to load
     * @returns Promise of the SVG body
     */
    async loadContent(href) {
        try {
            const response = await this.xmlRequest(href);
            return response;
        }
        catch (e) {
            // Failed response...
            this.responseCache.delete(href);
            return Promise.resolve({
                status: 0, response: 'Failed to make request', responseText: 'Failed to make request'
            });
        }
    }
    /**
     * Load and support on IE
     * @param href The source or location
     * @returns XMLHttpRequest objects after to interact servers.
     */
    async xmlRequest(href) {
        return new Promise((resolve, reject) => {
            const xhr = new XMLHttpRequest();
            xhr.open('GET', href);
            xhr.onload = () => {
                if (xhr.readyState === 4 && xhr.status >= 200 && xhr.status < 400) {
                    resolve(xhr);
                }
                else {
                    reject(xhr);
                }
            };
            xhr.onerror = () => reject(xhr);
            xhr.send();
        });
    }
    /**
     * Tries to load an src either by src or by provided URL
     * @param src name or Source location.
     * @returns Promise which will be resolved with response body
     */
    async load(src) {
        if (src) {
            if (!this.responseCache.has(src)) {
                this.responseCache.set(src, this.loadContent(src));
            }
            return this.responseCache.get(src);
        }
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/utils/lib/loader/deferred.js
/**
 * Creates pending promise, that can be resolved or rejected manually
 */
class Deferred {
    constructor() {
        // eslint-disable-next-line @typescript-eslint/no-empty-function
        this._resolve = () => {
        };
        // eslint-disable-next-line @typescript-eslint/no-empty-function
        this._reject = () => {
        };
        this._promise = new Promise((resolve, reject) => {
            this._reject = reject;
            this._resolve = resolve;
        });
    }
    get promise() {
        return this._promise;
    }
    resolve(value) {
        this._resolve(value);
    }
    reject(value) {
        this._reject(value);
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/utils/lib/utils.js













/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, "a", function() { return /* reexport */ Phrasebook; });

// UNUSED EXPORTS: ObserverKey

// CONCATENATED MODULE: ./node_modules/@elf/core-phrasebook/lib/translation.js
const SHARED_SCOPE = '__shared__'; /* unique scope identifier */
class ObserverKey {
}
class Phrasebook {
    static publish(publishLocale, publishScope) {
        const callbackFn = (observable) => {
            const { callback, scope } = observable;
            // for shared scope all observed must be updated
            if (publishScope === SHARED_SCOPE || publishScope === scope) {
                callback(publishLocale);
            }
        };
        this.observables.forEach(callbackFn);
    }
    /**
     * Start observing changes to translations
     * @param scope The scope to observe
     * @param callback A callback run when the scope has changed
     * @returns An observe key used to disconnet
     */
    static observe(scope, callback) {
        const key = new ObserverKey();
        this.observables.set(key, {
            scope,
            callback
        });
        return key;
    }
    /**
     * Stop observing and disconnect a callback
     * @param key A key to stop observing the scope
     * @returns {void}
     */
    static disconnect(key) {
        this.observables.delete(key);
    }
    static define(locale, scope, translations = scope) {
        if (scope === SHARED_SCOPE) {
            throw new Error(`${SHARED_SCOPE} scope name is reserved`);
        }
        if (!locale || !scope || !translations) {
            throw new Error('Translations must define locale, scope and translations collection');
        }
        scope = typeof scope !== 'string' ? SHARED_SCOPE : scope;
        const translationMap = this.localeMap[locale] || {};
        translationMap[scope] = translations;
        this.localeMap[locale] = translationMap;
        this.publish(locale, scope);
    }
    /**
     * Get translation for locale and scope.
     * @param locale Locale to get
     * @param scope Scope to get
     * @returns translation or null
     */
    static get(locale, scope) {
        const translationsMap = this.localeMap[locale];
        if (!translationsMap) {
            return null;
        }
        return Object.assign({}, translationsMap[SHARED_SCOPE] || {}, translationsMap[scope] || {});
    }
    /**
     * Get a list of supported locales per scope
     * @param [scope=SHARED_SCOPE] A scope to check. If none provided a shared scope is returned
     * @returns list of supported locales
     */
    static supported(scope = SHARED_SCOPE) {
        const locales = [];
        const localeMap = this.localeMap;
        let translation;
        let locale;
        for (locale in localeMap) {
            translation = localeMap[locale];
            if (translation[scope]) {
                locales.push(locale);
            }
        }
        return locales;
    }
}
Phrasebook.localeMap = {};
Phrasebook.observables = new Map();


// CONCATENATED MODULE: ./node_modules/@elf/core-phrasebook/lib/index.js



/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, "f", function() { return /* reexport */ directive["a" /* directive */]; });
__webpack_require__.d(__webpack_exports__, "i", function() { return /* reexport */ dom["b" /* removeNodes */]; });
__webpack_require__.d(__webpack_exports__, "j", function() { return /* reexport */ dom["c" /* reparentNodes */]; });
__webpack_require__.d(__webpack_exports__, "a", function() { return /* reexport */ parts["b" /* AttributePart */]; });
__webpack_require__.d(__webpack_exports__, "h", function() { return /* reexport */ parts["h" /* isPrimitive */]; });
__webpack_require__.d(__webpack_exports__, "b", function() { return /* reexport */ parts["e" /* NodePart */]; });
__webpack_require__.d(__webpack_exports__, "c", function() { return /* reexport */ parts["g" /* PropertyPart */]; });
__webpack_require__.d(__webpack_exports__, "d", function() { return /* reexport */ template_result["b" /* TemplateResult */]; });
__webpack_require__.d(__webpack_exports__, "e", function() { return /* reexport */ template["c" /* createMarker */]; });
__webpack_require__.d(__webpack_exports__, "g", function() { return /* binding */ html; });
__webpack_require__.d(__webpack_exports__, "k", function() { return /* binding */ svg; });

// UNUSED EXPORTS: DefaultTemplateProcessor, defaultTemplateProcessor, isDirective, noChange, nothing, AttributeCommitter, BooleanAttributePart, EventPart, isIterable, PropertyCommitter, parts, render, templateCaches, templateFactory, TemplateInstance, SVGTemplateResult, isTemplatePartActive, Template

// EXTERNAL MODULE: ./node_modules/lit-html/lib/parts.js
var parts = __webpack_require__(5);

// CONCATENATED MODULE: ./node_modules/lit-html/lib/default-template-processor.js
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */

/**
 * Creates Parts when a template is instantiated.
 */
class default_template_processor_DefaultTemplateProcessor {
    /**
     * Create parts for an attribute-position binding, given the event, attribute
     * name, and string literals.
     *
     * @param element The element containing the binding
     * @param name  The attribute name
     * @param strings The string literals. There are always at least two strings,
     *   event for fully-controlled bindings with a single expression.
     */
    handleAttributeExpressions(element, name, strings, options) {
        const prefix = name[0];
        if (prefix === '.') {
            const committer = new parts["f" /* PropertyCommitter */](element, name.slice(1), strings);
            return committer.parts;
        }
        if (prefix === '@') {
            return [new parts["d" /* EventPart */](element, name.slice(1), options.eventContext)];
        }
        if (prefix === '?') {
            return [new parts["c" /* BooleanAttributePart */](element, name.slice(1), strings)];
        }
        const committer = new parts["a" /* AttributeCommitter */](element, name, strings);
        return committer.parts;
    }
    /**
     * Create parts for a text-position binding.
     * @param templateFactory
     */
    handleTextExpression(options) {
        return new parts["e" /* NodePart */](options);
    }
}
const defaultTemplateProcessor = new default_template_processor_DefaultTemplateProcessor();
//# sourceMappingURL=default-template-processor.js.map
// EXTERNAL MODULE: ./node_modules/lit-html/lib/template-result.js
var template_result = __webpack_require__(24);

// EXTERNAL MODULE: ./node_modules/lit-html/lib/directive.js
var directive = __webpack_require__(22);

// EXTERNAL MODULE: ./node_modules/lit-html/lib/dom.js
var dom = __webpack_require__(13);

// EXTERNAL MODULE: ./node_modules/lit-html/lib/part.js
var part = __webpack_require__(10);

// EXTERNAL MODULE: ./node_modules/lit-html/lib/render.js
var render = __webpack_require__(21);

// EXTERNAL MODULE: ./node_modules/lit-html/lib/template-factory.js
var template_factory = __webpack_require__(20);

// EXTERNAL MODULE: ./node_modules/lit-html/lib/template-instance.js
var template_instance = __webpack_require__(19);

// EXTERNAL MODULE: ./node_modules/lit-html/lib/template.js
var template = __webpack_require__(4);

// CONCATENATED MODULE: ./node_modules/lit-html/lit-html.js
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 *
 * Main lit-html module.
 *
 * Main exports:
 *
 * -  [[html]]
 * -  [[svg]]
 * -  [[render]]
 *
 * @packageDocumentation
 */
/**
 * Do not remove this comment; it keeps typedoc from misplacing the module
 * docs.
 */




// TODO(justinfagnani): remove line when we get NodePart moving methods








// IMPORTANT: do not change the property name or the assignment expression.
// This line will be used in regexes to search for lit-html usage.
// TODO(justinfagnani): inject version number at build time
if (typeof window !== 'undefined') {
    (window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.4.1');
}
/**
 * Interprets a template literal as an HTML template that can efficiently
 * render to and update a container.
 */
const html = (strings, ...values) => new template_result["b" /* TemplateResult */](strings, values, 'html', defaultTemplateProcessor);
/**
 * Interprets a template literal as an SVG template that can efficiently
 * render to and update a container.
 */
const svg = (strings, ...values) => new template_result["a" /* SVGTemplateResult */](strings, values, 'svg', defaultTemplateProcessor);
//# sourceMappingURL=lit-html.js.map

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return marker; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return nodeMarker; });
/* unused harmony export markerRegex */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return boundAttributeSuffix; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Template; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return isTemplatePartActive; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return createMarker; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return lastAttributeNameRegex; });
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * An expression marker with embedded unique key to avoid collision with
 * possible text in templates.
 */
const marker = `{{lit-${String(Math.random()).slice(2)}}}`;
/**
 * An expression marker used text-positions, multi-binding attributes, and
 * attributes with markup-like text values.
 */
const nodeMarker = `<!--${marker}-->`;
const markerRegex = new RegExp(`${marker}|${nodeMarker}`);
/**
 * Suffix appended to all bound attribute names.
 */
const boundAttributeSuffix = '$lit$';
/**
 * An updatable Template that tracks the location of dynamic parts.
 */
class Template {
    constructor(result, element) {
        this.parts = [];
        this.element = element;
        const nodesToRemove = [];
        const stack = [];
        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null
        const walker = document.createTreeWalker(element.content, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);
        // Keeps track of the last index associated with a part. We try to delete
        // unnecessary nodes, but we never want to associate two different parts
        // to the same index. They must have a constant node between.
        let lastPartIndex = 0;
        let index = -1;
        let partIndex = 0;
        const { strings, values: { length } } = result;
        while (partIndex < length) {
            const node = walker.nextNode();
            if (node === null) {
                // We've exhausted the content inside a nested template element.
                // Because we still have parts (the outer for-loop), we know:
                // - There is a template in the stack
                // - The walker will find a nextNode outside the template
                walker.currentNode = stack.pop();
                continue;
            }
            index++;
            if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {
                if (node.hasAttributes()) {
                    const attributes = node.attributes;
                    const { length } = attributes;
                    // Per
                    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,
                    // attributes are not guaranteed to be returned in document order.
                    // In particular, Edge/IE can return them out of order, so we cannot
                    // assume a correspondence between part index and attribute index.
                    let count = 0;
                    for (let i = 0; i < length; i++) {
                        if (endsWith(attributes[i].name, boundAttributeSuffix)) {
                            count++;
                        }
                    }
                    while (count-- > 0) {
                        // Get the template literal section leading up to the first
                        // expression in this attribute
                        const stringForPart = strings[partIndex];
                        // Find the attribute name
                        const name = lastAttributeNameRegex.exec(stringForPart)[2];
                        // Find the corresponding attribute
                        // All bound attributes have had a suffix added in
                        // TemplateResult#getHTML to opt out of special attribute
                        // handling. To look up the attribute value we also need to add
                        // the suffix.
                        const attributeLookupName = name.toLowerCase() + boundAttributeSuffix;
                        const attributeValue = node.getAttribute(attributeLookupName);
                        node.removeAttribute(attributeLookupName);
                        const statics = attributeValue.split(markerRegex);
                        this.parts.push({ type: 'attribute', index, name, strings: statics });
                        partIndex += statics.length - 1;
                    }
                }
                if (node.tagName === 'TEMPLATE') {
                    stack.push(node);
                    walker.currentNode = node.content;
                }
            }
            else if (node.nodeType === 3 /* Node.TEXT_NODE */) {
                const data = node.data;
                if (data.indexOf(marker) >= 0) {
                    const parent = node.parentNode;
                    const strings = data.split(markerRegex);
                    const lastIndex = strings.length - 1;
                    // Generate a new text node for each literal section
                    // These nodes are also used as the markers for node parts
                    for (let i = 0; i < lastIndex; i++) {
                        let insert;
                        let s = strings[i];
                        if (s === '') {
                            insert = createMarker();
                        }
                        else {
                            const match = lastAttributeNameRegex.exec(s);
                            if (match !== null && endsWith(match[2], boundAttributeSuffix)) {
                                s = s.slice(0, match.index) + match[1] +
                                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];
                            }
                            insert = document.createTextNode(s);
                        }
                        parent.insertBefore(insert, node);
                        this.parts.push({ type: 'node', index: ++index });
                    }
                    // If there's no text, we must insert a comment to mark our place.
                    // Else, we can trust it will stick around after cloning.
                    if (strings[lastIndex] === '') {
                        parent.insertBefore(createMarker(), node);
                        nodesToRemove.push(node);
                    }
                    else {
                        node.data = strings[lastIndex];
                    }
                    // We have a part for each match found
                    partIndex += lastIndex;
                }
            }
            else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {
                if (node.data === marker) {
                    const parent = node.parentNode;
                    // Add a new marker node to be the startNode of the Part if any of
                    // the following are true:
                    //  * We don't have a previousSibling
                    //  * The previousSibling is already the start of a previous part
                    if (node.previousSibling === null || index === lastPartIndex) {
                        index++;
                        parent.insertBefore(createMarker(), node);
                    }
                    lastPartIndex = index;
                    this.parts.push({ type: 'node', index });
                    // If we don't have a nextSibling, keep this node so we have an end.
                    // Else, we can remove it to save future costs.
                    if (node.nextSibling === null) {
                        node.data = '';
                    }
                    else {
                        nodesToRemove.push(node);
                        index--;
                    }
                    partIndex++;
                }
                else {
                    let i = -1;
                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {
                        // Comment node has a binding marker inside, make an inactive part
                        // The binding won't work, but subsequent bindings will
                        // TODO (justinfagnani): consider whether it's even worth it to
                        // make bindings in comments work
                        this.parts.push({ type: 'node', index: -1 });
                        partIndex++;
                    }
                }
            }
        }
        // Remove text binding nodes after the walk to not disturb the TreeWalker
        for (const n of nodesToRemove) {
            n.parentNode.removeChild(n);
        }
    }
}
const endsWith = (str, suffix) => {
    const index = str.length - suffix.length;
    return index >= 0 && str.slice(index) === suffix;
};
const isTemplatePartActive = (part) => part.index !== -1;
// Allows `document.createComment('')` to be renamed for a
// small manual size-savings.
const createMarker = () => document.createComment('');
/**
 * This regex extracts the attribute name preceding an attribute-position
 * expression. It does this by matching the syntax allowed for attributes
 * against the string literal directly preceding the expression, assuming that
 * the expression is in an attribute-value position.
 *
 * See attributes in the HTML spec:
 * https://www.w3.org/TR/html5/syntax.html#elements-attributes
 *
 * " \x09\x0a\x0c\x0d" are HTML space characters:
 * https://www.w3.org/TR/html5/infrastructure.html#space-characters
 *
 * "\0-\x1F\x7F-\x9F" are Unicode control characters, which includes every
 * space character except " ".
 *
 * So an attribute is:
 *  * The name: any character except a control character, space character, ('),
 *    ("), ">", "=", or "/"
 *  * Followed by zero or more space characters
 *  * Followed by "="
 *  * Followed by zero or more space characters
 *  * Followed by:
 *    * Any character except space, ('), ("), "<", ">", "=", (`), or
 *    * (") then any non-("), or
 *    * (') then any non-(')
 */
const lastAttributeNameRegex = 
// eslint-disable-next-line no-control-regex
/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
//# sourceMappingURL=template.js.map

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return isPrimitive; });
/* unused harmony export isIterable */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AttributeCommitter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return AttributePart; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return NodePart; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return BooleanAttributePart; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return PropertyCommitter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return PropertyPart; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return EventPart; });
/* harmony import */ var _directive_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(22);
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(13);
/* harmony import */ var _part_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(10);
/* harmony import */ var _template_instance_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(19);
/* harmony import */ var _template_result_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(24);
/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(4);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */






const isPrimitive = (value) => {
    return (value === null ||
        !(typeof value === 'object' || typeof value === 'function'));
};
const isIterable = (value) => {
    return Array.isArray(value) ||
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        !!(value && value[Symbol.iterator]);
};
/**
 * Writes attribute values to the DOM for a group of AttributeParts bound to a
 * single attribute. The value is only set once even if there are multiple parts
 * for an attribute.
 */
class AttributeCommitter {
    constructor(element, name, strings) {
        this.dirty = true;
        this.element = element;
        this.name = name;
        this.strings = strings;
        this.parts = [];
        for (let i = 0; i < strings.length - 1; i++) {
            this.parts[i] = this._createPart();
        }
    }
    /**
     * Creates a single part. Override this to create a differnt type of part.
     */
    _createPart() {
        return new AttributePart(this);
    }
    _getValue() {
        const strings = this.strings;
        const l = strings.length - 1;
        const parts = this.parts;
        // If we're assigning an attribute via syntax like:
        //    attr="${foo}"  or  attr=${foo}
        // but not
        //    attr="${foo} ${bar}" or attr="${foo} baz"
        // then we don't want to coerce the attribute value into one long
        // string. Instead we want to just return the value itself directly,
        // so that sanitizeDOMValue can get the actual value rather than
        // String(value)
        // The exception is if v is an array, in which case we do want to smash
        // it together into a string without calling String() on the array.
        //
        // This also allows trusted values (when using TrustedTypes) being
        // assigned to DOM sinks without being stringified in the process.
        if (l === 1 && strings[0] === '' && strings[1] === '') {
            const v = parts[0].value;
            if (typeof v === 'symbol') {
                return String(v);
            }
            if (typeof v === 'string' || !isIterable(v)) {
                return v;
            }
        }
        let text = '';
        for (let i = 0; i < l; i++) {
            text += strings[i];
            const part = parts[i];
            if (part !== undefined) {
                const v = part.value;
                if (isPrimitive(v) || !isIterable(v)) {
                    text += typeof v === 'string' ? v : String(v);
                }
                else {
                    for (const t of v) {
                        text += typeof t === 'string' ? t : String(t);
                    }
                }
            }
        }
        text += strings[l];
        return text;
    }
    commit() {
        if (this.dirty) {
            this.dirty = false;
            this.element.setAttribute(this.name, this._getValue());
        }
    }
}
/**
 * A Part that controls all or part of an attribute value.
 */
class AttributePart {
    constructor(committer) {
        this.value = undefined;
        this.committer = committer;
    }
    setValue(value) {
        if (value !== _part_js__WEBPACK_IMPORTED_MODULE_2__[/* noChange */ "a"] && (!isPrimitive(value) || value !== this.value)) {
            this.value = value;
            // If the value is a not a directive, dirty the committer so that it'll
            // call setAttribute. If the value is a directive, it'll dirty the
            // committer if it calls setValue().
            if (!Object(_directive_js__WEBPACK_IMPORTED_MODULE_0__[/* isDirective */ "b"])(value)) {
                this.committer.dirty = true;
            }
        }
    }
    commit() {
        while (Object(_directive_js__WEBPACK_IMPORTED_MODULE_0__[/* isDirective */ "b"])(this.value)) {
            const directive = this.value;
            this.value = _part_js__WEBPACK_IMPORTED_MODULE_2__[/* noChange */ "a"];
            directive(this);
        }
        if (this.value === _part_js__WEBPACK_IMPORTED_MODULE_2__[/* noChange */ "a"]) {
            return;
        }
        this.committer.commit();
    }
}
/**
 * A Part that controls a location within a Node tree. Like a Range, NodePart
 * has start and end locations and can set and update the Nodes between those
 * locations.
 *
 * NodeParts support several value types: primitives, Nodes, TemplateResults,
 * as well as arrays and iterables of those types.
 */
class NodePart {
    constructor(options) {
        this.value = undefined;
        this.__pendingValue = undefined;
        this.options = options;
    }
    /**
     * Appends this part into a container.
     *
     * This part must be empty, as its contents are not automatically moved.
     */
    appendInto(container) {
        this.startNode = container.appendChild(Object(_template_js__WEBPACK_IMPORTED_MODULE_5__[/* createMarker */ "c"])());
        this.endNode = container.appendChild(Object(_template_js__WEBPACK_IMPORTED_MODULE_5__[/* createMarker */ "c"])());
    }
    /**
     * Inserts this part after the `ref` node (between `ref` and `ref`'s next
     * sibling). Both `ref` and its next sibling must be static, unchanging nodes
     * such as those that appear in a literal section of a template.
     *
     * This part must be empty, as its contents are not automatically moved.
     */
    insertAfterNode(ref) {
        this.startNode = ref;
        this.endNode = ref.nextSibling;
    }
    /**
     * Appends this part into a parent part.
     *
     * This part must be empty, as its contents are not automatically moved.
     */
    appendIntoPart(part) {
        part.__insert(this.startNode = Object(_template_js__WEBPACK_IMPORTED_MODULE_5__[/* createMarker */ "c"])());
        part.__insert(this.endNode = Object(_template_js__WEBPACK_IMPORTED_MODULE_5__[/* createMarker */ "c"])());
    }
    /**
     * Inserts this part after the `ref` part.
     *
     * This part must be empty, as its contents are not automatically moved.
     */
    insertAfterPart(ref) {
        ref.__insert(this.startNode = Object(_template_js__WEBPACK_IMPORTED_MODULE_5__[/* createMarker */ "c"])());
        this.endNode = ref.endNode;
        ref.endNode = this.startNode;
    }
    setValue(value) {
        this.__pendingValue = value;
    }
    commit() {
        if (this.startNode.parentNode === null) {
            return;
        }
        while (Object(_directive_js__WEBPACK_IMPORTED_MODULE_0__[/* isDirective */ "b"])(this.__pendingValue)) {
            const directive = this.__pendingValue;
            this.__pendingValue = _part_js__WEBPACK_IMPORTED_MODULE_2__[/* noChange */ "a"];
            directive(this);
        }
        const value = this.__pendingValue;
        if (value === _part_js__WEBPACK_IMPORTED_MODULE_2__[/* noChange */ "a"]) {
            return;
        }
        if (isPrimitive(value)) {
            if (value !== this.value) {
                this.__commitText(value);
            }
        }
        else if (value instanceof _template_result_js__WEBPACK_IMPORTED_MODULE_4__[/* TemplateResult */ "b"]) {
            this.__commitTemplateResult(value);
        }
        else if (value instanceof Node) {
            this.__commitNode(value);
        }
        else if (isIterable(value)) {
            this.__commitIterable(value);
        }
        else if (value === _part_js__WEBPACK_IMPORTED_MODULE_2__[/* nothing */ "b"]) {
            this.value = _part_js__WEBPACK_IMPORTED_MODULE_2__[/* nothing */ "b"];
            this.clear();
        }
        else {
            // Fallback, will render the string representation
            this.__commitText(value);
        }
    }
    __insert(node) {
        this.endNode.parentNode.insertBefore(node, this.endNode);
    }
    __commitNode(value) {
        if (this.value === value) {
            return;
        }
        this.clear();
        this.__insert(value);
        this.value = value;
    }
    __commitText(value) {
        const node = this.startNode.nextSibling;
        value = value == null ? '' : value;
        // If `value` isn't already a string, we explicitly convert it here in case
        // it can't be implicitly converted - i.e. it's a symbol.
        const valueAsString = typeof value === 'string' ? value : String(value);
        if (node === this.endNode.previousSibling &&
            node.nodeType === 3 /* Node.TEXT_NODE */) {
            // If we only have a single text node between the markers, we can just
            // set its value, rather than replacing it.
            // TODO(justinfagnani): Can we just check if this.value is primitive?
            node.data = valueAsString;
        }
        else {
            this.__commitNode(document.createTextNode(valueAsString));
        }
        this.value = value;
    }
    __commitTemplateResult(value) {
        const template = this.options.templateFactory(value);
        if (this.value instanceof _template_instance_js__WEBPACK_IMPORTED_MODULE_3__[/* TemplateInstance */ "a"] &&
            this.value.template === template) {
            this.value.update(value.values);
        }
        else {
            // Make sure we propagate the template processor from the TemplateResult
            // so that we use its syntax extension, etc. The template factory comes
            // from the render function options so that it can control template
            // caching and preprocessing.
            const instance = new _template_instance_js__WEBPACK_IMPORTED_MODULE_3__[/* TemplateInstance */ "a"](template, value.processor, this.options);
            const fragment = instance._clone();
            instance.update(value.values);
            this.__commitNode(fragment);
            this.value = instance;
        }
    }
    __commitIterable(value) {
        // For an Iterable, we create a new InstancePart per item, then set its
        // value to the item. This is a little bit of overhead for every item in
        // an Iterable, but it lets us recurse easily and efficiently update Arrays
        // of TemplateResults that will be commonly returned from expressions like:
        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.
        // If _value is an array, then the previous render was of an
        // iterable and _value will contain the NodeParts from the previous
        // render. If _value is not an array, clear this part and make a new
        // array for NodeParts.
        if (!Array.isArray(this.value)) {
            this.value = [];
            this.clear();
        }
        // Lets us keep track of how many items we stamped so we can clear leftover
        // items from a previous render
        const itemParts = this.value;
        let partIndex = 0;
        let itemPart;
        for (const item of value) {
            // Try to reuse an existing part
            itemPart = itemParts[partIndex];
            // If no existing part, create a new one
            if (itemPart === undefined) {
                itemPart = new NodePart(this.options);
                itemParts.push(itemPart);
                if (partIndex === 0) {
                    itemPart.appendIntoPart(this);
                }
                else {
                    itemPart.insertAfterPart(itemParts[partIndex - 1]);
                }
            }
            itemPart.setValue(item);
            itemPart.commit();
            partIndex++;
        }
        if (partIndex < itemParts.length) {
            // Truncate the parts array so _value reflects the current state
            itemParts.length = partIndex;
            this.clear(itemPart && itemPart.endNode);
        }
    }
    clear(startNode = this.startNode) {
        Object(_dom_js__WEBPACK_IMPORTED_MODULE_1__[/* removeNodes */ "b"])(this.startNode.parentNode, startNode.nextSibling, this.endNode);
    }
}
/**
 * Implements a boolean attribute, roughly as defined in the HTML
 * specification.
 *
 * If the value is truthy, then the attribute is present with a value of
 * ''. If the value is falsey, the attribute is removed.
 */
class BooleanAttributePart {
    constructor(element, name, strings) {
        this.value = undefined;
        this.__pendingValue = undefined;
        if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {
            throw new Error('Boolean attributes can only contain a single expression');
        }
        this.element = element;
        this.name = name;
        this.strings = strings;
    }
    setValue(value) {
        this.__pendingValue = value;
    }
    commit() {
        while (Object(_directive_js__WEBPACK_IMPORTED_MODULE_0__[/* isDirective */ "b"])(this.__pendingValue)) {
            const directive = this.__pendingValue;
            this.__pendingValue = _part_js__WEBPACK_IMPORTED_MODULE_2__[/* noChange */ "a"];
            directive(this);
        }
        if (this.__pendingValue === _part_js__WEBPACK_IMPORTED_MODULE_2__[/* noChange */ "a"]) {
            return;
        }
        const value = !!this.__pendingValue;
        if (this.value !== value) {
            if (value) {
                this.element.setAttribute(this.name, '');
            }
            else {
                this.element.removeAttribute(this.name);
            }
            this.value = value;
        }
        this.__pendingValue = _part_js__WEBPACK_IMPORTED_MODULE_2__[/* noChange */ "a"];
    }
}
/**
 * Sets attribute values for PropertyParts, so that the value is only set once
 * even if there are multiple parts for a property.
 *
 * If an expression controls the whole property value, then the value is simply
 * assigned to the property under control. If there are string literals or
 * multiple expressions, then the strings are expressions are interpolated into
 * a string first.
 */
class PropertyCommitter extends AttributeCommitter {
    constructor(element, name, strings) {
        super(element, name, strings);
        this.single =
            (strings.length === 2 && strings[0] === '' && strings[1] === '');
    }
    _createPart() {
        return new PropertyPart(this);
    }
    _getValue() {
        if (this.single) {
            return this.parts[0].value;
        }
        return super._getValue();
    }
    commit() {
        if (this.dirty) {
            this.dirty = false;
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            this.element[this.name] = this._getValue();
        }
    }
}
class PropertyPart extends AttributePart {
}
// Detect event listener options support. If the `capture` property is read
// from the options object, then options are supported. If not, then the third
// argument to add/removeEventListener is interpreted as the boolean capture
// value so we should only pass the `capture` property.
let eventOptionsSupported = false;
// Wrap into an IIFE because MS Edge <= v41 does not support having try/catch
// blocks right into the body of a module
(() => {
    try {
        const options = {
            get capture() {
                eventOptionsSupported = true;
                return false;
            }
        };
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        window.addEventListener('test', options, options);
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        window.removeEventListener('test', options, options);
    }
    catch (_e) {
        // event options not supported
    }
})();
class EventPart {
    constructor(element, eventName, eventContext) {
        this.value = undefined;
        this.__pendingValue = undefined;
        this.element = element;
        this.eventName = eventName;
        this.eventContext = eventContext;
        this.__boundHandleEvent = (e) => this.handleEvent(e);
    }
    setValue(value) {
        this.__pendingValue = value;
    }
    commit() {
        while (Object(_directive_js__WEBPACK_IMPORTED_MODULE_0__[/* isDirective */ "b"])(this.__pendingValue)) {
            const directive = this.__pendingValue;
            this.__pendingValue = _part_js__WEBPACK_IMPORTED_MODULE_2__[/* noChange */ "a"];
            directive(this);
        }
        if (this.__pendingValue === _part_js__WEBPACK_IMPORTED_MODULE_2__[/* noChange */ "a"]) {
            return;
        }
        const newListener = this.__pendingValue;
        const oldListener = this.value;
        const shouldRemoveListener = newListener == null ||
            oldListener != null &&
                (newListener.capture !== oldListener.capture ||
                    newListener.once !== oldListener.once ||
                    newListener.passive !== oldListener.passive);
        const shouldAddListener = newListener != null && (oldListener == null || shouldRemoveListener);
        if (shouldRemoveListener) {
            this.element.removeEventListener(this.eventName, this.__boundHandleEvent, this.__options);
        }
        if (shouldAddListener) {
            this.__options = getOptions(newListener);
            this.element.addEventListener(this.eventName, this.__boundHandleEvent, this.__options);
        }
        this.value = newListener;
        this.__pendingValue = _part_js__WEBPACK_IMPORTED_MODULE_2__[/* noChange */ "a"];
    }
    handleEvent(event) {
        if (typeof this.value === 'function') {
            this.value.call(this.eventContext || this.element, event);
        }
        else {
            this.value.handleEvent(event);
        }
    }
}
// We copy options because of the inconsistent behavior of browsers when reading
// the third argument of add/removeEventListener. IE11 doesn't support options
// at all. Chrome 41 only reads `capture` if the argument is an object.
const getOptions = (o) => o &&
    (eventOptionsSupported ?
        { capture: o.capture, passive: o.passive, once: o.once } :
        o.capture);
//# sourceMappingURL=parts.js.map

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return translate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TranslatePropertyKey; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return getLocale; });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);
/* harmony import */ var _elf_elf_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16);
/* harmony import */ var _elf_core_phrasebook__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2);



const TranslatePropertyKey = Symbol('elf-translate');
// For each part, remember the value that was last rendered to the part
const previousNodeValues = new WeakMap();
const updatePart = (part, value) => {
    // support unsafeHTML syntax
    if (part instanceof lit_html__WEBPACK_IMPORTED_MODULE_0__[/* NodePart */ "b"]) {
        const previousValue = previousNodeValues.get(part);
        if (previousValue !== undefined && Object(lit_html__WEBPACK_IMPORTED_MODULE_0__[/* isPrimitive */ "h"])(value) && value === previousValue.value && part.value === previousValue.fragment) {
            return;
        }
        const template = document.createElement('template');
        template.innerHTML = value; // innerHTML casts to string internally
        const fragment = document.importNode(template.content, true);
        previousNodeValues.set(part, { value, fragment });
        part.setValue(fragment);
        part.commit();
        return;
    }
    part.setValue(value);
    part.commit();
};
const translateDirective = Object(lit_html__WEBPACK_IMPORTED_MODULE_0__[/* directive */ "f"])((scope, locale, key, options, translateParams) => (part) => {
    /* istanbul ignore next */
    if (!(part instanceof lit_html__WEBPACK_IMPORTED_MODULE_0__[/* NodePart */ "b"] || part instanceof lit_html__WEBPACK_IMPORTED_MODULE_0__[/* AttributePart */ "a"] || part instanceof lit_html__WEBPACK_IMPORTED_MODULE_0__[/* PropertyPart */ "c"])) {
        throw new Error('elfTranslate can only be used in content, attribute or property bindings');
    }
    // TODO: support additional API to show some text while translations are loading
    // it can be just an English translation, greyed div, loading mask etc.
    Promise.resolve(Object(_elf_elf_i18n__WEBPACK_IMPORTED_MODULE_1__[/* t */ "d"])(scope, locale, key, options, translateParams))
        .then(message => {
        updatePart(part, message);
    })
        .catch(error => {
        updatePart(part, key);
        // the code may fail if polyfills are not available in IE11 or translate syntax is wrong
        /* istanbul ignore next */
        setTimeout(() => {
            throw new Error(error);
        });
    });
});
const translatePromise = (scope, locale, key, options, translateParams) => {
    return Promise.resolve(Object(_elf_elf_i18n__WEBPACK_IMPORTED_MODULE_1__[/* t */ "d"])(scope, locale, key, options, translateParams))
        .then(message => {
        return message;
    })
        .catch(error => {
        // the code may fail if polyfills are not available in IE11 or translate syntax is wrong
        /* istanbul ignore next */
        setTimeout(() => {
            throw new Error(error);
        });
        return key;
    });
};
/**
 * Get locale of the element.
 * Locale is resolved following the algorithm:
 * `element.lang` -> `document.lang` -> `navigator.language`
 * @param element HTML element
 * @return element locale
 */
const getLocale = (element) => element.lang || _elf_elf_i18n__WEBPACK_IMPORTED_MODULE_1__[/* LangAttributeObserver */ "b"].documentLang || navigator.language;
/**
 * Start observing translations.
 * This step is required when translations are loaded or the `lang` has been
 * after the element has been rendered
 * @param this Function scope. ELF Basic Element
 * @param scope Scope
 * @returns {void}
 */
const observeTranslations = function (scope = this.localName) {
    let locale = getLocale(this);
    // Observe `lang` attribute changes on
    // document.documentElement and element itself
    _elf_elf_i18n__WEBPACK_IMPORTED_MODULE_1__[/* LangAttributeObserver */ "b"].observe(this, () => {
        const newLocale = getLocale(this);
        if (locale !== newLocale) {
            locale = newLocale;
            // this ensures that requestUpdate always comes through
            // however, external applications still can detect that the change is coming for translations
            // this is better than empty requestUpdate() as in that case in is not possible to detect source of update
            this.requestUpdate(TranslatePropertyKey, {});
        }
    });
    // Observe new translations for the scope
    return _elf_core_phrasebook__WEBPACK_IMPORTED_MODULE_2__[/* Phrasebook */ "a"].observe(scope, () => {
        this.requestUpdate(TranslatePropertyKey, {});
    });
};
/**
 * Disconnect translation listeners.
 * This step is required to remove all element references from LangAttributeObserver and Phrasebook
 * @param this Function scope. ELF Basic Element
 * @param key Observe key from the `observeTranslations` function
 * @returns {void}
 */
const disconnectTranslations = function (key) {
    _elf_elf_i18n__WEBPACK_IMPORTED_MODULE_1__[/* LangAttributeObserver */ "b"].disconnect(this);
    _elf_core_phrasebook__WEBPACK_IMPORTED_MODULE_2__[/* Phrasebook */ "a"].disconnect(key);
};
/**
 * Binds an element to translation keys
 * @param [options] decorator `options` or `scope`.
 * If not provided provided, `scope = element.localName` and `mode = 'directive'`
 * @returns translate directive
 */
const translate = function (options) {
    return (prototype, name) => {
        const scope = options ? typeof options === 'string' ? options : options.scope : undefined;
        const mode = options && typeof options !== 'string' ? options.mode : 'directive';
        // Cannot use an element itself as a key.
        // Element may have multiple translate directives with different scope
        // Therefore we need a truly unique key
        let key;
        const connectedCallback = prototype.connectedCallback;
        prototype.connectedCallback = function () {
            connectedCallback.call(this);
            key = observeTranslations.call(this, scope);
        };
        const disconnectedCallback = prototype.disconnectedCallback;
        prototype.disconnectedCallback = function () {
            disconnectedCallback.call(this);
            disconnectTranslations.call(this, key);
        };
        const descriptor = mode === 'promise'
            ? {
                get() {
                    return (key, options, translateParams) => {
                        return translatePromise(scope || this.localName, getLocale(this), key, options, translateParams);
                    };
                }
            } : {
            get() {
                return (key, options, translateParams) => {
                    return translateDirective(scope || this.localName, getLocale(this), key, options, translateParams);
                };
            }
        };
        Object.defineProperty(prototype, name, Object.assign({
            enumerable: false,
            configurable: false
        }, descriptor));
    };
};



/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, "a", function() { return /* reexport */ preload; });

// UNUSED EXPORTS: CoralIcon

// EXTERNAL MODULE: ./node_modules/@elf/core/lib/elf.js + 57 modules
var elf = __webpack_require__(0);

// EXTERNAL MODULE: ./node_modules/@elf/utils/lib/utils.js + 23 modules
var utils = __webpack_require__(1);

// CONCATENATED MODULE: ./node_modules/@elf/coral-icon/lib/utils/IconLoader.js


const isUrl = (str) => (/^(https?:\/{2}|\.?\/)/i).test(str);
/**
 * Caches and provides icon SVGs, Loaded either by name from CDN or directly by URL.
 * Uses singleton pattern
 */
class IconLoader_IconLoader extends utils["c" /* CdnLoader */] {
    constructor() {
        super(...arguments);
        this.cdnPrefix = new utils["e" /* Deferred */]();
        this._isPrefixSet = false;
    }
    /**
     * @returns {boolean} clarify whether prefix has been set or not.
     */
    get isPrefixSet() {
        return this._isPrefixSet;
    }
    /**
     * Sets clarify whether prefix has been set or not
     * @param value - new value that is going to set.
     */
    set isPrefixSet(value) {
        if (this._isPrefixSet !== value) {
            this._isPrefixSet = value;
        }
    }
    /**
     * @returns promise, which will be resolved with CDN prefix, once set.
     */
    getCdnPrefix() {
        return this.cdnPrefix.promise;
    }
    /**
     * Sets CDN prefix to load source.
     * Resolves deferred promise with CDN prefix and sets src used to check whether prefix is already set or not.
     * @param prefix - CDN prefix.
     * @returns {void}
     */
    setCdnPrefix(prefix) {
        if (prefix) {
            this.cdnPrefix.resolve(prefix);
            this.isPrefixSet = true;
        }
    }
    /**
     * Creates complete source using CDN prefix and src.
     * Waits for CDN prefix to be set.
     * @param iconName - resource path for download
     * @returns Promise, which will be resolved with complete source.
     */
    async getSrc(iconName) {
        if (isUrl(iconName)) {
            return iconName;
        }
        return iconName ? `${await this.getCdnPrefix()}${iconName}.svg` : '';
    }
    /**
     * Loads icon and returns the body of the SVG
     * @param icon Icon name to load
     * @returns SVG body of the response
     */
    async loadSVG(icon) {
        if (!icon) {
            return;
        }
        icon = await this.getSrc(icon);
        const response = await this.load(icon);
        if (response && response.status === 200 && response.getResponseHeader('content-type') === 'image/svg+xml') {
            const container = document.createElement('svg');
            container.innerHTML = response.responseText;
            this.stripUnsafeNodes(...container.children);
            const svgRoot = container.firstElementChild;
            if (svgRoot) {
                svgRoot.setAttribute('focusable', 'false'); /* disable IE11 focus on SVG root element */
            }
            return container.innerHTML;
        }
        return '';
    }
}
const iconLoaderInstance = new IconLoader_IconLoader();

/**
 * Helper function to preload set of icons.
 * It could help to reduce icon loading delay when coral-icon has a known set of icons that it can use.
 * @param attrs - list of arguments, representing icons.
 * Could be icon names, complete icon URLs or mix of both.
 * @returns Array of promises, which will be resolved with SVG bodies.
 */
const preload = (...attrs) => {
    return attrs.map(icon => iconLoaderInstance.loadSVG(icon));
};

// CONCATENATED MODULE: ./node_modules/@elf/coral-icon/lib/coral-icon.js
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



const EmptyTemplate = elf["q" /* svg */] ``;
/**
 * Cache for reusing SVG template results across multiple icons.
 * Reusing these templates increases performance dramatically when many icons are rendered.
 * As the cache key is an absolute URL, we can assume no clashes will occur.
 */
const iconTemplateCache = new Map();
let coral_icon_CoralIcon = class CoralIcon extends elf["a" /* BasicElement */] {
    constructor() {
        super(...arguments);
        this._src = null;
        this._icon = null;
        this._template = EmptyTemplate;
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.6.0';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return elf["h" /* css */] `
      :host {
        display: inline-block;
        line-height: 1;
        width: 1em;
        height: 1em;
      }
      svg {
        width: 100%;
        height: 100%;
      }
    `;
    }
    /**
     * Name of a known icon to render or URL of SVG icon.
     * @example heart | https://cdn.io/icons/heart.svg
     */
    get icon() {
        return this._icon;
    }
    set icon(value) {
        const oldValue = this._icon;
        if (oldValue !== value) {
            this._icon = value;
            this.setIconSrc();
            this.requestUpdate('icon', oldValue);
        }
    }
    /**
     * Src location of an svg icon.
     * @example https://cdn.io/icons/heart.svg
     * @deprecated Use `icon` instead
     */
    get src() {
        return this._src;
    }
    set src(value) {
        if (this.src !== value) {
            this._src = value;
            this.clearIcon();
            if (value) {
                this.loadAndRenderIcon(value);
            }
        }
    }
    /**
     * Called after the component is first rendered
     * @param changedProperties Properties which have changed
     * @returns {void}
     */
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        /**
         * We have to call this here because
         * polyfilled browsers only get variables at this point.
         */
        this.setPrefix();
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return this.template;
    }
    /**
     * The icon template to render
     */
    get template() {
        return this._template;
    }
    set template(value) {
        if (this._template !== value) {
            this._template = value;
            this.requestUpdate();
        }
    }
    /**
     * Helper method, used to set the icon src.
     * @returns {void}
     */
    async setIconSrc() {
        this.src = this.icon ? await iconLoaderInstance.getSrc(this.icon) : null;
    }
    /**
     * Tries to load an icon from the url provided
     * and the renders this into the icon template.
     * @param src Source location of the svg icon.
     * @returns {void}
     */
    async loadAndRenderIcon(src) {
        const iconTemplateCacheItem = iconTemplateCache.get(src);
        if (!iconTemplateCacheItem) {
            iconTemplateCache.set(src, iconLoaderInstance.loadSVG(src)
                .then(body => elf["q" /* svg */] `${Object(elf["r" /* unsafeHTML */])(body)}`));
            return this.loadAndRenderIcon(src); // Load again and await cache result
        }
        this.template = await iconTemplateCacheItem;
    }
    /**
     * Get and cache CDN prefix
     * This is a private URL which is set in the theme
     * and should not be configured again via the variable.
     * @returns {void}
     */
    setPrefix() {
        if (!iconLoaderInstance.isPrefixSet) {
            const CDNPrefix = this.getComputedVariable('--cdn-prefix')
                .replace(/^('|")|('|")$/g, '');
            iconLoaderInstance.setCdnPrefix(CDNPrefix);
        }
    }
    /**
     * Clears SVG body from the icon template
     * @returns {void}
     */
    clearIcon() {
        this.template = EmptyTemplate;
    }
};
__decorate([
    Object(elf["n" /* property */])({ type: String, reflect: true })
], coral_icon_CoralIcon.prototype, "icon", null);
__decorate([
    Object(elf["n" /* property */])({ type: String })
], coral_icon_CoralIcon.prototype, "src", null);
coral_icon_CoralIcon = __decorate([
    Object(elf["i" /* customElement */])('coral-icon')
], coral_icon_CoralIcon);



/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Dom; });
/** @namespace */
var Dom = {};

/** Shorthand for creating an element with class
* @public
* @function
* @param {string} tagName
* @param {string=} className
* @return {!Element}
*/
Dom.create = function(tagName, className) {
	var elem = document.createElement(tagName);
	if(className) {
		elem.className = className;
	}
	return elem;
};
/** Shorthand for creating a div element with class
* @public
* @function
* @param {string=} className
* @return {!Element}
*/
Dom.div = function(className) {
	return Dom.create("div", className);
};
/** Shorthand for creating a span element with textContent
* @public
* @function
* @param {string=} textContent
* @param {string=} className
* @return {!Element}
*/
Dom.text = function(textContent, className) {
	var elem = Dom.create("span", className);
	if(textContent || textContent === 0) {
		elem.textContent = textContent;
	}
	return elem;
};

/** Shorthand for appending multiple children
* @public
* @function
* @param {Element} parentElem
* @param {...Node|Array} children
* @return {Element} Parent element
*/
Dom.appendChild = function(parentElem, children) {
	if(!parentElem) {
		return null;
	}
	var i, ary;
	if(Array.isArray(arguments[1])) {
		ary = arguments[1];
		i = 0;
	} else {
		ary = arguments;
		i = 1;
	}
	var len = ary.length;
	while(i < len) {
		parentElem.appendChild(ary[i]);
		++i;
	}
	return parentElem;
};
/** Shorthand for appending multiple children in a tree like manner
* @public
* @function
* @param {Element} parentElem
* @param {...Node|Array} children The first child from the given array will be treated as a parent of all subsequence items.
* @return {Element} Parent element
* @example
* Dom.buildTree(p1,
*   ch1,
*   ch2,
*   [ch3_p1,
*	 ch3_ch1,
*	 ch3_ch2
*   ]
* );
*/
Dom.buildTree = function(parentElem, children) {
	if(!parentElem) {
		return null;
	}
	var args = arguments;
	var len = args.length;
	for(var i = 1; i < len; ++i) {
		var child = args[i];
		if(child) {
			var childElem;
			if(Array.isArray(child)) {
				childElem = Dom.buildTree.apply(null, child);
			} else if(child.nodeType === 1) {
				childElem = /** @type{Element} */(child);
			}
			if(childElem) {
				parentElem.appendChild(childElem);
			}
		}
	}
	return parentElem;
};
/** Put the given element out of the document
* @function
* @param {Node|Element} child
* @return {Element} Parent Element
*/
Dom.removeParent = function (child) {
	if(!child) { return null; }
	var parent = child.parentNode;
	if(parent) {
		parent.removeChild(child);
	}
	return parent;
};
/** Safely set parent for the specified child element
* @function
* @param {Node|Element} child
* @param {Node|Element} parent
* @return {Element} Parent Element
*/
Dom.setParent = function (child, parent) {
	if(!child) { return null; }
	if(parent) {
		parent.appendChild(child);
		return parent;
	} else {
		return Dom.removeParent(child);
	}
};
/** Remove all child nodes
* @function
* @param {Node|Element} elem
* @param {number=} count
*/
Dom.removeChildren = function (elem, count) {
	if(elem) {
		var childCount = elem.childNodes.length;
		if(count == null || count > childCount) {
			count = childCount;
		}
		while(--count >= 0) {
			elem.removeChild(elem.lastChild);
		}
	}
};
/** Ensure that element will contain only the given nodes (all other existing nodes are removed).
* @public
* @function
* @param {Element} elem
* @param {*} val Element, Node, string, number, or everything else.
*/
Dom.setContent = function(elem, val) {
	if(elem) {
		if(val || val === 0) {
			var nt = val.nodeType;
			if(nt === 1 || nt === 3) {
				if(val !== elem.lastChild) {
					Dom.removeChildren(elem);
					elem.appendChild(/** @type{Node} */(val));
				}
			} else if(Array.isArray(val)) {
				Dom.removeChildren(elem); // Could be slow, if duplicates are given
				Dom.appendChild(elem, val);
			} else {
				elem.textContent = val; // Implicit text conversion
			}
		} else {
			Dom.removeChildren(elem);
		}
	}
};

/** A quick way to toggle attribute on and off.
* @function
* @param {Element} elem
* @param {string} attr Attribute name (e.g. disabled, readonly, style, class)
* @param {*=} bool Truthy or falsy value. If specified, this method is equivalent to setter method.
*/
Dom.toggleAttribute = function (elem, attr, bool) {
	if(bool) {
		elem.setAttribute(attr, (typeof bool === "string") ? bool : "");
	} else if(bool == null) {
		if(elem.hasAttribute(attr)) {
			elem.removeAttribute(attr);
		} else {
			elem.setAttribute(attr, "");
		}
	} else {
		elem.removeAttribute(attr);
	}
};
/** A quick way to toggle class on and off. Note that this is a replacement for classList.toggle() as IE10 doesn't support it.
* @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Element/classList}
* @function
* @param {Element} elem
* @param {string} classStr Non space class name
* @param {*=} bool Truthy or falsy value. If specified, this method is equivalent to setter method.
*/
Dom.toggleClass = function (elem, classStr, bool) {
	if(bool) {
		elem.classList.add(classStr);
	} else if(bool == null) {
		if(elem.classList.contains(classStr)) {
			elem.classList.remove(classStr);
		} else {
			elem.classList.add(classStr);
		}
	} else {
		elem.classList.remove(classStr);
	}
};
/** A quick way to add multiple classes without altering existing classes in the element. This does not necessarily mean that this method has high performance.
* @function
* @param {Element} elem
* @param {...string} classes CSS Class names without any space in the name. Array can be given as well
* @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Element/classList}
*/
Dom.addClasses = function (elem, classes) {
	if(elem) {
		var ary = Array.isArray(classes) ? classes : arguments;
		var len = ary.length;
		for(var i = 0; i < len; ++i) {
			var str = ary[i];
			if(str && typeof str == "string") {
				elem.classList.add(str);
			}
		}
	}
};
/** A quick way to remove multiple classes without altering unrelated classes in the element. This does not necessarily mean that this method has high performance.
* @function
* @param {Element} elem
* @param {...string} classes CSS Class names without any space in the name. Array can be given as well
* @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Element/classList}
*/
Dom.removeClasses = function (elem, classes) {
	if(elem) {
		var ary = Array.isArray(classes) ? classes : arguments;
		var len = ary.length;
		for(var i = 0; i < len; ++i) {
			var str = ary[i];
			if(str && typeof str == "string") {
				elem.classList.remove(str);
			}
		}
	}
};

/** @public
* @function
* @param {Event} e
*/
Dom.preventDefault = function(e) {
	e.preventDefault();
	e.stopPropagation();
};
/** @public
* @function
* @param {Event} e
*/
Dom.stopPropagation = function(e) {
	e.stopPropagation();
};


/** Get client prosition from the given target. Supports only for modern browser (Gecko 1.9+, modern Webkit)
* @public
* @function
* @param {!Element|Event|MouseEvent} target
* @param {*=} retObj An object that stores returned values
* @return {!Object} Return object with property x and y
*/
Dom.getClientPosition = function(target, retObj) {
	var pos = retObj || {"x": 0, "y": 0};
	if(target["getBoundingClientRect"]){
		var box = target["getBoundingClientRect"]();
		pos["x"] = box.left;
		pos["y"] = box.top;
	} else { //Event
		pos["x"] = target.clientX;
		pos["y"] = target.clientY;
	}

	return /**@type {!Object} */(pos);
};
/** Get position of A element that is relative to the B element. <br>
* Top-left of B is used as registration a point (0, 0) for x and y. <br>
* For example, if A is located to right of B, "x" will be positive, If A is located below B, "y" will be positive.
* @public
* @function
* @param {!Element|Event|MouseEvent} A HTMLElement, Browser's event, or mouse event object
* @param {!Element|Event|MouseEvent} B HTMLElement, Browser's event, or mouse event object
* @param {*=} retObj An object that stores returned values
* @return {!Object} an object with "x" and "y" values
* @example
* Dom.getRelativePosition(popupA, document.body); // Get position of popupA that is relative to the document body
*/
Dom.getRelativePosition = function(A, B, retObj) {
	retObj = Dom.getClientPosition(A, retObj);
	var bp = Dom.getClientPosition(B);

	retObj["x"] -= bp["x"];
	retObj["y"] -= bp["y"];
	return /**@type {!Object} */(retObj);
};
/** Return closest ancestor element or the element itself with specified class string. Otherwise return null
* @public
* @function
* @param {Element|Node|undefined} elem
* @param {string} classStr The class string can only be one single class without spaces
* @return {Element}
*/
Dom.closestElement = function(elem, classStr) {
	var n = elem;
	while(n && n.classList) {
		if(n.classList.contains(classStr)) {
			return /** @type{Element} */(n);
		}
		n = n.parentNode;
	}
	return null;
};
/** Return closest ancestor element or the element itself with the specified tagName. Otherwise return null
* @public
* @function
* @param {Element|Node|undefined} elem
* @param {string} tn Tag name in uppercase format (e.g. "DIV")
* @return {Element}
*/
Dom.closestTagName = function(elem, tn) {
	var n = elem;
	while(n && n.tagName) {
		if(n.tagName == tn) {
			return /** @type{Element} */(n);
		}
		n = n.parentNode;
	}
	return null;
};

/* harmony default export */ __webpack_exports__["b"] = (Dom);



/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoralItem", function() { return CoralItem; });
/* harmony import */ var _elf_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);
/* harmony import */ var _elf_coral_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
/* harmony import */ var _elf_coral_checkbox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(25);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(46);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_types__WEBPACK_IMPORTED_MODULE_3__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




const isAllWhitespaceTextNode = (node) => {
    var _a;
    return node.nodeType === document.TEXT_NODE
        && !((_a = node.textContent) === null || _a === void 0 ? void 0 : _a.trim());
};
/**
 * coral-item is generally used as a basic building block
 * to compose complex custom elements,
 * additionally it can be used by applications
 * to create simple menus or navigation panels.
 *
 * @attr {string} value - The content of this attribute represents the value of the item.
 * @prop {string} [value=] - The content of this attribute represents the value of the item.
 *
 * @attr {boolean} disabled - Set disabled state.
 * @prop {boolean} [disabled=false] - Set disabled state.
 *
 * @slot left - Used to render the content on the left of the label.
 * @slot right - Used to render the content on the right of the label.
 */
let CoralItem = class CoralItem extends _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* ControlElement */ "b"] {
    constructor() {
        super(...arguments);
        /**
         * The text for the label indicating the meaning of the item.
         * By having both `label` and content, `label` always takes priority
         */
        this.label = null;
        /**
         * If defined value can be `text`, `header` or `divider`
         * @type {ItemType | null}
         */
        this.type = null;
        /**
         * Set the icon name from the coral-icon list
         */
        this.icon = null;
        /**
         * Indicates that the item is selected
         */
        this.selected = false;
        /**
         * Is the item part of a multiple selection
         */
        this.multiple = false;
        /**
         * Highlight the item
         */
        this.highlighted = false;
        /**
         * The`subLabel` property represents the text beneath the label.
         */
        this.subLabel = null;
        /**
         * Specifies which element an item is bound to
         */
        this.for = null;
        /**
         * True, if there is no slotted content
         */
        this.isSlotEmpty = true;
        /**
         * Checks slotted children nodes and updates component to refresh label and sub-label templates.
         * @param event slotchange
         * @returns {void}
         */
        this.checkSlotChildren = (event) => {
            const slot = event.target;
            this.isSlotEmpty = !slot.assignedNodes().filter(node => !this.isIgnorable(node)).length;
            this.requestUpdate();
        };
    }
    /**
    * Element version number
    */
    static get version() {
        return '4.5.32';
    }
    /**
     * @returns `CSSResult` that will be used to style the host,
     * slotted children and the internal template of the element.
     */
    static get styles() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* css */ "h"] `
      :host {
        display: flex;
        align-items: center;
      }

      [part=checkbox] {
        pointer-events: none;
      }

      [part=left],
      [part=right] {
        display: flex;
        align-items: center;
      }

      [part=center] {
        flex: 1;
      }

      :host([type=divider]) > * {
        display: none;
      }
    `;
    }
    /**
     * @param node that should be checked
     * @returns whether node can be ignored.
     */
    isIgnorable(node) {
        return node.nodeType === document.COMMENT_NODE
            || isAllWhitespaceTextNode(node);
    }
    /**
     * @override
     * @returns {void}
     */
    update(changedProperties) {
        if (changedProperties.has('type')) {
            this.typeChanged();
        }
        super.update(changedProperties);
    }
    /**
     * Get icon template if icon attribute is defined
     */
    get iconTemplate() {
        return this.icon !== null && this.icon !== undefined ? _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `<coral-icon part="icon" .icon="${this.icon}"></coral-icon>` : undefined;
    }
    /**
     * Get subLabel template if it is defined and no slot content present
     */
    get subLabelTemplate() {
        return this.subLabel && this.isSlotEmpty ? _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `<div part="sub-label">${this.subLabel}</div>` : undefined;
    }
    /**
     * Get label template if it is defined and no slot content present
     */
    get labelTemplate() {
        return this.label && this.isSlotEmpty ? _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `${this.label}` : undefined;
    }
    /**
     * Get template for `for` attribute.
     * This is usually used with menus when an item needs to reference an element
     */
    get forTemplate() {
        return this.for ? _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `<coral-icon icon="right"></coral-icon>` : undefined;
    }
    /**
     * Get template for `multiple` attribute.
     * This is usually used with lists, when an item can be part of a multiple selection
     */
    get multipleTemplate() {
        const multiple = this.multiple && (!this.type || this.type === 'text');
        return multiple ? _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `<coral-checkbox part="checkbox" .checked="${this.selected}" tabindex="-1"></coral-checkbox>` : undefined;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @returns Render template
     */
    render() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `
      <div part="left">
        ${this.iconTemplate}
        ${this.multipleTemplate}
        <slot name="left"></slot>
      </div>
      <div part="center" id="label">
        ${this.labelTemplate}
        <slot @slotchange="${this.checkSlotChildren}"></slot>
        ${this.subLabelTemplate}
      </div>
      <div part="right">
        <slot name="right"></slot>
        ${this.forTemplate}
      </div>
    `;
    }
    /**
     * Return true if the item can be highlighted. True if not disabled and type is Text
     * @prop {boolean} highlightable
     * @returns whether element is highlightable
     */
    get highlightable() {
        return !this.disabled && this.type !== 'header' && this.type !== 'divider';
    }
    /**
     * Getter returning if the label is truncated
     * @prop {boolean} isTruncated
     * @returns whether element is truncated or not
     */
    get isTruncated() {
        return !!(this.labelEl && (this.labelEl.offsetWidth < this.labelEl.scrollWidth));
    }
    /**
     * Control State behaviour will update tabindex based on the property
     * @returns {void}
     */
    typeChanged() {
        const noInteraction = this.type === 'header' || this.type === 'divider' || this.disabled;
        if (noInteraction) {
            this.disableFocus();
        }
        else if (!this.disabled) {
            this.enableFocus();
        }
    }
};
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String })
], CoralItem.prototype, "label", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String, reflect: true })
], CoralItem.prototype, "type", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String, reflect: true })
], CoralItem.prototype, "icon", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralItem.prototype, "selected", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralItem.prototype, "multiple", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralItem.prototype, "highlighted", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String, reflect: true, attribute: 'sub-label' })
], CoralItem.prototype, "subLabel", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String, reflect: true })
], CoralItem.prototype, "for", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* query */ "o"])('#label')
], CoralItem.prototype, "labelEl", void 0);
CoralItem = __decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* customElement */ "i"])('coral-item')
], CoralItem);



/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return noChange; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return nothing; });
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * A sentinel value that signals that a value was handled by a directive and
 * should not be written to the DOM.
 */
const noChange = {};
/**
 * A sentinel value that signals a NodePart to fully clear its content.
 */
const nothing = {};
//# sourceMappingURL=part.js.map

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, "a", function() { return /* binding */ ElfUtil; });

// EXTERNAL MODULE: ./node_modules/tr-grid-util/es6/Util.js
var Util = __webpack_require__(17);

// CONCATENATED MODULE: ./node_modules/tr-grid-util/es6/Deferred.js
/** Deferred promise should be used when asynchronous method does not return promise object (e.g. typical AJAX calls, or native setTimeout()). In other words, deferred promise is used to allow any non-promise logics to be worked in promise pattern.
* @constructor
* @param {Function=} resolveHandler
* @param {Function=} rejectHandler
* @param {*=} ctx Context object that will be provided as the second parameter of the given handlers
* @example
* var def = new Deferred(handler);
* setTimeout(def.resolve, 2000);
* var def2 = new Deferred();
* setTimeout(function() {
*   def2.resolve();
* }, 4000);
*/
var Deferred = function(resolveHandler, rejectHandler, ctx) {
	this.resolve = this.resolve.bind(this);
	this.reject = this.reject.bind(this);

	if(typeof resolveHandler === "function") {
		this._resolveHandler = resolveHandler;
	}
	if(typeof rejectHandler === "function") {
		this._rejectHandler = rejectHandler;
	}
	if(ctx != null) {
		this._ctx = ctx;
	}
	this.promise = new Promise((function(resolve, reject) {
		this._resolve = resolve;
		this._reject = reject;
	}).bind(this));
};
/** @type {Promise<*>}
* @public
*/
Deferred.prototype.promise = null;
/** @type {Function}
* @private
*/
Deferred.prototype._resolve = null; // Always supplied from Promise object
/** @type {Function}
* @private
*/
Deferred.prototype._reject = null; // Always supplied from Promise object
/** @type {Function}
* @private
*/
Deferred.prototype._resolveHandler = null;
/** @type {Function}
* @private
*/
Deferred.prototype._rejectHandler = null;
/** Context object that will be provided as the second parameter of the given handlers
* @type {*}
* @private
*/
Deferred.prototype._ctx = null;


/** @public
* @param {*=} result
*/
Deferred.prototype.resolve = function(result) {
	if(this._resolve) { // Promise can be resolved only once
		if(this._resolveHandler) {
			var handlerRes = this._resolveHandler(result, this._ctx || this);
			if(handlerRes != null) {
				result = handlerRes;
			}
		}
		this._resolve(result); // WARNING: Synchronous call. The standard promise behavior requires asynchronous response.
		this._finally();
	}
};
/** @public
* @param {*=} result
*/
Deferred.prototype.reject = function(result) {
	if(this._reject) { // Promise can be resolved only once
		if(this._rejectHandler) {
			var handlerRes = this._rejectHandler(result, this._ctx || this);
			if(handlerRes != null) {
				result = handlerRes;
			}
		}
		this._reject(result); // WARNING: Synchronous call
		this._finally();
	}
};

/** @private */
Deferred.prototype._finally = function() {
	// Release all references to avoid memory leak
	this._ctx = this._resolveHandler = this._rejectHandler = null;
	this._resolve = this._reject = null;
};

/* harmony default export */ var es6_Deferred = (Deferred);


// CONCATENATED MODULE: ./node_modules/tr-grid-util/es6/ElfUtil.js



/** @namespace */
var ElfUtil = {};
/** @type {Deferred}
* @private
*/
ElfUtil._deferred = null;
/** @type {Promise<Object>}
* @public
*/
ElfUtil.themeReady = null;
/** Default theme colors from Solar Charcoal + American color profile
* @type {!Object.<string, string>}
* @private
* @const
*/
ElfUtil._defaultColors = {
	"up": "#39C46E",
	"down": "#F5475B",
	"level": "#C2C2C2",
	"tickUp": "#39C46E",
	"tickDown": "#F5475B",
	"baseGrid": "#1A1A1C", // For CellPainter. In Solar Pearl, the value would be #FFFFFF
	"baseText": "#C2C2C2", // For CellPainter. In Solar Pearl, the value would be #505050
	"trackColor": "#FF9933" // For PercentBar.
};
/** @type {Object.<string, string>}
* @public
*/
ElfUtil.themeColors = ElfUtil._defaultColors;
/** @type {Object.<string, number>}
* @private
*/
ElfUtil._components = {};
/** @type {string}
* @private
*/
ElfUtil._themeName = "";
/** @type {number}
* @private
*/
ElfUtil._elfVersion = 0;
/** @type {Element}
* @private
*/
ElfUtil._dummyIcon = null;
/** @type {boolean}
* @private
*/
ElfUtil._iconLoaded = false;

/** @type {Object.<string, Object>}
* @private
*/
ElfUtil._icons = {
	"elf-theme-halo": {
		"rowGrouping": {
			"expander": "down" // also used in rt-grid
		},
		"sorting": {
			"ascending": "hollow-arrow-up",
			"descending": "hollow-arrow-down",
			"sortable": "sort-up-down"
		},
		"columnStack": {
			"stack": "list",
			"expand": "right",
			"collapse": "left"
		}
	},
	"elf-theme-solar": {
		"columnStack": {
			"stack": "list",
			"expand": "right",
			"collapse": "left"
		}
	}
};

/** Check ELF version
* @public
* @function
* @return {number}
*/
ElfUtil.getElfVersion = function () {
	if (!ElfUtil._elfVersion) {
		var val = 0;
		if (window.elf) {
			if (window.elf.version) {
				var ver = window.elf.version.match(/\d/); // example version code: 4.0.1
				if (ver && ver[0]) {
					val = parseInt(ver[0], 10);
				}
			} else {
				if (window.elf.customElements) {
					val = 3;
				} else if (window.customElements) {
					val = 4;
				}
			}
		} else if (window.Polymer) {
			val = 1;
		}
		ElfUtil._elfVersion = val;
	}

	return ElfUtil._elfVersion;
};

/** Check if ELF component is available for usage. Returns version number of the available component.
* @public
* @function
* @param {string} compName
* @return {number}
* @example
* ElfUtil.hasComponent("coral-button"); // 1 or 3
* ElfUtil.hasComponent("unknown-button"); // 0
*/
ElfUtil.hasComponent = function (compName) {
	var val = ElfUtil._components[compName];
	if (val == null) {
		val = 0;
		var ver = ElfUtil.getElfVersion();
		if (compName) {
			var elem;
			if (ver === 1) {
				elem = document.createElement(compName);
				if (elem.is === compName) {
					val = ver;
				}
			} else if (ver > 1) {
				if (
					window.customElements && window.customElements.get(compName) // Elf v3 v4
					|| document.createElement(compName).constructor !== HTMLElement // In case doesn't polyfill elf
				) {
					val = ver;
				}
			}
			ElfUtil._components[compName] = val; // TODO: Add safeguard for retriving version before ELF
		}
	}
	return val;
};

/** Check if ELF theme is available for usage. Returns true if theme is available.
* @public
* @function
* @param {string} themeName
* @return {boolean}
* @example
* ElfUtil.hasTheme("elf-theme-solar"); // true or false
*/
ElfUtil.hasTheme = function (themeName) {
	return themeName === ElfUtil.getThemeName();
};

/** Check the current elf theme. If not available, return empty string.
* @public
* @function
* @param {Element=} optElem Deprecated param: Function will always use <html> instead
* @return {string}
*/
ElfUtil.getThemeName = function (optElem) {
	if (!ElfUtil._themeName) {
		// get theme name directly from element <html> --> document.documentElement
		ElfUtil._themeName = ElfUtil.getCssVariable("--theme-name", document.documentElement);
	}
	return ElfUtil._themeName;
};

/** Check the current elf theme. If not available, return empty string.
* @public
* @function
* @param {Object} configObj Object to mutate
* @param {Element=} optElem Deprecated param: will no longer use anymore
*/
ElfUtil.injectIcons = function (configObj, optElem) {
	if (typeof configObj !== "object") { return; }

	var theme = ElfUtil.getThemeName();
	configObj.themeName = theme;

	var ver = ElfUtil.getElfVersion();
	configObj.elfVersion = ver;

	var icons = ElfUtil._icons[theme];
	if (icons) {
		configObj.icons = icons;
	}
};

/** Get icons array list
* @public
* @function
* @returns {!Array.<string>} Always return a list of icons for the existing theme
*/
ElfUtil.getIconList = function () {
	var iconStruct = ElfUtil._icons[ElfUtil.getThemeName()];
	return iconStruct ? Object(Util["b" /* nestedObjectToArray */])(iconStruct) : [];
};

/** @private
* @function
*/
ElfUtil._onIconPreloaded = function() {
	if(ElfUtil._dummyIcon) {
		var pn = ElfUtil._dummyIcon.parentNode;
		if(pn) {
			pn.removeChild(ElfUtil._dummyIcon);
		}
		ElfUtil._dummyIcon = null;
	}
};
/** Prepare and get icons array list. This method ensures that preloading can be executed only once.
* @public
* @function
* @returns {Array.<string>} Return null if there is no icon to be preloaded. Otherwise, a list of icons is returned.
*/
ElfUtil.prepareIconPreloading = function() {
	if(!ElfUtil._iconLoaded) {
		ElfUtil._iconLoaded = true;
		var iconList = ElfUtil.getIconList();
		if(iconList.length) {
			setTimeout(ElfUtil._onIconPreloaded, 10);
			var dummyIcon = ElfUtil._dummyIcon = document.createElement("coral-icon");
			dummyIcon.style.transform = "scale(0)";
			document.body.appendChild(dummyIcon);
			return iconList;
		}
	}
	return null;
};

/** Gets any defined css variables by name/key
* @param {string} varName css variable names (with leading --)
* @param {Element=} optElem target element, fallback to document body
* @returns {string} CSS variable
* @example
* ElfUtil.getCssVariable("--valid-name");
* ElfUtil.getCssVariable("--valid-name", spanElement);
*/
ElfUtil.getCssVariable = function (varName, optElem) {
	var result = "";
	var elem = optElem || document.body;
	if (window && typeof varName === "string" && elem.nodeType === 1) {
		if (varName.match(/^--/)) {
			result = window.getComputedStyle(elem).getPropertyValue(varName);
			result = result.replace(/[\"\']/g, "");
		}
	}
	return result;
};
/** Gets multiple CSS variables from an object map for better performance
* @param {Object.<string, string>} obj Key can be anything, while value is the CSS variable name
* @param {Element=} optElem target element, fallback to document body
* @returns {Object} Returns the same given object
* @example
* ElfUtil.getCssVariables({
*   "name1": "--var1",
*   "name2": "--var2"
* }, spanElement); // Css varriable names will be replaced with their value
*/
ElfUtil.getCssVariables = function (obj, optElem) {
	var elem = optElem || document.body;
	if (window && elem.nodeType === 1) {
		var computedStyle = window.getComputedStyle(elem);
		for(var key in obj) {
			var varName = obj[key];
			if (varName && varName.match(/^--/)) {
				obj[key] = computedStyle.getPropertyValue(varName).replace(/\"/g, ""); // eslint-disable-line
			}
		}
	}
	return obj || null;
};

/** Gets current theme colors from the document and returns a promise. <br>
* WANRING: This method sets movement color profile to html tag automatically, if JET.Settings exists. <br>
* To re-request/reset theme colors, set ElfUtil.themeReady variable to null
* @public
* @return {Promise<Object>} A promise of object of theme colors
*/
ElfUtil.getThemeColors = function() {
	if(ElfUtil.themeReady) {
		return ElfUtil.themeReady;
	}
	var d = ElfUtil._deferred = new Deferred();
	ElfUtil.themeReady = d.promise;

	var jet = window ? window.JET : null;
	if(jet && jet.Settings) {
		try {
			jet.Settings.read(ElfUtil._onColorProfile, {
				providerName: "Configuration",
				settingName: "RDE_USER_CURRENT_TICK_COLOR"
			});
		} catch (err) {
			d.reject("Cannot read JET's settings");
		}
	} else {
		setTimeout(ElfUtil._retrieveThemeColors, 100); // TODO: Find a proper way to ensure that theme is ready
	}
	return d.promise;
};

/** Get user's color profile from JET and set it to html tag (document.documentElement)
* @private
* @param {string} colorProfile Returned from JET.Settings
*/
ElfUtil._onColorProfile = function (colorProfile) {
	if(colorProfile) {
		document.documentElement.setAttribute("movement-color-profile", colorProfile.toLowerCase());
	}
	ElfUtil._retrieveThemeColors();
};
/** Get current profile name set on the root html element (document.documentElement)
* @public
* @return {string} Current profile name
*/
ElfUtil.getMovementColorProfile = function() {
	return document.documentElement.getAttribute("movement-color-profile");
};

/** Get theme colors from document
* @private
*/
ElfUtil._retrieveThemeColors = function() {
	var colors = ElfUtil.themeColors = ElfUtil.getCssVariables({
		"primary": "--color-scheme-primary", // Usually used in headers, and selection
		"secondary": "--color-scheme-secondary",
		"tertiary": "--color-scheme-tertiary", // Usually black or white
		"complementary": "--color-scheme-complementary", // Usually black or white
		"up": "--color-scheme-positive",
		"down": "--color-scheme-negative",
		"level": "--color-scheme-neutral",
		"tickUp": "--color-scheme-tickup",
		"tickDown": "--color-scheme-tickdown"
	});
	if(!colors["up"]) {
		colors["up"] = ElfUtil._defaultColors["up"];
		colors["down"] = ElfUtil._defaultColors["down"];
		colors["level"] = ElfUtil._defaultColors["level"];
		colors["tickUp"] = ElfUtil._defaultColors["tickUp"];
		colors["tickDown"] = ElfUtil._defaultColors["tickDown"];
	}

	// To be consistent with Elf theme variables
	colors["positive"] = colors["up"];
	colors["negative"] = colors["down"];
	colors["neutral"] = colors["level"];

	// Retrieve table styles to be used in grid and extensions
	var tableElem = document.createElement("table");
	tableElem.style.visibility = "hidden";
	tableElem.style.position = "fixed";
	tableElem.style.left = "0"; // Activate fixed position
	tableElem.style.top = "0";
	tableElem.style.width = "0"; // Prevent creating scrollbar
	var trElem = tableElem.insertRow(-1);
	var tdElem = trElem.insertCell(-1);

	document.body.appendChild(tableElem);
	var trStyles = window.getComputedStyle(trElem);
	colors["tableBg"] = trStyles.backgroundColor; // Usually equivalent to --color-scheme-tertiary

	var tdStyles = window.getComputedStyle(tdElem);
	colors["tableText"] = tdStyles.color; // Usually equivalent to --color-scheme-neutral
	colors["tableBorder"] = tdStyles.borderColor;
	if(colors["tableText"] === colors["tableBorder"]) {
		// trElem.className = "pearl";
		tdElem.className = "tr-lg";
		tdStyles = window.getComputedStyle(tdElem);
		colors["tableBg"] = tdStyles.backgroundColor;
		colors["tableText"] = tdStyles.color;
		colors["tableBorder"] = tdStyles.borderColor; // In Solar Pearl, the value would be #DADDE0
		if(colors["tableText"] === colors["tableBorder"]) { // Last fallback for non ELF coloring
			colors["tableBg"] = ElfUtil._defaultColors["baseGrid"];
			colors["tableText"] = ElfUtil._defaultColors["baseText"];
			colors["tableBorder"] = "";
		}
	}
	// WARNING: Computed styles return rgb/rgba color format instead of hex format
	colors["tableBg"] = Object(Util["e" /* rgb2Hex */])(colors["tableBg"]);
	colors["tableText"] = Object(Util["e" /* rgb2Hex */])(colors["tableText"]);
	colors["tableBorder"] = Object(Util["e" /* rgb2Hex */])(colors["tableBorder"]);
	document.body.removeChild(tableElem);

	// For CellPainter backward compatability
	colors["baseGrid"] = colors["tableBg"];
	colors["baseText"] = colors["tableText"];
	colors["trackColor"] = colors["primary"] || ElfUtil._defaultColors["trackColor"];

	ElfUtil._deferred.resolve(colors);
};


/* harmony default export */ var es6_ElfUtil = __webpack_exports__["b"] = (ElfUtil);



/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ZIndex */
/* unused harmony export ZIndexManager */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return register; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return deregister; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return toFront; });
/* unused harmony export size */
/* unused harmony export clear */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return getPopups; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return getPopupLayers; });
/* harmony import */ var _elf_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var _managers_interaction_lock_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(26);


const ZIndex = 103; /* initial z-index to match Polymer. 102 is used for backdrop */
/**
 * Z-index manager monitors z-indexes and ensures that the last opened/last
 * focused popup has the highest z-index
 * @returns {void}
 */
class ZIndexManager {
    constructor() {
        this.registry = new Map();
        this.focusThrottled = new _elf_utils__WEBPACK_IMPORTED_MODULE_0__[/* AfterRenderTaskRunner */ "a"]();
        this.onFocus = ({ target }) => {
            const popups = this.getPopups();
            this.focusThrottled.schedule(() => {
                const newPopups = this.getPopups();
                const popup = target;
                /*
                This is dangerous to put the popup to the front on focus.
                The code is here to allow external apps to call focus on popup to bring the popup to the front.
                Introduce the guard to do nothing if the stack of popups has changed (e.g. a popup was closed)
                Maybe this code should be removed all together and external apps should use public method toFront?
                 */
                if (!popup.opened || popups.length !== newPopups.length) {
                    return;
                }
                for (let i = 0; i < popups.length; i += 1) {
                    if (popups[i] !== newPopups[i]) {
                        return;
                    }
                }
                this.toFront(popup);
            });
        };
    }
    sortByZIndex(popups) {
        const len = popups.length;
        if (len <= 1) {
            return popups;
        }
        const pivot = Math.ceil(len / 2);
        const left = this.sortByZIndex(popups.slice(0, pivot));
        const right = this.sortByZIndex(popups.slice(pivot));
        return this.mergeSortByZIndex(left, right);
    }
    mergeSortByZIndex(left, right) {
        const result = [];
        while (left.length > 0 && right.length > 0) {
            if (left[0].zIndex < right[0].zIndex) {
                result.push(right.shift());
            }
            else {
                result.push(left.shift());
            }
        }
        return result.concat(left, right);
    }
    get sorted() {
        const popups = []; /* IE does not support entries */
        this.registry.forEach((zIndex, popup) => {
            popups.push({
                zIndex,
                popup
            });
        });
        return this.sortByZIndex(popups);
    }
    setZIndex(popup, zIndex) {
        const oldZIndex = this.registry.get(popup);
        if (oldZIndex !== zIndex) {
            this.registry.set(popup, zIndex);
            popup.style.setProperty('z-index', `${zIndex}`);
        }
    }
    getNextZIndex(popup) {
        const topPopup = this.getPopupLayers()[0];
        if (!topPopup) {
            return ZIndex;
        }
        if (topPopup.popup === popup) { /* do not increase z-index for self */
            return topPopup.zIndex;
        }
        return topPopup.zIndex + 2; /* give space for backdrop z-index */
    }
    toFront(popup) {
        this.setZIndex(popup, this.getNextZIndex(popup));
        Object(_managers_interaction_lock_manager__WEBPACK_IMPORTED_MODULE_1__[/* applyLock */ "a"])();
    }
    register(popup) {
        if (!this.registry.has(popup)) {
            let zIndex;
            if (typeof popup.zIndex === 'number') {
                const popupZIndex = popup.zIndex;
                if (this.registry.size === 0) {
                    zIndex = popupZIndex;
                }
                else {
                    const nextZIndex = this.getNextZIndex(popup);
                    zIndex = popupZIndex > nextZIndex ? popupZIndex : nextZIndex;
                }
            }
            else {
                zIndex = this.registry.size === 0 ? ZIndex : this.getNextZIndex(popup);
            }
            this.setZIndex(popup, zIndex);
            popup.addEventListener('focus', this.onFocus);
        }
        else if (typeof popup.zIndex === 'number') { /* z-index has set manually. If it is removed, do nothing */
            this.setZIndex(popup, popup.zIndex);
        }
    }
    deregister(popup) {
        if (this.registry.has(popup)) {
            this.registry.delete(popup);
            popup.removeEventListener('focus', this.onFocus);
        }
    }
    /**
     * @returns count of elements inside manager
     */
    size() {
        return this.registry.size;
    }
    /**
     * applies deregister for each element in registry
     * @returns {void}
     */
    clear() {
        this.registry.forEach((zIndex, popup) => this.deregister(popup));
    }
    /**
     * Get popup layers sorted by z-index
     * @returns popup layers
     */
    getPopupLayers() {
        return this.sorted;
    }
    /**
     * Get popup panels sorted by z-index
     * @returns popup panels
     */
    getPopups() {
        return this.sorted.map(({ popup }) => popup);
    }
}
const zIndexManager = new ZIndexManager();
/**
 * Register the new popup
 * @param popup Popup panel
 * @returns {void}
 */
const register = (popup) => {
    zIndexManager.register(popup);
};
/**
 * Deregister the popup
 * @param popup Popup panel
 * @returns {void}
 */
const deregister = (popup) => {
    zIndexManager.deregister(popup);
};
/**
 * Bring popup panel to the front
 * @param popup Popup panel
 * @returns {void}
 */
const toFront = (popup) => {
    zIndexManager.toFront(popup);
};
/**
 * @returns count of elements inside manager
 */
const size = () => {
    return zIndexManager.size();
};
/**
 * removes all elements from registry
 * @returns {void}
 */
const clear = () => {
    zIndexManager.clear();
};
/**
 * Get the list of popups sorted by z-index
 * @returns popup list
 */
const getPopups = () => {
    return zIndexManager.getPopups();
};
/**
 * Get the list of popup layers sorted by z-index
 * @returns popup layer list
 */
const getPopupLayers = () => {
    return zIndexManager.getPopupLayers();
};


/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return isCEPolyfill; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return reparentNodes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return removeNodes; });
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * True if the custom elements polyfill is in use.
 */
const isCEPolyfill = typeof window !== 'undefined' &&
    window.customElements != null &&
    window.customElements.polyfillWrapFlushCallback !==
        undefined;
/**
 * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),
 * into another container (could be the same container), before `before`. If
 * `before` is null, it appends the nodes to the container.
 */
const reparentNodes = (container, start, end = null, before = null) => {
    while (start !== end) {
        const n = start.nextSibling;
        container.insertBefore(start, before);
        start = n;
    }
};
/**
 * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from
 * `container`.
 */
const removeNodes = (container, start, end = null) => {
    while (start !== end) {
        const n = start.nextSibling;
        container.removeChild(start);
        start = n;
    }
};
//# sourceMappingURL=dom.js.map

/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, "a", function() { return /* reexport */ addTooltipCondition; });
__webpack_require__.d(__webpack_exports__, "c", function() { return /* reexport */ removeTooltipCondition; });
__webpack_require__.d(__webpack_exports__, "b", function() { return /* reexport */ overflow_tooltip_register; });

// UNUSED EXPORTS: tooltipElement, CoralTooltip

// EXTERNAL MODULE: ./node_modules/@elf/core/lib/elf.js + 57 modules
var elf = __webpack_require__(0);

// EXTERNAL MODULE: ./node_modules/@elf/coral-popup-panel/lib/index.js + 9 modules
var lib = __webpack_require__(18);

// EXTERNAL MODULE: ./node_modules/@elf/utils/lib/utils.js + 23 modules
var utils = __webpack_require__(1);

// CONCATENATED MODULE: ./node_modules/@elf/coral-tooltip/lib/tooltip-manager.js

/**
 * Helper to check if the browser is IE
 * @returns True if the browser is IE
 */
const isIE = () => !!navigator.userAgent.match(/Trident/g) || !!navigator.userAgent.match(/MSIE/g);
/**
 * Tooltip manager is here to avoid setting multiple
 * events on document and do expensive pre-processing
 * in a common way
 */
class tooltip_manager_TooltipManager {
    constructor() {
        this.registry = new Map();
        /* 5 is chosen randomly to give long enough delay to avoid performance issues, but
        short enough for not showing the default title
        */
        this.titleThrottler = new utils["g" /* TimeoutTaskRunner */](5);
        /**
         * @param event Mouse move event
         * @returns {void}
         */
        this.onMouseMove = (event) => {
            const paths = event.composedPath(); /* paths may be lost if used in schedule */
            this.registry.forEach(({ mousemove }) => mousemove(event, paths));
            this.titleThrottler.schedule(() => {
                tooltip_manager_TooltipManager.overrideTitle(paths);
                this.registry.forEach(({ mousemoveThrottled }) => mousemoveThrottled(event, paths));
            });
        };
        /**
         * @param event Mouse click or contextmenu event
         * @returns {void}
         */
        this.onClick = (event) => {
            this.registry.forEach(({ click }) => click(event));
        };
        /**
         * @param event Mouse out event
         * @returns {void}
         */
        this.onMouseOut = (event) => {
            this.registry.forEach(({ mouseout }) => mouseout(event));
        };
        /**
         * @param event Mouse leave event
         * @returns {void}
         */
        this.onMouseLeave = (event) => {
            this.registry.forEach(({ mouseleave }) => mouseleave(event));
        };
        /**
         * @param event Wheel event
         * @returns {void}
         */
        this.onWheel = (event) => {
            this.registry.forEach(({ wheel }) => wheel(event));
        };
        /**
         * @param event Keyboard event
         * @returns {void}
         */
        this.onKeyDown = (event) => {
            this.registry.forEach(({ keydown }) => keydown(event));
        };
        /**
         * @param event Focus event
         * @returns {void}
         */
        this.onBlur = (event) => {
            this.registry.forEach(({ blur }) => blur(event));
        };
    }
    /**
     * Override default title attribute
     * @param paths Event paths
     * @returns {void}
     */
    static overrideTitle(paths) {
        const l = paths.length;
        for (let i = 0; i < l; i += 1) {
            const node = paths[i];
            if (node.nodeType !== Node.ELEMENT_NODE) {
                continue;
            }
            if (node === document.body || node === document.documentElement) {
                break;
            }
            const element = node;
            const title = element.getAttribute('title');
            if (title) {
                element.title = title;
            }
        }
    }
    register(tooltip, documentCallbacks) {
        if (!this.registry.size) {
            // IE11 does not support event options
            const supportOptions = !isIE();
            const eventOptions = supportOptions ? { passive: true } : undefined;
            document.addEventListener('mousemove', this.onMouseMove, eventOptions);
            document.addEventListener('mouseout', this.onMouseOut, eventOptions);
            document.addEventListener('mouseleave', this.onMouseLeave, eventOptions);
            document.addEventListener('wheel', this.onWheel, eventOptions);
            document.addEventListener('keydown', this.onKeyDown, eventOptions);
            document.body.addEventListener('blur', this.onBlur, eventOptions);
            const clickEventOptions = supportOptions ? { passive: true, capture: true } : true;
            document.addEventListener('click', this.onClick, clickEventOptions);
            document.addEventListener('contextmenu', this.onClick, clickEventOptions);
        }
        this.registry.set(tooltip, documentCallbacks);
    }
    deregister(tooltip) {
        this.registry.delete(tooltip);
        if (!this.registry.size) {
            document.removeEventListener('mousemove', this.onMouseMove);
            document.removeEventListener('mouseout', this.onMouseOut);
            document.removeEventListener('mouseleave', this.onMouseLeave);
            document.removeEventListener('wheel', this.onWheel);
            document.removeEventListener('keydown', this.onKeyDown);
            document.body.removeEventListener('blur', this.onBlur);
            document.removeEventListener('click', this.onClick, true);
            document.removeEventListener('contextmenu', this.onClick, true);
        }
    }
}
const tooltipManager = new tooltip_manager_TooltipManager();
/**
 * Register the new tooltip
 * @param tooltip Tooltip
 * @param documentCallbacks Callback to attach on document and body
 * @returns {void}
 */
const register = (tooltip, documentCallbacks) => {
    tooltipManager.register(tooltip, documentCallbacks);
};
/**
 * Deregister the tooltip
 * @param tooltip Tooltip
 * @returns {void}
 */
const deregister = (tooltip) => {
    tooltipManager.deregister(tooltip);
};

// CONCATENATED MODULE: ./node_modules/@elf/coral-tooltip/lib/tooltip-element.js
const defaultTooltipMap = new Map();
const rendererElementMap = new WeakMap();
/**
 * Add the new condition to the default tooltip
 * @param condition Condition to add
 * @param renderer Renderer for condition
 * @returns {void}
 */
const addTooltipCondition = (condition, renderer) => {
    defaultTooltipMap.set(condition, renderer);
};
/**
 * Remove the existing condition from default tooltip
 * @param condition Condition to remove
 * @returns {void}
 */
const removeTooltipCondition = (condition) => {
    defaultTooltipMap.delete(condition);
};
const condition = (target, paths) => {
    let res = false;
    for (const [condition, renderer] of defaultTooltipMap.entries()) {
        res = condition(target, paths);
        if (res) {
            // first by order condition only. It must not be possible to show multiple tooltips
            rendererElementMap.set(target, renderer);
            break;
        }
    }
    return res;
};
const renderer = (target) => {
    const render = rendererElementMap.get(target);
    return render ? render(target) : undefined;
};
/**
 * The default tooltip, which is used to replicate `title` attribute
 * and to show tooltips for ELF elements
 */
const tooltipElement = document.createElement('coral-tooltip');
tooltipElement.setAttribute('ref', 'title-override');
tooltipElement.condition = condition;
tooltipElement.renderer = renderer;
const appendTitleTooltip = () => {
    document.body.appendChild(tooltipElement);
};
if (document.body) {
    appendTitleTooltip();
}
else {
    /* istanbul ignore next */
    document.addEventListener('DOMContentLoaded', appendTitleTooltip, { once: true });
}


// CONCATENATED MODULE: ./node_modules/@elf/coral-tooltip/lib/utils.js

const coralTitleDeprecation = new elf["c" /* DeprecationNotice */]('`coral-title` is deprecated. Use `tooltip` instead');
/**
 * A default renderer that renders `tooltip` or `coral-title` attribute
 * @param target Target to check
 * @returns tooltip or null or undefined
 */
const tooltipRenderer = (target) => {
    if (target.hasAttribute('tooltip')) {
        return target.getAttribute('tooltip');
    }
    else if (target.hasAttribute('coral-title')) {
        coralTitleDeprecation.once();
        return target.getAttribute('coral-title');
    }
};


// CONCATENATED MODULE: ./node_modules/@elf/coral-tooltip/lib/title-tooltip.js



// Support title attribute
Object.defineProperty(HTMLElement.prototype, 'title', {
    get: function () {
        const title = this.getAttribute('title');
        if (title) {
            this.title = title;
        }
        return this.getAttribute('tooltip');
    },
    set: function (value) {
        this.setAttribute('title', '');
        this.setAttribute('tooltip', value);
    }
});
addTooltipCondition(element => Object(elf["m" /* matches */])(element, '[title]'), tooltipRenderer);

// CONCATENATED MODULE: ./node_modules/@elf/coral-tooltip/lib/overflow-tooltip.js

const registry = new WeakMap();
const overflowCondition = (target) => registry.has(target) && (target.scrollWidth - target.offsetWidth) > 1;
const overflowRenderer = (target) => target.textContent;
const overflow_tooltip_tooltipRenderer = (target) => {
    const renderer = registry.get(target);
    return renderer ? renderer(target) : undefined;
};
addTooltipCondition(overflowCondition, overflow_tooltip_tooltipRenderer);
/**
 * Register the element to show a tooltip for overflow content
 * @param target Target element
 * @param [render] Optional renderer. By default target `textContent` is returned
 * @returns {void}
 */
const overflow_tooltip_register = (target, render = overflowRenderer) => {
    registry.set(target, render);
};


// CONCATENATED MODULE: ./node_modules/@elf/coral-tooltip/lib/coral-tooltip.js
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var CoralTooltip_1;






const PositionMap = {
    'auto': ['bottom-start', 'top-start'],
    'above': ['top-middle'],
    'right': ['right-middle'],
    'below': ['bottom-middle'],
    'left': ['left-middle']
};
/**
 * Tooltip displays extra information when the
 * user hovers the pointer over an item.
 */
let coral_tooltip_CoralTooltip = CoralTooltip_1 = class CoralTooltip extends elf["a" /* BasicElement */] {
    constructor() {
        super(...arguments);
        this.matchTarget = null;
        this.matchTargetRect = null;
        this.showDelay = 300;
        this.hideDelay = 150;
        this.clicked = false;
        /**
        * CSS selector to match the tooltip
        */
        this.selector = '';
        /**
        * The position of the tooltip. Use the following values:
        * `auto` (default) - display based on mouse enter coordinates
        * `above` - display above the element
        * `right` - display to the right of the element
        * `below` - display beneath the element
        * `left` - display to the left of the element
        *  @type {string}
        */
        this.position = 'auto';
        /**
        * Set the transition style.
        * Value can be `fade`, `zoom`, `slide-down`, `slide-up`, `slide-right`,
        * `slide-left`, `slide-right-down`, `slide-right-up`, `slide-left-down`, `slide-left-up`, or null in case of no transition
        *  @type {string}
        */
        this.transitionStyle = 'fade';
        this._x = 0;
        this._y = 0;
        this._positionTarget = null;
        this._opened = false;
        /**
         * Clear all timers
         * @returns {void}
         */
        this.reset = () => {
            window.clearTimeout(this.timerTimeout);
        };
        /**
         * Reset tooltip
         * @returns {void}
         */
        this.resetTooltip = () => {
            this.hideTooltip();
        };
        /**
         * Run when mouse is moving over the document
         * @param event Mouse move event
         * @param paths Event paths
         * @returns {void}
         */
        this.onMouseMove = (event, paths) => {
            this.showTooltip(paths, event.clientX, event.clientY);
        };
        /**
         * Run when document click or contextmenu event happens
         * @returns {void}
         */
        this.onClick = () => {
            this.clicked = true;
            this.hideTooltip();
        };
        /**
         * Run when document mouse out event happens
         * @returns {void}
         */
        this.onMouseOut = ({ relatedTarget }) => {
            // document mouesemove, mouseleave and blur are not fired over iframe
            // therefore create a special case for iframe to hide the tooltip
            /* istanbul ignore next */
            if (CoralTooltip_1.isIframe(relatedTarget)) {
                this.resetTooltip();
            }
        };
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.27';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return elf["h" /* css */] `
      :host {
        display: contents;
        position: absolute;
        max-width: 0;
        max-height: 0;
        min-width: 0;
        min-height: 0;
        flex: none;
        visibility: hidden;
      }
      [part=tooltip] {
        visibility: visible;
        overflow: visible;
      }
      [part=position-adjuster] {
        position: fixed;
        z-index: -1;
        top: 0;
        left: 0;
        visibility: hidden;
      }
    `;
    }
    /**
     * True if an element is an iframe
     * @param relatedTarget Element to check
     * @returns isIframe
     */
    static isIframe(relatedTarget) {
        return relatedTarget !== null && relatedTarget.localName === 'iframe';
    }
    /**
     * Check if the match target has moved position
     * @param matchTargetRect Match target rect
     * @param lastMatchTarget Previous match target
     * @returns matches
     */
    static elementHasMoved(matchTargetRect, lastMatchTarget) {
        if (lastMatchTarget === null) {
            return true;
        }
        return lastMatchTarget.top !== matchTargetRect.top || lastMatchTarget.left !== matchTargetRect.left;
    }
    /**
     * Set tooltip y coordinate
     * @param x X coordinate
     */
    set x(x) {
        const oldX = this._x;
        if (oldX !== x) {
            this._x = x;
            this.requestUpdate('x', oldX);
        }
    }
    /**
     * Set tooltip y coordinate
     * @param y Y coordinate
     */
    set y(y) {
        const oldY = this._y;
        if (oldY !== y) {
            this._y = y;
            this.requestUpdate('y', oldY);
        }
    }
    /**
     * Set tooltip position target
     * @param positionTarget Position target
     */
    set positionTarget(positionTarget) {
        const oldPositionTarget = this._positionTarget;
        if (positionTarget !== oldPositionTarget) {
            this._positionTarget = positionTarget;
            this.requestUpdate('positionTarget', oldPositionTarget);
        }
    }
    /**
     * Run when opened attribute has changed. Map to popup window
     * @param opened True if popup should be opened
     * @returns {void}
     */
    setOpened(opened) {
        const oldOpened = this._opened;
        if (oldOpened !== opened) {
            this._opened = opened;
            this.requestUpdate('opened', oldOpened);
        }
    }
    connectedCallback() {
        super.connectedCallback();
        register(this, {
            mousemove: this.reset,
            mousemoveThrottled: this.onMouseMove,
            click: this.onClick,
            mouseout: this.onMouseOut,
            mouseleave: this.resetTooltip,
            wheel: this.resetTooltip,
            keydown: this.resetTooltip,
            blur: this.resetTooltip
        });
    }
    disconnectedCallback() {
        deregister(this);
        this.setOpened(false);
        this.reset();
        this.matchTarget = null;
        this.matchTargetRect = null;
        this.positionTarget = null;
        super.disconnectedCallback();
    }
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        this.showDelay = parseInt(this.getComputedVariable('--show-delay', '300'), 10);
        this.hideDelay = parseInt(this.getComputedVariable('--hide-delay', '150'), 10);
    }
    /**
     * Check whether an element matches by condition
     * If condition is not defined, checks by CSS selector
     * @param element Element to check
     * @param paths Event paths
     * @returns true if element matches
     */
    isMatchElement(element, paths) {
        if (this.condition) {
            return this.condition(element, paths);
        }
        if (this.selector) {
            return Object(elf["m" /* matches */])(element, this.selector);
        }
        return false;
    }
    /**
     * Return true if the target matches condition. False otherwise
     * @param paths Target to match against
     * @returns matched element or null
     */
    getMatchedElement(paths) {
        if (!this.condition && !this.selector) {
            return null;
        }
        const l = paths.length;
        for (let i = 0; i < l; i += 1) {
            const node = paths[i];
            if (node.nodeType !== Node.ELEMENT_NODE) {
                continue;
            }
            if (node === document.body || node === document.documentElement) {
                return null;
            }
            const element = node;
            if (this.isMatchElement(element, paths)) {
                return element;
            }
        }
        return null;
    }
    /**
     * Check if the autosuggest has content
     * @returns {Boolean} content exists
     * @private
     */
    hasSlotContent() {
        if (this.contentNodes) {
            /* show the slot. Default slotted content cannot work with tooltip, coral-title or renderer */
            return false;
        }
        // Space characters (e.g. space, tab, EOL) don't count as having content
        const nodes = this.contentSlot.assignedNodes() || [];
        return nodes.some(({ nodeType, textContent }) => nodeType === Node.ELEMENT_NODE || textContent && textContent.search(/\S/) >= 0); // If node is element always return true
    }
    /**
     * Get content off the target element
     * @param target Target to check against
     * @returns contentNode or null
     */
    getContentNode(target) {
        let content;
        if (typeof this.renderer === 'function') {
            content = this.renderer(target);
        }
        else {
            content = tooltipRenderer(target);
        }
        if (typeof content === 'string' && content) {
            return document.createTextNode(content);
        }
        if (content instanceof HTMLElement) {
            return content.cloneNode(true);
        }
        if (content instanceof DocumentFragment) {
            return content.cloneNode(true);
        }
        return null;
    }
    /**
     * Render content based on render to tooltip
     * @param contentNode Content node to set
     * @returns {void}
     */
    renderContentNode(contentNode) {
        var _a;
        if (contentNode instanceof Text && this.textContent === contentNode.textContent) {
            return; /* Do not re-render the same text. Due to IE11 limitation we have to operate with text nodes */
        }
        if ((_a = this.contentNodes) === null || _a === void 0 ? void 0 : _a.length) {
            this.contentNodes.forEach((node) => {
                var _a;
                (_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(node);
            });
        }
        if (contentNode instanceof DocumentFragment) {
            this.contentNodes = [...contentNode.childNodes];
        }
        else {
            this.contentNodes = [contentNode];
        }
        this.appendChild(contentNode);
    }
    /**
     * Hide tooltip
     * @returns {void}
     */
    hideTooltip() {
        this.reset();
        this.matchTarget = null;
        this.matchTargetRect = null;
        this.positionTarget = null;
        this.setOpened(false);
    }
    /**
     * Try to show the tooltip if it matches the target
     * @param paths The paths leading to target
     * @param x X mouse coordinate
     * @param y Y mouse coordinate
     * @returns {void}
     */
    showTooltip(paths, x, y) {
        // composedPath is only available on the direct event
        this.timerTimeout = window.setTimeout(() => {
            const lastMatchTarget = this.matchTarget;
            const matchTarget = this.getMatchedElement(paths);
            this.matchTarget = matchTarget;
            if (!matchTarget) {
                this.setOpened(false);
                return;
            }
            const matchTargetRect = matchTarget.getBoundingClientRect();
            if (lastMatchTarget === matchTarget && !CoralTooltip_1.elementHasMoved(matchTargetRect, this.matchTargetRect)) {
                return;
            }
            this.matchTargetRect = matchTargetRect;
            this.clicked = false;
            // adjust tooltip x & y vs clientX and clientY
            const adjusterRect = this.positionAdjusterEl.getBoundingClientRect();
            x = adjusterRect.left >= 0 ? x - adjusterRect.left : x;
            y = adjusterRect.top >= 0 ? y - adjusterRect.top : y;
            if (this.hasSlotContent()) {
                this.showTooltipAtPosition(matchTarget, x, y);
                return;
            }
            const contentNode = this.getContentNode(matchTarget);
            if (contentNode) {
                this.renderContentNode(contentNode);
                this.showTooltipAtPosition(matchTarget, x, y);
                return;
            }
            this.setOpened(false);
        }, this.getTooltipShowDelay);
    }
    /**
     * Get the delay to show tooltip
     */
    get getTooltipShowDelay() {
        return this.clicked ? Math.round(this.hideDelay / 2) : this.opened ? this.hideDelay : this.showDelay;
    }
    /**
     * Show the tooltip corresponding to the correct position
     * @param matchTarget Target to show the tooltip against
     * @param x X coordinate
     * @param y Y coordinate
     * @returns {void}
     */
    showTooltipAtPosition(matchTarget, x, y) {
        switch (this.position) {
            case 'above':
            case 'right':
            case 'below':
            case 'left':
                this.x = 0;
                this.y = 0;
                this.positionTarget = matchTarget;
                break;
            default:
                this.positionTarget = null;
                this.x = x;
                this.y = y;
        }
        this.setOpened(true);
    }
    /**
     * Get popup position based on tooltip position
     */
    get tipPosition() {
        return PositionMap[this.position];
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @returns Render template
     */
    render() {
        return elf["k" /* html */] `<coral-popup-panel
      part="tooltip"
      .noCancelOnEscKey=${true}
      .noCancelOnOutsideClick=${true}
      .withShadow=${true}
      .noInteractionLock=${true}
      .noFocusManagement=${true}
      ?opened=${this._opened}
      .position=${this.tipPosition}
      .transitionStyle=${this.transitionStyle}
      .positionTarget=${this._positionTarget}
      .x=${this._x}
      .y=${this._y}><slot id="contentSlot"></slot></coral-popup-panel><div part="position-adjuster"></div>`;
    }
    /**
     * true if tooltip is opened, false otherwise
     * @returns opened
     */
    get opened() {
        return this._opened;
    }
};
__decorate([
    Object(elf["n" /* property */])({ type: String })
], coral_tooltip_CoralTooltip.prototype, "selector", void 0);
__decorate([
    Object(elf["n" /* property */])({ type: Function, attribute: false })
], coral_tooltip_CoralTooltip.prototype, "condition", void 0);
__decorate([
    Object(elf["n" /* property */])({ type: Function, attribute: false })
], coral_tooltip_CoralTooltip.prototype, "renderer", void 0);
__decorate([
    Object(elf["n" /* property */])({ type: String })
], coral_tooltip_CoralTooltip.prototype, "position", void 0);
__decorate([
    Object(elf["n" /* property */])({ type: String, attribute: 'transition-style' })
], coral_tooltip_CoralTooltip.prototype, "transitionStyle", void 0);
__decorate([
    Object(elf["o" /* query */])('[part=tooltip]')
], coral_tooltip_CoralTooltip.prototype, "tooltip", void 0);
__decorate([
    Object(elf["o" /* query */])('[part=position-adjuster]')
], coral_tooltip_CoralTooltip.prototype, "positionAdjusterEl", void 0);
__decorate([
    Object(elf["o" /* query */])('#contentSlot')
], coral_tooltip_CoralTooltip.prototype, "contentSlot", void 0);
coral_tooltip_CoralTooltip = CoralTooltip_1 = __decorate([
    Object(elf["i" /* customElement */])('coral-tooltip')
], coral_tooltip_CoralTooltip);




/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CoralButton; });
/* harmony import */ var _elf_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);
/* harmony import */ var _elf_coral_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
/* harmony import */ var _elf_coral_tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(14);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



/**
 * Use coral-button for actions in forms, dialogs,
 * and more with support for different states and styles.
 * @attr {boolean} disabled - Set state to disabled
 * @prop {boolean} [disabled=false] - Set state to disabled
 */
let CoralButton = class CoralButton extends _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* ControlElement */ "b"] {
    constructor() {
        super(...arguments);
        /**
         * Customises text alignment when specified alongside `icon` property
         * Value can be `before` or `after`
         */
        this.textpos = 'after';
        /**
         * Removes background when specified alongside `icon` property
         */
        this.transparent = false;
        /**
         * Specify icon to display in button. Value can be icon name
         */
        this.icon = null;
        /**
         * Specify icon to display when hovering. Value can be icon name
         */
        this.hoverIcon = null;
        /**
         * Set state to call-to-action
         */
        this.cta = false;
        /**
         * it's a property attribute for the style of toggle
         */
        this.toggles = false;
        /**
         * it's a property attribute using toggles for a style of host
         */
        this.active = false;
        /**
         * Use by theme to detect when no content inside button
         */
        this.empty = false;
        /**
         * it's a method for handling active property
         * when the toggles property exists
         *
         * @returns {void}
         */
        this.toggleActive = () => {
            if (this.toggles) {
                this.active = !this.active;
                /**
                 * Fired on changing `active` property state by taping on button when property `toggles` is true.
                 * Provides new state of `active` property in detail.value field
                 */
                this.dispatchEvent(new CustomEvent('active-changed', {
                    detail: { value: this.active }
                }));
            }
        };
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.32';
    }
    /**
     * the lifecycle method called when properties changed first time
     *
     * @param changedProperties properties it's the Map object which has the updated properties
     * @returns {void}
     */
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        this.addEventHandlers();
        this.emptyComputed();
        Object(_elf_coral_tooltip__WEBPACK_IMPORTED_MODULE_2__[/* registerOverflowTooltip */ "b"])(this.labelElement, () => this.textContent);
    }
    /**
     * @returns the method renders this element
     */
    render() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `
        ${this.iconAndHoverIconTemplates}
        <span part="label">
          <slot @slotchange="${this.onDefaultSlotChangeHandler}"></slot>
        </span>
    `;
    }
    /**
     * the method acts to handle the slotchange event of default slot
     * @returns {void}
     */
    onDefaultSlotChangeHandler() {
        this.emptyComputed();
    }
    /**
     * the method adds click and tap event handlers for switching active
     *
     * @returns {void}
     */
    addEventHandlers() {
        this.addEventListener('tap', this.toggleActive);
        this.addEventListener('tapstart', this.setPressed);
        this.addEventListener('tapend', this.unsetPressed);
        this.addEventListener('keyup', this.onKeyUpHandler);
    }
    /**
     * handle keydown event
     * @param event the keyboard event
     * @returns {void}
     */
    onKeyUpHandler(event) {
        if (this.isReturnOrSpaceKey(event.key)) {
            this.click();
        }
    }
    /**
     * check key names
     * @param key the keyboard key
     * @returns true if space or enter pressed
     */
    isReturnOrSpaceKey(key) {
        return key === ' '
            || key === 'Spacebar'
            || key === 'Enter'
            || key === 'Return';
    }
    /**
     * set pressed attribute
     * @returns {void}
     */
    setPressed() {
        this.setAttribute('pressed', '');
    }
    /**
     * remove pressed attribute
     * @returns {void}
     */
    unsetPressed() {
        this.removeAttribute('pressed');
    }
    /**
     * the method computes the empty property based on the textContent
     *
     * @returns {void}
     */
    emptyComputed() {
        this.empty = this.textContent ? this.textContent.length === 0 : true;
        this.switchEmptyAttribute();
    }
    /**
     * set or remove attribute "empty" based on slot present
     *
     * @returns {void}
     */
    switchEmptyAttribute() {
        if (this.empty) {
            this.setAttribute('empty', '');
        }
        else {
            this.removeAttribute('empty');
        }
    }
    /**
     * this getter returns the coral-icon if the icon property exists
     *
     * @returns icon template or null
     */
    get iconTemplate() {
        return this.icon
            ? _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `<coral-icon part="icon" icon="${this.icon}" id="icon"></coral-icon>`
            : null;
    }
    /**
     * the getter returns the coral-icon if the hoverIcon or icon property exists
     *
     * @returns hover icon template or null
     */
    get hoverIconTemplate() {
        const hoverIcon = this.hoverIcon || this.icon;
        return hoverIcon
            ? _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `<coral-icon part="icon" icon="${hoverIcon}" id="hover-icon"></coral-icon>`
            : null;
    }
    /**
     * the getter return two templates of icons
     *
     * @returns part of template
     */
    get iconAndHoverIconTemplates() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `
      ${this.hoverIcon ? _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `${this.iconTemplate} ${this.hoverIconTemplate}` : this.iconTemplate}
    `;
    }
};
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String, reflect: true })
], CoralButton.prototype, "textpos", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralButton.prototype, "transparent", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String, reflect: true })
], CoralButton.prototype, "icon", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String, reflect: true, attribute: 'hover-icon' })
], CoralButton.prototype, "hoverIcon", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralButton.prototype, "cta", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralButton.prototype, "toggles", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralButton.prototype, "active", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* query */ "o"])('[part="label"]')
], CoralButton.prototype, "labelElement", void 0);
CoralButton = __decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* customElement */ "i"])('coral-button')
], CoralButton);



/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, "b", function() { return /* reexport */ LangAttributeObserver; });
__webpack_require__.d(__webpack_exports__, "d", function() { return /* reexport */ t; });
__webpack_require__.d(__webpack_exports__, "c", function() { return /* reexport */ translate_resolveLocale; });
__webpack_require__.d(__webpack_exports__, "a", function() { return /* binding */ DEFAULT_LOCALE; });

// UNUSED EXPORTS: clearCache, clearCachedRecord

// CONCATENATED MODULE: ./node_modules/@elf/elf-i18n/lib/lang-attribute-observer.js
/**
 * MutationObserver configuration
 */
const OBSERVER_CONFIG = {
    attributes: true,
    attributeFilter: ['lang']
};
/**
 * An abstract class to observe `lang` attribute changes
 * on element and document element
 */
class LangAttributeObserver {
    static startObserving(element, callback) {
        const observer = new MutationObserver(() => callback());
        observer.observe(element, OBSERVER_CONFIG);
        return observer;
    }
    static stopObserving(observer) {
        observer.disconnect();
    }
    static onDocumentLang() {
        this.callbacks.forEach(this.documentChangeCallback);
    }
    static documentChangeCallback(callback, element) {
        if (!element.lang) {
            callback();
        }
    }
    /**
     * Start observing `lang` changes on element
     * @param element An element
     * @param callback A callback to run when `lang` has changed
     * @returns {void}
     */
    static observe(element, callback) {
        if (!this.documentObserver) {
            this.documentObserver = this.startObserving(document.documentElement, this.onDocumentLang.bind(this));
        }
        this.callbacks.set(element, callback);
        if (this.elements.has(element)) {
            this.stopObserving(this.elements.get(element));
        }
        this.elements.set(element, this.startObserving(element, callback));
    }
    /**
     * Disconnect `lang` element observer from element
     * @param element An element
     * @returns {void}
     */
    static disconnect(element) {
        this.callbacks.delete(element);
        if (!this.callbacks.size && this.documentObserver) {
            this.stopObserving(this.documentObserver);
            this.documentObserver = null;
        }
    }
    /**
     * Get document element lang
     * @returns lang
     */
    static get documentLang() {
        return document.documentElement.lang;
    }
}
LangAttributeObserver.documentObserver = null;
LangAttributeObserver.elements = new WeakMap();
LangAttributeObserver.callbacks = new Map();


// EXTERNAL MODULE: ./node_modules/@elf/core-phrasebook/lib/index.js + 1 modules
var lib = __webpack_require__(2);

// CONCATENATED MODULE: ./node_modules/@formatjs/intl-utils/lib/src/invariant.js
function invariant(condition, message, Err) {
    if (Err === void 0) { Err = Error; }
    if (!condition) {
        throw new Err(message);
    }
}

// CONCATENATED MODULE: ./node_modules/@formatjs/intl-utils/lib/src/units.js
// https://tc39.es/ecma402/#sec-issanctionedsimpleunitidentifier
var SANCTIONED_UNITS = [
    'angle-degree',
    'area-acre',
    'area-hectare',
    'concentr-percent',
    'digital-bit',
    'digital-byte',
    'digital-gigabit',
    'digital-gigabyte',
    'digital-kilobit',
    'digital-kilobyte',
    'digital-megabit',
    'digital-megabyte',
    'digital-petabyte',
    'digital-terabit',
    'digital-terabyte',
    'duration-day',
    'duration-hour',
    'duration-millisecond',
    'duration-minute',
    'duration-month',
    'duration-second',
    'duration-week',
    'duration-year',
    'length-centimeter',
    'length-foot',
    'length-inch',
    'length-kilometer',
    'length-meter',
    'length-mile-scandinavian',
    'length-mile',
    'length-millimeter',
    'length-yard',
    'mass-gram',
    'mass-kilogram',
    'mass-ounce',
    'mass-pound',
    'mass-stone',
    'temperature-celsius',
    'temperature-fahrenheit',
    'volume-fluid-ounce',
    'volume-gallon',
    'volume-liter',
    'volume-milliliter',
];
// In CLDR, the unit name always follows the form `namespace-unit` pattern.
// For example: `digital-bit` instead of `bit`. This function removes the namespace prefix.
function removeUnitNamespace(unit) {
    return unit.replace(/^(.*?)-/, '');
}

// CONCATENATED MODULE: ./node_modules/@formatjs/intl-utils/lib/src/polyfill-utils.js


function polyfill_utils_hasOwnProperty(o, key) {
    return Object.prototype.hasOwnProperty.call(o, key);
}
/**
 * https://tc39.es/ecma262/#sec-toobject
 * @param arg
 */
function toObject(arg) {
    if (arg == null) {
        throw new TypeError('undefined/null cannot be converted to object');
    }
    return Object(arg);
}
/**
 * https://tc39.es/ecma262/#sec-tostring
 */
function polyfill_utils_toString(o) {
    // Only symbol is irregular...
    if (typeof o === 'symbol') {
        throw TypeError('Cannot convert a Symbol value to a string');
    }
    return String(o);
}
/**
 * https://tc39.es/ecma402/#sec-getoption
 * @param opts
 * @param prop
 * @param type
 * @param values
 * @param fallback
 */
function getOption(opts, prop, type, values, fallback) {
    // const descriptor = Object.getOwnPropertyDescriptor(opts, prop);
    var value = opts[prop];
    if (value !== undefined) {
        if (type !== 'boolean' && type !== 'string') {
            throw new TypeError('invalid type');
        }
        if (type === 'boolean') {
            value = Boolean(value);
        }
        if (type === 'string') {
            value = polyfill_utils_toString(value);
        }
        if (values !== undefined && !values.filter(function (val) { return val == value; }).length) {
            throw new RangeError(value + " is not within " + values.join(', '));
        }
        return value;
    }
    return fallback;
}
/**
 * https://tc39.es/ecma402/#sec-defaultnumberoption
 * @param val
 * @param min
 * @param max
 * @param fallback
 */
function defaultNumberOption(val, min, max, fallback) {
    if (val !== undefined) {
        val = Number(val);
        if (isNaN(val) || val < min || val > max) {
            throw new RangeError(val + " is outside of range [" + min + ", " + max + "]");
        }
        return Math.floor(val);
    }
    return fallback;
}
/**
 * https://tc39.es/ecma402/#sec-getnumberoption
 * @param options
 * @param property
 * @param min
 * @param max
 * @param fallback
 */
function getNumberOption(options, property, minimum, maximum, fallback) {
    var val = options[property];
    return defaultNumberOption(val, minimum, maximum, fallback);
}
function setInternalSlot(map, pl, field, value) {
    if (!map.get(pl)) {
        map.set(pl, Object.create(null));
    }
    var slots = map.get(pl);
    slots[field] = value;
}
function setMultiInternalSlots(map, pl, props) {
    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {
        var k = _a[_i];
        setInternalSlot(map, pl, k, props[k]);
    }
}
function getInternalSlot(map, pl, field) {
    return getMultiInternalSlots(map, pl, field)[field];
}
function getMultiInternalSlots(map, pl) {
    var fields = [];
    for (var _i = 2; _i < arguments.length; _i++) {
        fields[_i - 2] = arguments[_i];
    }
    var slots = map.get(pl);
    if (!slots) {
        throw new TypeError(pl + " InternalSlot has not been initialized");
    }
    return fields.reduce(function (all, f) {
        all[f] = slots[f];
        return all;
    }, Object.create(null));
}
function isLiteralPart(patternPart) {
    return patternPart.type === 'literal';
}
function partitionPattern(pattern) {
    var result = [];
    var beginIndex = pattern.indexOf('{');
    var endIndex = 0;
    var nextIndex = 0;
    var length = pattern.length;
    while (beginIndex < pattern.length && beginIndex > -1) {
        endIndex = pattern.indexOf('}', beginIndex);
        invariant(endIndex > beginIndex, "Invalid pattern " + pattern);
        if (beginIndex > nextIndex) {
            result.push({
                type: 'literal',
                value: pattern.substring(nextIndex, beginIndex),
            });
        }
        result.push({
            type: pattern.substring(beginIndex + 1, endIndex),
            value: undefined,
        });
        nextIndex = endIndex + 1;
        beginIndex = pattern.indexOf('{', nextIndex);
    }
    if (nextIndex < length) {
        result.push({
            type: 'literal',
            value: pattern.substring(nextIndex, length),
        });
    }
    return result;
}
/**
 * https://tc39.es/ecma402/#sec-setnfdigitoptions
 */
function setNumberFormatDigitOptions(internalSlots, opts, mnfdDefault, mxfdDefault, notation) {
    var mnid = getNumberOption(opts, 'minimumIntegerDigits', 1, 21, 1);
    var mnfd = opts.minimumFractionDigits;
    var mxfd = opts.maximumFractionDigits;
    var mnsd = opts.minimumSignificantDigits;
    var mxsd = opts.maximumSignificantDigits;
    internalSlots.minimumIntegerDigits = mnid;
    if (mnsd !== undefined || mxsd !== undefined) {
        internalSlots.roundingType = 'significantDigits';
        mnsd = defaultNumberOption(mnsd, 1, 21, 1);
        mxsd = defaultNumberOption(mxsd, mnsd, 21, 21);
        internalSlots.minimumSignificantDigits = mnsd;
        internalSlots.maximumSignificantDigits = mxsd;
    }
    else if (mnfd !== undefined || mxfd !== undefined) {
        internalSlots.roundingType = 'fractionDigits';
        mnfd = defaultNumberOption(mnfd, 0, 20, mnfdDefault);
        var mxfdActualDefault = Math.max(mnfd, mxfdDefault);
        mxfd = defaultNumberOption(mxfd, mnfd, 20, mxfdActualDefault);
        internalSlots.minimumFractionDigits = mnfd;
        internalSlots.maximumFractionDigits = mxfd;
    }
    else if (notation === 'compact') {
        internalSlots.roundingType = 'compactRounding';
    }
    else {
        internalSlots.roundingType = 'fractionDigits';
        internalSlots.minimumFractionDigits = mnfdDefault;
        internalSlots.maximumFractionDigits = mxfdDefault;
    }
}
function objectIs(x, y) {
    if (Object.is) {
        return Object.is(x, y);
    }
    // SameValue algorithm
    if (x === y) {
        // Steps 1-5, 7-10
        // Steps 6.b-6.e: +0 != -0
        return x !== 0 || 1 / x === 1 / y;
    }
    // Step 6.a: NaN == NaN
    return x !== x && y !== y;
}
var NOT_A_Z_REGEX = /[^A-Z]/;
/**
 * This follows https://tc39.es/ecma402/#sec-case-sensitivity-and-case-mapping
 * @param str string to convert
 */
function toUpperCase(str) {
    return str.replace(/([a-z])/g, function (_, c) { return c.toUpperCase(); });
}
/**
 * https://tc39.es/ecma402/#sec-iswellformedcurrencycode
 */
function isWellFormedCurrencyCode(currency) {
    currency = toUpperCase(currency);
    if (currency.length !== 3) {
        return false;
    }
    if (NOT_A_Z_REGEX.test(currency)) {
        return false;
    }
    return true;
}
/**
 * https://tc39.es/ecma402/#sec-formatnumberstring
 * TODO: dedup with intl-pluralrules
 */
function formatNumericToString(internalSlots, x) {
    var isNegative = x < 0 || objectIs(x, -0);
    if (isNegative) {
        x = -x;
    }
    var result;
    var rourndingType = internalSlots.roundingType;
    switch (rourndingType) {
        case 'significantDigits':
            result = toRawPrecision(x, internalSlots.minimumSignificantDigits, internalSlots.maximumSignificantDigits);
            break;
        case 'fractionDigits':
            result = toRawFixed(x, internalSlots.minimumFractionDigits, internalSlots.maximumFractionDigits);
            break;
        default:
            result = toRawPrecision(x, 1, 2);
            if (result.integerDigitsCount > 1) {
                result = toRawFixed(x, 0, 0);
            }
            break;
    }
    x = result.roundedNumber;
    var string = result.formattedString;
    var int = result.integerDigitsCount;
    var minInteger = internalSlots.minimumIntegerDigits;
    if (int < minInteger) {
        var forwardZeros = repeat('0', minInteger - int);
        string = forwardZeros + string;
    }
    if (isNegative) {
        x = -x;
    }
    return { roundedNumber: x, formattedString: string };
}
/**
 * TODO: dedup with intl-pluralrules and support BigInt
 * https://tc39.es/ecma402/#sec-torawfixed
 * @param x a finite non-negative Number or BigInt
 * @param minFraction and integer between 0 and 20
 * @param maxFraction and integer between 0 and 20
 */
function toRawFixed(x, minFraction, maxFraction) {
    var f = maxFraction;
    var n = Math.round(x * Math.pow(10, f));
    var xFinal = n / Math.pow(10, f);
    // n is a positive integer, but it is possible to be greater than 1e21.
    // In such case we will go the slow path.
    // See also: https://tc39.es/ecma262/#sec-numeric-types-number-tostring
    var m;
    if (n < 1e21) {
        m = n.toString();
    }
    else {
        m = n.toString();
        var _a = m.split('e'), mantissa = _a[0], exponent = _a[1];
        m = mantissa.replace('.', '');
        m = m + repeat('0', Math.max(+exponent - m.length + 1, 0));
    }
    var int;
    if (f !== 0) {
        var k = m.length;
        if (k <= f) {
            var z = repeat('0', f + 1 - k);
            m = z + m;
            k = f + 1;
        }
        var a = m.slice(0, k - f);
        var b = m.slice(k - f);
        m = a + "." + b;
        int = a.length;
    }
    else {
        int = m.length;
    }
    var cut = maxFraction - minFraction;
    while (cut > 0 && m[m.length - 1] === '0') {
        m = m.slice(0, -1);
        cut--;
    }
    if (m[m.length - 1] === '.') {
        m = m.slice(0, -1);
    }
    return { formattedString: m, roundedNumber: xFinal, integerDigitsCount: int };
}
// https://tc39.es/ecma402/#sec-torawprecision
function toRawPrecision(x, minPrecision, maxPrecision) {
    var p = maxPrecision;
    var m;
    var e;
    var xFinal;
    if (x === 0) {
        m = repeat('0', p);
        e = 0;
        xFinal = 0;
    }
    else {
        var xToString = x.toString();
        // If xToString is formatted as scientific notation, the number is either very small or very
        // large. If the precision of the formatted string is lower that requested max precision, we
        // should still infer them from the formatted string, otherwise the formatted result might have
        // precision loss (e.g. 1e41 will not have 0 in every trailing digits).
        var xToStringExponentIndex = xToString.indexOf('e');
        var _a = xToString.split('e'), xToStringMantissa = _a[0], xToStringExponent = _a[1];
        var xToStringMantissaWithoutDecimalPoint = xToStringMantissa.replace('.', '');
        if (xToStringExponentIndex >= 0 &&
            xToStringMantissaWithoutDecimalPoint.length <= p) {
            e = +xToStringExponent;
            m =
                xToStringMantissaWithoutDecimalPoint +
                    repeat('0', p - xToStringMantissaWithoutDecimalPoint.length);
            xFinal = x;
        }
        else {
            e = getMagnitude(x);
            var decimalPlaceOffset = e - p + 1;
            // n is the integer containing the required precision digits. To derive the formatted string,
            // we will adjust its decimal place in the logic below.
            var n = Math.round(adjustDecimalPlace(x, decimalPlaceOffset));
            // The rounding caused the change of magnitude, so we should increment `e` by 1.
            if (adjustDecimalPlace(n, p - 1) >= 10) {
                e = e + 1;
                // Divide n by 10 to swallow one precision.
                n = Math.floor(n / 10);
            }
            m = n.toString();
            // Equivalent of n * 10 ** (e - p + 1)
            xFinal = adjustDecimalPlace(n, p - 1 - e);
        }
    }
    var int;
    if (e >= p - 1) {
        m = m + repeat('0', e - p + 1);
        int = e + 1;
    }
    else if (e >= 0) {
        m = m.slice(0, e + 1) + "." + m.slice(e + 1);
        int = e + 1;
    }
    else {
        m = "0." + repeat('0', -e - 1) + m;
        int = 1;
    }
    if (m.indexOf('.') >= 0 && maxPrecision > minPrecision) {
        var cut = maxPrecision - minPrecision;
        while (cut > 0 && m[m.length - 1] === '0') {
            m = m.slice(0, -1);
            cut--;
        }
        if (m[m.length - 1] === '.') {
            m = m.slice(0, -1);
        }
    }
    return { formattedString: m, roundedNumber: xFinal, integerDigitsCount: int };
    // x / (10 ** magnitude), but try to preserve as much floating point precision as possible.
    function adjustDecimalPlace(x, magnitude) {
        return magnitude < 0 ? x * Math.pow(10, -magnitude) : x / Math.pow(10, magnitude);
    }
}
function repeat(s, times) {
    if (typeof s.repeat === 'function') {
        return s.repeat(times);
    }
    var arr = new Array(times);
    for (var i = 0; i < arr.length; i++) {
        arr[i] = s;
    }
    return arr.join('');
}
/**
 * Cannot do Math.log(x) / Math.log(10) bc if IEEE floating point issue
 * @param x number
 */
function getMagnitude(x) {
    // Cannot count string length via Number.toString because it may use scientific notation
    // for very small or very large numbers.
    return Math.floor(Math.log(x) * Math.LOG10E);
}
/**
 * This follows https://tc39.es/ecma402/#sec-case-sensitivity-and-case-mapping
 * @param str string to convert
 */
function toLowerCase(str) {
    return str.replace(/([A-Z])/g, function (_, c) { return c.toLowerCase(); });
}
var SHORTENED_SACTION_UNITS = SANCTIONED_UNITS.map(function (unit) {
    return unit.replace(/^(.*?)-/, '');
});
/**
 * https://tc39.es/ecma402/#sec-iswellformedunitidentifier
 * @param unit
 */
function isWellFormedUnitIdentifier(unit) {
    unit = toLowerCase(unit);
    if (SHORTENED_SACTION_UNITS.indexOf(unit) > -1) {
        return true;
    }
    var units = unit.split('-per-');
    if (units.length !== 2) {
        return false;
    }
    if (SHORTENED_SACTION_UNITS.indexOf(units[0]) < 0 ||
        SHORTENED_SACTION_UNITS.indexOf(units[1]) < 0) {
        return false;
    }
    return true;
}
/*
  17 ECMAScript Standard Built-in Objects:
    Every built-in Function object, including constructors, that is not
    identified as an anonymous function has a name property whose value
    is a String.

    Unless otherwise specified, the name property of a built-in Function
    object, if it exists, has the attributes { [[Writable]]: false,
    [[Enumerable]]: false, [[Configurable]]: true }.
*/
function defineProperty(target, name, _a) {
    var value = _a.value;
    Object.defineProperty(target, name, {
        configurable: true,
        enumerable: false,
        writable: true,
        value: value,
    });
}

// CONCATENATED MODULE: ./node_modules/@formatjs/intl-utils/lib/src/resolve-locale.js
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};


function createResolveLocale(getDefaultLocale) {
    var lookupMatcher = createLookupMatcher(getDefaultLocale);
    var bestFitMatcher = createBestFitMatcher(getDefaultLocale);
    /**
     * https://tc39.es/ecma402/#sec-resolvelocale
     */
    return function resolveLocale(availableLocales, requestedLocales, options, relevantExtensionKeys, localeData) {
        var matcher = options.localeMatcher;
        var r;
        if (matcher === 'lookup') {
            r = lookupMatcher(availableLocales, requestedLocales);
        }
        else {
            r = bestFitMatcher(availableLocales, requestedLocales);
        }
        var foundLocale = r.locale;
        var result = { locale: '', dataLocale: foundLocale };
        var supportedExtension = '-u';
        for (var _i = 0, relevantExtensionKeys_1 = relevantExtensionKeys; _i < relevantExtensionKeys_1.length; _i++) {
            var key = relevantExtensionKeys_1[_i];
            var foundLocaleData = localeData[foundLocale];
            invariant(typeof foundLocaleData === 'object' && foundLocaleData !== null, "locale data " + key + " must be an object");
            var keyLocaleData = foundLocaleData[key];
            invariant(Array.isArray(keyLocaleData), "keyLocaleData for " + key + " must be an array");
            var value = keyLocaleData[0];
            invariant(typeof value === 'string' || value === null, "value must be string or null but got " + typeof value + " in key " + key);
            var supportedExtensionAddition = '';
            if (r.extension) {
                var requestedValue = unicodeExtensionValue(r.extension, key);
                if (requestedValue !== undefined) {
                    if (requestedValue !== '') {
                        if (~keyLocaleData.indexOf(requestedValue)) {
                            value = requestedValue;
                            supportedExtensionAddition = "-" + key + "-" + value;
                        }
                    }
                    else if (~requestedValue.indexOf('true')) {
                        value = 'true';
                        supportedExtensionAddition = "-" + key;
                    }
                }
            }
            if (key in options) {
                var optionsValue = options[key];
                invariant(typeof optionsValue === 'string' ||
                    typeof optionsValue === 'undefined' ||
                    optionsValue === null, 'optionsValue must be String, Undefined or Null');
                if (~keyLocaleData.indexOf(optionsValue)) {
                    if (optionsValue !== value) {
                        value = optionsValue;
                        supportedExtensionAddition = '';
                    }
                }
            }
            result[key] = value;
            supportedExtension += supportedExtensionAddition;
        }
        if (supportedExtension.length > 2) {
            var privateIndex = foundLocale.indexOf('-x-');
            if (privateIndex === -1) {
                foundLocale = foundLocale + supportedExtension;
            }
            else {
                var preExtension = foundLocale.slice(0, privateIndex);
                var postExtension = foundLocale.slice(privateIndex, foundLocale.length);
                foundLocale = preExtension + supportedExtension + postExtension;
            }
            foundLocale = Intl.getCanonicalLocales(foundLocale)[0];
        }
        result.locale = foundLocale;
        return result;
    };
}
/**
 * https://tc39.es/ecma402/#sec-unicodeextensionvalue
 * @param extension
 * @param key
 */
function unicodeExtensionValue(extension, key) {
    invariant(key.length === 2, 'key must have 2 elements');
    var size = extension.length;
    var searchValue = "-" + key + "-";
    var pos = extension.indexOf(searchValue);
    if (pos !== -1) {
        var start = pos + 4;
        var end = start;
        var k = start;
        var done = false;
        while (!done) {
            var e = extension.indexOf('-', k);
            var len = void 0;
            if (e === -1) {
                len = size - k;
            }
            else {
                len = e - k;
            }
            if (len === 2) {
                done = true;
            }
            else if (e === -1) {
                end = size;
                done = true;
            }
            else {
                end = e;
                k = e + 1;
            }
        }
        return extension.slice(start, end);
    }
    searchValue = "-" + key;
    pos = extension.indexOf(searchValue);
    if (pos !== -1 && pos + 3 === size) {
        return '';
    }
    return undefined;
}
var UNICODE_EXTENSION_SEQUENCE_REGEX = /-u(?:-[0-9a-z]{2,8})+/gi;
/**
 * https://tc39.es/ecma402/#sec-bestavailablelocale
 * @param availableLocales
 * @param locale
 */
function bestAvailableLocale(availableLocales, locale) {
    var candidate = locale;
    while (true) {
        if (~availableLocales.indexOf(candidate)) {
            return candidate;
        }
        var pos = candidate.lastIndexOf('-');
        if (!~pos) {
            return undefined;
        }
        if (pos >= 2 && candidate[pos - 2] === '-') {
            pos -= 2;
        }
        candidate = candidate.slice(0, pos);
    }
}
function createLookupMatcher(getDefaultLocale) {
    /**
     * https://tc39.es/ecma402/#sec-lookupmatcher
     */
    return function lookupMatcher(availableLocales, requestedLocales) {
        var result = { locale: '' };
        for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {
            var locale = requestedLocales_1[_i];
            var noExtensionLocale = locale.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');
            var availableLocale = bestAvailableLocale(availableLocales, noExtensionLocale);
            if (availableLocale) {
                result.locale = availableLocale;
                if (locale !== noExtensionLocale) {
                    result.extension = locale.slice(noExtensionLocale.length + 1, locale.length);
                }
                return result;
            }
        }
        result.locale = getDefaultLocale();
        return result;
    };
}
function createBestFitMatcher(getDefaultLocale) {
    return function bestFitMatcher(availableLocales, requestedLocales) {
        var result = { locale: '' };
        for (var _i = 0, requestedLocales_2 = requestedLocales; _i < requestedLocales_2.length; _i++) {
            var locale = requestedLocales_2[_i];
            var noExtensionLocale = locale.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');
            var availableLocale = bestAvailableLocale(availableLocales, noExtensionLocale);
            if (availableLocale) {
                result.locale = availableLocale;
                if (locale !== noExtensionLocale) {
                    result.extension = locale.slice(noExtensionLocale.length + 1, locale.length);
                }
                return result;
            }
        }
        result.locale = getDefaultLocale();
        return result;
    };
}
function getLocaleHierarchy(locale) {
    var results = [locale];
    var localeParts = locale.split('-');
    for (var i = localeParts.length; i > 1; i--) {
        results.push(localeParts.slice(0, i - 1).join('-'));
    }
    return results;
}
function lookupSupportedLocales(availableLocales, requestedLocales) {
    var subset = [];
    for (var _i = 0, requestedLocales_3 = requestedLocales; _i < requestedLocales_3.length; _i++) {
        var locale = requestedLocales_3[_i];
        var noExtensionLocale = locale.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');
        var availableLocale = bestAvailableLocale(availableLocales, noExtensionLocale);
        if (availableLocale) {
            subset.push(availableLocale);
        }
    }
    return subset;
}
function supportedLocales(availableLocales, requestedLocales, options) {
    var matcher = 'best fit';
    if (options !== undefined) {
        options = toObject(options);
        matcher = getOption(options, 'localeMatcher', 'string', ['lookup', 'best fit'], 'best fit');
    }
    if (matcher === 'best fit') {
        return lookupSupportedLocales(availableLocales, requestedLocales);
    }
    return lookupSupportedLocales(availableLocales, requestedLocales);
}
var MissingLocaleDataError = /** @class */ (function (_super) {
    __extends(MissingLocaleDataError, _super);
    function MissingLocaleDataError() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.type = 'MISSING_LOCALE_DATA';
        return _this;
    }
    return MissingLocaleDataError;
}(Error));
function isMissingLocaleDataError(e) {
    return e.type === 'MISSING_LOCALE_DATA';
}
function unpackData(locale, localeData, 
/** By default shallow merge the dictionaries. */
reducer) {
    if (reducer === void 0) { reducer = function (all, d) { return (__assign(__assign({}, all), d)); }; }
    var localeHierarchy = getLocaleHierarchy(locale);
    var dataToMerge = localeHierarchy
        .map(function (l) { return localeData.data[l]; })
        .filter(Boolean);
    if (!dataToMerge.length) {
        throw new MissingLocaleDataError("Missing locale data for \"" + locale + "\", lookup hierarchy: " + localeHierarchy.join(', '));
    }
    dataToMerge.reverse();
    return dataToMerge.reduce(reducer, {});
}

// CONCATENATED MODULE: ./node_modules/tslib/tslib.es6.js
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function tslib_es6_extends(d, b) {
    if (typeof b !== "function" && b !== null)
        throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var tslib_es6_assign = function() {
    tslib_es6_assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return tslib_es6_assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

var __createBinding = Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
});

function __exportStar(m, o) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);
}

function __values(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

/** @deprecated */
function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

/** @deprecated */
function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
}

function __spreadArray(to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
}

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

var __setModuleDefault = Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}

function __classPrivateFieldGet(receiver, state, kind, f) {
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
}

function __classPrivateFieldSet(receiver, state, value, kind, f) {
    if (kind === "m") throw new TypeError("Private method is not writable");
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a setter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;
}

// CONCATENATED MODULE: ./node_modules/intl-messageformat-parser/lib/src/types.js
var TYPE;
(function (TYPE) {
    /**
     * Raw text
     */
    TYPE[TYPE["literal"] = 0] = "literal";
    /**
     * Variable w/o any format, e.g `var` in `this is a {var}`
     */
    TYPE[TYPE["argument"] = 1] = "argument";
    /**
     * Variable w/ number format
     */
    TYPE[TYPE["number"] = 2] = "number";
    /**
     * Variable w/ date format
     */
    TYPE[TYPE["date"] = 3] = "date";
    /**
     * Variable w/ time format
     */
    TYPE[TYPE["time"] = 4] = "time";
    /**
     * Variable w/ select format
     */
    TYPE[TYPE["select"] = 5] = "select";
    /**
     * Variable w/ plural format
     */
    TYPE[TYPE["plural"] = 6] = "plural";
    /**
     * Only possible within plural argument.
     * This is the `#` symbol that will be substituted with the count.
     */
    TYPE[TYPE["pound"] = 7] = "pound";
    /**
     * XML-like tag
     */
    TYPE[TYPE["tag"] = 8] = "tag";
})(TYPE || (TYPE = {}));
var SKELETON_TYPE;
(function (SKELETON_TYPE) {
    SKELETON_TYPE[SKELETON_TYPE["number"] = 0] = "number";
    SKELETON_TYPE[SKELETON_TYPE["dateTime"] = 1] = "dateTime";
})(SKELETON_TYPE || (SKELETON_TYPE = {}));
/**
 * Type Guards
 */
function isLiteralElement(el) {
    return el.type === TYPE.literal;
}
function isArgumentElement(el) {
    return el.type === TYPE.argument;
}
function isNumberElement(el) {
    return el.type === TYPE.number;
}
function isDateElement(el) {
    return el.type === TYPE.date;
}
function isTimeElement(el) {
    return el.type === TYPE.time;
}
function isSelectElement(el) {
    return el.type === TYPE.select;
}
function isPluralElement(el) {
    return el.type === TYPE.plural;
}
function isPoundElement(el) {
    return el.type === TYPE.pound;
}
function isTagElement(el) {
    return el.type === TYPE.tag;
}
function isNumberSkeleton(el) {
    return !!(el && typeof el === 'object' && el.type === 0 /* number */);
}
function isDateTimeSkeleton(el) {
    return !!(el && typeof el === 'object' && el.type === 1 /* dateTime */);
}
function createLiteralElement(value) {
    return {
        type: TYPE.literal,
        value: value,
    };
}
function createNumberElement(value, style) {
    return {
        type: TYPE.number,
        value: value,
        style: style,
    };
}

// CONCATENATED MODULE: ./node_modules/intl-messageformat-parser/lib/src/skeleton.js

/**
 * https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table
 * Credit: https://github.com/caridy/intl-datetimeformat-pattern/blob/master/index.js
 * with some tweaks
 */
var DATE_TIME_REGEX = /(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;
/**
 * Parse Date time skeleton into Intl.DateTimeFormatOptions
 * Ref: https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table
 * @public
 * @param skeleton skeleton string
 */
function parseDateTimeSkeleton(skeleton) {
    var result = {};
    skeleton.replace(DATE_TIME_REGEX, function (match) {
        var len = match.length;
        switch (match[0]) {
            // Era
            case 'G':
                result.era = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';
                break;
            // Year
            case 'y':
                result.year = len === 2 ? '2-digit' : 'numeric';
                break;
            case 'Y':
            case 'u':
            case 'U':
            case 'r':
                throw new RangeError('`Y/u/U/r` (year) patterns are not supported, use `y` instead');
            // Quarter
            case 'q':
            case 'Q':
                throw new RangeError('`q/Q` (quarter) patterns are not supported');
            // Month
            case 'M':
            case 'L':
                result.month = ['numeric', '2-digit', 'short', 'long', 'narrow'][len - 1];
                break;
            // Week
            case 'w':
            case 'W':
                throw new RangeError('`w/W` (week) patterns are not supported');
            case 'd':
                result.day = ['numeric', '2-digit'][len - 1];
                break;
            case 'D':
            case 'F':
            case 'g':
                throw new RangeError('`D/F/g` (day) patterns are not supported, use `d` instead');
            // Weekday
            case 'E':
                result.weekday = len === 4 ? 'short' : len === 5 ? 'narrow' : 'short';
                break;
            case 'e':
                if (len < 4) {
                    throw new RangeError('`e..eee` (weekday) patterns are not supported');
                }
                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];
                break;
            case 'c':
                if (len < 4) {
                    throw new RangeError('`c..ccc` (weekday) patterns are not supported');
                }
                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];
                break;
            // Period
            case 'a': // AM, PM
                result.hour12 = true;
                break;
            case 'b': // am, pm, noon, midnight
            case 'B': // flexible day periods
                throw new RangeError('`b/B` (period) patterns are not supported, use `a` instead');
            // Hour
            case 'h':
                result.hourCycle = 'h12';
                result.hour = ['numeric', '2-digit'][len - 1];
                break;
            case 'H':
                result.hourCycle = 'h23';
                result.hour = ['numeric', '2-digit'][len - 1];
                break;
            case 'K':
                result.hourCycle = 'h11';
                result.hour = ['numeric', '2-digit'][len - 1];
                break;
            case 'k':
                result.hourCycle = 'h24';
                result.hour = ['numeric', '2-digit'][len - 1];
                break;
            case 'j':
            case 'J':
            case 'C':
                throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');
            // Minute
            case 'm':
                result.minute = ['numeric', '2-digit'][len - 1];
                break;
            // Second
            case 's':
                result.second = ['numeric', '2-digit'][len - 1];
                break;
            case 'S':
            case 'A':
                throw new RangeError('`S/A` (second) patterns are not supported, use `s` instead');
            // Zone
            case 'z': // 1..3, 4: specific non-location format
                result.timeZoneName = len < 4 ? 'short' : 'long';
                break;
            case 'Z': // 1..3, 4, 5: The ISO8601 varios formats
            case 'O': // 1, 4: miliseconds in day short, long
            case 'v': // 1, 4: generic non-location format
            case 'V': // 1, 2, 3, 4: time zone ID or city
            case 'X': // 1, 2, 3, 4: The ISO8601 varios formats
            case 'x': // 1, 2, 3, 4: The ISO8601 varios formats
                throw new RangeError('`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead');
        }
        return '';
    });
    return result;
}
function icuUnitToEcma(unit) {
    return unit.replace(/^(.*?)-/, '');
}
var FRACTION_PRECISION_REGEX = /^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g;
var SIGNIFICANT_PRECISION_REGEX = /^(@+)?(\+|#+)?$/g;
var INTEGER_WIDTH_REGEX = /(\*)(0+)|(#+)(0+)|(0+)/g;
var CONCISE_INTEGER_WIDTH_REGEX = /^(0+)$/;
function parseSignificantPrecision(str) {
    var result = {};
    str.replace(SIGNIFICANT_PRECISION_REGEX, function (_, g1, g2) {
        // @@@ case
        if (typeof g2 !== 'string') {
            result.minimumSignificantDigits = g1.length;
            result.maximumSignificantDigits = g1.length;
        }
        // @@@+ case
        else if (g2 === '+') {
            result.minimumSignificantDigits = g1.length;
        }
        // .### case
        else if (g1[0] === '#') {
            result.maximumSignificantDigits = g1.length;
        }
        // .@@## or .@@@ case
        else {
            result.minimumSignificantDigits = g1.length;
            result.maximumSignificantDigits =
                g1.length + (typeof g2 === 'string' ? g2.length : 0);
        }
        return '';
    });
    return result;
}
function parseSign(str) {
    switch (str) {
        case 'sign-auto':
            return {
                signDisplay: 'auto',
            };
        case 'sign-accounting':
        case '()':
            return {
                currencySign: 'accounting',
            };
        case 'sign-always':
        case '+!':
            return {
                signDisplay: 'always',
            };
        case 'sign-accounting-always':
        case '()!':
            return {
                signDisplay: 'always',
                currencySign: 'accounting',
            };
        case 'sign-except-zero':
        case '+?':
            return {
                signDisplay: 'exceptZero',
            };
        case 'sign-accounting-except-zero':
        case '()?':
            return {
                signDisplay: 'exceptZero',
                currencySign: 'accounting',
            };
        case 'sign-never':
        case '+_':
            return {
                signDisplay: 'never',
            };
    }
}
function parseConciseScientificAndEngineeringStem(stem) {
    // Engineering
    var result;
    if (stem[0] === 'E' && stem[1] === 'E') {
        result = {
            notation: 'engineering',
        };
        stem = stem.slice(2);
    }
    else if (stem[0] === 'E') {
        result = {
            notation: 'scientific',
        };
        stem = stem.slice(1);
    }
    if (result) {
        var signDisplay = stem.slice(0, 2);
        if (signDisplay === '+!') {
            result.signDisplay = 'always';
            stem = stem.slice(2);
        }
        else if (signDisplay === '+?') {
            result.signDisplay = 'exceptZero';
            stem = stem.slice(2);
        }
        if (!CONCISE_INTEGER_WIDTH_REGEX.test(stem)) {
            throw new Error('Malformed concise eng/scientific notation');
        }
        result.minimumIntegerDigits = stem.length;
    }
    return result;
}
function parseNotationOptions(opt) {
    var result = {};
    var signOpts = parseSign(opt);
    if (signOpts) {
        return signOpts;
    }
    return result;
}
/**
 * https://github.com/unicode-org/icu/blob/master/docs/userguide/format_parse/numbers/skeletons.md#skeleton-stems-and-options
 */
function parseNumberSkeleton(tokens) {
    var result = {};
    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {
        var token = tokens_1[_i];
        switch (token.stem) {
            case 'percent':
            case '%':
                result.style = 'percent';
                continue;
            case '%x100':
                result.style = 'percent';
                result.scale = 100;
                continue;
            case 'currency':
                result.style = 'currency';
                result.currency = token.options[0];
                continue;
            case 'group-off':
            case ',_':
                result.useGrouping = false;
                continue;
            case 'precision-integer':
            case '.':
                result.maximumFractionDigits = 0;
                continue;
            case 'measure-unit':
            case 'unit':
                result.style = 'unit';
                result.unit = icuUnitToEcma(token.options[0]);
                continue;
            case 'compact-short':
            case 'K':
                result.notation = 'compact';
                result.compactDisplay = 'short';
                continue;
            case 'compact-long':
            case 'KK':
                result.notation = 'compact';
                result.compactDisplay = 'long';
                continue;
            case 'scientific':
                result = tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({}, result), { notation: 'scientific' }), token.options.reduce(function (all, opt) { return (tslib_es6_assign(tslib_es6_assign({}, all), parseNotationOptions(opt))); }, {}));
                continue;
            case 'engineering':
                result = tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({}, result), { notation: 'engineering' }), token.options.reduce(function (all, opt) { return (tslib_es6_assign(tslib_es6_assign({}, all), parseNotationOptions(opt))); }, {}));
                continue;
            case 'notation-simple':
                result.notation = 'standard';
                continue;
            // https://github.com/unicode-org/icu/blob/master/icu4c/source/i18n/unicode/unumberformatter.h
            case 'unit-width-narrow':
                result.currencyDisplay = 'narrowSymbol';
                result.unitDisplay = 'narrow';
                continue;
            case 'unit-width-short':
                result.currencyDisplay = 'code';
                result.unitDisplay = 'short';
                continue;
            case 'unit-width-full-name':
                result.currencyDisplay = 'name';
                result.unitDisplay = 'long';
                continue;
            case 'unit-width-iso-code':
                result.currencyDisplay = 'symbol';
                continue;
            case 'scale':
                result.scale = parseFloat(token.options[0]);
                continue;
            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width
            case 'integer-width':
                if (token.options.length > 1) {
                    throw new RangeError('integer-width stems only accept a single optional option');
                }
                token.options[0].replace(INTEGER_WIDTH_REGEX, function (_, g1, g2, g3, g4, g5) {
                    if (g1) {
                        result.minimumIntegerDigits = g2.length;
                    }
                    else if (g3 && g4) {
                        throw new Error('We currently do not support maximum integer digits');
                    }
                    else if (g5) {
                        throw new Error('We currently do not support exact integer digits');
                    }
                    return '';
                });
                continue;
        }
        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width
        if (CONCISE_INTEGER_WIDTH_REGEX.test(token.stem)) {
            result.minimumIntegerDigits = token.stem.length;
            continue;
        }
        if (FRACTION_PRECISION_REGEX.test(token.stem)) {
            // Precision
            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#fraction-precision
            // precision-integer case
            if (token.options.length > 1) {
                throw new RangeError('Fraction-precision stems only accept a single optional option');
            }
            token.stem.replace(FRACTION_PRECISION_REGEX, function (_, g1, g2, g3, g4, g5) {
                // .000* case (before ICU67 it was .000+)
                if (g2 === '*') {
                    result.minimumFractionDigits = g1.length;
                }
                // .### case
                else if (g3 && g3[0] === '#') {
                    result.maximumFractionDigits = g3.length;
                }
                // .00## case
                else if (g4 && g5) {
                    result.minimumFractionDigits = g4.length;
                    result.maximumFractionDigits = g4.length + g5.length;
                }
                else {
                    result.minimumFractionDigits = g1.length;
                    result.maximumFractionDigits = g1.length;
                }
                return '';
            });
            if (token.options.length) {
                result = tslib_es6_assign(tslib_es6_assign({}, result), parseSignificantPrecision(token.options[0]));
            }
            continue;
        }
        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#significant-digits-precision
        if (SIGNIFICANT_PRECISION_REGEX.test(token.stem)) {
            result = tslib_es6_assign(tslib_es6_assign({}, result), parseSignificantPrecision(token.stem));
            continue;
        }
        var signOpts = parseSign(token.stem);
        if (signOpts) {
            result = tslib_es6_assign(tslib_es6_assign({}, result), signOpts);
        }
        var conciseScientificAndEngineeringOpts = parseConciseScientificAndEngineeringStem(token.stem);
        if (conciseScientificAndEngineeringOpts) {
            result = tslib_es6_assign(tslib_es6_assign({}, result), conciseScientificAndEngineeringOpts);
        }
    }
    return result;
}

// CONCATENATED MODULE: ./node_modules/intl-messageformat-parser/lib/src/parser.js
// @ts-nocheck

// @generated


var parser_SyntaxError = /** @class */ (function (_super) {
    tslib_es6_extends(SyntaxError, _super);
    function SyntaxError(message, expected, found, location) {
        var _this = _super.call(this) || this;
        _this.message = message;
        _this.expected = expected;
        _this.found = found;
        _this.location = location;
        _this.name = "SyntaxError";
        if (typeof Error.captureStackTrace === "function") {
            Error.captureStackTrace(_this, SyntaxError);
        }
        return _this;
    }
    SyntaxError.buildMessage = function (expected, found) {
        function hex(ch) {
            return ch.charCodeAt(0).toString(16).toUpperCase();
        }
        function literalEscape(s) {
            return s
                .replace(/\\/g, "\\\\")
                .replace(/"/g, "\\\"")
                .replace(/\0/g, "\\0")
                .replace(/\t/g, "\\t")
                .replace(/\n/g, "\\n")
                .replace(/\r/g, "\\r")
                .replace(/[\x00-\x0F]/g, function (ch) { return "\\x0" + hex(ch); })
                .replace(/[\x10-\x1F\x7F-\x9F]/g, function (ch) { return "\\x" + hex(ch); });
        }
        function classEscape(s) {
            return s
                .replace(/\\/g, "\\\\")
                .replace(/\]/g, "\\]")
                .replace(/\^/g, "\\^")
                .replace(/-/g, "\\-")
                .replace(/\0/g, "\\0")
                .replace(/\t/g, "\\t")
                .replace(/\n/g, "\\n")
                .replace(/\r/g, "\\r")
                .replace(/[\x00-\x0F]/g, function (ch) { return "\\x0" + hex(ch); })
                .replace(/[\x10-\x1F\x7F-\x9F]/g, function (ch) { return "\\x" + hex(ch); });
        }
        function describeExpectation(expectation) {
            switch (expectation.type) {
                case "literal":
                    return "\"" + literalEscape(expectation.text) + "\"";
                case "class":
                    var escapedParts = expectation.parts.map(function (part) {
                        return Array.isArray(part)
                            ? classEscape(part[0]) + "-" + classEscape(part[1])
                            : classEscape(part);
                    });
                    return "[" + (expectation.inverted ? "^" : "") + escapedParts + "]";
                case "any":
                    return "any character";
                case "end":
                    return "end of input";
                case "other":
                    return expectation.description;
            }
        }
        function describeExpected(expected1) {
            var descriptions = expected1.map(describeExpectation);
            var i;
            var j;
            descriptions.sort();
            if (descriptions.length > 0) {
                for (i = 1, j = 1; i < descriptions.length; i++) {
                    if (descriptions[i - 1] !== descriptions[i]) {
                        descriptions[j] = descriptions[i];
                        j++;
                    }
                }
                descriptions.length = j;
            }
            switch (descriptions.length) {
                case 1:
                    return descriptions[0];
                case 2:
                    return descriptions[0] + " or " + descriptions[1];
                default:
                    return descriptions.slice(0, -1).join(", ")
                        + ", or "
                        + descriptions[descriptions.length - 1];
            }
        }
        function describeFound(found1) {
            return found1 ? "\"" + literalEscape(found1) + "\"" : "end of input";
        }
        return "Expected " + describeExpected(expected) + " but " + describeFound(found) + " found.";
    };
    return SyntaxError;
}(Error));

function peg$parse(input, options) {
    options = options !== undefined ? options : {};
    var peg$FAILED = {};
    var peg$startRuleFunctions = { start: peg$parsestart };
    var peg$startRuleFunction = peg$parsestart;
    var peg$c0 = function () { return !ignoreTag; };
    var peg$c1 = function (x) { return x; };
    var peg$c2 = function () { return ignoreTag; };
    var peg$c3 = "<";
    var peg$c4 = peg$literalExpectation("<", false);
    var peg$c5 = function (parts) {
        return parts.join('');
    };
    var peg$c6 = function () { return '<'; };
    var peg$c7 = function (messageText) {
        return tslib_es6_assign({ type: TYPE.literal, value: messageText }, insertLocation());
    };
    var peg$c8 = "#";
    var peg$c9 = peg$literalExpectation("#", false);
    var peg$c10 = function () {
        return tslib_es6_assign({ type: TYPE.pound }, insertLocation());
    };
    var peg$c11 = peg$otherExpectation("tagElement");
    var peg$c12 = function (open, children, close) {
        if (open !== close) {
            error("Mismatch tag \"" + open + "\" !== \"" + close + "\"", location());
        }
        return tslib_es6_assign({ type: TYPE.tag, value: open, children: children }, insertLocation());
    };
    var peg$c13 = "/>";
    var peg$c14 = peg$literalExpectation("/>", false);
    var peg$c15 = function (value) {
        return tslib_es6_assign({ type: TYPE.literal, value: value.join('') }, insertLocation());
    };
    var peg$c16 = ">";
    var peg$c17 = peg$literalExpectation(">", false);
    var peg$c18 = function (tag) { return tag; };
    var peg$c19 = "</";
    var peg$c20 = peg$literalExpectation("</", false);
    var peg$c21 = peg$otherExpectation("argumentElement");
    var peg$c22 = "{";
    var peg$c23 = peg$literalExpectation("{", false);
    var peg$c24 = "}";
    var peg$c25 = peg$literalExpectation("}", false);
    var peg$c26 = function (value) {
        return tslib_es6_assign({ type: TYPE.argument, value: value }, insertLocation());
    };
    var peg$c27 = peg$otherExpectation("numberSkeletonId");
    var peg$c28 = /^['\/{}]/;
    var peg$c29 = peg$classExpectation(["'", "/", "{", "}"], false, false);
    var peg$c30 = peg$anyExpectation();
    var peg$c31 = peg$otherExpectation("numberSkeletonTokenOption");
    var peg$c32 = "/";
    var peg$c33 = peg$literalExpectation("/", false);
    var peg$c34 = function (option) { return option; };
    var peg$c35 = peg$otherExpectation("numberSkeletonToken");
    var peg$c36 = function (stem, options) {
        return { stem: stem, options: options };
    };
    var peg$c37 = function (tokens) {
        return tslib_es6_assign({ type: 0 /* number */, tokens: tokens, parsedOptions: shouldParseSkeleton ? parseNumberSkeleton(tokens) : {} }, insertLocation());
    };
    var peg$c38 = "::";
    var peg$c39 = peg$literalExpectation("::", false);
    var peg$c40 = function (skeleton) { return skeleton; };
    var peg$c41 = function () { messageCtx.push('numberArgStyle'); return true; };
    var peg$c42 = function (style) {
        messageCtx.pop();
        return style.replace(/\s*$/, '');
    };
    var peg$c43 = ",";
    var peg$c44 = peg$literalExpectation(",", false);
    var peg$c45 = "number";
    var peg$c46 = peg$literalExpectation("number", false);
    var peg$c47 = function (value, type, style) {
        return tslib_es6_assign({ type: type === 'number' ? TYPE.number : type === 'date' ? TYPE.date : TYPE.time, style: style && style[2], value: value }, insertLocation());
    };
    var peg$c48 = "'";
    var peg$c49 = peg$literalExpectation("'", false);
    var peg$c50 = /^[^']/;
    var peg$c51 = peg$classExpectation(["'"], true, false);
    var peg$c52 = /^[^a-zA-Z'{}]/;
    var peg$c53 = peg$classExpectation([["a", "z"], ["A", "Z"], "'", "{", "}"], true, false);
    var peg$c54 = /^[a-zA-Z]/;
    var peg$c55 = peg$classExpectation([["a", "z"], ["A", "Z"]], false, false);
    var peg$c56 = function (pattern) {
        return tslib_es6_assign({ type: 1 /* dateTime */, pattern: pattern, parsedOptions: shouldParseSkeleton ? parseDateTimeSkeleton(pattern) : {} }, insertLocation());
    };
    var peg$c57 = function () { messageCtx.push('dateOrTimeArgStyle'); return true; };
    var peg$c58 = "date";
    var peg$c59 = peg$literalExpectation("date", false);
    var peg$c60 = "time";
    var peg$c61 = peg$literalExpectation("time", false);
    var peg$c62 = "plural";
    var peg$c63 = peg$literalExpectation("plural", false);
    var peg$c64 = "selectordinal";
    var peg$c65 = peg$literalExpectation("selectordinal", false);
    var peg$c66 = "offset:";
    var peg$c67 = peg$literalExpectation("offset:", false);
    var peg$c68 = function (value, pluralType, offset, options) {
        return tslib_es6_assign({ type: TYPE.plural, pluralType: pluralType === 'plural' ? 'cardinal' : 'ordinal', value: value, offset: offset ? offset[2] : 0, options: options.reduce(function (all, _a) {
                var id = _a.id, value = _a.value, optionLocation = _a.location;
                if (id in all) {
                    error("Duplicate option \"" + id + "\" in plural element: \"" + text() + "\"", location());
                }
                all[id] = {
                    value: value,
                    location: optionLocation
                };
                return all;
            }, {}) }, insertLocation());
    };
    var peg$c69 = "select";
    var peg$c70 = peg$literalExpectation("select", false);
    var peg$c71 = function (value, options) {
        return tslib_es6_assign({ type: TYPE.select, value: value, options: options.reduce(function (all, _a) {
                var id = _a.id, value = _a.value, optionLocation = _a.location;
                if (id in all) {
                    error("Duplicate option \"" + id + "\" in select element: \"" + text() + "\"", location());
                }
                all[id] = {
                    value: value,
                    location: optionLocation
                };
                return all;
            }, {}) }, insertLocation());
    };
    var peg$c72 = "=";
    var peg$c73 = peg$literalExpectation("=", false);
    var peg$c74 = function (id) { messageCtx.push('select'); return true; };
    var peg$c75 = function (id, value) {
        messageCtx.pop();
        return tslib_es6_assign({ id: id,
            value: value }, insertLocation());
    };
    var peg$c76 = function (id) { messageCtx.push('plural'); return true; };
    var peg$c77 = function (id, value) {
        messageCtx.pop();
        return tslib_es6_assign({ id: id,
            value: value }, insertLocation());
    };
    var peg$c78 = peg$otherExpectation("whitespace");
    var peg$c79 = /^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;
    var peg$c80 = peg$classExpectation([["\t", "\r"], " ", "\x85", "\xA0", "\u1680", ["\u2000", "\u200A"], "\u2028", "\u2029", "\u202F", "\u205F", "\u3000"], false, false);
    var peg$c81 = peg$otherExpectation("syntax pattern");
    var peg$c82 = /^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/;
    var peg$c83 = peg$classExpectation([["!", "/"], [":", "@"], ["[", "^"], "`", ["{", "~"], ["\xA1", "\xA7"], "\xA9", "\xAB", "\xAC", "\xAE", "\xB0", "\xB1", "\xB6", "\xBB", "\xBF", "\xD7", "\xF7", ["\u2010", "\u2027"], ["\u2030", "\u203E"], ["\u2041", "\u2053"], ["\u2055", "\u205E"], ["\u2190", "\u245F"], ["\u2500", "\u2775"], ["\u2794", "\u2BFF"], ["\u2E00", "\u2E7F"], ["\u3001", "\u3003"], ["\u3008", "\u3020"], "\u3030", "\uFD3E", "\uFD3F", "\uFE45", "\uFE46"], false, false);
    var peg$c84 = peg$otherExpectation("optional whitespace");
    var peg$c85 = peg$otherExpectation("number");
    var peg$c86 = "-";
    var peg$c87 = peg$literalExpectation("-", false);
    var peg$c88 = function (negative, num) {
        return num
            ? negative
                ? -num
                : num
            : 0;
    };
    var peg$c89 = peg$otherExpectation("apostrophe");
    var peg$c90 = peg$otherExpectation("double apostrophes");
    var peg$c91 = "''";
    var peg$c92 = peg$literalExpectation("''", false);
    var peg$c93 = function () { return "'"; };
    var peg$c94 = function (escapedChar, quotedChars) {
        return escapedChar + quotedChars.replace("''", "'");
    };
    var peg$c95 = function (x) {
        return (x !== '<' &&
            x !== '{' &&
            !(isInPluralOption() && x === '#') &&
            !(isNestedMessageText() && x === '}'));
    };
    var peg$c96 = "\n";
    var peg$c97 = peg$literalExpectation("\n", false);
    var peg$c98 = function (x) {
        return x === '<' || x === '>' || x === '{' || x === '}' || (isInPluralOption() && x === '#');
    };
    var peg$c99 = peg$otherExpectation("argNameOrNumber");
    var peg$c100 = peg$otherExpectation("validTag");
    var peg$c101 = peg$otherExpectation("argNumber");
    var peg$c102 = "0";
    var peg$c103 = peg$literalExpectation("0", false);
    var peg$c104 = function () { return 0; };
    var peg$c105 = /^[1-9]/;
    var peg$c106 = peg$classExpectation([["1", "9"]], false, false);
    var peg$c107 = /^[0-9]/;
    var peg$c108 = peg$classExpectation([["0", "9"]], false, false);
    var peg$c109 = function (digits) {
        return parseInt(digits.join(''), 10);
    };
    var peg$c110 = peg$otherExpectation("argName");
    var peg$c111 = peg$otherExpectation("tagName");
    var peg$currPos = 0;
    var peg$savedPos = 0;
    var peg$posDetailsCache = [{ line: 1, column: 1 }];
    var peg$maxFailPos = 0;
    var peg$maxFailExpected = [];
    var peg$silentFails = 0;
    var peg$result;
    if (options.startRule !== undefined) {
        if (!(options.startRule in peg$startRuleFunctions)) {
            throw new Error("Can't start parsing from rule \"" + options.startRule + "\".");
        }
        peg$startRuleFunction = peg$startRuleFunctions[options.startRule];
    }
    function text() {
        return input.substring(peg$savedPos, peg$currPos);
    }
    function location() {
        return peg$computeLocation(peg$savedPos, peg$currPos);
    }
    function expected(description, location1) {
        location1 = location1 !== undefined
            ? location1
            : peg$computeLocation(peg$savedPos, peg$currPos);
        throw peg$buildStructuredError([peg$otherExpectation(description)], input.substring(peg$savedPos, peg$currPos), location1);
    }
    function error(message, location1) {
        location1 = location1 !== undefined
            ? location1
            : peg$computeLocation(peg$savedPos, peg$currPos);
        throw peg$buildSimpleError(message, location1);
    }
    function peg$literalExpectation(text1, ignoreCase) {
        return { type: "literal", text: text1, ignoreCase: ignoreCase };
    }
    function peg$classExpectation(parts, inverted, ignoreCase) {
        return { type: "class", parts: parts, inverted: inverted, ignoreCase: ignoreCase };
    }
    function peg$anyExpectation() {
        return { type: "any" };
    }
    function peg$endExpectation() {
        return { type: "end" };
    }
    function peg$otherExpectation(description) {
        return { type: "other", description: description };
    }
    function peg$computePosDetails(pos) {
        var details = peg$posDetailsCache[pos];
        var p;
        if (details) {
            return details;
        }
        else {
            p = pos - 1;
            while (!peg$posDetailsCache[p]) {
                p--;
            }
            details = peg$posDetailsCache[p];
            details = {
                line: details.line,
                column: details.column
            };
            while (p < pos) {
                if (input.charCodeAt(p) === 10) {
                    details.line++;
                    details.column = 1;
                }
                else {
                    details.column++;
                }
                p++;
            }
            peg$posDetailsCache[pos] = details;
            return details;
        }
    }
    function peg$computeLocation(startPos, endPos) {
        var startPosDetails = peg$computePosDetails(startPos);
        var endPosDetails = peg$computePosDetails(endPos);
        return {
            start: {
                offset: startPos,
                line: startPosDetails.line,
                column: startPosDetails.column
            },
            end: {
                offset: endPos,
                line: endPosDetails.line,
                column: endPosDetails.column
            }
        };
    }
    function peg$fail(expected1) {
        if (peg$currPos < peg$maxFailPos) {
            return;
        }
        if (peg$currPos > peg$maxFailPos) {
            peg$maxFailPos = peg$currPos;
            peg$maxFailExpected = [];
        }
        peg$maxFailExpected.push(expected1);
    }
    function peg$buildSimpleError(message, location1) {
        return new parser_SyntaxError(message, [], "", location1);
    }
    function peg$buildStructuredError(expected1, found, location1) {
        return new parser_SyntaxError(parser_SyntaxError.buildMessage(expected1, found), expected1, found, location1);
    }
    function peg$parsestart() {
        var s0;
        s0 = peg$parsemessage();
        return s0;
    }
    function peg$parsemessage() {
        var s0, s1;
        s0 = [];
        s1 = peg$parsemessageElement();
        while (s1 !== peg$FAILED) {
            s0.push(s1);
            s1 = peg$parsemessageElement();
        }
        return s0;
    }
    function peg$parsemessageElement() {
        var s0, s1, s2;
        s0 = peg$currPos;
        peg$savedPos = peg$currPos;
        s1 = peg$c0();
        if (s1) {
            s1 = undefined;
        }
        else {
            s1 = peg$FAILED;
        }
        if (s1 !== peg$FAILED) {
            s2 = peg$parsetagElement();
            if (s2 !== peg$FAILED) {
                peg$savedPos = s0;
                s1 = peg$c1(s2);
                s0 = s1;
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        if (s0 === peg$FAILED) {
            s0 = peg$parseliteralElement();
            if (s0 === peg$FAILED) {
                s0 = peg$parseargumentElement();
                if (s0 === peg$FAILED) {
                    s0 = peg$parsesimpleFormatElement();
                    if (s0 === peg$FAILED) {
                        s0 = peg$parsepluralElement();
                        if (s0 === peg$FAILED) {
                            s0 = peg$parseselectElement();
                            if (s0 === peg$FAILED) {
                                s0 = peg$parsepoundElement();
                            }
                        }
                    }
                }
            }
        }
        return s0;
    }
    function peg$parsemessageText() {
        var s0, s1, s2, s3;
        s0 = peg$currPos;
        peg$savedPos = peg$currPos;
        s1 = peg$c2();
        if (s1) {
            s1 = undefined;
        }
        else {
            s1 = peg$FAILED;
        }
        if (s1 !== peg$FAILED) {
            s2 = [];
            s3 = peg$parsedoubleApostrophes();
            if (s3 === peg$FAILED) {
                s3 = peg$parsequotedString();
                if (s3 === peg$FAILED) {
                    s3 = peg$parseunquotedString();
                    if (s3 === peg$FAILED) {
                        if (input.charCodeAt(peg$currPos) === 60) {
                            s3 = peg$c3;
                            peg$currPos++;
                        }
                        else {
                            s3 = peg$FAILED;
                            if (peg$silentFails === 0) {
                                peg$fail(peg$c4);
                            }
                        }
                    }
                }
            }
            if (s3 !== peg$FAILED) {
                while (s3 !== peg$FAILED) {
                    s2.push(s3);
                    s3 = peg$parsedoubleApostrophes();
                    if (s3 === peg$FAILED) {
                        s3 = peg$parsequotedString();
                        if (s3 === peg$FAILED) {
                            s3 = peg$parseunquotedString();
                            if (s3 === peg$FAILED) {
                                if (input.charCodeAt(peg$currPos) === 60) {
                                    s3 = peg$c3;
                                    peg$currPos++;
                                }
                                else {
                                    s3 = peg$FAILED;
                                    if (peg$silentFails === 0) {
                                        peg$fail(peg$c4);
                                    }
                                }
                            }
                        }
                    }
                }
            }
            else {
                s2 = peg$FAILED;
            }
            if (s2 !== peg$FAILED) {
                peg$savedPos = s0;
                s1 = peg$c5(s2);
                s0 = s1;
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        if (s0 === peg$FAILED) {
            s0 = peg$currPos;
            s1 = [];
            s2 = peg$parsedoubleApostrophes();
            if (s2 === peg$FAILED) {
                s2 = peg$parsequotedString();
                if (s2 === peg$FAILED) {
                    s2 = peg$parseunquotedString();
                    if (s2 === peg$FAILED) {
                        s2 = peg$parsenonTagStartingAngleBracket();
                    }
                }
            }
            if (s2 !== peg$FAILED) {
                while (s2 !== peg$FAILED) {
                    s1.push(s2);
                    s2 = peg$parsedoubleApostrophes();
                    if (s2 === peg$FAILED) {
                        s2 = peg$parsequotedString();
                        if (s2 === peg$FAILED) {
                            s2 = peg$parseunquotedString();
                            if (s2 === peg$FAILED) {
                                s2 = peg$parsenonTagStartingAngleBracket();
                            }
                        }
                    }
                }
            }
            else {
                s1 = peg$FAILED;
            }
            if (s1 !== peg$FAILED) {
                peg$savedPos = s0;
                s1 = peg$c5(s1);
            }
            s0 = s1;
        }
        return s0;
    }
    function peg$parsenonTagStartingAngleBracket() {
        var s0, s1, s2;
        s0 = peg$currPos;
        s1 = peg$currPos;
        peg$silentFails++;
        s2 = peg$parseopeningTag();
        if (s2 === peg$FAILED) {
            s2 = peg$parseclosingTag();
            if (s2 === peg$FAILED) {
                s2 = peg$parseselfClosingTag();
            }
        }
        peg$silentFails--;
        if (s2 === peg$FAILED) {
            s1 = undefined;
        }
        else {
            peg$currPos = s1;
            s1 = peg$FAILED;
        }
        if (s1 !== peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 60) {
                s2 = peg$c3;
                peg$currPos++;
            }
            else {
                s2 = peg$FAILED;
                if (peg$silentFails === 0) {
                    peg$fail(peg$c4);
                }
            }
            if (s2 !== peg$FAILED) {
                peg$savedPos = s0;
                s1 = peg$c6();
                s0 = s1;
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        return s0;
    }
    function peg$parseliteralElement() {
        var s0, s1;
        s0 = peg$currPos;
        s1 = peg$parsemessageText();
        if (s1 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c7(s1);
        }
        s0 = s1;
        return s0;
    }
    function peg$parsepoundElement() {
        var s0, s1;
        s0 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 35) {
            s1 = peg$c8;
            peg$currPos++;
        }
        else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c9);
            }
        }
        if (s1 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c10();
        }
        s0 = s1;
        return s0;
    }
    function peg$parsetagElement() {
        var s0, s1, s2, s3;
        peg$silentFails++;
        s0 = peg$parseselfClosingTag();
        if (s0 === peg$FAILED) {
            s0 = peg$currPos;
            s1 = peg$parseopeningTag();
            if (s1 !== peg$FAILED) {
                s2 = peg$parsemessage();
                if (s2 !== peg$FAILED) {
                    s3 = peg$parseclosingTag();
                    if (s3 !== peg$FAILED) {
                        peg$savedPos = s0;
                        s1 = peg$c12(s1, s2, s3);
                        s0 = s1;
                    }
                    else {
                        peg$currPos = s0;
                        s0 = peg$FAILED;
                    }
                }
                else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        peg$silentFails--;
        if (s0 === peg$FAILED) {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c11);
            }
        }
        return s0;
    }
    function peg$parseselfClosingTag() {
        var s0, s1, s2, s3, s4, s5;
        s0 = peg$currPos;
        s1 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 60) {
            s2 = peg$c3;
            peg$currPos++;
        }
        else {
            s2 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c4);
            }
        }
        if (s2 !== peg$FAILED) {
            s3 = peg$parsevalidTag();
            if (s3 !== peg$FAILED) {
                s4 = peg$parse_();
                if (s4 !== peg$FAILED) {
                    if (input.substr(peg$currPos, 2) === peg$c13) {
                        s5 = peg$c13;
                        peg$currPos += 2;
                    }
                    else {
                        s5 = peg$FAILED;
                        if (peg$silentFails === 0) {
                            peg$fail(peg$c14);
                        }
                    }
                    if (s5 !== peg$FAILED) {
                        s2 = [s2, s3, s4, s5];
                        s1 = s2;
                    }
                    else {
                        peg$currPos = s1;
                        s1 = peg$FAILED;
                    }
                }
                else {
                    peg$currPos = s1;
                    s1 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s1;
                s1 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s1;
            s1 = peg$FAILED;
        }
        if (s1 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c15(s1);
        }
        s0 = s1;
        return s0;
    }
    function peg$parseopeningTag() {
        var s0, s1, s2, s3;
        s0 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 60) {
            s1 = peg$c3;
            peg$currPos++;
        }
        else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c4);
            }
        }
        if (s1 !== peg$FAILED) {
            s2 = peg$parsevalidTag();
            if (s2 !== peg$FAILED) {
                if (input.charCodeAt(peg$currPos) === 62) {
                    s3 = peg$c16;
                    peg$currPos++;
                }
                else {
                    s3 = peg$FAILED;
                    if (peg$silentFails === 0) {
                        peg$fail(peg$c17);
                    }
                }
                if (s3 !== peg$FAILED) {
                    peg$savedPos = s0;
                    s1 = peg$c18(s2);
                    s0 = s1;
                }
                else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        return s0;
    }
    function peg$parseclosingTag() {
        var s0, s1, s2, s3;
        s0 = peg$currPos;
        if (input.substr(peg$currPos, 2) === peg$c19) {
            s1 = peg$c19;
            peg$currPos += 2;
        }
        else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c20);
            }
        }
        if (s1 !== peg$FAILED) {
            s2 = peg$parsevalidTag();
            if (s2 !== peg$FAILED) {
                if (input.charCodeAt(peg$currPos) === 62) {
                    s3 = peg$c16;
                    peg$currPos++;
                }
                else {
                    s3 = peg$FAILED;
                    if (peg$silentFails === 0) {
                        peg$fail(peg$c17);
                    }
                }
                if (s3 !== peg$FAILED) {
                    peg$savedPos = s0;
                    s1 = peg$c18(s2);
                    s0 = s1;
                }
                else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        return s0;
    }
    function peg$parseargumentElement() {
        var s0, s1, s2, s3, s4, s5;
        peg$silentFails++;
        s0 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 123) {
            s1 = peg$c22;
            peg$currPos++;
        }
        else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c23);
            }
        }
        if (s1 !== peg$FAILED) {
            s2 = peg$parse_();
            if (s2 !== peg$FAILED) {
                s3 = peg$parseargNameOrNumber();
                if (s3 !== peg$FAILED) {
                    s4 = peg$parse_();
                    if (s4 !== peg$FAILED) {
                        if (input.charCodeAt(peg$currPos) === 125) {
                            s5 = peg$c24;
                            peg$currPos++;
                        }
                        else {
                            s5 = peg$FAILED;
                            if (peg$silentFails === 0) {
                                peg$fail(peg$c25);
                            }
                        }
                        if (s5 !== peg$FAILED) {
                            peg$savedPos = s0;
                            s1 = peg$c26(s3);
                            s0 = s1;
                        }
                        else {
                            peg$currPos = s0;
                            s0 = peg$FAILED;
                        }
                    }
                    else {
                        peg$currPos = s0;
                        s0 = peg$FAILED;
                    }
                }
                else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        peg$silentFails--;
        if (s0 === peg$FAILED) {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c21);
            }
        }
        return s0;
    }
    function peg$parsenumberSkeletonId() {
        var s0, s1, s2, s3, s4;
        peg$silentFails++;
        s0 = peg$currPos;
        s1 = [];
        s2 = peg$currPos;
        s3 = peg$currPos;
        peg$silentFails++;
        s4 = peg$parsewhiteSpace();
        if (s4 === peg$FAILED) {
            if (peg$c28.test(input.charAt(peg$currPos))) {
                s4 = input.charAt(peg$currPos);
                peg$currPos++;
            }
            else {
                s4 = peg$FAILED;
                if (peg$silentFails === 0) {
                    peg$fail(peg$c29);
                }
            }
        }
        peg$silentFails--;
        if (s4 === peg$FAILED) {
            s3 = undefined;
        }
        else {
            peg$currPos = s3;
            s3 = peg$FAILED;
        }
        if (s3 !== peg$FAILED) {
            if (input.length > peg$currPos) {
                s4 = input.charAt(peg$currPos);
                peg$currPos++;
            }
            else {
                s4 = peg$FAILED;
                if (peg$silentFails === 0) {
                    peg$fail(peg$c30);
                }
            }
            if (s4 !== peg$FAILED) {
                s3 = [s3, s4];
                s2 = s3;
            }
            else {
                peg$currPos = s2;
                s2 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s2;
            s2 = peg$FAILED;
        }
        if (s2 !== peg$FAILED) {
            while (s2 !== peg$FAILED) {
                s1.push(s2);
                s2 = peg$currPos;
                s3 = peg$currPos;
                peg$silentFails++;
                s4 = peg$parsewhiteSpace();
                if (s4 === peg$FAILED) {
                    if (peg$c28.test(input.charAt(peg$currPos))) {
                        s4 = input.charAt(peg$currPos);
                        peg$currPos++;
                    }
                    else {
                        s4 = peg$FAILED;
                        if (peg$silentFails === 0) {
                            peg$fail(peg$c29);
                        }
                    }
                }
                peg$silentFails--;
                if (s4 === peg$FAILED) {
                    s3 = undefined;
                }
                else {
                    peg$currPos = s3;
                    s3 = peg$FAILED;
                }
                if (s3 !== peg$FAILED) {
                    if (input.length > peg$currPos) {
                        s4 = input.charAt(peg$currPos);
                        peg$currPos++;
                    }
                    else {
                        s4 = peg$FAILED;
                        if (peg$silentFails === 0) {
                            peg$fail(peg$c30);
                        }
                    }
                    if (s4 !== peg$FAILED) {
                        s3 = [s3, s4];
                        s2 = s3;
                    }
                    else {
                        peg$currPos = s2;
                        s2 = peg$FAILED;
                    }
                }
                else {
                    peg$currPos = s2;
                    s2 = peg$FAILED;
                }
            }
        }
        else {
            s1 = peg$FAILED;
        }
        if (s1 !== peg$FAILED) {
            s0 = input.substring(s0, peg$currPos);
        }
        else {
            s0 = s1;
        }
        peg$silentFails--;
        if (s0 === peg$FAILED) {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c27);
            }
        }
        return s0;
    }
    function peg$parsenumberSkeletonTokenOption() {
        var s0, s1, s2;
        peg$silentFails++;
        s0 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 47) {
            s1 = peg$c32;
            peg$currPos++;
        }
        else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c33);
            }
        }
        if (s1 !== peg$FAILED) {
            s2 = peg$parsenumberSkeletonId();
            if (s2 !== peg$FAILED) {
                peg$savedPos = s0;
                s1 = peg$c34(s2);
                s0 = s1;
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        peg$silentFails--;
        if (s0 === peg$FAILED) {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c31);
            }
        }
        return s0;
    }
    function peg$parsenumberSkeletonToken() {
        var s0, s1, s2, s3, s4;
        peg$silentFails++;
        s0 = peg$currPos;
        s1 = peg$parse_();
        if (s1 !== peg$FAILED) {
            s2 = peg$parsenumberSkeletonId();
            if (s2 !== peg$FAILED) {
                s3 = [];
                s4 = peg$parsenumberSkeletonTokenOption();
                while (s4 !== peg$FAILED) {
                    s3.push(s4);
                    s4 = peg$parsenumberSkeletonTokenOption();
                }
                if (s3 !== peg$FAILED) {
                    peg$savedPos = s0;
                    s1 = peg$c36(s2, s3);
                    s0 = s1;
                }
                else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        peg$silentFails--;
        if (s0 === peg$FAILED) {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c35);
            }
        }
        return s0;
    }
    function peg$parsenumberSkeleton() {
        var s0, s1, s2;
        s0 = peg$currPos;
        s1 = [];
        s2 = peg$parsenumberSkeletonToken();
        if (s2 !== peg$FAILED) {
            while (s2 !== peg$FAILED) {
                s1.push(s2);
                s2 = peg$parsenumberSkeletonToken();
            }
        }
        else {
            s1 = peg$FAILED;
        }
        if (s1 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c37(s1);
        }
        s0 = s1;
        return s0;
    }
    function peg$parsenumberArgStyle() {
        var s0, s1, s2;
        s0 = peg$currPos;
        if (input.substr(peg$currPos, 2) === peg$c38) {
            s1 = peg$c38;
            peg$currPos += 2;
        }
        else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c39);
            }
        }
        if (s1 !== peg$FAILED) {
            s2 = peg$parsenumberSkeleton();
            if (s2 !== peg$FAILED) {
                peg$savedPos = s0;
                s1 = peg$c40(s2);
                s0 = s1;
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        if (s0 === peg$FAILED) {
            s0 = peg$currPos;
            peg$savedPos = peg$currPos;
            s1 = peg$c41();
            if (s1) {
                s1 = undefined;
            }
            else {
                s1 = peg$FAILED;
            }
            if (s1 !== peg$FAILED) {
                s2 = peg$parsemessageText();
                if (s2 !== peg$FAILED) {
                    peg$savedPos = s0;
                    s1 = peg$c42(s2);
                    s0 = s1;
                }
                else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        return s0;
    }
    function peg$parsenumberFormatElement() {
        var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12;
        s0 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 123) {
            s1 = peg$c22;
            peg$currPos++;
        }
        else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c23);
            }
        }
        if (s1 !== peg$FAILED) {
            s2 = peg$parse_();
            if (s2 !== peg$FAILED) {
                s3 = peg$parseargNameOrNumber();
                if (s3 !== peg$FAILED) {
                    s4 = peg$parse_();
                    if (s4 !== peg$FAILED) {
                        if (input.charCodeAt(peg$currPos) === 44) {
                            s5 = peg$c43;
                            peg$currPos++;
                        }
                        else {
                            s5 = peg$FAILED;
                            if (peg$silentFails === 0) {
                                peg$fail(peg$c44);
                            }
                        }
                        if (s5 !== peg$FAILED) {
                            s6 = peg$parse_();
                            if (s6 !== peg$FAILED) {
                                if (input.substr(peg$currPos, 6) === peg$c45) {
                                    s7 = peg$c45;
                                    peg$currPos += 6;
                                }
                                else {
                                    s7 = peg$FAILED;
                                    if (peg$silentFails === 0) {
                                        peg$fail(peg$c46);
                                    }
                                }
                                if (s7 !== peg$FAILED) {
                                    s8 = peg$parse_();
                                    if (s8 !== peg$FAILED) {
                                        s9 = peg$currPos;
                                        if (input.charCodeAt(peg$currPos) === 44) {
                                            s10 = peg$c43;
                                            peg$currPos++;
                                        }
                                        else {
                                            s10 = peg$FAILED;
                                            if (peg$silentFails === 0) {
                                                peg$fail(peg$c44);
                                            }
                                        }
                                        if (s10 !== peg$FAILED) {
                                            s11 = peg$parse_();
                                            if (s11 !== peg$FAILED) {
                                                s12 = peg$parsenumberArgStyle();
                                                if (s12 !== peg$FAILED) {
                                                    s10 = [s10, s11, s12];
                                                    s9 = s10;
                                                }
                                                else {
                                                    peg$currPos = s9;
                                                    s9 = peg$FAILED;
                                                }
                                            }
                                            else {
                                                peg$currPos = s9;
                                                s9 = peg$FAILED;
                                            }
                                        }
                                        else {
                                            peg$currPos = s9;
                                            s9 = peg$FAILED;
                                        }
                                        if (s9 === peg$FAILED) {
                                            s9 = null;
                                        }
                                        if (s9 !== peg$FAILED) {
                                            s10 = peg$parse_();
                                            if (s10 !== peg$FAILED) {
                                                if (input.charCodeAt(peg$currPos) === 125) {
                                                    s11 = peg$c24;
                                                    peg$currPos++;
                                                }
                                                else {
                                                    s11 = peg$FAILED;
                                                    if (peg$silentFails === 0) {
                                                        peg$fail(peg$c25);
                                                    }
                                                }
                                                if (s11 !== peg$FAILED) {
                                                    peg$savedPos = s0;
                                                    s1 = peg$c47(s3, s7, s9);
                                                    s0 = s1;
                                                }
                                                else {
                                                    peg$currPos = s0;
                                                    s0 = peg$FAILED;
                                                }
                                            }
                                            else {
                                                peg$currPos = s0;
                                                s0 = peg$FAILED;
                                            }
                                        }
                                        else {
                                            peg$currPos = s0;
                                            s0 = peg$FAILED;
                                        }
                                    }
                                    else {
                                        peg$currPos = s0;
                                        s0 = peg$FAILED;
                                    }
                                }
                                else {
                                    peg$currPos = s0;
                                    s0 = peg$FAILED;
                                }
                            }
                            else {
                                peg$currPos = s0;
                                s0 = peg$FAILED;
                            }
                        }
                        else {
                            peg$currPos = s0;
                            s0 = peg$FAILED;
                        }
                    }
                    else {
                        peg$currPos = s0;
                        s0 = peg$FAILED;
                    }
                }
                else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        return s0;
    }
    function peg$parsedateTimeSkeletonLiteral() {
        var s0, s1, s2, s3;
        s0 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 39) {
            s1 = peg$c48;
            peg$currPos++;
        }
        else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c49);
            }
        }
        if (s1 !== peg$FAILED) {
            s2 = [];
            s3 = peg$parsedoubleApostrophes();
            if (s3 === peg$FAILED) {
                if (peg$c50.test(input.charAt(peg$currPos))) {
                    s3 = input.charAt(peg$currPos);
                    peg$currPos++;
                }
                else {
                    s3 = peg$FAILED;
                    if (peg$silentFails === 0) {
                        peg$fail(peg$c51);
                    }
                }
            }
            if (s3 !== peg$FAILED) {
                while (s3 !== peg$FAILED) {
                    s2.push(s3);
                    s3 = peg$parsedoubleApostrophes();
                    if (s3 === peg$FAILED) {
                        if (peg$c50.test(input.charAt(peg$currPos))) {
                            s3 = input.charAt(peg$currPos);
                            peg$currPos++;
                        }
                        else {
                            s3 = peg$FAILED;
                            if (peg$silentFails === 0) {
                                peg$fail(peg$c51);
                            }
                        }
                    }
                }
            }
            else {
                s2 = peg$FAILED;
            }
            if (s2 !== peg$FAILED) {
                if (input.charCodeAt(peg$currPos) === 39) {
                    s3 = peg$c48;
                    peg$currPos++;
                }
                else {
                    s3 = peg$FAILED;
                    if (peg$silentFails === 0) {
                        peg$fail(peg$c49);
                    }
                }
                if (s3 !== peg$FAILED) {
                    s1 = [s1, s2, s3];
                    s0 = s1;
                }
                else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        if (s0 === peg$FAILED) {
            s0 = [];
            s1 = peg$parsedoubleApostrophes();
            if (s1 === peg$FAILED) {
                if (peg$c52.test(input.charAt(peg$currPos))) {
                    s1 = input.charAt(peg$currPos);
                    peg$currPos++;
                }
                else {
                    s1 = peg$FAILED;
                    if (peg$silentFails === 0) {
                        peg$fail(peg$c53);
                    }
                }
            }
            if (s1 !== peg$FAILED) {
                while (s1 !== peg$FAILED) {
                    s0.push(s1);
                    s1 = peg$parsedoubleApostrophes();
                    if (s1 === peg$FAILED) {
                        if (peg$c52.test(input.charAt(peg$currPos))) {
                            s1 = input.charAt(peg$currPos);
                            peg$currPos++;
                        }
                        else {
                            s1 = peg$FAILED;
                            if (peg$silentFails === 0) {
                                peg$fail(peg$c53);
                            }
                        }
                    }
                }
            }
            else {
                s0 = peg$FAILED;
            }
        }
        return s0;
    }
    function peg$parsedateTimeSkeletonPattern() {
        var s0, s1;
        s0 = [];
        if (peg$c54.test(input.charAt(peg$currPos))) {
            s1 = input.charAt(peg$currPos);
            peg$currPos++;
        }
        else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c55);
            }
        }
        if (s1 !== peg$FAILED) {
            while (s1 !== peg$FAILED) {
                s0.push(s1);
                if (peg$c54.test(input.charAt(peg$currPos))) {
                    s1 = input.charAt(peg$currPos);
                    peg$currPos++;
                }
                else {
                    s1 = peg$FAILED;
                    if (peg$silentFails === 0) {
                        peg$fail(peg$c55);
                    }
                }
            }
        }
        else {
            s0 = peg$FAILED;
        }
        return s0;
    }
    function peg$parsedateTimeSkeleton() {
        var s0, s1, s2, s3;
        s0 = peg$currPos;
        s1 = peg$currPos;
        s2 = [];
        s3 = peg$parsedateTimeSkeletonLiteral();
        if (s3 === peg$FAILED) {
            s3 = peg$parsedateTimeSkeletonPattern();
        }
        if (s3 !== peg$FAILED) {
            while (s3 !== peg$FAILED) {
                s2.push(s3);
                s3 = peg$parsedateTimeSkeletonLiteral();
                if (s3 === peg$FAILED) {
                    s3 = peg$parsedateTimeSkeletonPattern();
                }
            }
        }
        else {
            s2 = peg$FAILED;
        }
        if (s2 !== peg$FAILED) {
            s1 = input.substring(s1, peg$currPos);
        }
        else {
            s1 = s2;
        }
        if (s1 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c56(s1);
        }
        s0 = s1;
        return s0;
    }
    function peg$parsedateOrTimeArgStyle() {
        var s0, s1, s2;
        s0 = peg$currPos;
        if (input.substr(peg$currPos, 2) === peg$c38) {
            s1 = peg$c38;
            peg$currPos += 2;
        }
        else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c39);
            }
        }
        if (s1 !== peg$FAILED) {
            s2 = peg$parsedateTimeSkeleton();
            if (s2 !== peg$FAILED) {
                peg$savedPos = s0;
                s1 = peg$c40(s2);
                s0 = s1;
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        if (s0 === peg$FAILED) {
            s0 = peg$currPos;
            peg$savedPos = peg$currPos;
            s1 = peg$c57();
            if (s1) {
                s1 = undefined;
            }
            else {
                s1 = peg$FAILED;
            }
            if (s1 !== peg$FAILED) {
                s2 = peg$parsemessageText();
                if (s2 !== peg$FAILED) {
                    peg$savedPos = s0;
                    s1 = peg$c42(s2);
                    s0 = s1;
                }
                else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        return s0;
    }
    function peg$parsedateOrTimeFormatElement() {
        var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12;
        s0 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 123) {
            s1 = peg$c22;
            peg$currPos++;
        }
        else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c23);
            }
        }
        if (s1 !== peg$FAILED) {
            s2 = peg$parse_();
            if (s2 !== peg$FAILED) {
                s3 = peg$parseargNameOrNumber();
                if (s3 !== peg$FAILED) {
                    s4 = peg$parse_();
                    if (s4 !== peg$FAILED) {
                        if (input.charCodeAt(peg$currPos) === 44) {
                            s5 = peg$c43;
                            peg$currPos++;
                        }
                        else {
                            s5 = peg$FAILED;
                            if (peg$silentFails === 0) {
                                peg$fail(peg$c44);
                            }
                        }
                        if (s5 !== peg$FAILED) {
                            s6 = peg$parse_();
                            if (s6 !== peg$FAILED) {
                                if (input.substr(peg$currPos, 4) === peg$c58) {
                                    s7 = peg$c58;
                                    peg$currPos += 4;
                                }
                                else {
                                    s7 = peg$FAILED;
                                    if (peg$silentFails === 0) {
                                        peg$fail(peg$c59);
                                    }
                                }
                                if (s7 === peg$FAILED) {
                                    if (input.substr(peg$currPos, 4) === peg$c60) {
                                        s7 = peg$c60;
                                        peg$currPos += 4;
                                    }
                                    else {
                                        s7 = peg$FAILED;
                                        if (peg$silentFails === 0) {
                                            peg$fail(peg$c61);
                                        }
                                    }
                                }
                                if (s7 !== peg$FAILED) {
                                    s8 = peg$parse_();
                                    if (s8 !== peg$FAILED) {
                                        s9 = peg$currPos;
                                        if (input.charCodeAt(peg$currPos) === 44) {
                                            s10 = peg$c43;
                                            peg$currPos++;
                                        }
                                        else {
                                            s10 = peg$FAILED;
                                            if (peg$silentFails === 0) {
                                                peg$fail(peg$c44);
                                            }
                                        }
                                        if (s10 !== peg$FAILED) {
                                            s11 = peg$parse_();
                                            if (s11 !== peg$FAILED) {
                                                s12 = peg$parsedateOrTimeArgStyle();
                                                if (s12 !== peg$FAILED) {
                                                    s10 = [s10, s11, s12];
                                                    s9 = s10;
                                                }
                                                else {
                                                    peg$currPos = s9;
                                                    s9 = peg$FAILED;
                                                }
                                            }
                                            else {
                                                peg$currPos = s9;
                                                s9 = peg$FAILED;
                                            }
                                        }
                                        else {
                                            peg$currPos = s9;
                                            s9 = peg$FAILED;
                                        }
                                        if (s9 === peg$FAILED) {
                                            s9 = null;
                                        }
                                        if (s9 !== peg$FAILED) {
                                            s10 = peg$parse_();
                                            if (s10 !== peg$FAILED) {
                                                if (input.charCodeAt(peg$currPos) === 125) {
                                                    s11 = peg$c24;
                                                    peg$currPos++;
                                                }
                                                else {
                                                    s11 = peg$FAILED;
                                                    if (peg$silentFails === 0) {
                                                        peg$fail(peg$c25);
                                                    }
                                                }
                                                if (s11 !== peg$FAILED) {
                                                    peg$savedPos = s0;
                                                    s1 = peg$c47(s3, s7, s9);
                                                    s0 = s1;
                                                }
                                                else {
                                                    peg$currPos = s0;
                                                    s0 = peg$FAILED;
                                                }
                                            }
                                            else {
                                                peg$currPos = s0;
                                                s0 = peg$FAILED;
                                            }
                                        }
                                        else {
                                            peg$currPos = s0;
                                            s0 = peg$FAILED;
                                        }
                                    }
                                    else {
                                        peg$currPos = s0;
                                        s0 = peg$FAILED;
                                    }
                                }
                                else {
                                    peg$currPos = s0;
                                    s0 = peg$FAILED;
                                }
                            }
                            else {
                                peg$currPos = s0;
                                s0 = peg$FAILED;
                            }
                        }
                        else {
                            peg$currPos = s0;
                            s0 = peg$FAILED;
                        }
                    }
                    else {
                        peg$currPos = s0;
                        s0 = peg$FAILED;
                    }
                }
                else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        return s0;
    }
    function peg$parsesimpleFormatElement() {
        var s0;
        s0 = peg$parsenumberFormatElement();
        if (s0 === peg$FAILED) {
            s0 = peg$parsedateOrTimeFormatElement();
        }
        return s0;
    }
    function peg$parsepluralElement() {
        var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15;
        s0 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 123) {
            s1 = peg$c22;
            peg$currPos++;
        }
        else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c23);
            }
        }
        if (s1 !== peg$FAILED) {
            s2 = peg$parse_();
            if (s2 !== peg$FAILED) {
                s3 = peg$parseargNameOrNumber();
                if (s3 !== peg$FAILED) {
                    s4 = peg$parse_();
                    if (s4 !== peg$FAILED) {
                        if (input.charCodeAt(peg$currPos) === 44) {
                            s5 = peg$c43;
                            peg$currPos++;
                        }
                        else {
                            s5 = peg$FAILED;
                            if (peg$silentFails === 0) {
                                peg$fail(peg$c44);
                            }
                        }
                        if (s5 !== peg$FAILED) {
                            s6 = peg$parse_();
                            if (s6 !== peg$FAILED) {
                                if (input.substr(peg$currPos, 6) === peg$c62) {
                                    s7 = peg$c62;
                                    peg$currPos += 6;
                                }
                                else {
                                    s7 = peg$FAILED;
                                    if (peg$silentFails === 0) {
                                        peg$fail(peg$c63);
                                    }
                                }
                                if (s7 === peg$FAILED) {
                                    if (input.substr(peg$currPos, 13) === peg$c64) {
                                        s7 = peg$c64;
                                        peg$currPos += 13;
                                    }
                                    else {
                                        s7 = peg$FAILED;
                                        if (peg$silentFails === 0) {
                                            peg$fail(peg$c65);
                                        }
                                    }
                                }
                                if (s7 !== peg$FAILED) {
                                    s8 = peg$parse_();
                                    if (s8 !== peg$FAILED) {
                                        if (input.charCodeAt(peg$currPos) === 44) {
                                            s9 = peg$c43;
                                            peg$currPos++;
                                        }
                                        else {
                                            s9 = peg$FAILED;
                                            if (peg$silentFails === 0) {
                                                peg$fail(peg$c44);
                                            }
                                        }
                                        if (s9 !== peg$FAILED) {
                                            s10 = peg$parse_();
                                            if (s10 !== peg$FAILED) {
                                                s11 = peg$currPos;
                                                if (input.substr(peg$currPos, 7) === peg$c66) {
                                                    s12 = peg$c66;
                                                    peg$currPos += 7;
                                                }
                                                else {
                                                    s12 = peg$FAILED;
                                                    if (peg$silentFails === 0) {
                                                        peg$fail(peg$c67);
                                                    }
                                                }
                                                if (s12 !== peg$FAILED) {
                                                    s13 = peg$parse_();
                                                    if (s13 !== peg$FAILED) {
                                                        s14 = peg$parsenumber();
                                                        if (s14 !== peg$FAILED) {
                                                            s12 = [s12, s13, s14];
                                                            s11 = s12;
                                                        }
                                                        else {
                                                            peg$currPos = s11;
                                                            s11 = peg$FAILED;
                                                        }
                                                    }
                                                    else {
                                                        peg$currPos = s11;
                                                        s11 = peg$FAILED;
                                                    }
                                                }
                                                else {
                                                    peg$currPos = s11;
                                                    s11 = peg$FAILED;
                                                }
                                                if (s11 === peg$FAILED) {
                                                    s11 = null;
                                                }
                                                if (s11 !== peg$FAILED) {
                                                    s12 = peg$parse_();
                                                    if (s12 !== peg$FAILED) {
                                                        s13 = [];
                                                        s14 = peg$parsepluralOption();
                                                        if (s14 !== peg$FAILED) {
                                                            while (s14 !== peg$FAILED) {
                                                                s13.push(s14);
                                                                s14 = peg$parsepluralOption();
                                                            }
                                                        }
                                                        else {
                                                            s13 = peg$FAILED;
                                                        }
                                                        if (s13 !== peg$FAILED) {
                                                            s14 = peg$parse_();
                                                            if (s14 !== peg$FAILED) {
                                                                if (input.charCodeAt(peg$currPos) === 125) {
                                                                    s15 = peg$c24;
                                                                    peg$currPos++;
                                                                }
                                                                else {
                                                                    s15 = peg$FAILED;
                                                                    if (peg$silentFails === 0) {
                                                                        peg$fail(peg$c25);
                                                                    }
                                                                }
                                                                if (s15 !== peg$FAILED) {
                                                                    peg$savedPos = s0;
                                                                    s1 = peg$c68(s3, s7, s11, s13);
                                                                    s0 = s1;
                                                                }
                                                                else {
                                                                    peg$currPos = s0;
                                                                    s0 = peg$FAILED;
                                                                }
                                                            }
                                                            else {
                                                                peg$currPos = s0;
                                                                s0 = peg$FAILED;
                                                            }
                                                        }
                                                        else {
                                                            peg$currPos = s0;
                                                            s0 = peg$FAILED;
                                                        }
                                                    }
                                                    else {
                                                        peg$currPos = s0;
                                                        s0 = peg$FAILED;
                                                    }
                                                }
                                                else {
                                                    peg$currPos = s0;
                                                    s0 = peg$FAILED;
                                                }
                                            }
                                            else {
                                                peg$currPos = s0;
                                                s0 = peg$FAILED;
                                            }
                                        }
                                        else {
                                            peg$currPos = s0;
                                            s0 = peg$FAILED;
                                        }
                                    }
                                    else {
                                        peg$currPos = s0;
                                        s0 = peg$FAILED;
                                    }
                                }
                                else {
                                    peg$currPos = s0;
                                    s0 = peg$FAILED;
                                }
                            }
                            else {
                                peg$currPos = s0;
                                s0 = peg$FAILED;
                            }
                        }
                        else {
                            peg$currPos = s0;
                            s0 = peg$FAILED;
                        }
                    }
                    else {
                        peg$currPos = s0;
                        s0 = peg$FAILED;
                    }
                }
                else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        return s0;
    }
    function peg$parseselectElement() {
        var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13;
        s0 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 123) {
            s1 = peg$c22;
            peg$currPos++;
        }
        else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c23);
            }
        }
        if (s1 !== peg$FAILED) {
            s2 = peg$parse_();
            if (s2 !== peg$FAILED) {
                s3 = peg$parseargNameOrNumber();
                if (s3 !== peg$FAILED) {
                    s4 = peg$parse_();
                    if (s4 !== peg$FAILED) {
                        if (input.charCodeAt(peg$currPos) === 44) {
                            s5 = peg$c43;
                            peg$currPos++;
                        }
                        else {
                            s5 = peg$FAILED;
                            if (peg$silentFails === 0) {
                                peg$fail(peg$c44);
                            }
                        }
                        if (s5 !== peg$FAILED) {
                            s6 = peg$parse_();
                            if (s6 !== peg$FAILED) {
                                if (input.substr(peg$currPos, 6) === peg$c69) {
                                    s7 = peg$c69;
                                    peg$currPos += 6;
                                }
                                else {
                                    s7 = peg$FAILED;
                                    if (peg$silentFails === 0) {
                                        peg$fail(peg$c70);
                                    }
                                }
                                if (s7 !== peg$FAILED) {
                                    s8 = peg$parse_();
                                    if (s8 !== peg$FAILED) {
                                        if (input.charCodeAt(peg$currPos) === 44) {
                                            s9 = peg$c43;
                                            peg$currPos++;
                                        }
                                        else {
                                            s9 = peg$FAILED;
                                            if (peg$silentFails === 0) {
                                                peg$fail(peg$c44);
                                            }
                                        }
                                        if (s9 !== peg$FAILED) {
                                            s10 = peg$parse_();
                                            if (s10 !== peg$FAILED) {
                                                s11 = [];
                                                s12 = peg$parseselectOption();
                                                if (s12 !== peg$FAILED) {
                                                    while (s12 !== peg$FAILED) {
                                                        s11.push(s12);
                                                        s12 = peg$parseselectOption();
                                                    }
                                                }
                                                else {
                                                    s11 = peg$FAILED;
                                                }
                                                if (s11 !== peg$FAILED) {
                                                    s12 = peg$parse_();
                                                    if (s12 !== peg$FAILED) {
                                                        if (input.charCodeAt(peg$currPos) === 125) {
                                                            s13 = peg$c24;
                                                            peg$currPos++;
                                                        }
                                                        else {
                                                            s13 = peg$FAILED;
                                                            if (peg$silentFails === 0) {
                                                                peg$fail(peg$c25);
                                                            }
                                                        }
                                                        if (s13 !== peg$FAILED) {
                                                            peg$savedPos = s0;
                                                            s1 = peg$c71(s3, s11);
                                                            s0 = s1;
                                                        }
                                                        else {
                                                            peg$currPos = s0;
                                                            s0 = peg$FAILED;
                                                        }
                                                    }
                                                    else {
                                                        peg$currPos = s0;
                                                        s0 = peg$FAILED;
                                                    }
                                                }
                                                else {
                                                    peg$currPos = s0;
                                                    s0 = peg$FAILED;
                                                }
                                            }
                                            else {
                                                peg$currPos = s0;
                                                s0 = peg$FAILED;
                                            }
                                        }
                                        else {
                                            peg$currPos = s0;
                                            s0 = peg$FAILED;
                                        }
                                    }
                                    else {
                                        peg$currPos = s0;
                                        s0 = peg$FAILED;
                                    }
                                }
                                else {
                                    peg$currPos = s0;
                                    s0 = peg$FAILED;
                                }
                            }
                            else {
                                peg$currPos = s0;
                                s0 = peg$FAILED;
                            }
                        }
                        else {
                            peg$currPos = s0;
                            s0 = peg$FAILED;
                        }
                    }
                    else {
                        peg$currPos = s0;
                        s0 = peg$FAILED;
                    }
                }
                else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        return s0;
    }
    function peg$parsepluralRuleSelectValue() {
        var s0, s1, s2, s3;
        s0 = peg$currPos;
        s1 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 61) {
            s2 = peg$c72;
            peg$currPos++;
        }
        else {
            s2 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c73);
            }
        }
        if (s2 !== peg$FAILED) {
            s3 = peg$parsenumber();
            if (s3 !== peg$FAILED) {
                s2 = [s2, s3];
                s1 = s2;
            }
            else {
                peg$currPos = s1;
                s1 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s1;
            s1 = peg$FAILED;
        }
        if (s1 !== peg$FAILED) {
            s0 = input.substring(s0, peg$currPos);
        }
        else {
            s0 = s1;
        }
        if (s0 === peg$FAILED) {
            s0 = peg$parseargName();
        }
        return s0;
    }
    function peg$parseselectOption() {
        var s0, s1, s2, s3, s4, s5, s6, s7;
        s0 = peg$currPos;
        s1 = peg$parse_();
        if (s1 !== peg$FAILED) {
            s2 = peg$parseargName();
            if (s2 !== peg$FAILED) {
                s3 = peg$parse_();
                if (s3 !== peg$FAILED) {
                    if (input.charCodeAt(peg$currPos) === 123) {
                        s4 = peg$c22;
                        peg$currPos++;
                    }
                    else {
                        s4 = peg$FAILED;
                        if (peg$silentFails === 0) {
                            peg$fail(peg$c23);
                        }
                    }
                    if (s4 !== peg$FAILED) {
                        peg$savedPos = peg$currPos;
                        s5 = peg$c74(s2);
                        if (s5) {
                            s5 = undefined;
                        }
                        else {
                            s5 = peg$FAILED;
                        }
                        if (s5 !== peg$FAILED) {
                            s6 = peg$parsemessage();
                            if (s6 !== peg$FAILED) {
                                if (input.charCodeAt(peg$currPos) === 125) {
                                    s7 = peg$c24;
                                    peg$currPos++;
                                }
                                else {
                                    s7 = peg$FAILED;
                                    if (peg$silentFails === 0) {
                                        peg$fail(peg$c25);
                                    }
                                }
                                if (s7 !== peg$FAILED) {
                                    peg$savedPos = s0;
                                    s1 = peg$c75(s2, s6);
                                    s0 = s1;
                                }
                                else {
                                    peg$currPos = s0;
                                    s0 = peg$FAILED;
                                }
                            }
                            else {
                                peg$currPos = s0;
                                s0 = peg$FAILED;
                            }
                        }
                        else {
                            peg$currPos = s0;
                            s0 = peg$FAILED;
                        }
                    }
                    else {
                        peg$currPos = s0;
                        s0 = peg$FAILED;
                    }
                }
                else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        return s0;
    }
    function peg$parsepluralOption() {
        var s0, s1, s2, s3, s4, s5, s6, s7;
        s0 = peg$currPos;
        s1 = peg$parse_();
        if (s1 !== peg$FAILED) {
            s2 = peg$parsepluralRuleSelectValue();
            if (s2 !== peg$FAILED) {
                s3 = peg$parse_();
                if (s3 !== peg$FAILED) {
                    if (input.charCodeAt(peg$currPos) === 123) {
                        s4 = peg$c22;
                        peg$currPos++;
                    }
                    else {
                        s4 = peg$FAILED;
                        if (peg$silentFails === 0) {
                            peg$fail(peg$c23);
                        }
                    }
                    if (s4 !== peg$FAILED) {
                        peg$savedPos = peg$currPos;
                        s5 = peg$c76(s2);
                        if (s5) {
                            s5 = undefined;
                        }
                        else {
                            s5 = peg$FAILED;
                        }
                        if (s5 !== peg$FAILED) {
                            s6 = peg$parsemessage();
                            if (s6 !== peg$FAILED) {
                                if (input.charCodeAt(peg$currPos) === 125) {
                                    s7 = peg$c24;
                                    peg$currPos++;
                                }
                                else {
                                    s7 = peg$FAILED;
                                    if (peg$silentFails === 0) {
                                        peg$fail(peg$c25);
                                    }
                                }
                                if (s7 !== peg$FAILED) {
                                    peg$savedPos = s0;
                                    s1 = peg$c77(s2, s6);
                                    s0 = s1;
                                }
                                else {
                                    peg$currPos = s0;
                                    s0 = peg$FAILED;
                                }
                            }
                            else {
                                peg$currPos = s0;
                                s0 = peg$FAILED;
                            }
                        }
                        else {
                            peg$currPos = s0;
                            s0 = peg$FAILED;
                        }
                    }
                    else {
                        peg$currPos = s0;
                        s0 = peg$FAILED;
                    }
                }
                else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        return s0;
    }
    function peg$parsewhiteSpace() {
        var s0, s1;
        peg$silentFails++;
        if (peg$c79.test(input.charAt(peg$currPos))) {
            s0 = input.charAt(peg$currPos);
            peg$currPos++;
        }
        else {
            s0 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c80);
            }
        }
        peg$silentFails--;
        if (s0 === peg$FAILED) {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c78);
            }
        }
        return s0;
    }
    function peg$parsepatternSyntax() {
        var s0, s1;
        peg$silentFails++;
        if (peg$c82.test(input.charAt(peg$currPos))) {
            s0 = input.charAt(peg$currPos);
            peg$currPos++;
        }
        else {
            s0 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c83);
            }
        }
        peg$silentFails--;
        if (s0 === peg$FAILED) {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c81);
            }
        }
        return s0;
    }
    function peg$parse_() {
        var s0, s1, s2;
        peg$silentFails++;
        s0 = peg$currPos;
        s1 = [];
        s2 = peg$parsewhiteSpace();
        while (s2 !== peg$FAILED) {
            s1.push(s2);
            s2 = peg$parsewhiteSpace();
        }
        if (s1 !== peg$FAILED) {
            s0 = input.substring(s0, peg$currPos);
        }
        else {
            s0 = s1;
        }
        peg$silentFails--;
        if (s0 === peg$FAILED) {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c84);
            }
        }
        return s0;
    }
    function peg$parsenumber() {
        var s0, s1, s2;
        peg$silentFails++;
        s0 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 45) {
            s1 = peg$c86;
            peg$currPos++;
        }
        else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c87);
            }
        }
        if (s1 === peg$FAILED) {
            s1 = null;
        }
        if (s1 !== peg$FAILED) {
            s2 = peg$parseargNumber();
            if (s2 !== peg$FAILED) {
                peg$savedPos = s0;
                s1 = peg$c88(s1, s2);
                s0 = s1;
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        peg$silentFails--;
        if (s0 === peg$FAILED) {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c85);
            }
        }
        return s0;
    }
    function peg$parseapostrophe() {
        var s0, s1;
        peg$silentFails++;
        if (input.charCodeAt(peg$currPos) === 39) {
            s0 = peg$c48;
            peg$currPos++;
        }
        else {
            s0 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c49);
            }
        }
        peg$silentFails--;
        if (s0 === peg$FAILED) {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c89);
            }
        }
        return s0;
    }
    function peg$parsedoubleApostrophes() {
        var s0, s1;
        peg$silentFails++;
        s0 = peg$currPos;
        if (input.substr(peg$currPos, 2) === peg$c91) {
            s1 = peg$c91;
            peg$currPos += 2;
        }
        else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c92);
            }
        }
        if (s1 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c93();
        }
        s0 = s1;
        peg$silentFails--;
        if (s0 === peg$FAILED) {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c90);
            }
        }
        return s0;
    }
    function peg$parsequotedString() {
        var s0, s1, s2, s3, s4, s5;
        s0 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 39) {
            s1 = peg$c48;
            peg$currPos++;
        }
        else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c49);
            }
        }
        if (s1 !== peg$FAILED) {
            s2 = peg$parseescapedChar();
            if (s2 !== peg$FAILED) {
                s3 = peg$currPos;
                s4 = [];
                if (input.substr(peg$currPos, 2) === peg$c91) {
                    s5 = peg$c91;
                    peg$currPos += 2;
                }
                else {
                    s5 = peg$FAILED;
                    if (peg$silentFails === 0) {
                        peg$fail(peg$c92);
                    }
                }
                if (s5 === peg$FAILED) {
                    if (peg$c50.test(input.charAt(peg$currPos))) {
                        s5 = input.charAt(peg$currPos);
                        peg$currPos++;
                    }
                    else {
                        s5 = peg$FAILED;
                        if (peg$silentFails === 0) {
                            peg$fail(peg$c51);
                        }
                    }
                }
                while (s5 !== peg$FAILED) {
                    s4.push(s5);
                    if (input.substr(peg$currPos, 2) === peg$c91) {
                        s5 = peg$c91;
                        peg$currPos += 2;
                    }
                    else {
                        s5 = peg$FAILED;
                        if (peg$silentFails === 0) {
                            peg$fail(peg$c92);
                        }
                    }
                    if (s5 === peg$FAILED) {
                        if (peg$c50.test(input.charAt(peg$currPos))) {
                            s5 = input.charAt(peg$currPos);
                            peg$currPos++;
                        }
                        else {
                            s5 = peg$FAILED;
                            if (peg$silentFails === 0) {
                                peg$fail(peg$c51);
                            }
                        }
                    }
                }
                if (s4 !== peg$FAILED) {
                    s3 = input.substring(s3, peg$currPos);
                }
                else {
                    s3 = s4;
                }
                if (s3 !== peg$FAILED) {
                    if (input.charCodeAt(peg$currPos) === 39) {
                        s4 = peg$c48;
                        peg$currPos++;
                    }
                    else {
                        s4 = peg$FAILED;
                        if (peg$silentFails === 0) {
                            peg$fail(peg$c49);
                        }
                    }
                    if (s4 === peg$FAILED) {
                        s4 = null;
                    }
                    if (s4 !== peg$FAILED) {
                        peg$savedPos = s0;
                        s1 = peg$c94(s2, s3);
                        s0 = s1;
                    }
                    else {
                        peg$currPos = s0;
                        s0 = peg$FAILED;
                    }
                }
                else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s0;
                s0 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s0;
            s0 = peg$FAILED;
        }
        return s0;
    }
    function peg$parseunquotedString() {
        var s0, s1, s2, s3;
        s0 = peg$currPos;
        s1 = peg$currPos;
        if (input.length > peg$currPos) {
            s2 = input.charAt(peg$currPos);
            peg$currPos++;
        }
        else {
            s2 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c30);
            }
        }
        if (s2 !== peg$FAILED) {
            peg$savedPos = peg$currPos;
            s3 = peg$c95(s2);
            if (s3) {
                s3 = undefined;
            }
            else {
                s3 = peg$FAILED;
            }
            if (s3 !== peg$FAILED) {
                s2 = [s2, s3];
                s1 = s2;
            }
            else {
                peg$currPos = s1;
                s1 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s1;
            s1 = peg$FAILED;
        }
        if (s1 === peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 10) {
                s1 = peg$c96;
                peg$currPos++;
            }
            else {
                s1 = peg$FAILED;
                if (peg$silentFails === 0) {
                    peg$fail(peg$c97);
                }
            }
        }
        if (s1 !== peg$FAILED) {
            s0 = input.substring(s0, peg$currPos);
        }
        else {
            s0 = s1;
        }
        return s0;
    }
    function peg$parseescapedChar() {
        var s0, s1, s2, s3;
        s0 = peg$currPos;
        s1 = peg$currPos;
        if (input.length > peg$currPos) {
            s2 = input.charAt(peg$currPos);
            peg$currPos++;
        }
        else {
            s2 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c30);
            }
        }
        if (s2 !== peg$FAILED) {
            peg$savedPos = peg$currPos;
            s3 = peg$c98(s2);
            if (s3) {
                s3 = undefined;
            }
            else {
                s3 = peg$FAILED;
            }
            if (s3 !== peg$FAILED) {
                s2 = [s2, s3];
                s1 = s2;
            }
            else {
                peg$currPos = s1;
                s1 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s1;
            s1 = peg$FAILED;
        }
        if (s1 !== peg$FAILED) {
            s0 = input.substring(s0, peg$currPos);
        }
        else {
            s0 = s1;
        }
        return s0;
    }
    function peg$parseargNameOrNumber() {
        var s0, s1;
        peg$silentFails++;
        s0 = peg$currPos;
        s1 = peg$parseargNumber();
        if (s1 === peg$FAILED) {
            s1 = peg$parseargName();
        }
        if (s1 !== peg$FAILED) {
            s0 = input.substring(s0, peg$currPos);
        }
        else {
            s0 = s1;
        }
        peg$silentFails--;
        if (s0 === peg$FAILED) {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c99);
            }
        }
        return s0;
    }
    function peg$parsevalidTag() {
        var s0, s1;
        peg$silentFails++;
        s0 = peg$currPos;
        s1 = peg$parseargNumber();
        if (s1 === peg$FAILED) {
            s1 = peg$parsetagName();
        }
        if (s1 !== peg$FAILED) {
            s0 = input.substring(s0, peg$currPos);
        }
        else {
            s0 = s1;
        }
        peg$silentFails--;
        if (s0 === peg$FAILED) {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c100);
            }
        }
        return s0;
    }
    function peg$parseargNumber() {
        var s0, s1, s2, s3, s4;
        peg$silentFails++;
        s0 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 48) {
            s1 = peg$c102;
            peg$currPos++;
        }
        else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c103);
            }
        }
        if (s1 !== peg$FAILED) {
            peg$savedPos = s0;
            s1 = peg$c104();
        }
        s0 = s1;
        if (s0 === peg$FAILED) {
            s0 = peg$currPos;
            s1 = peg$currPos;
            if (peg$c105.test(input.charAt(peg$currPos))) {
                s2 = input.charAt(peg$currPos);
                peg$currPos++;
            }
            else {
                s2 = peg$FAILED;
                if (peg$silentFails === 0) {
                    peg$fail(peg$c106);
                }
            }
            if (s2 !== peg$FAILED) {
                s3 = [];
                if (peg$c107.test(input.charAt(peg$currPos))) {
                    s4 = input.charAt(peg$currPos);
                    peg$currPos++;
                }
                else {
                    s4 = peg$FAILED;
                    if (peg$silentFails === 0) {
                        peg$fail(peg$c108);
                    }
                }
                while (s4 !== peg$FAILED) {
                    s3.push(s4);
                    if (peg$c107.test(input.charAt(peg$currPos))) {
                        s4 = input.charAt(peg$currPos);
                        peg$currPos++;
                    }
                    else {
                        s4 = peg$FAILED;
                        if (peg$silentFails === 0) {
                            peg$fail(peg$c108);
                        }
                    }
                }
                if (s3 !== peg$FAILED) {
                    s2 = [s2, s3];
                    s1 = s2;
                }
                else {
                    peg$currPos = s1;
                    s1 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s1;
                s1 = peg$FAILED;
            }
            if (s1 !== peg$FAILED) {
                peg$savedPos = s0;
                s1 = peg$c109(s1);
            }
            s0 = s1;
        }
        peg$silentFails--;
        if (s0 === peg$FAILED) {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c101);
            }
        }
        return s0;
    }
    function peg$parseargName() {
        var s0, s1, s2, s3, s4;
        peg$silentFails++;
        s0 = peg$currPos;
        s1 = [];
        s2 = peg$currPos;
        s3 = peg$currPos;
        peg$silentFails++;
        s4 = peg$parsewhiteSpace();
        if (s4 === peg$FAILED) {
            s4 = peg$parsepatternSyntax();
        }
        peg$silentFails--;
        if (s4 === peg$FAILED) {
            s3 = undefined;
        }
        else {
            peg$currPos = s3;
            s3 = peg$FAILED;
        }
        if (s3 !== peg$FAILED) {
            if (input.length > peg$currPos) {
                s4 = input.charAt(peg$currPos);
                peg$currPos++;
            }
            else {
                s4 = peg$FAILED;
                if (peg$silentFails === 0) {
                    peg$fail(peg$c30);
                }
            }
            if (s4 !== peg$FAILED) {
                s3 = [s3, s4];
                s2 = s3;
            }
            else {
                peg$currPos = s2;
                s2 = peg$FAILED;
            }
        }
        else {
            peg$currPos = s2;
            s2 = peg$FAILED;
        }
        if (s2 !== peg$FAILED) {
            while (s2 !== peg$FAILED) {
                s1.push(s2);
                s2 = peg$currPos;
                s3 = peg$currPos;
                peg$silentFails++;
                s4 = peg$parsewhiteSpace();
                if (s4 === peg$FAILED) {
                    s4 = peg$parsepatternSyntax();
                }
                peg$silentFails--;
                if (s4 === peg$FAILED) {
                    s3 = undefined;
                }
                else {
                    peg$currPos = s3;
                    s3 = peg$FAILED;
                }
                if (s3 !== peg$FAILED) {
                    if (input.length > peg$currPos) {
                        s4 = input.charAt(peg$currPos);
                        peg$currPos++;
                    }
                    else {
                        s4 = peg$FAILED;
                        if (peg$silentFails === 0) {
                            peg$fail(peg$c30);
                        }
                    }
                    if (s4 !== peg$FAILED) {
                        s3 = [s3, s4];
                        s2 = s3;
                    }
                    else {
                        peg$currPos = s2;
                        s2 = peg$FAILED;
                    }
                }
                else {
                    peg$currPos = s2;
                    s2 = peg$FAILED;
                }
            }
        }
        else {
            s1 = peg$FAILED;
        }
        if (s1 !== peg$FAILED) {
            s0 = input.substring(s0, peg$currPos);
        }
        else {
            s0 = s1;
        }
        peg$silentFails--;
        if (s0 === peg$FAILED) {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c110);
            }
        }
        return s0;
    }
    function peg$parsetagName() {
        var s0, s1, s2, s3, s4;
        peg$silentFails++;
        s0 = peg$currPos;
        s1 = [];
        if (input.charCodeAt(peg$currPos) === 45) {
            s2 = peg$c86;
            peg$currPos++;
        }
        else {
            s2 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c87);
            }
        }
        if (s2 === peg$FAILED) {
            s2 = peg$currPos;
            s3 = peg$currPos;
            peg$silentFails++;
            s4 = peg$parsewhiteSpace();
            if (s4 === peg$FAILED) {
                s4 = peg$parsepatternSyntax();
            }
            peg$silentFails--;
            if (s4 === peg$FAILED) {
                s3 = undefined;
            }
            else {
                peg$currPos = s3;
                s3 = peg$FAILED;
            }
            if (s3 !== peg$FAILED) {
                if (input.length > peg$currPos) {
                    s4 = input.charAt(peg$currPos);
                    peg$currPos++;
                }
                else {
                    s4 = peg$FAILED;
                    if (peg$silentFails === 0) {
                        peg$fail(peg$c30);
                    }
                }
                if (s4 !== peg$FAILED) {
                    s3 = [s3, s4];
                    s2 = s3;
                }
                else {
                    peg$currPos = s2;
                    s2 = peg$FAILED;
                }
            }
            else {
                peg$currPos = s2;
                s2 = peg$FAILED;
            }
        }
        if (s2 !== peg$FAILED) {
            while (s2 !== peg$FAILED) {
                s1.push(s2);
                if (input.charCodeAt(peg$currPos) === 45) {
                    s2 = peg$c86;
                    peg$currPos++;
                }
                else {
                    s2 = peg$FAILED;
                    if (peg$silentFails === 0) {
                        peg$fail(peg$c87);
                    }
                }
                if (s2 === peg$FAILED) {
                    s2 = peg$currPos;
                    s3 = peg$currPos;
                    peg$silentFails++;
                    s4 = peg$parsewhiteSpace();
                    if (s4 === peg$FAILED) {
                        s4 = peg$parsepatternSyntax();
                    }
                    peg$silentFails--;
                    if (s4 === peg$FAILED) {
                        s3 = undefined;
                    }
                    else {
                        peg$currPos = s3;
                        s3 = peg$FAILED;
                    }
                    if (s3 !== peg$FAILED) {
                        if (input.length > peg$currPos) {
                            s4 = input.charAt(peg$currPos);
                            peg$currPos++;
                        }
                        else {
                            s4 = peg$FAILED;
                            if (peg$silentFails === 0) {
                                peg$fail(peg$c30);
                            }
                        }
                        if (s4 !== peg$FAILED) {
                            s3 = [s3, s4];
                            s2 = s3;
                        }
                        else {
                            peg$currPos = s2;
                            s2 = peg$FAILED;
                        }
                    }
                    else {
                        peg$currPos = s2;
                        s2 = peg$FAILED;
                    }
                }
            }
        }
        else {
            s1 = peg$FAILED;
        }
        if (s1 !== peg$FAILED) {
            s0 = input.substring(s0, peg$currPos);
        }
        else {
            s0 = s1;
        }
        peg$silentFails--;
        if (s0 === peg$FAILED) {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
                peg$fail(peg$c111);
            }
        }
        return s0;
    }
    var messageCtx = ['root'];
    function isNestedMessageText() {
        return messageCtx.length > 1;
    }
    function isInPluralOption() {
        return messageCtx[messageCtx.length - 1] === 'plural';
    }
    function insertLocation() {
        return options && options.captureLocation ? {
            location: location()
        } : {};
    }
    var ignoreTag = options && options.ignoreTag;
    var shouldParseSkeleton = options && options.shouldParseSkeleton;
    peg$result = peg$startRuleFunction();
    if (peg$result !== peg$FAILED && peg$currPos === input.length) {
        return peg$result;
    }
    else {
        if (peg$result !== peg$FAILED && peg$currPos < input.length) {
            peg$fail(peg$endExpectation());
        }
        throw peg$buildStructuredError(peg$maxFailExpected, peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null, peg$maxFailPos < input.length
            ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)
            : peg$computeLocation(peg$maxFailPos, peg$maxFailPos));
    }
}
var pegParse = peg$parse;

// CONCATENATED MODULE: ./node_modules/intl-messageformat-parser/lib/src/normalize.js



var PLURAL_HASHTAG_REGEX = /(^|[^\\])#/g;
/**
 * Whether to convert `#` in plural rule options
 * to `{var, number}`
 * @param el AST Element
 * @param pluralStack current plural stack
 */
function normalizeHashtagInPlural(els) {
    els.forEach(function (el) {
        // If we're encountering a plural el
        if (!isPluralElement(el) && !isSelectElement(el)) {
            return;
        }
        // Go down the options and search for # in any literal element
        Object.keys(el.options).forEach(function (id) {
            var _a;
            var opt = el.options[id];
            // If we got a match, we have to split this
            // and inject a NumberElement in the middle
            var matchingLiteralElIndex = -1;
            var literalEl = undefined;
            for (var i = 0; i < opt.value.length; i++) {
                var el_1 = opt.value[i];
                if (isLiteralElement(el_1) && PLURAL_HASHTAG_REGEX.test(el_1.value)) {
                    matchingLiteralElIndex = i;
                    literalEl = el_1;
                    break;
                }
            }
            if (literalEl) {
                var newValue = literalEl.value.replace(PLURAL_HASHTAG_REGEX, "$1{" + el.value + ", number}");
                var newEls = pegParse(newValue);
                (_a = opt.value).splice.apply(_a, __spreadArrays([matchingLiteralElIndex, 1], newEls));
            }
            normalizeHashtagInPlural(opt.value);
        });
    });
}

// CONCATENATED MODULE: ./node_modules/intl-messageformat-parser/lib/index.js





function parse(input, opts) {
    opts = tslib_es6_assign({ normalizeHashtagInPlural: true, shouldParseSkeleton: true }, (opts || {}));
    var els = pegParse(input, opts);
    if (opts.normalizeHashtagInPlural) {
        normalizeHashtagInPlural(els);
    }
    return els;
}

// EXTERNAL MODULE: ./node_modules/fast-memoize/src/index.js
var src = __webpack_require__(43);
var src_default = /*#__PURE__*/__webpack_require__.n(src);

// CONCATENATED MODULE: ./node_modules/intl-messageformat/lib/src/error.js

var ErrorCode;
(function (ErrorCode) {
    // When we have a placeholder but no value to format
    ErrorCode["MISSING_VALUE"] = "MISSING_VALUE";
    // When value supplied is invalid
    ErrorCode["INVALID_VALUE"] = "INVALID_VALUE";
    // When we need specific Intl API but it's not available
    ErrorCode["MISSING_INTL_API"] = "MISSING_INTL_API";
})(ErrorCode || (ErrorCode = {}));
var error_FormatError = /** @class */ (function (_super) {
    tslib_es6_extends(FormatError, _super);
    function FormatError(msg, code, originalMessage) {
        var _this = _super.call(this, msg) || this;
        _this.code = code;
        _this.originalMessage = originalMessage;
        return _this;
    }
    FormatError.prototype.toString = function () {
        return "[formatjs Error: " + this.code + "] " + this.message;
    };
    return FormatError;
}(Error));

var error_InvalidValueError = /** @class */ (function (_super) {
    tslib_es6_extends(InvalidValueError, _super);
    function InvalidValueError(variableId, value, options, originalMessage) {
        return _super.call(this, "Invalid values for \"" + variableId + "\": \"" + value + "\". Options are \"" + Object.keys(options).join('", "') + "\"", "INVALID_VALUE" /* INVALID_VALUE */, originalMessage) || this;
    }
    return InvalidValueError;
}(error_FormatError));

var error_InvalidValueTypeError = /** @class */ (function (_super) {
    tslib_es6_extends(InvalidValueTypeError, _super);
    function InvalidValueTypeError(value, type, originalMessage) {
        return _super.call(this, "Value for \"" + value + "\" must be of type " + type, "INVALID_VALUE" /* INVALID_VALUE */, originalMessage) || this;
    }
    return InvalidValueTypeError;
}(error_FormatError));

var error_MissingValueError = /** @class */ (function (_super) {
    tslib_es6_extends(MissingValueError, _super);
    function MissingValueError(variableId, originalMessage) {
        return _super.call(this, "The intl string context variable \"" + variableId + "\" was not provided to the string \"" + originalMessage + "\"", "MISSING_VALUE" /* MISSING_VALUE */, originalMessage) || this;
    }
    return MissingValueError;
}(error_FormatError));


// CONCATENATED MODULE: ./node_modules/intl-messageformat/lib/src/formatters.js


var PART_TYPE;
(function (PART_TYPE) {
    PART_TYPE[PART_TYPE["literal"] = 0] = "literal";
    PART_TYPE[PART_TYPE["object"] = 1] = "object";
})(PART_TYPE || (PART_TYPE = {}));
function mergeLiteral(parts) {
    if (parts.length < 2) {
        return parts;
    }
    return parts.reduce(function (all, part) {
        var lastPart = all[all.length - 1];
        if (!lastPart ||
            lastPart.type !== 0 /* literal */ ||
            part.type !== 0 /* literal */) {
            all.push(part);
        }
        else {
            lastPart.value += part.value;
        }
        return all;
    }, []);
}
function isFormatXMLElementFn(el) {
    return typeof el === 'function';
}
// TODO(skeleton): add skeleton support
function formatToParts(els, locales, formatters, formats, values, currentPluralValue, 
// For debugging
originalMessage) {
    // Hot path for straight simple msg translations
    if (els.length === 1 && isLiteralElement(els[0])) {
        return [
            {
                type: 0 /* literal */,
                value: els[0].value,
            },
        ];
    }
    var result = [];
    for (var _i = 0, els_1 = els; _i < els_1.length; _i++) {
        var el = els_1[_i];
        // Exit early for string parts.
        if (isLiteralElement(el)) {
            result.push({
                type: 0 /* literal */,
                value: el.value,
            });
            continue;
        }
        // TODO: should this part be literal type?
        // Replace `#` in plural rules with the actual numeric value.
        if (isPoundElement(el)) {
            if (typeof currentPluralValue === 'number') {
                result.push({
                    type: 0 /* literal */,
                    value: formatters.getNumberFormat(locales).format(currentPluralValue),
                });
            }
            continue;
        }
        var varName = el.value;
        // Enforce that all required values are provided by the caller.
        if (!(values && varName in values)) {
            throw new error_MissingValueError(varName, originalMessage);
        }
        var value = values[varName];
        if (isArgumentElement(el)) {
            if (!value || typeof value === 'string' || typeof value === 'number') {
                value =
                    typeof value === 'string' || typeof value === 'number'
                        ? String(value)
                        : '';
            }
            result.push({
                type: typeof value === 'string' ? 0 /* literal */ : 1 /* object */,
                value: value,
            });
            continue;
        }
        // Recursively format plural and select parts' option  which can be a
        // nested pattern structure. The choosing of the option to use is
        // abstracted-by and delegated-to the part helper object.
        if (isDateElement(el)) {
            var style = typeof el.style === 'string'
                ? formats.date[el.style]
                : isDateTimeSkeleton(el.style)
                    ? el.style.parsedOptions
                    : undefined;
            result.push({
                type: 0 /* literal */,
                value: formatters
                    .getDateTimeFormat(locales, style)
                    .format(value),
            });
            continue;
        }
        if (isTimeElement(el)) {
            var style = typeof el.style === 'string'
                ? formats.time[el.style]
                : isDateTimeSkeleton(el.style)
                    ? el.style.parsedOptions
                    : undefined;
            result.push({
                type: 0 /* literal */,
                value: formatters
                    .getDateTimeFormat(locales, style)
                    .format(value),
            });
            continue;
        }
        if (isNumberElement(el)) {
            var style = typeof el.style === 'string'
                ? formats.number[el.style]
                : isNumberSkeleton(el.style)
                    ? el.style.parsedOptions
                    : undefined;
            if (style && style.scale) {
                value =
                    value *
                        (style.scale || 1);
            }
            result.push({
                type: 0 /* literal */,
                value: formatters
                    .getNumberFormat(locales, style)
                    .format(value),
            });
            continue;
        }
        if (isTagElement(el)) {
            var children = el.children, value_1 = el.value;
            var formatFn = values[value_1];
            if (!isFormatXMLElementFn(formatFn)) {
                throw new error_InvalidValueTypeError(value_1, 'function', originalMessage);
            }
            var parts = formatToParts(children, locales, formatters, formats, values, currentPluralValue);
            var chunks = formatFn(parts.map(function (p) { return p.value; }));
            if (!Array.isArray(chunks)) {
                chunks = [chunks];
            }
            result.push.apply(result, chunks.map(function (c) {
                return {
                    type: typeof c === 'string' ? 0 /* literal */ : 1 /* object */,
                    value: c,
                };
            }));
        }
        if (isSelectElement(el)) {
            var opt = el.options[value] || el.options.other;
            if (!opt) {
                throw new error_InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);
            }
            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values));
            continue;
        }
        if (isPluralElement(el)) {
            var opt = el.options["=" + value];
            if (!opt) {
                if (!Intl.PluralRules) {
                    throw new error_FormatError("Intl.PluralRules is not available in this environment.\nTry polyfilling it using \"@formatjs/intl-pluralrules\"\n", "MISSING_INTL_API" /* MISSING_INTL_API */, originalMessage);
                }
                var rule = formatters
                    .getPluralRules(locales, { type: el.pluralType })
                    .select(value - (el.offset || 0));
                opt = el.options[rule] || el.options.other;
            }
            if (!opt) {
                throw new error_InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);
            }
            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values, value - (el.offset || 0)));
            continue;
        }
    }
    return mergeLiteral(result);
}

// CONCATENATED MODULE: ./node_modules/intl-messageformat/lib/src/core.js
/*
Copyright (c) 2014, Yahoo! Inc. All rights reserved.
Copyrights licensed under the New BSD License.
See the accompanying LICENSE file for terms.
*/




// -- MessageFormat --------------------------------------------------------
function mergeConfig(c1, c2) {
    if (!c2) {
        return c1;
    }
    return tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({}, (c1 || {})), (c2 || {})), Object.keys(c1).reduce(function (all, k) {
        all[k] = tslib_es6_assign(tslib_es6_assign({}, c1[k]), (c2[k] || {}));
        return all;
    }, {}));
}
function mergeConfigs(defaultConfig, configs) {
    if (!configs) {
        return defaultConfig;
    }
    return Object.keys(defaultConfig).reduce(function (all, k) {
        all[k] = mergeConfig(defaultConfig[k], configs[k]);
        return all;
    }, tslib_es6_assign({}, defaultConfig));
}
function createFastMemoizeCache(store) {
    return {
        create: function () {
            return {
                has: function (key) {
                    return key in store;
                },
                get: function (key) {
                    return store[key];
                },
                set: function (key, value) {
                    store[key] = value;
                },
            };
        },
    };
}
// @ts-ignore this is to deal with rollup's default import shenanigans
var _memoizeIntl = src_default.a || src;
var memoizeIntl = _memoizeIntl;
function createDefaultFormatters(cache) {
    if (cache === void 0) { cache = {
        number: {},
        dateTime: {},
        pluralRules: {},
    }; }
    return {
        getNumberFormat: memoizeIntl(function () {
            var _a;
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            return new ((_a = Intl.NumberFormat).bind.apply(_a, __spreadArrays([void 0], args)))();
        }, {
            cache: createFastMemoizeCache(cache.number),
            strategy: memoizeIntl.strategies.variadic,
        }),
        getDateTimeFormat: memoizeIntl(function () {
            var _a;
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            return new ((_a = Intl.DateTimeFormat).bind.apply(_a, __spreadArrays([void 0], args)))();
        }, {
            cache: createFastMemoizeCache(cache.dateTime),
            strategy: memoizeIntl.strategies.variadic,
        }),
        getPluralRules: memoizeIntl(function () {
            var _a;
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            return new ((_a = Intl.PluralRules).bind.apply(_a, __spreadArrays([void 0], args)))();
        }, {
            cache: createFastMemoizeCache(cache.pluralRules),
            strategy: memoizeIntl.strategies.variadic,
        }),
    };
}
var core_IntlMessageFormat = /** @class */ (function () {
    function IntlMessageFormat(message, locales, overrideFormats, opts) {
        var _this = this;
        if (locales === void 0) { locales = IntlMessageFormat.defaultLocale; }
        this.formatterCache = {
            number: {},
            dateTime: {},
            pluralRules: {},
        };
        this.format = function (values) {
            var parts = _this.formatToParts(values);
            // Hot path for straight simple msg translations
            if (parts.length === 1) {
                return parts[0].value;
            }
            var result = parts.reduce(function (all, part) {
                if (!all.length ||
                    part.type !== 0 /* literal */ ||
                    typeof all[all.length - 1] !== 'string') {
                    all.push(part.value);
                }
                else {
                    all[all.length - 1] += part.value;
                }
                return all;
            }, []);
            if (result.length <= 1) {
                return result[0] || '';
            }
            return result;
        };
        this.formatToParts = function (values) {
            return formatToParts(_this.ast, _this.locales, _this.formatters, _this.formats, values, undefined, _this.message);
        };
        this.resolvedOptions = function () { return ({
            locale: Intl.NumberFormat.supportedLocalesOf(_this.locales)[0],
        }); };
        this.getAst = function () { return _this.ast; };
        if (typeof message === 'string') {
            this.message = message;
            if (!IntlMessageFormat.__parse) {
                throw new TypeError('IntlMessageFormat.__parse must be set to process `message` of type `string`');
            }
            // Parse string messages into an AST.
            this.ast = IntlMessageFormat.__parse(message, {
                normalizeHashtagInPlural: false,
                ignoreTag: opts === null || opts === void 0 ? void 0 : opts.ignoreTag,
            });
        }
        else {
            this.ast = message;
        }
        if (!Array.isArray(this.ast)) {
            throw new TypeError('A message must be provided as a String or AST.');
        }
        // Creates a new object with the specified `formats` merged with the default
        // formats.
        this.formats = mergeConfigs(IntlMessageFormat.formats, overrideFormats);
        // Defined first because it's used to build the format pattern.
        this.locales = locales;
        this.formatters =
            (opts && opts.formatters) || createDefaultFormatters(this.formatterCache);
    }
    Object.defineProperty(IntlMessageFormat, "defaultLocale", {
        get: function () {
            if (!IntlMessageFormat.memoizedDefaultLocale) {
                IntlMessageFormat.memoizedDefaultLocale = new Intl.NumberFormat().resolvedOptions().locale;
            }
            return IntlMessageFormat.memoizedDefaultLocale;
        },
        enumerable: false,
        configurable: true
    });
    IntlMessageFormat.memoizedDefaultLocale = null;
    IntlMessageFormat.__parse = parse;
    // Default format options used as the prototype of the `formats` provided to the
    // constructor. These are used when constructing the internal Intl.NumberFormat
    // and Intl.DateTimeFormat instances.
    IntlMessageFormat.formats = {
        number: {
            currency: {
                style: 'currency',
            },
            percent: {
                style: 'percent',
            },
        },
        date: {
            short: {
                month: 'numeric',
                day: 'numeric',
                year: '2-digit',
            },
            medium: {
                month: 'short',
                day: 'numeric',
                year: 'numeric',
            },
            long: {
                month: 'long',
                day: 'numeric',
                year: 'numeric',
            },
            full: {
                weekday: 'long',
                month: 'long',
                day: 'numeric',
                year: 'numeric',
            },
        },
        time: {
            short: {
                hour: 'numeric',
                minute: 'numeric',
            },
            medium: {
                hour: 'numeric',
                minute: 'numeric',
                second: 'numeric',
            },
            long: {
                hour: 'numeric',
                minute: 'numeric',
                second: 'numeric',
                timeZoneName: 'short',
            },
            full: {
                hour: 'numeric',
                minute: 'numeric',
                second: 'numeric',
                timeZoneName: 'short',
            },
        },
    };
    return IntlMessageFormat;
}());


// CONCATENATED MODULE: ./node_modules/intl-messageformat/lib/index.js
/*
Copyright (c) 2014, Yahoo! Inc. All rights reserved.
Copyrights licensed under the New BSD License.
See the accompanying LICENSE file for terms.
*/




/* harmony default export */ var intl_messageformat_lib = (core_IntlMessageFormat);

// CONCATENATED MODULE: ./node_modules/intl-format-cache/lib/index.js
/*
Copyright (c) 2014, Yahoo! Inc. All rights reserved.
Copyrights licensed under the New BSD License.
See the accompanying LICENSE file for terms.
*/
var lib_spreadArrays = (undefined && undefined.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};
// -- Utilities ----------------------------------------------------------------
function getCacheId(inputs) {
    return JSON.stringify(inputs.map(function (input) {
        return input && typeof input === 'object' ? orderedProps(input) : input;
    }));
}
function orderedProps(obj) {
    return Object.keys(obj)
        .sort()
        .map(function (k) {
        var _a;
        return (_a = {}, _a[k] = obj[k], _a);
    });
}
var memoizeFormatConstructor = function (FormatConstructor, cache) {
    if (cache === void 0) { cache = {}; }
    return function () {
        var _a;
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var cacheId = getCacheId(args);
        var format = cacheId && cache[cacheId];
        if (!format) {
            format = new ((_a = FormatConstructor).bind.apply(_a, lib_spreadArrays([void 0], args)))();
            if (cacheId) {
                cache[cacheId] = format;
            }
        }
        return format;
    };
};
/* harmony default export */ var intl_format_cache_lib = (memoizeFormatConstructor);

// CONCATENATED MODULE: ./node_modules/@elf/elf-i18n/lib/memoiser.js
// see https://github.com/formatjs/formatjs/tree/main/packages/intl-format-cache
// to understand more why memoiser is required


class memoiser_Memoiser {
    static getMemoiseKey(scope, locale) {
        return `${scope}|${locale}`;
    }
    static clearRecord(memoiseKey) {
        delete this.memoiseMap[memoiseKey];
    }
    static setInterval() {
        if (this.interval === null) {
            this.interval = window.setInterval(() => this.intervalCallback(), this.Timeout);
        }
    }
    static intervalCallback() {
        const now = Date.now();
        let memoiseKey;
        for (memoiseKey in this.memoiseMap) {
            const { time } = this.memoiseMap[memoiseKey];
            if (now - time > this.Timeout) {
                this.clearRecord(memoiseKey);
            }
        }
        if (!this.hasRecords()) {
            this.clearInterval();
        }
    }
    static clearInterval() {
        if (this.interval) {
            clearInterval(this.interval);
            this.interval = null;
        }
    }
    static hasRecords() {
        return Object.keys(this.memoiseMap).length > 0;
    }
    /**
     * Get IntlMessageFormat memoised function
     * @param scope Scope
     * @param locale Locale
     * @param key Key
     * @param message Message
     * @param [formats] Override Formats
     * @param [opts] Options
     * @returns IntlMessageFormat
     */
    static get(scope, locale, key, message, formats, opts) {
        const memoiseKey = this.getMemoiseKey(scope, locale);
        let memoised = this.memoiseMap[memoiseKey];
        // set the formatter first
        if (!memoised) {
            memoised = {
                formatter: intl_format_cache_lib(intl_messageformat_lib),
                keys: {},
                time: 0
            };
            this.memoiseMap[memoiseKey] = memoised;
        }
        // keys collection stores all memoised keys
        const { keys, formatter } = memoised;
        let format = keys[key];
        if (!format) {
            format = formatter(message, locale, formats, opts);
            keys[key] = format;
        }
        // reset self timeout
        memoised.time = Date.now();
        this.setInterval();
        return format;
    }
    /**
     * Clear all cached records
     * @param scope Scope
     * @param locale Local
     * @returns {void}
     */
    static clear() {
        this.memoiseMap = {};
        this.clearInterval();
    }
    /**
     * Delete cached record
     * @param scope Scope
     * @param locale Local
     * @returns {void}
     */
    static delete(scope, locale) {
        const memoiseKey = this.getMemoiseKey(scope, locale);
        this.clearRecord(memoiseKey);
        if (!this.hasRecords()) {
            this.clearInterval();
        }
    }
    /**
     * Get a formatted localised string
     * @param scope Scope
     * @param locale Locale
     * @param key Key
     * @param message Message
     * @param [options] Additional options to format the string
     * @param [formats] Optional object with user defined options for format styles.
     * @param [opts] Optional options.
     * - formatters: Map containing memoized formatters for performance.
     * - ignoreTag: Whether to treat HTML/XML tags as string literal instead of parsing them as tag token. When this is false we only allow simple tags without any attributes
     * @returns formatted message
     */
    static format(scope, locale, key, message, options, formats, opts) {
        const intlMessage = this.get(scope, locale, key, message, formats, opts);
        return String(intlMessage.format(options)); /* need casting as default return is unknown */
    }
}
/**
* There is no right answer when to delete memoised function
* To crete a new intl object is expensive, as well as to keep all memoised functions in memory
* might not be what the developer want
* Therefore set a timer and delete memoised function if not in use
*/
memoiser_Memoiser.Timeout = 30 * 60 * 1000; // 30 minutes
memoiser_Memoiser.interval = null; /* used to run through map to clean it */
memoiser_Memoiser.memoiseMap = {};


// CONCATENATED MODULE: ./node_modules/@elf/elf-i18n/lib/translate.js




/**
 * Resolve translation from provided locale. For instance:
 * if `supported=['en', 'zh-Hant', 'zh-Hans']`
 * - en -> en
 * - en-GB -> en
 * - en-US -> en
 * - ru -> ''
 * - zh -> ''
 * - zh-Hant -> zh-Hant
 * - zh-Hant-HK -> zh-Hant
 * @param scope Scope
 * @param locale Locale to resolve
 * @returns resolved locale
 */
const translate_resolveLocale = (scope, locale) => {
    if (!locale) {
        return '';
    }
    const supported = lib["a" /* Phrasebook */].supported(scope);
    // pick the first available locale in priority.
    return supportedLocales(supported, [locale])[0] || '';
};
/**
 * Clear all cached records
 * @returns {void}
 */
const clearCache = () => {
    memoiser_Memoiser.clear();
};
/**
 * A helper method to clear cache for specific scope and locale
 * @param scope Scope
 * @param locale Locale
 * @returns {void}
 */
const clearCachedRecord = (scope, locale) => {
    const resolvedLocale = translate_resolveLocale(scope, locale);
    if (resolvedLocale) {
        memoiser_Memoiser.delete(scope, locale);
    }
};
/**
 * Add unicode extensions to locale. E.g: 'en-u-hc-h24-ca-islamic'
 * Note: if unicode extensions are passed with the locale itself, override those.
 * @param locale Locale to add extension
 * @param unicodeExtensions A list of extension
 * @returns locale with unicode extensions
 */
const parseUnicodeExtensions = (locale, unicodeExtensions) => {
    if (!unicodeExtensions) {
        return locale;
    }
    const extensions = [];
    const localeUSplit = locale.split('-u-');
    locale = localeUSplit[0];
    const localeExtensions = {};
    if (localeUSplit[1]) {
        const split = localeUSplit[1].split('-'); // name-value pairs
        while (split.length) {
            const name = String(split.shift());
            const value = split.shift() || '';
            localeExtensions[name] = value;
        }
    }
    unicodeExtensions = Object.assign(localeExtensions, unicodeExtensions);
    for (const name in unicodeExtensions) {
        extensions.push(name, unicodeExtensions[name]);
    }
    if (extensions.length) {
        locale += `-u-${extensions.join('-')}`;
    }
    return locale;
};
/**
 * Get translation message from Phrasebook
 * @param scope Scope
 * @param locale Locale
 * @param key Translation key
 * @param options Translate options as key value combination
 * @param translateParams Translate parameters
 * @returns Promise<message>
 */
const t = (scope, locale, key, options, translateParams) => {
    try {
        let resolvedLocale = translate_resolveLocale(scope, locale);
        if (!resolvedLocale && locale !== DEFAULT_LOCALE) {
            // requested locale is not found in scope. Fallback to default locale
            locale = DEFAULT_LOCALE;
            resolvedLocale = translate_resolveLocale(scope, locale);
        }
        const translation = resolvedLocale ? lib["a" /* Phrasebook */].get(resolvedLocale, scope) : null;
        if (!translation || !translation[key]) {
            // eslint-disable-next-line no-console
            console.warn(`elf-i18n: "${key}" is not found in scope: "${scope}", locale: "${locale}" translations`);
            return Promise.resolve(key);
        }
        if (translateParams === null || translateParams === void 0 ? void 0 : translateParams.unicodeExtensions) {
            locale = parseUnicodeExtensions(locale, translateParams === null || translateParams === void 0 ? void 0 : translateParams.unicodeExtensions);
        }
        return Promise.resolve(memoiser_Memoiser.format(scope, locale, key, translation[key], options, translateParams === null || translateParams === void 0 ? void 0 : translateParams.formats, translateParams === null || translateParams === void 0 ? void 0 : translateParams.options));
    }
    catch (error) {
        return Promise.reject(error);
    }
};


// CONCATENATED MODULE: ./node_modules/@elf/elf-i18n/lib/index.js
const DEFAULT_LOCALE = 'en-GB';





/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export Util */
/* unused harmony export extendObject */
/* unused harmony export cloneObject */
/* unused harmony export arrayToObject */
/* unused harmony export extendProperty */
/* unused harmony export extendArrayProperty */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return parseCondition; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return prettifyCss; });
/* unused harmony export getShadowRoot */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return injectCss; });
/* unused harmony export isIE */
/* unused harmony export isMac */
/* unused harmony export isTouchDevice */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return nestedObjectToArray; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return rgb2Hex; });
/* unused harmony export prepareTSVContent */
/** @namespace */
var Util = {};

/** This is a shorthand for fetch() API by POST method and with json body <br>
* WARNING: fetch is not supported in IE (including IE11)
* @public
* @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch}
* @function
* @param {string} url
* @param {Object|string} obj
* @return {!Promise<Response>}
*/
Util.post = function(url, obj) { // Not supported in IE
	return Util._post(url, obj).then(Util.toJSON);
};
/** Request a server response from server as text by POST method <br>
* WARNING: fetch is not supported in IE (including IE11)
* @public
* @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch}
* @function
* @param {string} url
* @param {Object|string} obj
* @return {!Promise<Response>}
*/
Util.requestText = function(url, obj) { // Not supported in IE
	return Util._post(url, obj, "text/plain").then(Util.toText);
};
/** Request a server response from server by POST method and with url-encoded body <br>
* WARNING: fetch is not supported in IE (including IE11)
* @public
* @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch}
* @function
* @param {string} url
* @param {string} obj
* @return {!Promise<Response>}
*/
Util.requestByUrlEncoded = function(url, obj) { // Not supported in IE
	return Util._post(url, obj, "application/x-www-form-urlencoded").then(Util.toJSON);
};

/** @public
* @function
* @param {Response} resp
* @return {!Promise<Object>}
*/
Util.toJSON = function (resp) {
	if(Util._logError(resp)) {
		return Promise.reject(resp);
	}
	return resp.json();
};
/** @public
* @function
* @param {Response} resp
* @return {!Promise<string>}
*/
Util.toText = function (resp) {
	if(Util._logError(resp)) {
		return Promise.reject(resp);
	}
	return resp.text();
};

/** @private
* @see {@link https://en.wikipedia.org/wiki/List_of_HTTP_status_codes}
* @function
* @param {Response} resp
* @return {boolean}
*/
Util._logError = function(resp) {
	if(resp && resp.status >= 300) {
		console.log("Response " + resp.status + ": " + resp.statusText);
		return true;
	}
	return false;
};
/** @private
* @function
* @param {string} url
* @param {Object|string} obj
* @param {string=} contentType
* @return {!Promise<Response>}
*/
Util._post = function(url, obj, contentType) {
	var options = {
		method: obj ? "POST" : "GET",
		headers: { "Content-Type": contentType || "application/json" }
	};
	if(obj) {
		options.body = typeof obj === "string" ? obj : JSON.stringify(obj);
	}

	return fetch(url, options);
};

/** WARNING: Only one level of property tree is affected (i.e. no recursive or nested operation). <br>
* Property with undefined or null value will not have an impact on the object. <br>
* Existing properties will be overridden.
* @public
* @function
* @param {Object} obj Object that is extended (new properties will be added to this object)
* @param {Object=} extender Master object (no modification will be made on the extender)
* @param {Array.<string>=} limiters Specify property to be extended
* @return {Object}
*/
var extendObject = function (obj, extender, limiters) {
	if(!obj) { // null undefined NaN empty string and 0
		return null;
	}
	if(!extender || obj === extender) {
		return obj;
	}

	var key;
	if(limiters) {
		var len = limiters.length;
		for(var i = 0; i < len; ++i) {
			key = limiters[i];
			if(key) {
				extendProperty(obj, extender, key);
			}
		}
	} else {
		for(key in extender) {
			extendProperty(obj, extender, key);
		}
	}
	return obj;
};
/** WARNING: Only one level of property tree is affected (i.e. no recursive or nested operation). <br>
* Property with undefined or null value will not be cloned.
* @public
* @function
* @param {Object} obj
* @param {Array.<string>=} limiters
* @return {Object}
*/
var cloneObject = function (obj, limiters) {
	return extendObject({}, obj, limiters);
};
/** @public
* @param {Array=} data
* @param {Array.<string>=} fields In case of the given data is an array, this param will be used for mapping index to field
* @return {Object|null}
*/
var arrayToObject = function(data, fields) {
	if(!Array.isArray(data)) {
		return data;
	} else if(!fields) {
		return null;
	}
	var ary = data;
	data = {};
	var len = ary.length;
	for(var i = 0; i < len; ++i) {
		var field = fields[i];
		// eslint-disable-next-line no-undefined
		if(field && ary[i] !== undefined) {
			data[field] = ary[i];
		}
	}
	return data;
};
/** Replace the specified property with the value from the extender. If the value is an array, the value will be added to the array instead of replacement
* @public
* @function
* @param {Object} obj
* @param {Object} extender
* @param {string} propName
* @example
* extendProperty({a: 0}, {a: 1}, "a"); // {a: 1}
* extendProperty({a: 0}, {b: 1}, "b"); // {a: 0, b: 1}
* extendProperty({a: [0]}, {a: 1}, "a"); // {a: [0, 1]}
* extendProperty({a: [0]}, {a: [1, 2]}, "a"); // {a: [0, 1, 2]}
*/
var extendProperty = function (obj, extender, propName) {
	var val = extender[propName];
	if(val != null) {
		var objVal = obj[propName];
		if(Array.isArray(objVal)) {
			obj[propName] = objVal.concat(val);
		} else if(Array.isArray(val) && objVal) {
			obj[propName] = val.concat(objVal); // TODO: Preserve the order
		} else {
			obj[propName] = val; // WARNING: Overriding existing data
		}
	}
};
/** Array.push() is much faster than Array.concat(). The downside is the parameters must be an array, whereas concat() has no such requirement. <br>
* This method excels in extending known array property in an object.
* @public
* @function
* @param {Object} obj
* @param {string} propName
* @param {*} ary
* @return {Array} Returns the result of the extended array
* @see {@link https://dev.to/uilicious/javascript-array-push-is-945x-faster-than-array-concat-1oki}
* @example
* var obj = {};
* extendArrayProperty(obj, "prop1", 1); // [1]
* extendArrayProperty(obj, "prop1", 2); // [1, 2]
* extendArrayProperty(obj, "prop1", [3, 4]); // [1, 2, 3, 4]
* obj.prop2 = 5;
* extendArrayProperty(obj, "prop2", 6); // [5, 6]
* extendArrayProperty(obj, "prop2", [7]); // [5, 6, 7]
* extendArrayProperty(obj, "prop2", null); // null
*/
var extendArrayProperty = function (obj, propName, ary) {
	var objAry = null;
	if(ary) {
		var objVal = obj[propName];
		if(objVal) {
			if(Array.isArray(objVal)) {
				objAry = objVal;
			} else {
				objAry = obj[propName] = [objVal];
			}
		} else {
			objAry = obj[propName] = [];
		}
		// objAry is guaranteed to be an array at this point

		if(Array.isArray(ary)) {
			if(ary.length) {
				if(ary.length > 1) {
					Array.prototype.push.apply(objAry, ary);
				} else {
					objAry.push(ary[0]);
				}
			}
		} else {
			objAry.push(ary);
		}
	}
	return objAry;
};


/** Regex for matching the field token E.g. '[CF_BID]'
* @type {!RegExp}
* @private
* @const
*/
var _bracketExp = new RegExp(/\[[^\[]*\]/g); // eslint-disable-line no-useless-escape
/** @public
* @function
* @param {string|Function} expression
* @return {Function}
* @example
* var fn = parseCondition("[CF_BID] >= 10 && [CF_BID] <= 100");
* window.console.log(fn(25));
*/
var parseCondition = function(expression) {
	if(!expression) {
		return null;
	}
	if(typeof expression !== "string") {
		return (typeof expression == "function") ? /** @type {Function} */(expression) : null;
	}

	var brackets = expression.match(_bracketExp); // Retrieving field tokens (anything in between brackets)
	var map = {}; // For checking duplication
	var fields = [];
	var len = brackets ? brackets.length : 0;
	for(var i = len; --i >= 0;) {
		var field = brackets[i];
		if(!map[field]) {
			map[field] = "f[" + fields.length + "]"; // Create mapping of field token to array with index E.g. { "[CF_BID]": "f[0]" }
			fields.push(field.substring(1, field.length - 1)); // Strip '[' and ']' of field token to get field name
		}
	}

	// Replace the field tokens with rowData of array with index E.g. [CF_BID] ==> rowData[f[0]]
	expression = expression.replace(_bracketExp, function(match) {
		return "rowData[" + map[match] + "]";
	});
	var finalExp = "(function(f, rowData) { return (" + expression + "); })";

	var fn = null;
	try {
		fn = eval(finalExp);
		fn = fn.bind(null, fields); // Bind fields for matching field name
	} catch(err) {
		console.log(err.message);
	}
	return (fn) ? fn : null;
};


/** @private
* @param {string|Array.<string>} item
* @return {string}
*/
var _encloseBracket = function(item) {
	return Array.isArray(item) ? "{\n" + item.join("\n") + "\n}" : item;
};
/** @private
* @param {string} str
* @return {string}
*/
var _indentBracketContent = function(str){
	return str.replace(/\n+/g, "\n\t").replace(/\n\t}$/, "\n}");
};
/** @public
* @param {string|Array} css
* @return {string} prettified CSS string
* @example
* prettifyCss(["div", [
*   "color: red;",
*   "padding: 20px;"
* ],
* ".class", [
*   "margin: 0;"
* ]
* ]);
*/
var prettifyCss = function(css) {
	if(css) {
		var cssStr = "";
		if (Array.isArray(css)) {
			var ary = css.map(_encloseBracket);
			cssStr = ary.join("\n").replace(/{\s*{/g, "{").replace(/\s+{/g, " {");
		} else {
			cssStr = (typeof css === "string") ? css : css + "";
		}

		if(cssStr) {
			return cssStr.replace(/{[\w\W]*?}/g, _indentBracketContent);
		}
	}
	return "";
};
/** Get shadow root of the given element regardless of whether the element is in the DOM or not. The immediate shadow root parent is returned in case of nested shadow roots. Any other case return null.
* @public
* @param {Element} elem
* @return {DocumentFragment}
*/
var getShadowRoot = function(elem) {
	if(elem) {
		var rootNode;
		if(elem.shadowRoot) {
			rootNode = elem.shadowRoot;
		} else if(elem.getRootNode) {
			rootNode = elem.getRootNode();
		}
		if(rootNode) { // getRootNode does not supported in IE. It should be implemented by the polyfills
			if(rootNode !== document) { // element that is in the DOM and not in the shadow has document as its root node
				if(rootNode !== elem) { // element that is NOT in the DOM and not in the shadow has itself as its root node
					return rootNode;
				}
			}
		}
	}
	return null;
};
/** Attach style tag to the proper document (in case of element inside a shadow root)
* @public
* @param {string} cssStr Valid CSS string (e.g. "div {color: red;}")
* @param {Element=} targetContext Element that needs the CSS
* @return {Element} New style tag
*/
var injectCss = function(cssStr, targetContext) {
	if(!cssStr) {
		return null;
	}

	var styleTag = document.createElement("style");
	styleTag.textContent = "\n" + cssStr + "\n";

	var styleHost = getShadowRoot(targetContext);
	var isInShadow = true;
	if(!styleHost) {
		isInShadow = false;
		styleHost = document.head;
	}

	// Find a place to insert the style tag
	var beforeElem;
	if(isInShadow) {
		if(styleHost.children && styleHost.children.length) {
			beforeElem = styleHost.children[0];
		}
	}
	if(beforeElem) {
		styleHost.insertBefore(styleTag, beforeElem);
	} else {
		styleHost.appendChild(styleTag);
	}
	return styleTag;
};

/** return true if browser is IE or Edge
* @public
* @return {boolean}
*/
var isIE = function () {
	var ua = window.navigator.userAgent;
	return (ua.indexOf('MSIE ') > 0) || (ua.indexOf('Trident/') > 0) || (ua.indexOf('Edge/') > 0);
};

/** return true if device is mac
* @public
* @return {boolean}
*/
var isMac = function () {
	return /Mac/.test(navigator.platform);
};

/** Return true if device is mac
* @public
* @return {boolean}
*/
var isTouchDevice = function () {
	if ((navigator["maxTouchPoints"] && navigator["maxTouchPoints"] < 256) ||
		(navigator["msMaxTouchPoints"] && navigator["msMaxTouchPoints"] < 256)) {
		return true;
	}
	return false;
};

/** parse nested object in to array
* @public
* @param {Object} obj
* @param {Array=} ary
* @return {Array}
*/
var nestedObjectToArray = function (obj, ary) {
	if (!ary) {
		ary = [];
	}
	for (var key in obj) {
		var element = obj[key];
		if ('object' === typeof element) {
			nestedObjectToArray(element, ary);
		} else {
			ary.push(element);
		}
	}
	return ary;
};

/** Convert CSS rgb or rgba formats to CSS hex color string (# prefix)
* @public
* @param {string} rgbCode
* @return {string}
* @example
* rgb2Hex("rgb(255, 255, 0)"); // "#FFFF00"
* rgb2Hex("rgba(255, 255, 0, 1)"); // "#FFFF00"
* rgb2Hex("255 255.0"); // "#FFFF00"
* rgb2Hex("#FFFF00"); // "#FFFF00"
* rgb2Hex("#1a1a1a"); // "#1a1a1a"
* rgb2Hex("2552550"); // "2552550"
* rgb2Hex("invalid"); // "invalid"
* rgb2Hex(null); // ""
*/
var rgb2Hex = function (rgbCode) {
	if(!rgbCode || typeof rgbCode !== "string") {
		return "";
	}
	if(rgbCode.charAt(0) === "#") {
		return rgbCode;
	}
	var rgb = rgbCode.match(/\d+/g);
	if(!rgb || rgb.length < 3) {
		return rgbCode;
	}

	var hex = "#";
	for(var i = 0; i < 3; i++) {
		var num = +rgb[i];
		if(!(num >= 16)) { // Handle NaN case
			hex += "0";
		}
		hex += (num) ? num.toString(16).toUpperCase() : "0";
	}
	return hex;
};

/** transform data to tab seperated value
* @public
* @param {*} data
* @return {string}
*/
var prepareTSVContent = function (data) {
	if (data == null) {
		return "";
	}

	var content = (typeof data === 'string') ? data : data.toString();

	if (!content.length) { return ""; }

	// Replace any new line and tab
	if (content.indexOf("\n") >= 0) {
		content = content.replace(/[\r\n]/g, " ");
	}

	if (content.indexOf("\t") >= 0) {
		content = content.replace(/\t/g, " ");
	}

	// Trim front and back spaces
	if (content.charAt(0) === " " || content.charAt(content.length - 1) === " ") {
		content = content.trim();
	}

	return content;
};

/* unused harmony default export */ var _unused_webpack_default_export = (Util);



/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, "b", function() { return /* reexport */ interaction_lock_manager["a" /* applyLock */]; });
__webpack_require__.d(__webpack_exports__, "a", function() { return /* reexport */ coral_popup_panel_CoralPopupPanel; });

// EXTERNAL MODULE: ./node_modules/@elf/coral-popup-panel/lib/managers/interaction-lock-manager.js
var interaction_lock_manager = __webpack_require__(26);

// EXTERNAL MODULE: ./node_modules/@elf/core/lib/elf.js + 57 modules
var elf = __webpack_require__(0);

// CONCATENATED MODULE: ./node_modules/@elf/coral-popup-panel/lib/helpers/types.js
/* align against the position. These are valid when position does not contain align information */
const DEFAULT_ALIGN = new Map([
    ['top', 'start'],
    ['bottom', 'start'],
    ['left', 'middle'],
    ['right', 'middle'],
    ['center', 'middle']
]);
/* strategies applied when positionTarget is HTML Element */
const DEFAULT_TARGET_STRATEGY = [
    ['bottom', 'start'],
    ['top', 'start'],
    ['right', 'middle'],
    ['left', 'middle']
];


// CONCATENATED MODULE: ./node_modules/@elf/coral-popup-panel/lib/helpers/functions.js
/**
 * Return value if defined or 0 if not defined
 * @param v Value
 * @returns value
 */
const valueOrZero = (v) => v || 0;
/**
 * Parse the string to number or return null if string cannot be parsed
 * @param v Value
 * @returns value
 */
const valueOrNull = (v) => {
    const parsed = parseFloat(v);
    return isNaN(parsed) ? null : parsed;
};


// EXTERNAL MODULE: ./node_modules/@elf/utils/lib/utils.js + 23 modules
var utils = __webpack_require__(1);

// CONCATENATED MODULE: ./node_modules/@elf/coral-popup-panel/lib/elements/coral-popup-panel-viewport.js
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var CoralPopupPanelViewport_1;

/**
 * A private element to find popup-panel size boundaries
 */
let coral_popup_panel_viewport_CoralPopupPanelViewport = CoralPopupPanelViewport_1 = class CoralPopupPanelViewport extends elf["f" /* ResponsiveElement */] {
    /**
    * Element version number
    */
    static get version() {
        return '4.5.25';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return elf["h" /* css */] `
      :host {
        display: block;
        position: fixed;
        visibility: hidden;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: -1;
      }
    `;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return CoralPopupPanelViewport_1.Template;
    }
};
coral_popup_panel_viewport_CoralPopupPanelViewport.Template = elf["k" /* html */] ``; /* IE11 need empty template */
coral_popup_panel_viewport_CoralPopupPanelViewport = CoralPopupPanelViewport_1 = __decorate([
    Object(elf["i" /* customElement */])('coral-popup-panel-viewport', {
        theme: false
    })
], coral_popup_panel_viewport_CoralPopupPanelViewport);


// CONCATENATED MODULE: ./node_modules/@elf/coral-popup-panel/lib/managers/viewport-manager.js


/**
  * Default values for area info
*/
const viewAreaInfo = {
    viewHeight: 0,
    viewWidth: 0,
    offsetTop: 0,
    offsetLeft: 0,
    offsetBottom: 0,
    offsetRight: 0,
    viewOffsetTop: 0,
    viewOffsetLeft: 0
};
// Used to capture scroll events
const ScrollEventOptions = { capture: true, passive: true };
/**
 * Viewport manager singleton is responsible for getting
 * viewport sizes and reacting on viewport changes
 * @returns {void}
 */
class viewport_manager_ViewportManager {
    constructor() {
        this.registry = new Map();
        this.viewRegistry = new WeakMap();
        this.refitFrame = new utils["b" /* AnimationTaskRunner */]();
        this.screenViewport = null;
        /**
         * Refit all popups
         * @returns {void}
         */
        this.callRefit = () => {
            this.refitFrame.schedule(() => {
                this.registry.forEach((viewport, popup) => {
                    this.resetViewportSizing(viewport);
                    popup.fit();
                });
            });
        };
    }
    /**
     * Create popup-panel-viewport and insert it before the provided node
     * @param insertBefore A node to insert before
     * @returns created popup-panel-viewport
     */
    createViewport(insertBefore) {
        var _a;
        const viewport = document.createElement('coral-popup-panel-viewport');
        (_a = insertBefore === null || insertBefore === void 0 ? void 0 : insertBefore.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(viewport, insertBefore);
        return viewport;
    }
    /**
     * Remove popup-panel-viewport from DOM tree
     * @param viewport popup-panel-viewport to remove
     * @returns {void}
     */
    removeViewport(viewport) {
        var _a;
        (_a = viewport.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(viewport);
    }
    /**
     * Set screen sizing viewport
     * @returns void
     */
    setScreenViewport() {
        if (!this.screenViewport) {
            this.screenViewport = this.createViewport(document.body);
        }
    }
    /**
     * Removes screen sizing viewport
     * @returns void
     */
    removeScreenViewport() {
        if (this.screenViewport) {
            this.removeViewport(this.screenViewport);
            this.screenViewport = null;
        }
    }
    /**
     * Reset sizing for viewport
     * @param viewport Viewport to reset sizing for
     * @returns {void}
     */
    resetViewportSizing(viewport) {
        if (!this.screenViewport) {
            return;
        }
        const screenRect = this.screenViewport.getBoundingClientRect();
        // since screenViewport is applied on html element, it does not include body zoom
        const zoom = parseFloat(window.getComputedStyle(document.body).zoom);
        const screenHeight = screenRect.height / zoom;
        const screenWidth = screenRect.width / zoom;
        const { top, left, bottom, right } = viewport.getBoundingClientRect();
        const offsetTop = top < 0 ? Math.abs(top) : 0;
        const offsetLeft = left < 0 ? Math.abs(left) : 0;
        const offsetBottom = bottom > screenHeight ? bottom - screenHeight : 0;
        const offsetRight = right > screenWidth ? right - screenWidth : 0;
        const viewHeight = viewport.offsetHeight - offsetTop - offsetBottom;
        const viewWidth = viewport.offsetWidth - offsetLeft - offsetRight;
        this.viewRegistry.set(viewport, {
            viewOffsetTop: top < 0 ? top + offsetTop : top,
            viewOffsetLeft: left < 0 ? left + offsetLeft : left,
            viewHeight: viewHeight < 0 ? 0 : viewHeight,
            viewWidth: viewWidth < 0 ? 0 : viewWidth,
            offsetTop,
            offsetLeft,
            offsetBottom,
            offsetRight
        });
    }
    getViewAreaInfo(popup) {
        const viewport = this.registry.get(popup);
        if (!viewport) {
            return viewAreaInfo;
        }
        if (!this.viewRegistry.has(viewport)) {
            this.resetViewportSizing(viewport);
        }
        return this.viewRegistry.get(viewport) || viewAreaInfo;
    }
    register(popup) {
        if (!this.registry.size) {
            window.addEventListener('resize', this.callRefit);
            window.addEventListener('orientationchange', this.callRefit);
            window.addEventListener('scroll', this.callRefit, ScrollEventOptions);
            this.setScreenViewport();
        }
        if (!this.registry.has(popup)) {
            const viewport = this.createViewport(popup);
            this.registry.set(popup, viewport);
            viewport.addEventListener('resize', () => popup.fit());
        }
    }
    deregister(popup) {
        if (this.registry.has(popup)) {
            const viewport = this.registry.get(popup);
            viewport && this.removeViewport(viewport);
            this.registry.delete(popup);
        }
        if (!this.registry.size) {
            window.removeEventListener('resize', this.callRefit);
            window.removeEventListener('orientationchange', this.callRefit);
            window.removeEventListener('scroll', this.callRefit, ScrollEventOptions);
            this.removeScreenViewport();
        }
    }
    /**
     * @returns count of elements inside manager
     */
    size() {
        return this.registry.size;
    }
    /**
     * applies deregister for each element in registry
     * @returns {void}
     */
    clear() {
        this.registry.forEach((viewport, popup) => this.deregister(popup));
    }
}
const viewportManager = new viewport_manager_ViewportManager();
/**
 * Register the new popup. Must be run to let start behaviour to listen for viewport events
 * @param popup Popup panel
 * @returns {void}
 */
const register = (popup) => {
    viewportManager.register(popup);
};
/**
 * Deregister the popup
 * @param popup Popup panel
 * @returns {void}
 */
const deregister = (popup) => {
    viewportManager.deregister(popup);
};
/**
 * @typedef {Object} ViewAreaInfo
 * @property {Number} viewHeight - The height of view area
 * @property {Number} viewWidth - The width of view area
 * @property {Number} [offsetTop=0] - iOS only the view area vertical offset
 * @property {Number} [offsetLeft=0] - iOS only the view area horizontal offset
 */
/**
 * Get sizing information of the viewport for popup
 * @param popup Popup to get info for
 * @return area info
 */
const getViewAreaInfo = (popup) => {
    return viewportManager.getViewAreaInfo(popup);
};
/**
 * @returns count of elements inside manager
 */
const size = () => {
    return viewportManager.size();
};
/**
 * removes all elements from registry
 * @returns {void}
 */
const clear = () => {
    viewportManager.clear();
};

// EXTERNAL MODULE: ./node_modules/@elf/coral-popup-panel/lib/managers/zindex-manager.js
var zindex_manager = __webpack_require__(12);

// CONCATENATED MODULE: ./node_modules/@elf/coral-popup-panel/lib/elements/coral-popup-panel-backdrop.js
var coral_popup_panel_backdrop_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var CoralPopupPanelBackdrop_1;

/**
 * A private element to show backdrop for coral popup panel
 */
let coral_popup_panel_backdrop_CoralPopupPanelBackdrop = CoralPopupPanelBackdrop_1 = class CoralPopupPanelBackdrop extends elf["a" /* BasicElement */] {
    /**
    * Element version number
    */
    static get version() {
        return '4.5.25';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return elf["h" /* css */] `
      :host {
        pointer-events: all;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }
    `;
    }
    /**
     * Set a specific z-index to override automatically calculated z-index
     * @param zIndex zIndex value
     */
    set zIndex(zIndex) {
        if (typeof zIndex === 'number') {
            this.style.setProperty('z-index', `${zIndex}`);
        }
        else {
            this.style.removeProperty('z-index');
        }
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return CoralPopupPanelBackdrop_1.Template;
    }
};
coral_popup_panel_backdrop_CoralPopupPanelBackdrop.Template = elf["k" /* html */] ``;
coral_popup_panel_backdrop_decorate([
    Object(elf["n" /* property */])({ type: Number, attribute: false })
], coral_popup_panel_backdrop_CoralPopupPanelBackdrop.prototype, "zIndex", null);
coral_popup_panel_backdrop_CoralPopupPanelBackdrop = CoralPopupPanelBackdrop_1 = coral_popup_panel_backdrop_decorate([
    Object(elf["i" /* customElement */])('coral-popup-panel-backdrop')
], coral_popup_panel_backdrop_CoralPopupPanelBackdrop);


// CONCATENATED MODULE: ./node_modules/@elf/coral-popup-panel/lib/managers/backdrop-manager.js


/**
 * Backdrop manager adds a backdrop to the body
 * @returns {void}
 */
class backdrop_manager_BackdropManager {
    constructor() {
        this.registry = new Set();
        this.backdropElement = document.createElement('coral-popup-panel-backdrop');
        this.position = () => {
            const popups = this.popups;
            if (!popups.length) {
                this.removeBackdropElement();
                return;
            }
            const { popup, zIndex } = popups[0];
            const backdropElement = this.backdropElement;
            if (!popup.parentNode) {
                this.removeBackdropElement();
                return;
            }
            if (backdropElement.nextElementSibling === popup) {
                return;
            }
            backdropElement.zIndex = zIndex;
            popup.parentNode.insertBefore(backdropElement, popup);
        };
    }
    get popups() {
        return Object(zindex_manager["b" /* getPopupLayers */])().filter(({ popup }) => this.registry.has(popup));
    }
    removeBackdropElement() {
        const backdropElement = this.backdropElement;
        if (backdropElement.parentNode) {
            backdropElement.parentNode.removeChild(backdropElement);
        }
    }
    register(popup) {
        if (!this.registry.has(popup)) {
            popup.addEventListener('focus', this.position);
            this.registry.add(popup);
        }
        this.position();
    }
    deregister(popup) {
        if (this.registry.has(popup)) {
            popup.removeEventListener('focus', this.position);
            this.registry.delete(popup);
            this.position();
        }
    }
    /**
     * @returns count of elements inside manager
     */
    size() {
        return this.registry.size;
    }
    /**
     * applies deregister for each element in registry
     * @returns {void}
     */
    clear() {
        this.registry.forEach(popup => this.deregister(popup));
    }
}
const backdropManager = new backdrop_manager_BackdropManager();
/**
 * Register the new popup
 * @param popup Popup panel
 * @returns {void}
 */
const backdrop_manager_register = (popup) => {
    backdropManager.register(popup);
};
/**
 * Deregister the popup
 * @param popup Popup panel
 * @returns {void}
 */
const backdrop_manager_deregister = (popup) => {
    backdropManager.deregister(popup);
};
/**
 * @returns count of elements inside manager
 */
const backdrop_manager_size = () => {
    return backdropManager.size();
};
/**
 * removes all elements from registry
 * @returns {void}
 */
const backdrop_manager_clear = () => {
    backdropManager.clear();
};

// CONCATENATED MODULE: ./node_modules/@elf/coral-popup-panel/lib/managers/close-manager.js

/**
 * Close manager ensures that the correct (or the most top) popup
 * is closed on ESC and click events
 * @returns {void}
 */
class close_manager_CloseManager {
    constructor() {
        this.registry = new Map();
        this.onKeyDown = ({ key }) => {
            switch (key) {
                case 'Esc':
                case 'Escape':
                    this.onEscKey();
                // no default
            }
        };
        /**
         * Run when document tap event happens.
         * @param event event object
         * @returns {void}
         */
        this.onTapStart = (event) => {
            const topPopup = this.getTopPopup();
            /* istanbul ignore next */
            if (!topPopup) {
                return;
            }
            const { popup, closeCallback } = topPopup;
            const path = event.composedPath();
            const focusBoundary = popup.focusBoundary || popup;
            const isOutsideClick = !path.includes(focusBoundary);
            if (isOutsideClick && !popup.noInteractionLock) {
                event.preventDefault();
            }
            if (isOutsideClick && !popup.noCancelOnOutsideClick) {
                closeCallback();
            }
        };
    }
    get popups() {
        return Object(zindex_manager["c" /* getPopups */])().filter(popup => this.registry.has(popup));
    }
    getTopPopup() {
        const popup = this.popups[0];
        /* istanbul ignore next */
        if (!popup) {
            return null;
        }
        const closeCallback = this.registry.get(popup);
        return {
            popup,
            closeCallback
        };
    }
    onEscKey() {
        const topPopup = this.getTopPopup();
        /* istanbul ignore next */
        if (!topPopup) {
            return;
        }
        const { popup, closeCallback } = topPopup;
        // Do nothing
        if (popup.noCancelOnEscKey) {
            return;
        }
        closeCallback();
    }
    register(popup, closeCallback) {
        if (!this.registry.size) {
            const eventOptions = {
                capture: true,
                passive: true
            };
            document.addEventListener('keydown', this.onKeyDown, eventOptions);
            document.addEventListener('tapstart', this.onTapStart, true);
        }
        this.registry.set(popup, closeCallback);
    }
    deregister(popup) {
        this.registry.delete(popup);
        if (!this.registry.size) {
            const eventOptions = {
                capture: true,
                passive: true
            };
            document.removeEventListener('keydown', this.onKeyDown, eventOptions);
            document.removeEventListener('tapstart', this.onTapStart, true);
        }
    }
    /**
     * @returns count of elements inside manager
     */
    size() {
        return this.registry.size;
    }
    /**
     * applies deregister for each element in registry
     * @returns {void}
     */
    clear() {
        const registryArray = [...this.registry.keys()];
        for (let i = 0; i < registryArray.length; i++) {
            this.deregister(registryArray[i]);
        }
    }
}
const closeManager = new close_manager_CloseManager();
/**
 * Register the new popup
 * @param popup Popup panel
 * @param closeCallback A function to close the popup
 * @returns {void}
 */
const close_manager_register = (popup, closeCallback) => {
    closeManager.register(popup, closeCallback);
};
/**
 * Deregister the popup
 * @param popup Popup panel
 * @returns {void}
 */
const close_manager_deregister = (popup) => {
    closeManager.deregister(popup);
};
/**
 * @returns count of elements inside manager
 */
const close_manager_size = () => {
    return closeManager.size();
};
/**
 * removes all elements from registry
 * @returns {void}
 */
const close_manager_clear = () => {
    closeManager.clear();
};

// CONCATENATED MODULE: ./node_modules/@elf/coral-popup-panel/lib/managers/focus-manager.js




/**
 * Focus manager ensures that the correct
 * element receives the focus
 * @returns {void}
 */
class focus_manager_FocusManager {
    constructor() {
        this.focusThrottler = new utils["b" /* AnimationTaskRunner */](); /* used to delay focus to give time for popup to show up */
        this.registry = new Set();
        this.restoreFocusElement = null; /* used to restore focus on close */
        this.lastFocused = new WeakMap(); /* used to store last focused item */
        /**
         * Run when document key down event happens
         * @param event Keyboard event
         * @returns {void}
         */
        this.onDocumentKeyDown = (event) => {
            if (event.key === 'Tab') {
                this.onTabKey(event);
                return;
            }
        };
        /**
         * True if passed target is a registered popup
         * @param target Target to check
         * @returns true if registered popup
         */
        this.isRegisteredPopup = (target) => target instanceof coral_popup_panel_CoralPopupPanel && this.popups.includes(target);
        /**
         * Run on popup focus order to restore popup focus
         * @param event focusin event
         * @returns {void}
         */
        this.onPopupFocus = (event) => {
            const popup = event.composedPath().find(this.isRegisteredPopup);
            if (popup) {
                this.lastFocused.set(popup, event.target);
            }
        };
    }
    get popups() {
        return Object(zindex_manager["c" /* getPopups */])().filter(popup => this.registry.has(popup));
    }
    get focusBoundaryElements() {
        return Object(zindex_manager["c" /* getPopups */])()
            .map(popup => popup.focusBoundary)
            .filter(focusBoundary => focusBoundary !== null);
    }
    getTabbableElements(popup) {
        return popup.focusBoundary ? elf["d" /* FocusableHelper */].getTabbableNodes(popup.focusBoundary) : [];
    }
    getActiveTabbableNodes(reverse) {
        const sorted = this.popups;
        const nodes = [];
        const tabbableMap = new Map();
        for (let i = 0; i < sorted.length; i += 1) {
            const popup = sorted[i];
            const tabbable = this.getTabbableElements(popup);
            tabbable.forEach(node => tabbableMap.set(node, popup));
            if (reverse) {
                nodes.push(...tabbable);
            }
            else {
                nodes.splice(0, 0, ...tabbable);
            }
            if (popup.withBackdrop) { /* if the popup has backdrop all other popups with smaller z-index are outside tab scope */
                break;
            }
            if (document.activeElement === popup && nodes.length) { /* if popup itself is in focus, try to always focus withing the focused popup */
                break;
            }
        }
        if (reverse) {
            nodes.reverse();
        }
        return {
            nodes,
            tabbableMap
        };
    }
    onTabKey(event) {
        const { nodes, tabbableMap } = this.getActiveTabbableNodes(event.shiftKey);
        if (nodes.length === 0) {
            return;
        }
        if (nodes.length === 1) { /* no other focusable nodes */
            event.preventDefault();
            nodes[0].focus();
            return;
        }
        const focusNode = this.getReTargetFocusNode(nodes);
        if (focusNode) {
            event.preventDefault();
            const popup = tabbableMap.get(focusNode);
            const topPopup = this.popups[0];
            if (popup && topPopup && topPopup !== popup) {
                popup.toFront();
            }
            focusNode.focus();
        }
    }
    getReTargetFocusNode(nodes) {
        const activeElement = this.getActiveElement();
        if (!activeElement || activeElement === nodes[nodes.length - 1] || !this.isFocusBoundaryDescendant(activeElement)) {
            return nodes[0];
        }
        return null;
    }
    getShadowActiveElement(activeElement) {
        var _a;
        if ((_a = activeElement === null || activeElement === void 0 ? void 0 : activeElement.shadowRoot) === null || _a === void 0 ? void 0 : _a.activeElement) {
            return this.getShadowActiveElement(activeElement.shadowRoot.activeElement);
        }
        return activeElement;
    }
    getActiveElement() {
        return this.getShadowActiveElement(document.activeElement);
    }
    isFocusBoundaryDescendant(element) {
        const focusBoundaryElements = this.focusBoundaryElements;
        let node = element.parentNode;
        while (node) {
            if ((node instanceof HTMLElement || node instanceof ShadowRoot) && focusBoundaryElements.includes(node)) {
                return true;
            }
            // parenNode is not defined if the node is inside document fragment. Use host instead
            node = node.nodeType === Node.DOCUMENT_FRAGMENT_NODE ? node.host : node.parentNode;
        }
        return false;
    }
    register(popup) {
        if (!this.registry.size) {
            this.restoreFocusElement = document.activeElement; /* store this only once, as popup order may change */
            document.addEventListener('keydown', this.onDocumentKeyDown, { capture: true });
        }
        if (!this.registry.has(popup)) {
            this.registry.add(popup);
            // cannot use focusin as it is not propagated through shadow DOM
            popup.addEventListener('focus', this.onPopupFocus, true);
            if (!popup.noAutofocus) {
                this.focusThrottler.schedule(() => {
                    popup.opened && popup.focus(); /* always focus the last added popup */
                });
            }
        }
    }
    deregister(popup) {
        if (this.registry.has(popup)) {
            popup.removeEventListener('focus', this.onPopupFocus, true);
            this.lastFocused.delete(popup);
            this.registry.delete(popup);
            if (!this.registry.size) {
                document.removeEventListener('keydown', this.onDocumentKeyDown, { capture: true });
                /* istanbul ignore next */
                if (this.restoreFocusElement) {
                    this.restoreFocusElement.focus();
                }
                this.restoreFocusElement = null;
            }
            else if (!popup.noInteractionLock) {
                // if removed popup has scroll lock (default), move the focus to last focused node in
                // the next available popup (top popup)
                const topPopup = this.popups[0];
                if (topPopup) {
                    const focusNode = this.lastFocused.get(topPopup) || this.getTabbableElements(topPopup)[0] || topPopup;
                    this.focusThrottler.schedule(() => {
                        if (!topPopup.opened) {
                            // It is possible that popup gets closed during throttling
                            return;
                        }
                        // Make sure that focus is kept within active popup
                        const tabbableElements = this.getTabbableElements(topPopup);
                        const activeElement = this.getActiveElement();
                        if (!activeElement || !tabbableElements.includes(activeElement)) {
                            focusNode.focus();
                        }
                    });
                }
            }
        }
    }
    /**
     * @returns count of elements inside manager
     */
    size() {
        return this.registry.size;
    }
    /**
     * applies deregister for each element in registry
     * @returns {void}
     */
    clear() {
        this.registry.forEach(popup => this.deregister(popup));
    }
}
const focusManager = new focus_manager_FocusManager();
/**
 * Register the new popup
 * @param popup Popup panel
 * @returns {void}
 */
const focus_manager_register = (popup) => {
    focusManager.register(popup);
};
/**
 * Deregister the popup
 * @param popup Popup panel
 * @returns {void}
 */
const focus_manager_deregister = (popup) => {
    focusManager.deregister(popup);
};
/**
 * @returns count of elements inside manager
 */
const focus_manager_size = () => {
    return focusManager.size();
};
/**
 * removes all elements from registry
 * @returns {void}
 */
const focus_manager_clear = () => {
    focusManager.clear();
};

// CONCATENATED MODULE: ./node_modules/@elf/coral-popup-panel/lib/elements/coral-popup-panel.js
var coral_popup_panel_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var CoralPopupPanel_1;










const SupportURL = 'https://elf.int.refinitiv.com/upgrade/api/coral-popup-panel.html'; /* Use this for support messaged */
// TODO: use metrics once available
const isEdge = (/Edge\/\d./i).test(navigator.userAgent);
const isIE = (/Trident/g).test(navigator.userAgent) || (/MSIE/g).test(navigator.userAgent);
/**
 * Possible states of the popup
 */
var OpenedState;
(function (OpenedState) {
    OpenedState[OpenedState["CLOSED"] = 0] = "CLOSED";
    OpenedState[OpenedState["OPENING"] = 1] = "OPENING";
    OpenedState[OpenedState["OPENED"] = 2] = "OPENED";
    OpenedState[OpenedState["CLOSING"] = 3] = "CLOSING"; /* popup is visible on the screen, but closing animation is still running */
})(OpenedState || (OpenedState = {}));
/**
 * A helper function to set or remove attribute based on the value
 * @param popup Popup
 * @param name Attribute name
 * @param value If false or empty string attribute is removed
 * @returns {void}
 */
const toggleAttribute = (popup, name, value) => {
    if (!value) {
        popup.removeAttribute(name);
    }
    else {
        popup.setAttribute(name, typeof value === 'string' ? value : '');
    }
};
/**
 * A helper function to filter initial state of boolean change
 * @param newVal New value
 * @param oldVal Old value
 * @returns hasChanged
 */
const hasBooleanChanged = (newVal, oldVal) => newVal !== !!oldVal;
/**
 * A helper function to filter initial state of number change
 * @param newVal New value
 * @param oldVal Old value
 * @returns hasChanged
 */
const hasNumberChanged = (newVal, oldVal) => oldVal === undefined ? false : newVal !== oldVal;
/**
 * When these properties change render is called
 */
const shouldUpdateProperties = ['withShadow', 'transparent', 'spacing', 'transitionStyle', 'fullScreen', 'zIndex'];
/**
 * When these properties change refit is called
 */
const shouldRefitProperties = ['position', 'x', 'y', 'positionTarget', 'horizontalOffset', 'verticalOffset', 'offset', 'fullScreen', 'noOverlap'];
/**
 * Element to help building modals, dialogs and other popup content
 * @fires closed - Dispatched when popup becomes invisible and close animation finishes
 * @fires opened - Dispatched when the popup becomes visible and the open animation finishes
 * @fires refit - Dispatched when refit algorithm finishes calculations
 * @fires opened-changed - Dispatched when when open attribute changes internally. Prevent default to stop opening/closing pipeline
 */
let coral_popup_panel_CoralPopupPanel = CoralPopupPanel_1 = class CoralPopupPanel extends elf["f" /* ResponsiveElement */] {
    constructor() {
        super(...arguments);
        this.defaultTabIndex = -1;
        this._fullyOpened = OpenedState.CLOSED;
        /**
         * True if the popup panel is currently displayed
         */
        this.opened = false;
        /**
         * True to add shadow
         */
        this.withShadow = false;
        /**
         * True to make popup background transparent
         */
        this.transparent = false;
        /**
         * True to apply spacing for popup content
         */
        this.spacing = false;
        /**
         * A pixel value that will be added to the position calculated on the horizontal axis.
         * The offset will be applied either to the `left` or `right` depending on the `positionTarget`
         */
        this.horizontalOffset = 0;
        /**
         * A pixel value that will be added to the position calculated on the vertical axis.
         * The offset will be applied either to the `top` or `bottom` depending on the `positionTarget`
         */
        this.verticalOffset = 0;
        /**
         * A pixel value that will be added to the position calculated on the vertical or horizontal axis.
         * The offset is applied dynamically depending on the `positionTarget`
         */
        this.offset = 0;
        /**
         * Set to true to disable canceling the overlay with the ESC key
         */
        this.noCancelOnEscKey = false;
        /**
         * Set to true to disable canceling the overlay by clicking outside it
         */
        this.noCancelOnOutsideClick = false;
        /**
         * Set to true to show popup in full screen mode
         */
        this.fullScreen = false;
        /**
         * True to not overlap positionTarget
         */
        this.noOverlap = false;
        /**
         * Stop preventing user interaction when popup is visible
         */
        this.noInteractionLock = false;
        /**
         * True to not apply focus management.
         * The popup will not limit Tab behaviour or do auto-focusing
         */
        this.noFocusManagement = false;
        /**
         * True to lock position target
         * Valid only if noInteractionLock is false (default)
         */
        this.lockPositionTarget = false;
        /**
         * A list of elements, which are active when popup is opened
         * Valid only if noInteractionLock is false (default)
         */
        this.interactiveElements = [];
        /**
         * True to show backdrop
         */
        this.withBackdrop = false;
        /**
         * Set to true to disable autofocusing the popup or open
         */
        this.noAutofocus = false;
        /**
         * Set focus boundary to restrict tabbing. Default's popup itself.
         * If external focus is required, set to null
         */
        this.focusBoundary = this;
        this._firstResizeDone = false;
        /**
         * Used internally to keep calculated positions
         */
        this.calculated = {};
        this.toggleDeprecationNotice = new elf["c" /* DeprecationNotice */]('toggle is deprecated. Use "opened" property instead.', SupportURL);
        this.openDeprecationNotice = new elf["c" /* DeprecationNotice */]('open is deprecated. Use "opened=true" instead.', SupportURL);
        this.closeDeprecation = new elf["c" /* DeprecationNotice */]('close is deprecated. Use "opened=false" instead.', SupportURL);
        this.cancelDeprecation = new elf["c" /* DeprecationNotice */]('cancel is deprecated. Use "opened=false" instead.', SupportURL);
        this.alignDeprecation = new elf["c" /* DeprecationNotice */]('horizontalAlign and verticalAlign are deprecated. Use position instead.', SupportURL);
        this.scrollLockDeprecation = new elf["c" /* DeprecationNotice */]('"no-scroll-lock" is deprecated. Use "no-interaction-lock" instead.');
        this.redrawThrottler = new utils["b" /* AnimationTaskRunner */]();
        /**
         * Ensure that the opened flag gets removed when transition has finished
         * Ensure that transitioned hook is applied when opened
         * @returns {void}
         */
        this.onOpenedChangedAnimationEvent = () => {
            this.animationReady = false;
            this.animationReverse = this.opened;
            if (!this.opened) {
                this.onFullyClosed();
            }
            else {
                this.onFullyOpened();
            }
        };
        this.fitThrottler = new utils["f" /* MicroTaskRunner */]();
        this.resizeHeight = 0; /* stored popup height */
        this.resizeWidth = 0; /* stored popup width */
        this.resizedThrottler = new utils["f" /* MicroTaskRunner */](); /* resize throttler to prevent resize observer loop */
    }
    /**
    * Element version number
    */
    static get version() {
        return '4.5.25';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return elf["h" /* css */] `
      :host {
        display: inline-block;
        box-sizing: border-box;
        position: fixed;
        touch-action: manipulation;
        outline: none;
      }

      :host(:not([opened]):not([animation-ready])) {
        display: none !important;
      }

      :host(:not([first-resize-done])) {
        pointer-events: none !important; /* needs for Mobile to prevent tap while popup is not yet on the screen */
        opacity: 0 !important; /* visibility does not work in IE11 */
      }

      :host(:not([animation-ready])) {
        animation: none  !important;
        transition: none !important;
        transform: none !important;
        top: 0;
        left: 0;
      }

      :host([transition-style]) {
        transition-timing-function: ease-out;
        animation-duration: 500ms;
      }

      :host([transition-style][animation-reverse]) {
        animation-direction: reverse;
      }

      @keyframes popup-scale {
        from { transform: scale(0, 0); }
        to { transform: scale(1, 1); }
      }

      @keyframes popup-scale-vertical {
        from { transform: scaleY(0); }
        to { transform: scaleY(1); }
      }

      @keyframes popup-scale-horizontal {
        from { transform: scaleX(0); }
        to { transform: scaleX(1); }
      }

      @keyframes popup-scale-fade {
        from { opacity: 0; }
        58% { opacity: 0.3; }
        to { opacity: 1; }
      }

      @keyframes popup-fade {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      /* set origins */
      :host([transition-style="slide-down"]),
      :host([transition-style="slide"][animation-position="bottom"]) {
        transform-origin: center top;
      }
      :host([transition-style="slide-up"]),
      :host([transition-style="slide"][animation-position="top"]) {
        transform-origin: center bottom;
      }
      :host([transition-style="slide-left"]),
      :host([transition-style="slide"][animation-position="left"]) {
        transform-origin: right center;
      }
      :host([transition-style="slide-right"]),
      :host([transition-style="slide"][animation-position="right"]) {
        transform-origin: left center;
      }
      :host([transition-style="slide-right-down"]) {
        transform-origin: left top;
      }
      :host([transition-style="slide-right-up"]) {
        transform-origin: left bottom;
      }
      :host([transition-style="slide-left-down"]) {
        transform-origin: right top;
      }
      :host([transition-style="slide-left-up"]) {
        transform-origin: right bottom;
      }

      /* set animation names */
      :host([transition-style="slide-right-down"]),
      :host([transition-style="slide-right-up"]),
      :host([transition-style="slide-left-down"]),
      :host([transition-style="slide-left-up"]),
      :host([transition-style="zoom"]) {
        animation-name: popup-scale, popup-scale-fade;
      }
      :host([transition-style="fade"]) {
        animation-name: popup-fade;
      }
      :host([transition-style="slide-down"]),
      :host([transition-style="slide"][animation-position="bottom"]),
      :host([transition-style="slide-up"]),
      :host([transition-style="slide"][animation-position="top"]) {
        animation-name: popup-scale-vertical, popup-scale-fade;
      }
      :host([transition-style="slide-left"]),
      :host([transition-style="slide"][animation-position="left"]),
      :host([transition-style="slide-right"]),
      :host([transition-style="slide"][animation-position="right"]) {
        animation-name: popup-scale-horizontal, popup-scale-fade;
      }

      /* shadow comes from theme */
      :host([transparent]) {
        -webkit-box-shadow: none !important;
        -moz-box-shadow: none !important;
        box-shadow: none !important;
        background: none !important;
        border-color: transparent !important;
      }
    `;
    }
    /**
     * (Deprecated) use `no-interaction-lock` instead
     * @param noScrollLock True to apply interaction lock
     * @default
     */
    set noScrollLock(noScrollLock) {
        this.scrollLockDeprecation.once();
        this.noInteractionLock = noScrollLock;
    }
    get noScrollLock() {
        this.scrollLockDeprecation.once();
        return this.noInteractionLock;
    }
    /**
     * Set position and align against the attach target.
     * Position may contain a single word or a comma separated list to set the priority.
     * Position is not applied if `attachTarget` is not HTML Element.
     * For instance: `[bottom-middle, top-middle]` - default position is bottom-middle, if cannot fit position top-middle;
     * or `[left, right]` - align is not set, set best position on the left or right
     *
     * Position can be: `top`, `right`, `bottom`, `left`, `center`
     * Align can be: `start`, `middle`, `end`
     *
     * @param value Position value
     */
    set position(value) {
        const oldPosition = this._position;
        if (oldPosition !== value) {
            this._positionStrategy = undefined;
            this._position = value;
            void this.requestUpdate('position', oldPosition);
        }
    }
    get position() {
        return this._position;
    }
    /**
     * Get parsed position strategy or the default strategy if none provided
     * @returns positionStrategy as a list of tuples containing position and align
     */
    get positionStrategy() {
        if (this._positionStrategy) {
            return this._positionStrategy;
        }
        if (!this.position) {
            return undefined;
        }
        const positionList = [...this.position];
        const positionStrategy = this._positionStrategy = [];
        while (positionList.length) {
            const position = positionList.shift();
            if (!position) {
                continue;
            }
            const strategy = position.split('-');
            if (!strategy[1]) {
                const defaultAlign = DEFAULT_ALIGN.get(strategy[0]);
                if (!defaultAlign) {
                    throw new Error(`coral-popup-panel: incorrect position provided: ${strategy[0]}`);
                }
                strategy.push(defaultAlign);
            }
            positionStrategy.push(strategy);
        }
        return positionStrategy;
    }
    /**
     * Get position target configuration based on positionTarget and fullScreen properties
     * Used for caching and calculations
     */
    get positionTargetConfig() {
        const { viewHeight, viewWidth, viewOffsetTop, viewOffsetLeft } = this.viewAreaInfo;
        let left;
        let top;
        if (this.fullScreen) { /* keep it for caching only to not break other algorithms */
            return {
                rect: {
                    top: 0,
                    bottom: 0,
                    left: 0,
                    right: 0,
                    height: viewHeight,
                    width: viewWidth
                },
                position: [['center', 'middle']]
            };
        }
        if (this.positionTarget instanceof HTMLElement) {
            const positionTargetElRect = this.positionTarget.getBoundingClientRect();
            return {
                rect: {
                    top: positionTargetElRect.top - viewOffsetTop,
                    right: positionTargetElRect.right - viewOffsetLeft,
                    bottom: positionTargetElRect.bottom - viewOffsetTop,
                    left: positionTargetElRect.left - viewOffsetLeft,
                    width: positionTargetElRect.width,
                    height: positionTargetElRect.height
                },
                position: [...(this.positionStrategy || DEFAULT_TARGET_STRATEGY)]
            };
        }
        const x = this.x || 0;
        const y = this.y || 0;
        let positionTarget = `${typeof this.x === 'number' && this.x >= 0 ? 'left' : 'center'} ${typeof this.y === 'number' && this.y >= 0 ? 'top' : 'center'}`;
        if (typeof this.positionTarget === 'string') {
            positionTarget = this.positionTarget.trim() || positionTarget;
            const positionTargetList = positionTarget.split(' ').slice(0, 2);
            if (positionTargetList.length === 1) {
                positionTargetList.push('center');
            }
            positionTarget = positionTargetList.join(' ');
        }
        let defaultPosition;
        /* istanbul ignore next */
        switch (positionTarget) {
            case 'top left':
            case 'left top':
                left = x;
                top = y;
                defaultPosition = ['bottom', 'start'];
                break;
            case 'top center':
            case 'center top':
                left = viewWidth / 2 + x;
                top = y;
                defaultPosition = ['bottom', 'middle'];
                break;
            case 'top right':
            case 'right top':
                left = viewWidth - x;
                top = y;
                defaultPosition = ['bottom', 'end'];
                break;
            case 'center left':
            case 'left center':
                left = x;
                top = viewHeight / 2 + y;
                defaultPosition = ['right', 'middle'];
                break;
            case 'center right':
            case 'right center':
                left = viewWidth - x;
                top = viewHeight / 2 + y;
                defaultPosition = ['left', 'middle'];
                break;
            case 'bottom left':
            case 'left bottom':
                left = x;
                top = viewHeight - y;
                defaultPosition = ['top', 'start'];
                break;
            case 'bottom center':
            case 'center bottom':
                left = viewWidth / 2 + x;
                top = viewHeight - y;
                defaultPosition = ['top', 'middle'];
                break;
            case 'bottom right':
            case 'right bottom':
                left = viewWidth - x;
                top = viewHeight - y;
                defaultPosition = ['top', 'end'];
                break;
            case 'center center':
            default:
                left = viewWidth / 2 + x;
                top = viewHeight / 2 + y;
                defaultPosition = ['center', 'middle'];
        }
        return {
            rect: {
                top,
                bottom: top,
                left,
                right: left,
                height: 0,
                width: 0
            },
            position: [...(this.positionStrategy || [defaultPosition])]
        };
    }
    /**
     * A hook to reset transition and transform when the popup is opened.
     * This removes the complexity of calculating specific "transformed"
     * coordinates for descendant elements
     * @param animationReady True to set attribute
     */
    set animationReady(animationReady) {
        toggleAttribute(this, 'animation-ready', animationReady);
    }
    /**
     * Run the animation reverse order when closing
     * @param animationReverse True to set attribute
     */
    set animationReverse(animationReverse) {
        toggleAttribute(this, 'animation-reverse', animationReverse);
    }
    /**
     * Used with dynamic `slide` animation to detect correct animation position
     * @param animationPosition Set animation position
     */
    set animationPosition(animationPosition) {
        toggleAttribute(this, 'animation-position', animationPosition);
    }
    /**
     * Used to set attribute after the initial callback has been fired
     * A function is here to sort IE11 flickering problem
     * @param firstResizeDone True if the initial resize has happened
     */
    set firstResizeDone(firstResizeDone) {
        if (this._firstResizeDone !== firstResizeDone) {
            this._firstResizeDone = firstResizeDone;
            toggleAttribute(this, 'first-resize-done', firstResizeDone);
        }
    }
    get firstResizeDone() {
        return this._firstResizeDone;
    }
    /**
     * All internal opened set events can be stoppable externally
     * Use this instead of setting opened directly
     * Protected method that can be used by managers or subclasses
     * @param opened True if opened
     * @returns {void}
     */
    setOpened(opened) {
        if (this.opened !== opened) {
            if (this.notifyPropertyChange('opened', opened, true)) {
                this.opened = opened;
            }
        }
    }
    disconnectedCallback() {
        this.removeMainRegisters();
        this.onFullyClosed();
        super.disconnectedCallback();
    }
    /**
     * Called when the elements DOM has been updated and rendered
     * @param changedProperties Properties that has changed
     * @returns shouldUpdate
     */
    shouldUpdate(changedProperties) {
        const isOpened = this.opened;
        const isClosed = !this.opened;
        const opening = changedProperties.has('opened') && isOpened;
        const closing = changedProperties.has('opened') && isClosed;
        this.setRegisters(changedProperties);
        // Should update routing is calling render method. Not every attribute should result in render being called
        let shouldUpdate = opening || closing || this.hasUpdated === 0 || changedProperties.size === 0;
        // Element may need to be updated if other attributes has been changed while the popup is opened
        if (!shouldUpdate && isOpened) {
            if (shouldUpdateProperties.find(property => changedProperties.has(property))) {
                shouldUpdate = true;
            }
        }
        this.setDeprecatedPosition(changedProperties); /* this can update position */
        // refit is separate routine that calls refit method
        // note: refit is called by ResizeCallback as well
        // therefore we check the opened state
        if (opening || closing) {
            this.openedChange();
        }
        else if (this.opened) {
            // Explicitly call hard refit
            if (shouldRefitProperties.find(property => changedProperties.has(property))) {
                this.refit();
            }
        }
        return shouldUpdate;
    }
    /**
     * Run when opened attribute changes.
     * The function must be throttled in animation task to give time an element to be rendered
     * @returns {void}
     */
    openedChange() {
        if (!this.opened) {
            if (this._fullyOpened === OpenedState.OPENED) { /* cannot set to closing if the popup has not been fully opened */
                this._fullyOpened = OpenedState.CLOSING;
            }
            this.removeMainRegisters();
            if (this.transitionStyle) {
                this.onOpenedChangedAnimation(); /* animation will fully close popup on animation finish */
            }
            else {
                this.onFullyClosed();
            }
        }
        // These hacks are required in order to solve a problem when IE11 or Edge does not display
        // the component, even if all CSS properties are set correctly
        // The reason of such behaviour is unknown, but may be related to polyfills
        /* istanbul ignore next */
        if (isIE) {
            this.redrawThrottler.schedule(() => this.style.setProperty('clear', 'none'));
        }
        else if (isEdge) {
            this.redrawThrottler.schedule(() => this.updateVariable('--redraw', `${Date.now()}`));
        }
        /*
        https://github.com/juggle/resize-observer/issues/42
    
        This event ensures that ResizeObserver picks up resize events
        when popup is deeply nested inside shadow root.
        TODO: remove this workaround once ResizeObserver handles shadow root scenario
        */
        window.dispatchEvent(new Event('animationiteration'));
    }
    /**
     * This function sets obligatory registers
     * and sets/removes optional registers
     * based on the fact whether the popup is opened or not
     * or whether the register attribute has changed
     * @param changedProperties Changed properties
     * @returns {void}
     */
    setRegisters(changedProperties) {
        const opened = this.opened;
        const opening = changedProperties.has('opened') && opened;
        /* !!! Obligatory managers cannot be removed here, as this function is synchronous and animations must be taken into account !!! */
        if (opening) {
            // must come first as used by other managers
            Object(zindex_manager["d" /* register */])(this);
            register(this);
            close_manager_register(this, () => {
                this.setOpened(false);
            });
        }
        const enablingFocusManagement = (opening && !this.noFocusManagement) || (opened && changedProperties.get('noFocusManagement'));
        const disablingFocusManagement = opened && changedProperties.get('noFocusManagement') === false;
        if (enablingFocusManagement) {
            focus_manager_register(this);
        }
        else if (disablingFocusManagement) {
            focus_manager_deregister(this);
        }
        if (opening || changedProperties.has('noInteractionLock') || changedProperties.has('lockPositionTarget') || changedProperties.has('interactiveElements')) {
            Object(interaction_lock_manager["a" /* applyLock */])();
        }
        const enablingBackdrop = (opening && this.withBackdrop) || (opened && changedProperties.get('withBackdrop') === false);
        const disablingBackdrop = opened && changedProperties.get('withBackdrop');
        if (enablingBackdrop) {
            backdrop_manager_register(this);
        }
        else if (disablingBackdrop) {
            backdrop_manager_deregister(this);
        }
    }
    /**
     * This function is called in order to remove popup from main registers
     * Registers must be removed in correct order, otherwise popup might behave
     * unexpectedly. All other registers are removed inside onFullyClosed function
     * once animations are finished or on disconnectedCallback
     * @returns {void}
     */
    removeMainRegisters() {
        Object(zindex_manager["a" /* deregister */])(this);
        deregister(this);
        close_manager_deregister(this);
        focus_manager_deregister(this);
    }
    /**
     * Check deprecated horizontalAlign and verticalAlign and set position if required
     * @param changedProperties Properties that has changed
     * @returns shouldUpdate
     */
    setDeprecatedPosition(changedProperties) {
        if (changedProperties.has('horizontalAlign') || changedProperties.has('verticalAlign')) {
            if (this.horizontalAlign || this.verticalAlign) {
                this.alignDeprecation.once();
                this.position = this.getDeprecatedPosition();
            }
            else if (changedProperties.get('horizontalAlign') || changedProperties.get('verticalAlign')) {
                this.position = undefined; /* Reset to default */
            }
        }
    }
    /**
     * Get position from deprecated horizontalAlign and verticalAlign
     * @returns position
     */
    getDeprecatedPosition() {
        switch (`${this.horizontalAlign || 'auto'}-${this.verticalAlign || 'auto'}`) {
            case 'auto-top':
                return ['bottom-start', 'bottom-middle', 'bottom-end'];
            case 'auto-middle':
                return ['right-middle', 'left-middle'];
            case 'auto-bottom':
                return ['top-start', 'top-middle', 'top-end'];
            case 'left-auto':
                return ['bottom-start', 'top-start', 'right-middle'];
            case 'left-top':
                return ['bottom-start'];
            case 'left-middle':
                return ['right-middle'];
            case 'left-bottom':
                return ['top-start'];
            case 'center-auto':
                return ['bottom-middle', 'top-middle', 'center-middle'];
            case 'center-top':
                return ['bottom-middle'];
            case 'center-middle':
                return ['center-middle'];
            case 'center-bottom':
                return ['top-middle'];
            case 'right-auto':
                return ['bottom-end', 'top-end', 'left-middle'];
            case 'right-top':
                return ['bottom-end'];
            case 'right-middle':
                return ['left-middle'];
            case 'right-bottom':
                return ['top-end'];
            default:
                return undefined; /* Reset to default */
        }
    }
    /**
     * Set and remove animation event listener
     * @returns {void}
     */
    onOpenedChangedAnimation() {
        this.animationPosition = this.calculated.position || 'bottom';
        this.animationReverse = !this.opened;
        this.animationReady = true;
        this.removeEventListener('animationend', this.onOpenedChangedAnimationEvent);
        this.addEventListener('animationend', this.onOpenedChangedAnimationEvent, { once: true });
    }
    /**
     * A helper method to fire opening events
     * @returns {void}
     */
    onFullyOpened() {
        const fullyOpened = this._fullyOpened;
        this._fullyOpened = OpenedState.OPENED;
        if (fullyOpened === OpenedState.OPENING) {
            this.onOpened();
            this.dispatchEvent(new CustomEvent('opened'));
        }
    }
    /**
     * A helper method to deregister element from all listeners
     * once the popup is fully closed
     * Note: some registries are remove immediately after close
     * @returns {void}
     */
    onFullyClosed() {
        this.firstResizeDone = false;
        Object(interaction_lock_manager["a" /* applyLock */])();
        this.resetSizingInfo();
        this.clearCached();
        backdrop_manager_deregister(this);
        const fullyOpened = this._fullyOpened;
        this._fullyOpened = OpenedState.CLOSED;
        if (fullyOpened === OpenedState.CLOSING) {
            this.onClosed();
            this.dispatchEvent(new CustomEvent('closed'));
        }
    }
    /**
     * Run when the popup has opened, initial positioning is done,
     * managers are registered and opening transition has finished
     * @returns {void}
     */
    onOpened() {
        // opened routine
    }
    /**
     * Run when the popup has closed, managers are de-registered
     * and closing transition has finished
     * @returns {void}
     */
    onClosed() {
        // closed routine
    }
    /**
     * A helper method to set or remove style property if the value is different
     * @param property Property name
     * @param value Property value
     * @returns {void}
     */
    setPropertyIf(property, value) {
        const cached = this.cachedProperties || {};
        this.cachedProperties = cached;
        if (cached[property] === value) {
            return;
        }
        cached[property] = value;
        if (value !== null) {
            this.style.setProperty(property, value);
        }
        else {
            this.style.removeProperty(property);
        }
    }
    /**
     * Cache height and width.
     * Calculating offsetHeight and offsetWidth is expensive,
     * therefore try to use cached version
     * @returns {void}
     */
    setResizeSizingInfo() {
        const { computed: { marginTop, marginRight, marginBottom, marginLeft } } = this.sizingInfo;
        const offsetHeight = this.offsetHeight;
        const offsetWidth = this.offsetWidth;
        this.resizeHeight = offsetHeight ? offsetHeight + valueOrZero(marginTop) + valueOrZero(marginBottom) : 0;
        this.resizeWidth = offsetWidth ? offsetWidth + valueOrZero(marginRight) + valueOrZero(marginLeft) : 0;
    }
    /**
     * Get popup with and height information
     * Sizing is cached and may not reflect the current
     */
    get sizingRect() {
        return {
            width: this.resizeWidth,
            height: this.resizeHeight
        };
    }
    /**
     * A helper getter to get sizing information for the popup
     * @returns {Object} sizingInfo
     */
    get sizingInfo() {
        const computeStyle = window.getComputedStyle(this);
        if (!this._sizingInfo) {
            const style = this.style;
            // get minWidth and maxWidth
            this._sizingInfo = {
                computed: {
                    minWidth: valueOrNull(computeStyle.minWidth),
                    maxWidth: valueOrNull(computeStyle.maxWidth),
                    minHeight: valueOrNull(computeStyle.minHeight),
                    maxHeight: valueOrNull(computeStyle.maxHeight),
                    marginLeft: valueOrNull(computeStyle.marginLeft),
                    marginRight: valueOrNull(computeStyle.marginRight),
                    marginTop: valueOrNull(computeStyle.marginTop),
                    marginBottom: valueOrNull(computeStyle.marginBottom)
                },
                style: {
                    minWidth: style.getPropertyValue('min-width'),
                    maxWidth: style.getPropertyValue('max-width'),
                    minHeight: style.getPropertyValue('min-height'),
                    maxHeight: style.getPropertyValue('max-height')
                }
            };
        }
        return this._sizingInfo;
    }
    /**
     * Reset current sizing info to original values
     * @returns {void}
     */
    resetSizingInfo() {
        if (this._sizingInfo) {
            const { style: { minWidth, maxWidth, minHeight, maxHeight } } = this.sizingInfo;
            this.setPropertyIf('min-width', minWidth);
            this.setPropertyIf('max-width', maxWidth);
            this.setPropertyIf('min-height', minHeight);
            this.setPropertyIf('max-height', maxHeight);
            this.setPropertyIf('top', null);
            this.setPropertyIf('left', null);
            this.setPropertyIf('right', null);
            this.setPropertyIf('bottom', null);
            this.setResizeSizingInfo();
        }
    }
    /**
     * Get information of view boundaries for the popup
     */
    get viewAreaInfo() {
        return getViewAreaInfo(this);
    }
    /**
     * Enforce the popup to fit the viewArea
     * @param [viewHeight=this._viewAreaInfo.viewHeight] Height to limit to
     * @param [viewWidth=this._viewAreaInfo.viewWidth] Width to limit to
     * @returns {void}
     */
    limitToViewArea(viewHeight, viewWidth) {
        if (!viewHeight || !viewWidth) {
            const viewAreaInfo = this.viewAreaInfo;
            viewHeight = viewHeight || viewAreaInfo.viewHeight;
            viewWidth = viewWidth || viewAreaInfo.viewWidth;
        }
        const viewAreaHeight = viewHeight;
        const viewAreaWidth = viewWidth;
        const computed = this.sizingInfo.computed;
        // max-width & max-height do not include margins
        const maxWidth = viewAreaWidth - valueOrZero(computed.marginLeft) - valueOrZero(computed.marginRight);
        const maxHeight = viewAreaHeight - valueOrZero(computed.marginTop) - valueOrZero(computed.marginBottom);
        // rect might change when changing height and widths. Thus do two runs (which is not brilliant)
        const limit = () => {
            const { width, height } = this.sizingRect;
            let secondRun = false;
            if (computed.minWidth && computed.minWidth > maxWidth) { /* Adjust min-width to always fit */
                this.setPropertyIf('min-width', `${maxWidth}px`);
                secondRun = true;
            }
            if (width > viewAreaWidth) { /* Adjust max-width to always fit */
                this.setPropertyIf('max-width', `${maxWidth}px`);
                secondRun = true;
            }
            if (computed.minHeight && computed.minHeight > maxHeight) { /* Adjust min-height to always fit */
                this.setPropertyIf('min-height', `${maxHeight}px`);
                secondRun = true;
            }
            if (height > viewAreaHeight) { /* Adjust max-height to always fit */
                this.setPropertyIf('max-height', `${maxHeight}px`);
                secondRun = true;
            }
            return secondRun;
        };
        if (limit()) {
            this.setResizeSizingInfo(); /* each resize needs refreshing sizing info */
            limit();
            this.setResizeSizingInfo();
        }
    }
    /**
     * Set top, left, right, bottom to style tag taking into account offset.
     * If property is null or undefined, remove from style tag
     * @param style An object containing top, left, right and/or bottom
     * @returns {void}
     */
    setPositionStyle(style) {
        const { top, left, right, bottom } = style;
        const { offsetTop, offsetLeft, offsetBottom, offsetRight } = this.viewAreaInfo;
        const set = (property, value, offset = 0) => {
            this.setPropertyIf(property, typeof value === 'number' ? `${value + offset}px` : 'auto');
        };
        set('top', top, offsetTop);
        set('left', left, offsetLeft);
        set('right', right, offsetRight);
        set('bottom', bottom, offsetBottom);
    }
    /**
     * This function serves as a safeguard between resize observer and internal logic to prevent resize loop
     * fit setting. Never refits the popup if previous sizes are the same as last fit size
     * @param clb Callback to run if cache has changed
     * @returns {void}
     */
    refitIfChanged(clb) {
        const getRefitString = () => {
            const positionTargetConfig = this.positionTargetConfig;
            const targetRect = positionTargetConfig.rect;
            const positionList = positionTargetConfig.position;
            const { viewHeight, viewWidth, offsetBottom, offsetTop, offsetRight, offsetLeft } = this.viewAreaInfo;
            return JSON.stringify({
                rect: Object.assign({}, this.sizingRect),
                verticalOffset: this.verticalOffset,
                horizontalOffset: this.horizontalOffset,
                offset: this.offset,
                positionList,
                viewHeight,
                viewWidth,
                offsetBottom,
                offsetTop,
                offsetRight,
                offsetLeft,
                targetRect: {
                    height: targetRect.height,
                    width: targetRect.width,
                    top: targetRect.top,
                    bottom: targetRect.bottom,
                    left: targetRect.left,
                    right: targetRect.right
                }
            });
        };
        const { height, width } = this.sizingRect; /* need this for IE, as width and height is 0 on first render */
        if (this.refitString && this.refitString === getRefitString() || (!height || !width)) {
            return;
        }
        clb();
        this.setResizeSizingInfo();
        this.refitString = getRefitString();
    }
    /**
     * Immediately run fit method without throttling
     * Use carefully as calling this function multiple times has a performance impact
     * @returns {void}
     */
    fitNonThrottled() {
        this.refitIfChanged(() => {
            this.fitPositionTarget();
            this.dispatchEvent(new CustomEvent('refit'));
        });
    }
    /**
     * Fit based on the position target
     * @returns {void}
     */
    fitPositionTarget() {
        this.resetSizingInfo();
        if (this.fullScreen) { /* no need to calculate anything else in full screen mode */
            this.setPositionStyle({
                top: 0,
                left: 0,
                bottom: 0,
                right: 0
            });
            return;
        }
        const Position = 0;
        const Alignment = 1;
        const positionTargetConfig = this.positionTargetConfig;
        const targetRect = positionTargetConfig.rect;
        const positionList = positionTargetConfig.position;
        const horizontalOffset = this.horizontalOffset;
        const verticalOffset = this.verticalOffset;
        const positionHorizontalOffset = horizontalOffset + this.offset; /* these offset are used with optional offset against the target */
        const positionVerticalOffset = verticalOffset + this.offset;
        this.limitToViewArea();
        const { viewHeight, viewWidth } = this.viewAreaInfo;
        const { width, height } = this.sizingRect;
        const calculatedPositionList = [];
        const isOutsideView = targetRect.bottom < 0
            || targetRect.top > viewHeight
            || targetRect.right < 0
            || targetRect.left > viewWidth; /* position target is outside view */
        const canAlignPosition = (isVertical, align) => {
            if (isVertical) {
                let left;
                let right;
                switch (align) {
                    case 'start':
                        left = targetRect.left + horizontalOffset;
                        break;
                    case 'end':
                        left = targetRect.right - width - horizontalOffset;
                        break;
                    case 'middle':
                    default:
                        left = targetRect.left + targetRect.width / 2 - width / 2 + horizontalOffset;
                        break;
                }
                const canAlign = left >= 0 && left + width <= viewWidth;
                if (!canAlign) {
                    left = left < 0 ? 0 : undefined;
                    right = left === undefined ? 0 : undefined;
                }
                return {
                    canAlign,
                    left,
                    right
                };
            }
            let top;
            let bottom;
            switch (align) {
                case 'start':
                    top = targetRect.top + verticalOffset;
                    break;
                case 'middle':
                    top = targetRect.top + targetRect.height / 2 - height / 2 + verticalOffset;
                    break;
                case 'end':
                default:
                    top = targetRect.bottom - height - verticalOffset;
                    break;
                // no default
            }
            const canAlign = top >= 0 && top + height <= viewHeight;
            if (!canAlign) {
                top = top < 0 ? 0 : undefined;
                bottom = top === undefined ? 0 : undefined;
            }
            return {
                canAlign,
                top,
                bottom
            };
        };
        if (isOutsideView) {
            let position;
            let top;
            let bottom;
            let right;
            let left;
            const findAlignMatch = (isVertical, isBefore) => {
                const positionListLocal = [...positionList];
                while (positionListLocal.length) {
                    const strategy = positionListLocal.shift();
                    if (!strategy) {
                        continue;
                    }
                    const position = strategy[Position];
                    const align = strategy[Alignment];
                    if ((isVertical && isBefore && position === 'bottom')
                        || (isVertical && !isBefore && position === 'top')
                        || (!isVertical && isBefore && position === 'right')
                        || (!isVertical && !isBefore && position === 'left')) {
                        return align;
                    }
                }
                // Just default aligns if valid position is not defined
                return [...positionList][0][Alignment];
            };
            // if target is outside view, it can always be positioned
            if (targetRect.bottom <= 0) {
                position = 'bottom';
                top = 0;
            }
            else if (targetRect.top >= viewHeight) {
                position = 'top';
                bottom = 0;
            }
            if (targetRect.right <= 0) {
                position = 'right';
                left = 0;
            }
            else if (targetRect.left >= viewWidth) {
                position = 'left';
                right = 0;
            }
            if (top === undefined && bottom === undefined) { /* position target is outside left or right */
                // always attach to the middle of the screen
                const align = findAlignMatch(false, targetRect.right <= 0);
                const alignPosition = canAlignPosition(false, align);
                top = alignPosition.top;
                bottom = alignPosition.bottom;
            }
            if (right === undefined && left === undefined) { /* position target is outside top or bottom */
                const align = findAlignMatch(true, targetRect.bottom <= 0);
                const alignPosition = canAlignPosition(true, align);
                left = alignPosition.left;
                right = alignPosition.right;
            }
            this.calculated.position = position;
            this.setPositionStyle({
                top,
                bottom,
                left,
                right
            });
            return;
        }
        while (positionList.length) {
            const strategy = positionList.shift();
            if (!strategy) {
                continue;
            }
            const position = strategy[Position];
            const align = strategy[Alignment];
            const isVertical = position === 'top' || position === 'bottom' || position === 'center';
            let canPosition = false;
            let top;
            let left;
            let right;
            let bottom;
            let area = -1;
            switch (position) {
                case 'bottom':
                    top = targetRect.bottom + positionVerticalOffset;
                    area = Math.min(viewWidth, width) * (viewHeight - targetRect.bottom);
                    canPosition = top >= 0 && top + height <= viewHeight;
                    break;
                case 'top':
                    bottom = viewHeight - targetRect.top + positionVerticalOffset;
                    area = Math.min(viewWidth, width) * targetRect.top;
                    canPosition = bottom >= 0 && bottom + height <= viewHeight;
                    break;
                case 'right':
                    left = targetRect.right + positionHorizontalOffset;
                    area = Math.min(viewHeight, height) * (viewWidth - targetRect.right);
                    canPosition = left >= 0 && left + width <= viewWidth;
                    break;
                case 'left':
                    right = viewWidth - targetRect.left + positionHorizontalOffset;
                    area = Math.min(viewHeight, height) * targetRect.left;
                    canPosition = right >= 0 && right + width <= viewWidth;
                    break;
                case 'center': /* noOverlap is not valid for center. Center can be always positioned */
                    top = targetRect.top + targetRect.height / 2 - height / 2 + positionVerticalOffset;
                    bottom = top + height > viewHeight ? 0 : undefined;
                    top = top < 0 ? 0 : (bottom === undefined ? top : undefined);
                    canPosition = true; /* no overlap does not make sense here */
                    area = Infinity;
                    break;
                // no default
            }
            const alignPosition = canAlignPosition(isVertical, align);
            const canAlign = alignPosition.canAlign;
            if (isVertical) {
                left = alignPosition.left;
                right = alignPosition.right;
            }
            else {
                top = alignPosition.top;
                bottom = alignPosition.bottom;
            }
            if (canAlign && canPosition) { /* no need to continue */
                this.calculated.position = position;
                this.setPositionStyle({
                    top,
                    left,
                    bottom,
                    right
                });
                return;
            }
            calculatedPositionList.push({
                position,
                align,
                canPosition,
                canAlign,
                top,
                left,
                right,
                bottom,
                isVertical,
                area
            });
        }
        // position always takes priority over align
        for (let i = 0; i < calculatedPositionList.length; i += 1) {
            const { canPosition, top, left, position, right, bottom } = calculatedPositionList[i];
            if (canPosition) {
                this.calculated.position = position;
                this.setPositionStyle({
                    top,
                    left,
                    right,
                    bottom
                });
                return;
            }
        }
        // find position with the most available screen real estate
        calculatedPositionList.sort((pos1, pos2) => pos2.area - pos1.area);
        // no-overlap is different
        // if cannot fit within the position-align, find the best space to position
        // and restrict within min-height and max-height
        if (this.noOverlap) {
            const { position } = calculatedPositionList[0];
            switch (position) {
                case 'bottom':
                    this.limitToViewArea(viewHeight - targetRect.bottom - positionVerticalOffset);
                    break;
                case 'top':
                    this.limitToViewArea(targetRect.top - positionVerticalOffset);
                    break;
                case 'right':
                    this.limitToViewArea(undefined, viewWidth - targetRect.right - positionHorizontalOffset);
                    break;
                case 'left':
                    this.limitToViewArea(undefined, targetRect.left - positionHorizontalOffset);
                    break;
                // no default
            }
        }
        // cannot set position. In this case just take the first calculated position and try to
        // position and align with the best match
        const { isVertical, top, position, left, right, bottom } = calculatedPositionList[0];
        const getNewPosition = () => {
            if (isVertical) {
                return position === 'bottom' ? {
                    bottom: 0,
                    top: null
                } : {
                    bottom: null,
                    top: 0 /* position up-bottom */
                };
            }
            return position === 'right' ? {
                right: 0,
                left: null
            } : {
                right: null,
                left: 0 /* position left-right */
            };
        };
        this.calculated.position = position;
        this.setPositionStyle(Object.assign({
            top,
            left,
            right,
            bottom
        }, getNewPosition()));
    }
    /**
     * Clear all cached values.
     * Run when external changes occur to styles to re-calculate position.
     * @returns {void}
     */
    clearCached() {
        this.refitString = undefined;
        this._sizingInfo = undefined;
        this.cachedProperties = undefined;
    }
    /**
     * Fit the popup panel
     * @returns {void}
     */
    fit() {
        this.fitThrottler.schedule(() => {
            if (!this.opened) {
                return;
            }
            this.fitNonThrottled();
        });
    }
    /**
     * Clear all cached values and fit the popup.
     * Use this function if any of `maxWidth`, `maxHeight`, `minWidth`, `minHeight`, `height` or `width` changed
     * @returns {void}
     */
    refit() {
        this.resetSizingInfo();
        this.clearCached();
        if (this.opened) {
            this.fit();
        }
    }
    /**
     * Element resize callback
     * @param size dimension details
     * @returns {void}
     * @private
     */
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    resizedCallback(size) {
        this.resizedThrottler.schedule(() => {
            if (!this.opened && this._fullyOpened === OpenedState.CLOSED) {
                // Do nothing on last resized callback
                return;
            }
            this.setResizeSizingInfo();
            this.fitNonThrottled();
            if (this.opened && this.firstResizeDone === false) {
                this.firstResizeDone = true;
                if (this._fullyOpened === OpenedState.CLOSED) { /* cannot set to opening if the popup has not been fully closed */
                    this._fullyOpened = OpenedState.OPENING;
                }
                if (this.transitionStyle) { /* this must come last when all register actions are completed */
                    this.onOpenedChangedAnimation();
                }
                else {
                    this.onFullyOpened();
                }
            }
        });
    }
    /**
     * Move popup to front of other popups
     * @returns {void}
     */
    toFront() {
        Object(zindex_manager["e" /* toFront */])(this);
    }
    /**
     * (Deprecated) toggle the opened state of the overlay
     * @deprecated - use `opened` property instead
     * @returns {void}
     */
    toggle() {
        this.toggleDeprecationNotice.once();
        this.setOpened(!this.opened);
    }
    /**
     * (Deprecated) open the overlay
     * @deprecated - use `opened=true` instead
     * @returns {void}
     */
    open() {
        this.openDeprecationNotice.once();
        this.setOpened(true);
    }
    /**
     * (Deprecated) close the overlay
     * @deprecated - use `opened=false` instead
     * @returns {void}
     */
    close() {
        this.closeDeprecation.once();
        this.setOpened(false);
    }
    /**
     * (Deprecated) cancels the overlay
     * @deprecated - use `opened=false` instead
     * @returns {void}
     */
    cancel() {
        this.cancelDeprecation.once();
        this.setOpened(false);
    }
    /**
     * Returns true if the popup is opened and animation is not running.
     * Returns false if popup is closed and animation is not running
     * @readonly
     */
    get fullyOpened() {
        return this._fullyOpened === OpenedState.OPENED;
    }
    /**
     * Returns true if popup is doing opening or closing transition
     * @readonly
     */
    get transitioning() {
        return this._fullyOpened === OpenedState.OPENING || this._fullyOpened === OpenedState.CLOSING;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        /**
         * Use JavaScript expressions to include property values in
         * the element template.
         */
        return CoralPopupPanel_1.Template;
    }
};
coral_popup_panel_CoralPopupPanel.Template = elf["k" /* html */] `<slot></slot>`;
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Boolean, reflect: true, hasChanged: hasBooleanChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "opened", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Boolean, reflect: true, attribute: 'with-shadow', hasChanged: hasBooleanChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "withShadow", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Boolean, reflect: true, hasChanged: hasBooleanChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "transparent", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Boolean, reflect: true, hasChanged: hasBooleanChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "spacing", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: String, reflect: true, attribute: 'transition-style' })
], coral_popup_panel_CoralPopupPanel.prototype, "transitionStyle", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Number, attribute: 'z-index' })
], coral_popup_panel_CoralPopupPanel.prototype, "zIndex", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Number, hasChanged: hasNumberChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "x", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Number, hasChanged: hasNumberChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "y", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ attribute: 'position-target' })
], coral_popup_panel_CoralPopupPanel.prototype, "positionTarget", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Number, attribute: 'horizontal-offset', hasChanged: hasNumberChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "horizontalOffset", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Number, attribute: 'vertical-offset', hasChanged: hasNumberChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "verticalOffset", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Number, hasChanged: hasNumberChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "offset", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Boolean, attribute: 'no-cancel-on-esc-key', hasChanged: hasBooleanChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "noCancelOnEscKey", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Boolean, attribute: 'no-cancel-on-outside-click', hasChanged: hasBooleanChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "noCancelOnOutsideClick", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Boolean, reflect: true, attribute: 'full-screen', hasChanged: hasBooleanChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "fullScreen", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Boolean, attribute: 'no-overlap', hasChanged: hasBooleanChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "noOverlap", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Boolean, attribute: 'no-interaction-lock', hasChanged: hasBooleanChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "noInteractionLock", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Boolean, attribute: 'no-focus-management', hasChanged: hasBooleanChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "noFocusManagement", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Boolean, attribute: 'lock-position-target', hasChanged: hasBooleanChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "lockPositionTarget", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({
        type: Array,
        attribute: false,
        hasChanged: (newVal, oldVal) => {
            if (!oldVal || newVal.length !== oldVal.length) {
                return true;
            }
            return newVal.some(el => !oldVal.includes(el));
        }
    })
], coral_popup_panel_CoralPopupPanel.prototype, "interactiveElements", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Boolean, attribute: 'with-backdrop', hasChanged: hasBooleanChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "withBackdrop", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Boolean, attribute: 'no-autofocus', hasChanged: hasBooleanChanged })
], coral_popup_panel_CoralPopupPanel.prototype, "noAutofocus", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: String, attribute: 'horizontal-align' })
], coral_popup_panel_CoralPopupPanel.prototype, "horizontalAlign", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: String, attribute: 'vertical-align' })
], coral_popup_panel_CoralPopupPanel.prototype, "verticalAlign", void 0);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({ type: Boolean, attribute: 'no-scroll-lock' })
], coral_popup_panel_CoralPopupPanel.prototype, "noScrollLock", null);
coral_popup_panel_decorate([
    Object(elf["n" /* property */])({
        type: Array,
        hasChanged(newVal, oldVal) {
            return newVal && oldVal ? newVal.join('') === oldVal.join('') : newVal !== oldVal;
        },
        converter: {
            fromAttribute: (value) => {
                return value.toLocaleLowerCase()
                    .replace(/ /g, '')
                    .replace(/\|/g, ',')
                    .split(',');
            }
        }
    })
], coral_popup_panel_CoralPopupPanel.prototype, "position", null);
coral_popup_panel_CoralPopupPanel = CoralPopupPanel_1 = coral_popup_panel_decorate([
    Object(elf["i" /* customElement */])('coral-popup-panel')
], coral_popup_panel_CoralPopupPanel);


// CONCATENATED MODULE: ./node_modules/@elf/coral-popup-panel/lib/index.js




/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TemplateInstance; });
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);
/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */


/**
 * An instance of a `Template` that can be attached to the DOM and updated
 * with new values.
 */
class TemplateInstance {
    constructor(template, processor, options) {
        this.__parts = [];
        this.template = template;
        this.processor = processor;
        this.options = options;
    }
    update(values) {
        let i = 0;
        for (const part of this.__parts) {
            if (part !== undefined) {
                part.setValue(values[i]);
            }
            i++;
        }
        for (const part of this.__parts) {
            if (part !== undefined) {
                part.commit();
            }
        }
    }
    _clone() {
        // There are a number of steps in the lifecycle of a template instance's
        // DOM fragment:
        //  1. Clone - create the instance fragment
        //  2. Adopt - adopt into the main document
        //  3. Process - find part markers and create parts
        //  4. Upgrade - upgrade custom elements
        //  5. Update - set node, attribute, property, etc., values
        //  6. Connect - connect to the document. Optional and outside of this
        //     method.
        //
        // We have a few constraints on the ordering of these steps:
        //  * We need to upgrade before updating, so that property values will pass
        //    through any property setters.
        //  * We would like to process before upgrading so that we're sure that the
        //    cloned fragment is inert and not disturbed by self-modifying DOM.
        //  * We want custom elements to upgrade even in disconnected fragments.
        //
        // Given these constraints, with full custom elements support we would
        // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect
        //
        // But Safari does not implement CustomElementRegistry#upgrade, so we
        // can not implement that order and still have upgrade-before-update and
        // upgrade disconnected fragments. So we instead sacrifice the
        // process-before-upgrade constraint, since in Custom Elements v1 elements
        // must not modify their light DOM in the constructor. We still have issues
        // when co-existing with CEv0 elements like Polymer 1, and with polyfills
        // that don't strictly adhere to the no-modification rule because shadow
        // DOM, which may be created in the constructor, is emulated by being placed
        // in the light DOM.
        //
        // The resulting order is on native is: Clone, Adopt, Upgrade, Process,
        // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade
        // in one step.
        //
        // The Custom Elements v1 polyfill supports upgrade(), so the order when
        // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,
        // Connect.
        const fragment = _dom_js__WEBPACK_IMPORTED_MODULE_0__[/* isCEPolyfill */ "a"] ?
            this.template.element.content.cloneNode(true) :
            document.importNode(this.template.element.content, true);
        const stack = [];
        const parts = this.template.parts;
        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null
        const walker = document.createTreeWalker(fragment, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);
        let partIndex = 0;
        let nodeIndex = 0;
        let part;
        let node = walker.nextNode();
        // Loop through all the nodes and parts of a template
        while (partIndex < parts.length) {
            part = parts[partIndex];
            if (!Object(_template_js__WEBPACK_IMPORTED_MODULE_1__[/* isTemplatePartActive */ "d"])(part)) {
                this.__parts.push(undefined);
                partIndex++;
                continue;
            }
            // Progress the tree walker until we find our next part's node.
            // Note that multiple parts may share the same node (attribute parts
            // on a single element), so this loop may not run at all.
            while (nodeIndex < part.index) {
                nodeIndex++;
                if (node.nodeName === 'TEMPLATE') {
                    stack.push(node);
                    walker.currentNode = node.content;
                }
                if ((node = walker.nextNode()) === null) {
                    // We've exhausted the content inside a nested template element.
                    // Because we still have parts (the outer for-loop), we know:
                    // - There is a template in the stack
                    // - The walker will find a nextNode outside the template
                    walker.currentNode = stack.pop();
                    node = walker.nextNode();
                }
            }
            // We've arrived at our part's node.
            if (part.type === 'node') {
                const part = this.processor.handleTextExpression(this.options);
                part.insertAfterNode(node.previousSibling);
                this.__parts.push(part);
            }
            else {
                this.__parts.push(...this.processor.handleAttributeExpressions(node, part.name, part.strings, this.options));
            }
            partIndex++;
        }
        if (_dom_js__WEBPACK_IMPORTED_MODULE_0__[/* isCEPolyfill */ "a"]) {
            document.adoptNode(fragment);
            customElements.upgrade(fragment);
        }
        return fragment;
    }
}
//# sourceMappingURL=template-instance.js.map

/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return templateFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return templateCaches; });
/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */

/**
 * The default TemplateFactory which caches Templates keyed on
 * result.type and result.strings.
 */
function templateFactory(result) {
    let templateCache = templateCaches.get(result.type);
    if (templateCache === undefined) {
        templateCache = {
            stringsArray: new WeakMap(),
            keyString: new Map()
        };
        templateCaches.set(result.type, templateCache);
    }
    let template = templateCache.stringsArray.get(result.strings);
    if (template !== undefined) {
        return template;
    }
    // If the TemplateStringsArray is new, generate a key from the strings
    // This key is shared between all templates with identical content
    const key = result.strings.join(_template_js__WEBPACK_IMPORTED_MODULE_0__[/* marker */ "f"]);
    // Check if we already have a Template for this key
    template = templateCache.keyString.get(key);
    if (template === undefined) {
        // If we have not seen this key before, create a new Template
        template = new _template_js__WEBPACK_IMPORTED_MODULE_0__[/* Template */ "a"](result, result.getTemplateElement());
        // Cache the Template for this key
        templateCache.keyString.set(key, template);
    }
    // Cache all future queries for this TemplateStringsArray
    templateCache.stringsArray.set(result.strings, template);
    return template;
}
const templateCaches = new Map();
//# sourceMappingURL=template-factory.js.map

/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return parts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return render; });
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);
/* harmony import */ var _parts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);
/* harmony import */ var _template_factory_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(20);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */



const parts = new WeakMap();
/**
 * Renders a template result or other value to a container.
 *
 * To update a container with new values, reevaluate the template literal and
 * call `render` with the new result.
 *
 * @param result Any value renderable by NodePart - typically a TemplateResult
 *     created by evaluating a template tag like `html` or `svg`.
 * @param container A DOM parent to render to. The entire contents are either
 *     replaced, or efficiently updated if the same result type was previous
 *     rendered there.
 * @param options RenderOptions for the entire render tree rendered to this
 *     container. Render options must *not* change between renders to the same
 *     container, as those changes will not effect previously rendered DOM.
 */
const render = (result, container, options) => {
    let part = parts.get(container);
    if (part === undefined) {
        Object(_dom_js__WEBPACK_IMPORTED_MODULE_0__[/* removeNodes */ "b"])(container, container.firstChild);
        parts.set(container, part = new _parts_js__WEBPACK_IMPORTED_MODULE_1__[/* NodePart */ "e"](Object.assign({ templateFactory: _template_factory_js__WEBPACK_IMPORTED_MODULE_2__[/* templateFactory */ "b"] }, options)));
        part.appendInto(container);
    }
    part.setValue(result);
    part.commit();
};
//# sourceMappingURL=render.js.map

/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return directive; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return isDirective; });
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const directives = new WeakMap();
/**
 * Brands a function as a directive factory function so that lit-html will call
 * the function during template rendering, rather than passing as a value.
 *
 * A _directive_ is a function that takes a Part as an argument. It has the
 * signature: `(part: Part) => void`.
 *
 * A directive _factory_ is a function that takes arguments for data and
 * configuration and returns a directive. Users of directive usually refer to
 * the directive factory as the directive. For example, "The repeat directive".
 *
 * Usually a template author will invoke a directive factory in their template
 * with relevant arguments, which will then return a directive function.
 *
 * Here's an example of using the `repeat()` directive factory that takes an
 * array and a function to render an item:
 *
 * ```js
 * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`
 * ```
 *
 * When `repeat` is invoked, it returns a directive function that closes over
 * `items` and the template function. When the outer template is rendered, the
 * return directive function is called with the Part for the expression.
 * `repeat` then performs it's custom logic to render multiple items.
 *
 * @param f The directive factory function. Must be a function that returns a
 * function of the signature `(part: Part) => void`. The returned function will
 * be called with the part object.
 *
 * @example
 *
 * import {directive, html} from 'lit-html';
 *
 * const immutable = directive((v) => (part) => {
 *   if (part.value !== v) {
 *     part.setValue(v)
 *   }
 * });
 */
const directive = (f) => ((...args) => {
    const d = f(...args);
    directives.set(d, true);
    return d;
});
const isDirective = (o) => {
    return typeof o === 'function' && directives.has(o);
};
//# sourceMappingURL=directive.js.map

/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, "b", function() { return /* reexport */ default_renderer_DefaultRenderer; });
__webpack_require__.d(__webpack_exports__, "a", function() { return /* binding */ coral_list_CoralList; });

// EXTERNAL MODULE: ./node_modules/@elf/core/lib/elf.js + 57 modules
var elf = __webpack_require__(0);

// EXTERNAL MODULE: ./node_modules/@elf/utils/lib/utils.js + 23 modules
var utils = __webpack_require__(1);

// EXTERNAL MODULE: ./node_modules/@elf/coral-list/lib/renderer.js + 1 modules
var renderer = __webpack_require__(37);

// EXTERNAL MODULE: ./node_modules/@elf/coral-item/lib/coral-item.js
var coral_item = __webpack_require__(9);

// CONCATENATED MODULE: ./node_modules/@elf/coral-list/lib/default-renderer.js


/**
 * Renders list items as `coral-item` elements.
 * This is the default renderer for lists.
 */
class default_renderer_DefaultRenderer extends renderer["a" /* Renderer */] {
    constructor(context) {
        /**
         * Create and return render function
         */
        super((item, composer, element) => {
            /**
             * Element to render
             */
            const el = (element || document.createElement('coral-item'));
            /**
             * Tooltip value to be used, if any.
             */
            const tooltip = composer.getItemPropertyValue(item, 'tooltip');
            el.label = composer.getItemPropertyValue(item, 'label');
            el.subLabel = composer.getItemPropertyValue(item, 'subLabel');
            el.value = composer.getItemPropertyValue(item, 'value');
            el.icon = composer.getItemPropertyValue(item, 'icon');
            el.highlighted = composer.getItemPropertyValue(item, 'highlighted') === true;
            el.selected = composer.getItemPropertyValue(item, 'selected') === true;
            el.disabled = composer.getItemPropertyValue(item, 'disabled') === true;
            el.hidden = composer.getItemPropertyValue(item, 'hidden') === true;
            el.type = composer.getItemPropertyValue(item, 'type');
            el.multiple = context && context.multiple === true;
            tooltip ? el.setAttribute('title', tooltip) : el.removeAttribute('title');
            return el;
        });
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/coral-list/lib/coral-list.js
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





/**
 * Key direction
 */
var Direction;
(function (Direction) {
    Direction[Direction["UP"] = -1] = "UP";
    Direction[Direction["DOWN"] = 1] = "DOWN";
})(Direction || (Direction = {}));
const selectedItemDeprecation = new elf["c" /* DeprecationNotice */]('selectedItem is deprecated, use value instead and map back to original item.');
const valueFormatWarning = new elf["g" /* WarningNotice */]('The specified \'values\' format does not conform to the required format.');
/**
 * coral-list provides listing and immutable selection
 */
let coral_list_CoralList = class CoralList extends elf["b" /* ControlElement */] {
    constructor() {
        super(...arguments);
        /**
         * Used to timestamp renders.
         * This enables diff checking against item updates,
         * rendering only items which have updated since the last render cycle.
         */
        this.renderTimestamp = new Map();
        /**
         * Requests an update after a composer modification.
         * @returns Update promise.
         */
        this.modificationUpdate = () => {
            this.requestUpdate();
        };
        /**
         * Item map; used to link element nodes to data items.
         */
        this.itemMap = new Map();
        /**
         * Element map; used to link data items to element nodes.
         */
        this.elementMap = new Map();
        /**
         * Composer used to query and modify item state.
         */
        this.composer = new utils["d" /* CollectionComposer */]([]);
        /**
         * Use default `tabindex` so that items are priority focus targets
         */
        this.defaultTabIndex = null;
        /**
         * Element focus delegation.
         * Set to `false` and relies on native focusing.
         */
        this.delegatesFocus = false;
        /**
         * Renderer used to render list item elements
         */
        this.renderer = new default_renderer_DefaultRenderer(this);
        /**
         * Disable selections
         */
        this.stateless = false;
        /**
         * Allow multiple selections
         */
        this.multiple = false;
        this._data = null;
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.34';
    }
    /**
     * The data object, used to render the list.
     * @type {CoralItemData | CollectionComposer<T> | null}
     */
    get data() {
        return this._data;
    }
    set data(value) {
        const oldValue = this._data;
        if (oldValue === value) {
            return;
        }
        if (value instanceof utils["d" /* CollectionComposer */]) {
            this.composer = value;
        }
        else if (Array.isArray(value)) {
            this.composer = new utils["d" /* CollectionComposer */](value);
        }
        else {
            this.composer = new utils["d" /* CollectionComposer */]([]);
        }
        this.composer.on('modification', // Listen for modifications
        this.modificationUpdate // Update the template
        );
        this.clearMaps();
        this._data = value;
        this.requestUpdate('data', oldValue);
    }
    /**
     * Returns the first selected item value.
     * Use `values` when multiple selection mode is enabled.
     */
    get value() {
        return this.values[0] || '';
    }
    set value(value) {
        const oldValue = this.value;
        if (value !== oldValue || this.values.length > 1) {
            this.clearSelection();
            const item = this.queryItemsByPropertyValue('value', value)[0];
            if (item) {
                this.composer.setItemPropertyValue(item, 'selected', true);
            }
            this.requestUpdate('value', oldValue);
        }
    }
    /**
     * Returns a values collection of the currently
     * selected item values
     * @readonly
     */
    get values() {
        return this.queryItemsByPropertyValue('selected', true)
            .map((item) => this.composer.getItemPropertyValue(item, 'value'));
    }
    set values(values) {
        if (!Array.isArray(values)) {
            valueFormatWarning.show();
            this.values = [];
        }
        else {
            // Clone value arrays
            const newValue = values.slice();
            const oldValue = this.values.slice();
            // Create comparison strings to check for differences
            const newComparison = newValue.sort().toString();
            const oldComparison = oldValue.sort().toString();
            // Should we update the selection state?
            if (newComparison !== oldComparison) {
                this.clearSelection();
                values.some((value) => {
                    const matches = this.queryItemsByPropertyValue('value', value);
                    matches.forEach((match) => this.composer.setItemPropertyValue(match, 'selected', true));
                    return !this.multiple; // Only set the fist value if multiple is not enabled
                });
                this.requestUpdate('values', oldValue);
            }
        }
    }
    /**
     * Retrieve the selected data item
     * @returns Selected data item
     * @deprecated
     */
    get selectedItem() {
        selectedItemDeprecation.once();
        return this.queryItemsByPropertyValue('selected', true)[0];
    }
    /**
     * Selects an item in the list
     * @param item Data Item or Item Element
     * @returns If a selection has been made or not
     */
    selectItem(item) {
        if (!this.stateless) {
            if (item instanceof HTMLElement) {
                item = this.itemFromElement(item);
            }
            if (item && this.multiple) {
                const value = this.composer.getItemPropertyValue(item, 'selected');
                this.composer.setItemPropertyValue(item, 'selected', !value);
                return true;
            }
            if (item && this.composer.getItemPropertyValue(item, 'selected') !== true) {
                this.clearSelection();
                this.composer.setItemPropertyValue(item, 'selected', true);
                return true;
            }
        }
        return false;
    }
    /**
     * Navigate up through the list items
     * @returns {void}
     */
    up() {
        this.highlightItem(this.getNextHighlightItem(Direction.UP), true);
    }
    /**
     * Navigate up through the list items
     * @returns {void}
     */
    down() {
        this.highlightItem(this.getNextHighlightItem(Direction.DOWN), true);
    }
    /**
     * Proxy for querying the composer
     * @param engine composer querying engine
     * @returns Collection of queried items
     */
    queryItems(engine) {
        return this.composer.queryItems(engine);
    }
    /**
     * Proxy for querying the composer by property and value
     * @param property Property name
     * @param value Property value
     * @returns Collection of queried items
     */
    queryItemsByPropertyValue(property, value) {
        return this.composer.queryItemsByPropertyValue(property, value);
    }
    /**
     * Gets the associated element for the data item provided,
     * if there is one available.
     * @param item Item to map element to
     * @returns Associated element
     */
    elementFromItem(item) {
        return this.elementMap.get(item);
    }
    /**
     * Gets the associated data item for the provided element,
     * if there is one available.
     * @param element Element to map item to
     * @returns Associated date item
     */
    itemFromElement(element) {
        return this.itemMap.get(element);
    }
    /**
     * Tries to find the next focusable element.
     * @param direction Direction to search
     * @param element Starting element
     * @returns Next logical element to focus
     */
    getNextFocusableItem(direction, element = this.activeElement) {
        if (!element) {
            return;
        }
        const children = this.tabbableItems;
        if (children.length > 1) {
            let index = children.indexOf(element) + direction;
            index = index < 0 ? children.length - 1 : index === children.length ? 0 : index;
            return children[index];
        }
    }
    /**
     * Tries to find the next highlight item
     * @param direction Direction to search
     * @returns A data item, if found.
     */
    getNextHighlightItem(direction) {
        const highlightItem = this.queryItemsByPropertyValue('highlighted', true)[0];
        const nextElement = this.getNextFocusableItem(direction) || this.getNextFocusableItem(direction, this.elementFromItem(highlightItem));
        const backupElement = this.tabbableItems[0];
        return nextElement ? this.itemFromElement(nextElement) : backupElement ? this.itemFromElement(backupElement) : undefined;
    }
    /**
     * Clears any highlighted item
     * @returns {void}
     */
    clearHighlighted() {
        this.queryItemsByPropertyValue('highlighted', true)
            .forEach(item => this.composer.setItemPropertyValue(item, 'highlighted', false));
    }
    /**
     * Highlights a single item.
     * Used for navigation.
     * @param item Item to highlight
     * @param scrollToItem Scroll the item into view?
     * @returns {void}
     */
    highlightItem(item, scrollToItem = false) {
        if (item) {
            const elementToFocus = this.elementFromItem(item);
            const focus = this.activeElement && this.activeElement !== elementToFocus;
            this.clearHighlighted();
            this.composer.setItemPropertyValue(item, 'highlighted', true);
            focus && (elementToFocus === null || elementToFocus === void 0 ? void 0 : elementToFocus.focus({ preventScroll: true }));
            scrollToItem && this.scrollToItem(item);
        }
    }
    /**
     * Gets the available tabbable elements
     */
    get tabbableItems() {
        return Array.from(this.children)
            .filter((el) => el.tabIndex >= 0);
    }
    /**
     * Returns the current focused element
     */
    get activeElement() {
        const el = this.getRootNode().activeElement;
        const itemEl = this.findItemElementFromTarget(el);
        if (itemEl && this.tabbableItems.includes(itemEl)) {
            return itemEl;
        }
        return null;
    }
    /**
     * Returns the current focused element
     */
    get highlightElement() {
        const item = this.queryItemsByPropertyValue('highlighted', true)[0];
        return item ? this.elementFromItem(item) || null : null;
    }
    /**
     * Tries to select the current highlighted element
     * @returns {void}
     */
    triggerActiveItem() {
        const el = this.activeElement || this.highlightElement;
        const item = el && this.itemFromElement(el);
        item && this.selectItem(item) && this.fireSelectionUpdate();
    }
    /**
     * Scroll to list item element
     * @param item Data item to scroll to
     * @returns {void}
     */
    scrollToItem(item) {
        const element = this.elementFromItem(item);
        if (element) {
            const min = this.scrollTop;
            const max = this.scrollTop + this.clientHeight - element.offsetHeight;
            const pos = element.offsetTop;
            pos > max ? this.scrollTop = element.offsetTop - this.clientHeight + element.offsetHeight
                : pos < min ? this.scrollTop = element.offsetTop : 0;
        }
    }
    /**
     * Handles key input
     * @param event Key down event object
     * @returns {void}
     */
    onKeyDown(event) {
        switch (event.key) {
            case ' ':
            case 'Spacebar':
            case 'Enter':
                this.triggerActiveItem();
                break;
            case 'Up':
            case 'ArrowUp':
                this.up();
                break;
            case 'Down':
            case 'ArrowDown':
                this.down();
                break;
            default:
                return;
        }
        event.preventDefault();
    }
    /**
     * Handle list on tap
     * Typically it will select an item
     * @param event Event to handle
     * @returns {void}
     */
    onTap(event) {
        const el = this.findItemElementFromTarget(event.target);
        const item = el && this.itemFromElement(el);
        if (item) {
            this.clearHighlighted();
            if (this.selectItem(item)) {
                this.highlightItem(item);
                this.fireSelectionUpdate();
            }
        }
    }
    /**
     * Handles mouse move
     * Typically it will highlight an item
     * @param event Event to handle
     * @returns {void}
     */
    onMouse(event) {
        const el = this.findItemElementFromTarget(event.target);
        const item = el ? this.itemFromElement(el) : null;
        if (item && el !== this.highlightElement) {
            if (this.activeElement) {
                // prevent shifting focus to other items
                // on mouse move and just fallback to host
                this.activeElement.focus({ preventScroll: true });
            }
            this.highlightItem(item);
        }
    }
    /**
     * Handles item focus in
     * Typically it will highlight the item
     * @param event Event to handle
     * @returns {void}
     */
    onFocus(event) {
        const el = this.findItemElementFromTarget(event.target);
        const item = el && this.itemFromElement(el);
        if (item) {
            this.highlightItem(item);
        }
    }
    /**
     * Handles item focus out
     * Typically it will remove highlighting
     * @returns {void}
     */
    onBlur() {
        this.clearHighlighted();
    }
    /**
     * Tries to find a known item element,
     * from an event target
     * @param target Event target
     * @returns Found element, if available
     */
    findItemElementFromTarget(target) {
        let el = target;
        while (el) {
            if (this.itemMap.has(el)) {
                break; // known rendered item
            }
            el = el.parentElement;
        }
        return el;
    }
    /**
     * Clears the current selected items
     * @returns {void}
     */
    clearSelection() {
        this.queryItemsByPropertyValue('selected', true)
            .forEach((item) => this.composer.setItemPropertyValue(item, 'selected', false));
        this.requestUpdate();
    }
    /**
     * Queries and returns all renderable items.
     * @returns Collection of renderable items
     */
    get renderItems() {
        return this.queryItems((item, composer) => {
            return composer.getItemPropertyValue(item, 'hidden') !== true;
        });
    }
    /**
     * Proxy for creating list item elements.
     * Allows for a mapping to be created between
     * Data Item and Item Element.
     * @param item Data item context
     * @param recyclableElements Child elements available for reuse
     * @returns List item element
     */
    createListItem(item, recyclableElements) {
        const cachedElement = this.elementFromItem(item);
        const previousTimestamp = this.renderTimestamp.get(item) || NaN;
        if (cachedElement && previousTimestamp > this.composer.getItemTimestamp(item)) {
            return cachedElement; // don't re-render if the item hasn't changed
        }
        if (!cachedElement && recyclableElements.length) {
            // Remove any old ties with the reusable element.
            const recycledElement = recyclableElements.pop();
            const previousItem = this.itemFromElement(recycledElement);
            this.itemMap.delete(recycledElement);
            previousItem && this.elementMap.delete(previousItem);
            this.elementMap.set(item, recycledElement);
        }
        const freshElement = this.renderer(item, this.composer, this.elementFromItem(item));
        if (cachedElement && cachedElement !== freshElement) {
            // Renderer returned a new element, so remove the old link.
            this.itemMap.delete(cachedElement);
        }
        this.itemMap.set(freshElement, item); // Link element to item
        this.elementMap.set(item, freshElement); // Link item to element
        this.renderTimestamp.set(item, performance.now());
        return freshElement;
    }
    /**
     * Clears all item-element and timestamp maps
     * @returns {void}
     */
    clearMaps() {
        this.itemMap.clear();
        this.elementMap.clear();
        this.renderTimestamp.clear();
    }
    /**
     * Fire value changed event
     * @returns {void}
     */
    fireSelectionUpdate() {
        /**
         * @event CoralList#value-changed
         */
        this.notifyPropertyChange('value', this.value);
    }
    /**
     * Calculates what elements can be recycled safely
     * @param renderItems Current items to render
     * @returns Collection of elements to be recycled
     */
    calculateRecyclableElements(renderItems) {
        const result = [];
        for (const element of this.children) {
            const item = this.itemFromElement(element);
            if (item && !renderItems.includes(item)) {
                result.push(element);
            }
        }
        return result;
    }
    /**
     * Renders updates to light DOM
     * @returns {void}
     */
    renderLightDOM() {
        const renderItems = this.renderItems;
        const currentChildren = Array.from(this.children);
        const recyclableElements = this.calculateRecyclableElements(renderItems);
        const renderChildren = renderItems.map((item) => this.createListItem(item, recyclableElements));
        const deletions = currentChildren.filter(element => !renderChildren.includes(element));
        deletions.forEach(element => this.removeChild(element));
        renderChildren.forEach((element, index) => {
            if (this.children.length === index) {
                this.appendChild(element);
            }
            else if (element !== this.children[index]) {
                this.insertBefore(element, this.children[index]);
            }
        });
    }
    firstUpdated(changeProperties) {
        super.firstUpdated(changeProperties);
        this.addEventListener('keydown', event => this.onKeyDown(event));
        this.addEventListener('tap', event => this.onTap(event));
        this.addEventListener('mousemove', event => this.onMouse(event));
        this.addEventListener('mouseleave', () => this.clearHighlighted());
        this.addEventListener('focusin', event => this.onFocus(event));
        this.addEventListener('focusout', () => this.onBlur());
    }
    update(changeProperties) {
        if (changeProperties.has('multiple')) {
            this.renderTimestamp.clear(); // force render of all items
        }
        return super.update(changeProperties);
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return elf["h" /* css */] `
      :host {
        display: block;
        max-height: 600px;
        overflow-y: auto;
        position: relative; /* required for scrollToItem */
      }
    `;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        this.renderLightDOM();
        return elf["k" /* html */] `<slot></slot>`;
    }
};
__decorate([
    Object(elf["n" /* property */])({ type: Function, attribute: false })
], coral_list_CoralList.prototype, "renderer", void 0);
__decorate([
    Object(elf["n" /* property */])({ type: Boolean })
], coral_list_CoralList.prototype, "stateless", void 0);
__decorate([
    Object(elf["n" /* property */])({ type: Boolean })
], coral_list_CoralList.prototype, "multiple", void 0);
__decorate([
    Object(elf["n" /* property */])({ attribute: false })
], coral_list_CoralList.prototype, "data", null);
__decorate([
    Object(elf["n" /* property */])({ type: String })
], coral_list_CoralList.prototype, "value", null);
__decorate([
    Object(elf["n" /* property */])({ type: Array, attribute: false })
], coral_list_CoralList.prototype, "values", null);
coral_list_CoralList = __decorate([
    Object(elf["i" /* customElement */])('coral-list')
], coral_list_CoralList);



/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return TemplateResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SVGTemplateResult; });
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);
/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @module lit-html
 */


/**
 * Our TrustedTypePolicy for HTML which is declared using the html template
 * tag function.
 *
 * That HTML is a developer-authored constant, and is parsed with innerHTML
 * before any untrusted expressions have been mixed in. Therefor it is
 * considered safe by construction.
 */
const policy = window.trustedTypes &&
    trustedTypes.createPolicy('lit-html', { createHTML: (s) => s });
const commentMarker = ` ${_template_js__WEBPACK_IMPORTED_MODULE_1__[/* marker */ "f"]} `;
/**
 * The return type of `html`, which holds a Template and the values from
 * interpolated expressions.
 */
class TemplateResult {
    constructor(strings, values, type, processor) {
        this.strings = strings;
        this.values = values;
        this.type = type;
        this.processor = processor;
    }
    /**
     * Returns a string of HTML used to create a `<template>` element.
     */
    getHTML() {
        const l = this.strings.length - 1;
        let html = '';
        let isCommentBinding = false;
        for (let i = 0; i < l; i++) {
            const s = this.strings[i];
            // For each binding we want to determine the kind of marker to insert
            // into the template source before it's parsed by the browser's HTML
            // parser. The marker type is based on whether the expression is in an
            // attribute, text, or comment position.
            //   * For node-position bindings we insert a comment with the marker
            //     sentinel as its text content, like <!--{{lit-guid}}-->.
            //   * For attribute bindings we insert just the marker sentinel for the
            //     first binding, so that we support unquoted attribute bindings.
            //     Subsequent bindings can use a comment marker because multi-binding
            //     attributes must be quoted.
            //   * For comment bindings we insert just the marker sentinel so we don't
            //     close the comment.
            //
            // The following code scans the template source, but is *not* an HTML
            // parser. We don't need to track the tree structure of the HTML, only
            // whether a binding is inside a comment, and if not, if it appears to be
            // the first binding in an attribute.
            const commentOpen = s.lastIndexOf('<!--');
            // We're in comment position if we have a comment open with no following
            // comment close. Because <-- can appear in an attribute value there can
            // be false positives.
            isCommentBinding = (commentOpen > -1 || isCommentBinding) &&
                s.indexOf('-->', commentOpen + 1) === -1;
            // Check to see if we have an attribute-like sequence preceding the
            // expression. This can match "name=value" like structures in text,
            // comments, and attribute values, so there can be false-positives.
            const attributeMatch = _template_js__WEBPACK_IMPORTED_MODULE_1__[/* lastAttributeNameRegex */ "e"].exec(s);
            if (attributeMatch === null) {
                // We're only in this branch if we don't have a attribute-like
                // preceding sequence. For comments, this guards against unusual
                // attribute values like <div foo="<!--${'bar'}">. Cases like
                // <!-- foo=${'bar'}--> are handled correctly in the attribute branch
                // below.
                html += s + (isCommentBinding ? commentMarker : _template_js__WEBPACK_IMPORTED_MODULE_1__[/* nodeMarker */ "g"]);
            }
            else {
                // For attributes we use just a marker sentinel, and also append a
                // $lit$ suffix to the name to opt-out of attribute-specific parsing
                // that IE and Edge do for style and certain SVG attributes.
                html += s.substr(0, attributeMatch.index) + attributeMatch[1] +
                    attributeMatch[2] + _template_js__WEBPACK_IMPORTED_MODULE_1__[/* boundAttributeSuffix */ "b"] + attributeMatch[3] +
                    _template_js__WEBPACK_IMPORTED_MODULE_1__[/* marker */ "f"];
            }
        }
        html += this.strings[l];
        return html;
    }
    getTemplateElement() {
        const template = document.createElement('template');
        let value = this.getHTML();
        if (policy !== undefined) {
            // this is secure because `this.strings` is a TemplateStringsArray.
            // TODO: validate this when
            // https://github.com/tc39/proposal-array-is-template-object is
            // implemented.
            value = policy.createHTML(value);
        }
        template.innerHTML = value;
        return template;
    }
}
/**
 * A TemplateResult for SVG fragments.
 *
 * This class wraps HTML in an `<svg>` tag in order to parse its contents in the
 * SVG namespace, then modifies the template to remove the `<svg>` tag so that
 * clones only container the original fragment.
 */
class SVGTemplateResult extends TemplateResult {
    getHTML() {
        return `<svg>${super.getHTML()}</svg>`;
    }
    getTemplateElement() {
        const template = super.getTemplateElement();
        const content = template.content;
        const svgElement = content.firstChild;
        content.removeChild(svgElement);
        Object(_dom_js__WEBPACK_IMPORTED_MODULE_0__[/* reparentNodes */ "c"])(content, svgElement.firstChild);
        return template;
    }
}
//# sourceMappingURL=template-result.js.map

/***/ }),
/* 25 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CoralCheckbox */
/* harmony import */ var _elf_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);
/* harmony import */ var _elf_coral_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
/* harmony import */ var _elf_coral_tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(14);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



/**
 * coral-checkbox - form control for selecting one or several options.
 * @fires checked-changed - Fired when the `checked` property changes.
 *
 * @attr {boolean} readonly - Set readonly state
 * @prop {boolean} [readonly=false] - Set readonly state
 *
 * @attr {boolean} disabled - Set disabled state
 * @prop {boolean} [disabled=false] - Set disabled state
 */
let CoralCheckbox = class CoralCheckbox extends _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* ControlElement */ "b"] {
    constructor() {
        super(...arguments);
        /**
         * Value of checkbox
         */
        this.checked = false;
        /**
         * Set state to indeterminate
         */
        this.indeterminate = false;
    }
    /**
    * Element version number
    */
    static get version() {
        return '4.5.31';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* css */ "h"] `
      :host {
        display: inline-block;
      }
      [part=check] {
        visibility: hidden;
      }
      :host([checked]) [part=check],
      :host([indeterminate]) [part=check] {
        visibility: inherit;
      }
      [part=label],
      [part=container] {
        display: inline-block;
        vertical-align: middle;
      }
      [part=label] {
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
      }
      :host(:empty) [part=label], [part=label]:empty {
        display: none;
      }
    `;
    }
    /**
     * Updates the element
     * @param changedProperties Properties that has changed
     * @returns {void}
     */
    update(changedProperties) {
        // remove indeterminate if change state to checked
        if (changedProperties.get('checked') === false && this.checked && this.indeterminate) {
            this.indeterminate = false;
        }
        // remove checked if change state to indeterminate
        if (changedProperties.get('indeterminate') === false && this.indeterminate && this.checked) {
            this.checked = false;
        }
        super.update(changedProperties);
    }
    /**
     * The lifecycle method called when properties changed first time
     * @param changedProperties properties it's the Map object which has the updated properties
     * @returns {void}
     */
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        this.addEventListener('tap', event => this.onTap(event));
        this.addEventListener('keydown', event => this.onKeyDown(event));
        Object(_elf_coral_tooltip__WEBPACK_IMPORTED_MODULE_2__[/* registerOverflowTooltip */ "b"])(this.labelEl, () => this.textContent);
    }
    /**
     * Run when checkbox is tapped
     * @param event Tap event
     * @returns {void}
     */
    onTap(event) {
        if (this.disabled || this.readonly || event.defaultPrevented) {
            return;
        }
        this.handleChangeChecked();
    }
    /**
     * Handles key down event
     * @param event Key down event object
     * @returns {void}
     */
    onKeyDown(event) {
        if (this.disabled || this.readonly || event.defaultPrevented) {
            return;
        }
        switch (event.key) {
            case 'Enter':
            case ' ':
            case 'Spacebar':
                this.handleChangeChecked();
                break;
            default:
                return;
        }
        event.preventDefault();
    }
    /**
     * Change checked state and fire
     * checked-changed event
     * @return {void}
     */
    handleChangeChecked() {
        this.checked = !this.checked;
        this.notifyPropertyChange('checked', this.checked);
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `
      <div part="container">
        <div part="check">
          ${!this.indeterminate ? _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `<coral-icon icon="tick"></coral-icon>` : null}
        </div>
      </div>
      <div part="label"><slot></slot></div>
    `;
    }
};
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralCheckbox.prototype, "checked", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralCheckbox.prototype, "indeterminate", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* query */ "o"])('[part=label]', true)
], CoralCheckbox.prototype, "labelEl", void 0);
CoralCheckbox = __decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* customElement */ "i"])('coral-checkbox')
], CoralCheckbox);



/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ScrollLockManager */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return applyLock; });
/* harmony import */ var _elf_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var _zindex_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12);


/**
* Check if two arrays are shallow equal
* @param left Left side array
* @param right Right side array
* @returns true if arrays are equal
*/
const equal = (left, right) => {
    const length = left.length;
    if (length !== right.length) {
        return false;
    }
    for (let i = 0; i < length; i += 1) {
        if (left[i] !== right[i]) {
            return false;
        }
    }
    return true;
};
/**
 * Scroll lock manager singleton is responsible for locking
 * all scrollbars apart one in the active popup
 */
class ScrollLockManager {
    constructor() {
        this.scrollTop = 0;
        this.scrollLeft = 0;
        this.lockScroll = false;
        /**
         * A list of elements that are currently interactive
         * aka `pointer-events: auto` applied
         */
        this.interactiveElements = [];
        this.pointerEventsMap = new Map();
        this.scrollThrottler = new _elf_utils__WEBPACK_IMPORTED_MODULE_0__[/* AnimationTaskRunner */ "b"]();
        /**
         * Run on scroll event. If onscroll happened as a result of user interaction, restore the original position
         * @param event Scroll event
         * @returns {void}
         */
        this.onScroll = (event) => {
            const path = event.composedPath();
            if (this.lockScroll && !path.includes(this.interactiveElement)) {
                this.restoreScrollPosition();
            }
        };
        /**
         * Apply scroll lock as a result of user interaction
         * @returns {void}
         */
        this.applyScrollLock = () => {
            // this must be applied in order to make the difference between user scroll and system scroll
            // otherwise there must not be scroll prevention on resize/orientationchange events
            this.scrollThrottler.cancel();
            this.lockScroll = true;
        };
        /**
         * Remove scroll lock when user interaction has finished
         * @returns {void}
         */
        this.removeScrollLock = () => {
            this.scrollThrottler.schedule(() => {
                this.lockScroll = false;
            });
        };
        /**
         * Run on wheel event
         * If wheel happened as a result of user interaction, restore the original position
         * @param event Wheel event
         * @returns {void}
         */
        this.onWheelScroll = (event) => {
            if (this.shouldCancelWheel(event)) {
                event.preventDefault();
            }
        };
        /**
         * Run on touch events.
         * If touch happened as a result of user interaction, restore the original position
         * @param event Touch event
         * @returns {void}
         */
        this.onTouchScroll = (event) => {
            if (event.cancelable && this.shouldCancelTouch(event)) { /* Not all touch events can be cancelled */
                event.preventDefault();
            }
        };
    }
    /**
     * Get a collection of interactive elements
     * @param popup Popup to check
     * @returns interactive elements
     */
    static getInteractiveElements(popup) {
        if (!popup) {
            return [];
        }
        // popup is always included
        const interactiveElements = [popup];
        if (popup.interactiveElements && popup.interactiveElements.length) {
            return interactiveElements.concat(popup.interactiveElements);
        }
        if (!popup.lockPositionTarget && popup.positionTarget instanceof HTMLElement) {
            interactiveElements.push(popup.positionTarget);
        }
        return interactiveElements;
    }
    /**
     * The list of active popups, which participate
     * in lock management
     */
    get popups() {
        return Object(_zindex_manager__WEBPACK_IMPORTED_MODULE_1__[/* getPopups */ "c"])().filter(popup => !popup.noInteractionLock);
    }
    /**
     * Lock the screen and make top post popup
     * and its position target interactive
     * @returns {void}
     */
    applyLock() {
        const topPopup = this.popups[0];
        const oldInteractiveElements = this.interactiveElements;
        const newInteractiveElements = ScrollLockManager.getInteractiveElements(topPopup);
        // do nothing if the list is the same
        if (equal(oldInteractiveElements, newInteractiveElements)) {
            return;
        }
        if (!oldInteractiveElements.length && newInteractiveElements.length) {
            // lock the screen
            this.saveScrollPosition();
            this.lockEvents();
            this.applyLockBackdrop();
        }
        else if (oldInteractiveElements.length && !newInteractiveElements.length) {
            // unlock the screen
            this.unlockEvents();
            this.removeLockBackdrop();
        }
        // restore popup events to original value
        for (let i = 0; i < oldInteractiveElements.length; i += 1) {
            this.restorePointerEvents(oldInteractiveElements[i]);
        }
        // make popup interactive by applying pointer-events: auto;
        for (let i = 0; i < newInteractiveElements.length; i += 1) {
            this.setPointerEvents(newInteractiveElements[i]);
        }
        this.interactiveElements = newInteractiveElements;
    }
    /**
     * Set pointer events style tag
     * @param el Element to unlock
     * @param [value=auto] Value of pointer events
     * @returns {void}
     */
    setPointerEvents(el, value = 'auto') {
        if (el) {
            this.pointerEventsMap.set(el, el.style.pointerEvents);
            el.style.setProperty('pointer-events', value);
        }
    }
    /**
     * Restore pointer events style tag
     * @param el Element to restore
     * @returns {void}
     */
    restorePointerEvents(el) {
        if (el) {
            const pointerEvents = this.pointerEventsMap.get(el);
            this.pointerEventsMap.delete(el);
            if (pointerEvents) {
                el.style.setProperty('pointer-events', pointerEvents);
            }
            else {
                el.style.removeProperty('pointer-events');
            }
        }
    }
    /**
     * Get the top most interactive element
     * @returns element
     */
    get interactiveElement() {
        return this.interactiveElements[this.interactiveElements.length - 1];
    }
    /**
     * Memoize the scroll position of the outside scrolling element.
     * @returns {void}
     */
    saveScrollPosition() {
        if (document.scrollingElement) {
            this.scrollTop = document.scrollingElement.scrollTop;
            this.scrollLeft = document.scrollingElement.scrollLeft;
        }
        else {
            // Since we don't know if is the body or html, get max.
            this.scrollTop = Math.max(document.documentElement.scrollTop, document.body.scrollTop);
            this.scrollLeft = Math.max(document.documentElement.scrollLeft, document.body.scrollLeft);
        }
    }
    /**
     * Resets the scroll position of the outside scrolling element.
     * @returns {void}
     */
    restoreScrollPosition() {
        if (document.scrollingElement) {
            document.scrollingElement.scrollTop = this.scrollTop;
            document.scrollingElement.scrollLeft = this.scrollLeft;
        }
        else {
            // Since we don't know if is the body or html, set both.
            document.documentElement.scrollTop = document.body.scrollTop = this.scrollTop;
            document.documentElement.scrollLeft = document.body.scrollLeft = this.scrollLeft;
        }
    }
    /**
     * Listen for scroll and wheel events, to apply the correct lock logic
     * @returns {void}
     */
    lockEvents() {
        const wheelEventConf = {
            capture: true,
            passive: false
        };
        document.addEventListener('wheel', this.onWheelScroll, wheelEventConf);
        document.addEventListener('touchstart', this.onTouchScroll, wheelEventConf);
        document.addEventListener('touchmove', this.onTouchScroll, wheelEventConf);
        document.addEventListener('touchend', this.onTouchScroll, wheelEventConf);
        const scrollEventConf = {
            capture: true,
            passive: true /* passive improves scrolling performance. See https://developers.google.com/web/tools/lighthouse/audits/passive-event-listeners how. This does not work in IE11 */
        };
        document.addEventListener('scroll', this.onScroll, scrollEventConf);
        document.addEventListener('mousedown', this.applyScrollLock, scrollEventConf);
        document.addEventListener('touchstart', this.applyScrollLock, scrollEventConf);
        document.addEventListener('keydown', this.applyScrollLock, scrollEventConf);
        document.addEventListener('mouseup', this.removeScrollLock, scrollEventConf);
        document.addEventListener('touchend', this.removeScrollLock, scrollEventConf);
        document.addEventListener('keyup', this.removeScrollLock, scrollEventConf);
    }
    /**
     * Remove scroll and wheel listeners
     * @returns {void}
     */
    unlockEvents() {
        const wheelEventConf = {
            capture: true,
            passive: false
        };
        document.removeEventListener('wheel', this.onWheelScroll, wheelEventConf);
        document.removeEventListener('touchstart', this.onTouchScroll, wheelEventConf);
        document.removeEventListener('touchmove', this.onTouchScroll, wheelEventConf);
        document.removeEventListener('touchend', this.onTouchScroll, wheelEventConf);
        const scrollEventConf = {
            capture: true,
            passive: true
        };
        document.removeEventListener('scroll', this.onScroll, scrollEventConf);
        document.removeEventListener('mousedown', this.applyScrollLock, scrollEventConf);
        document.removeEventListener('touchstart', this.applyScrollLock, scrollEventConf);
        document.removeEventListener('keydown', this.applyScrollLock, scrollEventConf);
        document.removeEventListener('mouseup', this.removeScrollLock, scrollEventConf);
        document.removeEventListener('touchend', this.removeScrollLock, scrollEventConf);
        document.removeEventListener('keyup', this.removeScrollLock, scrollEventConf);
    }
    /**
     * Add locking backdrop and prevent pointer events on document
     * @returns {void}
     */
    applyLockBackdrop() {
        this.setPointerEvents(document.documentElement, 'none'); /* prevent scrolling on all other scrollable elements */
    }
    /**
     * Remove locking backdrop and prevent pointer events on document
     * @returns {void}
     */
    removeLockBackdrop() {
        this.restorePointerEvents(document.documentElement);
    }
    /**
     * Check if wheel event should be cancelled
     * @param event Touch event
     * @return shouldCancelTouch True if the touch event should be cancelled
     */
    shouldCancelTouch(event) {
        const { targetTouches, type, target } = event;
        if (type === 'touchend') {
            this.lastTouchPosition = undefined;
            return false;
        }
        // store touch position
        if (type === 'touchstart') {
            const touch = targetTouches[0];
            this.lastTouchPosition = {
                pageX: touch.pageX,
                pageY: touch.pageY,
                target
            };
            return false;
        }
        if (!this.lastTouchPosition) {
            return false;
        }
        // 'touchmove'
        const touch = targetTouches[0];
        const deltaX = this.lastTouchPosition.pageX - touch.pageX;
        const deltaY = this.lastTouchPosition.pageY - touch.pageY;
        return this.shouldCancelScroll(event, deltaY, deltaX);
    }
    /**
     * Check if wheel event should be cancelled
     * @param event Wheel event
     * @return shouldCancelWheel True if the scroll event should be cancelled
     */
    shouldCancelWheel(event) {
        const { deltaX, deltaY } = event;
        return this.shouldCancelScroll(event, deltaY, deltaX);
    }
    /**
     * Check if wheel event should be cancelled
     * @param event Wheel event
     * @param deltaY Scroll delta on Y axis
     * @param deltaX Scroll delta on X axis
     * @return shouldCancel True if the event should be cancelled
     */
    shouldCancelScroll(event, deltaY, deltaX) {
        const isVerticalScroll = Math.abs(deltaY) >= Math.abs(deltaX);
        const path = [...event.composedPath()];
        let idx = -1;
        const interactiveElements = [...this.interactiveElements];
        // calculate if the wheel event should be stopped according to locked
        while (idx === -1 && interactiveElements.length) {
            idx = path.indexOf(interactiveElements.pop());
        }
        // scroll happened outside the locked container
        if (idx === -1) {
            return true;
        }
        const checkSlice = path.slice(0, idx + 1);
        const canScroll = isVerticalScroll ? (element) => {
            const style = window.getComputedStyle(element);
            if (style.overflowY === 'scroll' || style.overflowY === 'auto') {
                // delta < 0 is scroll up, delta > 0 is scroll down.
                return deltaY < 0 ? element.scrollTop > 0 : element.scrollTop < element.scrollHeight - element.clientHeight;
            }
            return false;
        } : (element) => {
            const style = window.getComputedStyle(element);
            if (style.overflowX === 'scroll' || style.overflowX === 'auto') {
                // delta < 0 is scroll left, delta > 0 is scroll right.
                return deltaX < 0 ? element.scrollLeft > 0 : element.scrollLeft < element.scrollWidth - element.clientWidth;
            }
            return false;
        };
        while (checkSlice.length) {
            const node = checkSlice.shift();
            if (node && node.nodeType !== Node.ELEMENT_NODE) {
                continue;
            }
            if (canScroll(node)) {
                return false;
            }
        }
        return true;
    }
}
const locker = new ScrollLockManager(); /* Locker is a singleton */
/**
* Lock the screen and make top post popup
* and its position target interactive
* @returns {void}
*/
const applyLock = () => {
    locker.applyLock();
};


/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CoralTextField */
/* harmony import */ var _elf_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);
/* harmony import */ var _elf_coral_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
/* harmony import */ var _elf_coral_tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(14);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



const hasChanged = (newVal, oldVal) => oldVal === undefined ? false : newVal !== oldVal;
const isIE = (/Trident/g).test(navigator.userAgent);
/**
 * coral-text-field - a form control element for text
 *
 * @fires value-changed - Dispatched when value changes
 * @fires error-changed - Dispatched when error state changes
 *
 * @attr {string} value - Input's value
 * @prop {string} [value=] - Input's value
 *
 * @attr {boolean} readonly - Set readonly state
 * @prop {boolean} [readonly=false] - Set readonly state
 *
 * @attr {boolean} disabled - Set disabled state
 * @prop {boolean} [disabled=false] - Set disabled state
 */
let CoralTextField = class CoralTextField extends _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* ControlElement */ "b"] {
    constructor() {
        super(...arguments);
        /**
         * Set regular expression for input validation
         */
        this.pattern = '';
        /**
         * Set place holder text
         */
        this.placeholder = '';
        /**
         * Set state to error
         */
        this.error = false;
        /**
         * Set state to warning
         */
        this.warning = false;
        /**
         * Specify icon to display in input. Value can be icon name
         */
        this.icon = '';
        /**
         * Specify when icon need to be clickable
         */
        this.iconHasAction = false;
        /**
         * Disables all other states and border/background styles.
         * Use with advanced composite elements requiring e.g. multi selection in
         * coral-combo-box when parent container handles element states.
         */
        this.transparent = false;
        /**
         * Set character max limit
         */
        this.maxLength = null;
        /**
         * Set character min limit
         */
        this.minLength = null;
        /**
         * check if value is changed and fire event
         * @returns {void}
         */
        this.onPossibleValueChange = () => {
            const value = this.inputElement.value;
            this.setValueAndNotify(value);
        };
        /**
         * validate input according `pattern`, `minLength` and `maxLength` properties
         * change state of `error` property according pattern validation
         * @returns void
         */
        this.validateInput = () => {
            let error = !this.inputElement.checkValidity();
            if (this.shouldValidateForMinLength(error)) {
                error = !!this.minLength && (this.minLength > this.value.length);
            }
            if (this.error !== error) {
                this.error = error;
                this.notifyPropertyChange('error', this.error);
            }
        };
        /**
         * Detect `enter` and `space` keydown and fire
         * @param event keydown event
         * @returns {void}
         */
        this.handleKeyDown = (event) => {
            if (event.key === 'Spacebar' || event.key === ' ' || event.key === 'Enter') {
                this.notifyIcon();
            }
        };
        /**
         * Process internal icon click and fire `icon-click` event
         * @returns void
         */
        this.iconClick = () => {
            this.notifyIcon();
        };
    }
    /**
    * Element version number
    */
    static get version() {
        return '4.6.16';
    }
    /**
     * @returns A `CSSResult` that will be used to style the host,
     * slotted children and the internal template of the element.
     */
    static get styles() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* css */ "h"] `
      :host {
        display: inline-block;
      }

      :host(:focus), :host input:focus {
        outline: none;
      }
      [part=input] {
        font: inherit;
        background: none;
        color: currentColor;
        border: none;
        text-align: inherit;
      }
      :host([icon]) [part=icon]{
        display: flex;
        outline: none;
      }
      :host([transparent]) {
        background: none !important;
        border: none !important;
      }
      :host([icon][icon-has-action]) [part=icon] {
        cursor: pointer;
      }
    `;
    }
    /**
     * Selection start index
     */
    get selectionStart() {
        return this.inputElement.selectionStart;
    }
    set selectionStart(index) {
        this.inputElement.selectionStart = index;
    }
    /**
     * Selection end index
     */
    get selectionEnd() {
        return this.inputElement.selectionEnd;
    }
    set selectionEnd(index) {
        this.inputElement.selectionEnd = index;
    }
    /**
     * Select the contents of input
     * @returns void
     */
    select() {
        if (!this.disabled && !this.readonly) {
            this.inputElement.select();
        }
    }
    /**
     * Set the selection range
     * @param startSelection Start of selection
     * @param endSelection End of the selection
     * @returns {void}
     */
    setSelectionRange(startSelection, endSelection) {
        this.inputElement.setSelectionRange(startSelection, endSelection);
    }
    /**
     * Called after the component is first rendered
     * @param changedProperties Properties which have changed
     * @returns {void}
     */
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        Object(_elf_coral_tooltip__WEBPACK_IMPORTED_MODULE_2__[/* registerOverflowTooltip */ "b"])(this.inputElement, () => this.value);
    }
    /**
     * Called when the elements DOM has been updated and rendered
     * @param changedProperties Properties that has changed
     * @returns shouldUpdate
     */
    updated(changedProperties) {
        super.updated(changedProperties);
        if (this.inputElement.value !== this.value) {
            this.inputElement.value = this.value;
        }
        if (this.shouldValidateInput(changedProperties)) {
            this.validateInput();
        }
    }
    /**
     * Check if input should be re-validated
     * @param changedProperties Properties that has changed
     * @returns True if input should be re-validated
     */
    shouldValidateInput(changedProperties) {
        return (changedProperties.has('pattern') || !!(this.pattern && changedProperties.has('value')))
            || (changedProperties.has('minLength') || !!(this.minLength && changedProperties.has('value')));
    }
    /**
     * renders icon element if property present
     * @returns {void}
     */
    renderIcon() {
        return this.icon ? _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `
    <coral-icon
        part="icon"
        icon="${this.icon}"
        ?readonly="${this.readonly}"
        ?disabled="${this.disabled}"
        @tap="${this.iconClick}"
        @keydown="${this.handleKeyDown}"
        tabindex="${Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* ifDefined */ "l"])(this.iconHasAction ? '0' : undefined)}"
      ></coral-icon>
    ` : null;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `
      <input
        type="text"
        part="input"
        ?readonly="${this.readonly}"
        ?disabled="${this.disabled}"
        placeholder="${Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* ifDefined */ "l"])(this.placeholder || undefined)}"
        maxlength="${Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* ifDefined */ "l"])(this.maxLength || undefined)}"
        minlength="${Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* ifDefined */ "l"])(this.minLength || undefined)}"
        @input="${this.onPossibleValueChange}"
        @change="${this.onPossibleValueChange}"
        pattern="${Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* ifDefined */ "l"])(this.pattern || undefined)}"
        autocomplete="off"
      />
      ${this.renderIcon()}
    `;
    }
    /**
     * @param error existing state of error
     * @returns true if there is no error and browser is IE11 and minLength more than 0 and value exists
     */
    shouldValidateForMinLength(error) {
        return !!(!error && isIE && this.minLength && !!this.value);
    }
    /**
     * Fire event on `icon` click
     * @returns {void}
     */
    notifyIcon() {
        if (this.iconHasAction) {
            /**
             * Dispatched only when element has icon-has-action attribute and icon is clicked
             */
            this.dispatchEvent(new CustomEvent('icon-click', { bubbles: false }));
        }
    }
};
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String, hasChanged })
], CoralTextField.prototype, "pattern", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String })
], CoralTextField.prototype, "placeholder", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralTextField.prototype, "error", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralTextField.prototype, "warning", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String, reflect: true })
], CoralTextField.prototype, "icon", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true, attribute: 'icon-has-action' })
], CoralTextField.prototype, "iconHasAction", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralTextField.prototype, "transparent", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Number, attribute: 'maxlength', reflect: true })
], CoralTextField.prototype, "maxLength", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Number, attribute: 'minlength', reflect: true, hasChanged })
], CoralTextField.prototype, "minLength", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* query */ "o"])('[part="input"]')
], CoralTextField.prototype, "inputElement", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Number, attribute: false })
], CoralTextField.prototype, "selectionStart", null);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Number, attribute: false })
], CoralTextField.prototype, "selectionEnd", null);
CoralTextField = __decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* customElement */ "i"])('coral-text-field')
], CoralTextField);



/***/ }),
/* 28 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, "a", function() { return /* binding */ coral_dialog_CoralDialog; });

// EXTERNAL MODULE: ./node_modules/@elf/core/lib/elf.js + 57 modules
var elf = __webpack_require__(0);

// EXTERNAL MODULE: ./node_modules/@elf/coral-popup-panel/lib/index.js + 9 modules
var lib = __webpack_require__(18);

// EXTERNAL MODULE: ./node_modules/@elf/coral-icon/lib/coral-icon.js + 1 modules
var coral_icon = __webpack_require__(7);

// EXTERNAL MODULE: ./node_modules/@elf/coral-panel/lib/coral-panel.js
var coral_panel = __webpack_require__(31);

// EXTERNAL MODULE: ./node_modules/@elf/coral-header/lib/coral-header.js
var coral_header = __webpack_require__(38);

// EXTERNAL MODULE: ./node_modules/@elf/coral-button/lib/coral-button.js
var coral_button = __webpack_require__(15);

// CONCATENATED MODULE: ./node_modules/@elf/coral-dialog/lib/draggable-element.js
const MAIN_MOUSE_BUTTON = 0;
class DraggableManager {
    constructor() {
        this.lastX = 0;
        this.lastY = 0;
        this.deltaX = 0;
        this.deltaY = 0;
        this.xOffset = 0;
        this.yOffset = 0;
        this.draggableElements = new Map();
        this.draggableElement = null;
        /**
         * @param draggableElement element that will be dragged
         * @param handle element that will be touched for dragging
         * @returns {void}
         */
        this.mouseDownListener = (draggableElement, handle) => (e) => {
            if (e.button === MAIN_MOUSE_BUTTON && e.target === handle) {
                this.draggableElement = draggableElement;
                this.setSelectingOfText(false);
                document.addEventListener('mouseup', this.onRelease);
                document.addEventListener('mousemove', this.onMove);
                this.updateOffset();
                this.drag(e.pageX, e.pageY);
            }
        };
        /**
         * remove event listeners for dragging from document
         * @returns {void}
         */
        this.release = () => {
            document.removeEventListener('mouseup', this.onRelease);
            document.removeEventListener('mousemove', this.onMove);
            this.draggableElement = null;
        };
        this.getDeltaAndShift = (x, y) => {
            if (this.draggableElement) {
                this.deltaX = x - this.lastX;
                this.deltaY = y - this.lastY;
                this.lastX = x;
                this.lastY = y;
                this.shift(this.deltaX, this.deltaY);
            }
        };
        /**
         * provides functionality needs for release draggable element
         * @param e mouse up event
         * @returns {void}
         */
        this.onRelease = (e) => {
            if (this.draggableElement) {
                this.setSelectingOfText(true);
                this.release();
                e.preventDefault();
                e.stopPropagation();
            }
        };
        this.onMove = (e) => {
            if (this.draggableElement && e.button === MAIN_MOUSE_BUTTON) {
                this.getDeltaAndShift(e.pageX, e.pageY);
            }
            else {
                this.release();
            }
        };
    }
    /**
     * register element for dragging
     * @param draggableElement element that will be dragged
     * @param handle element that will be captured for dragging
     * @returns {void}
     */
    register(draggableElement, handle) {
        if (!this.draggableElements.has(draggableElement)) {
            this.draggableElements.set(draggableElement, {
                mouseDownListener: this.mouseDownListener(draggableElement, handle),
                handle
            });
            this.setHandleListeners(draggableElement);
        }
        DraggableManager.setHandleCursor(handle);
    }
    /**
     * remove element from list of draggable
     * @param draggableElement element for dragging
     * @returns {void}
     */
    deregister(draggableElement) {
        if (this.draggableElements.has(draggableElement)) {
            DraggableManager.removeHandleCursor(this.draggableElements.get(draggableElement).handle);
            this.removeHandleListeners(draggableElement);
            this.draggableElements.delete(draggableElement);
            if (this.draggableElement === draggableElement) {
                this.release();
            }
        }
    }
    /**
     * Shifts the drag container by the specified x/y values
     * @param x Amount to shift the x-axis
     * @param y Amaount to shift the y-axis
     * @returns {void}
     */
    shift(x, y) {
        if (this.draggableElement) {
            // Shift the offsets
            this.xOffset += x;
            this.yOffset += y;
            // Get the current container box rect.
            const box = this.draggableElement.getBoundingClientRect();
            const scrollingElement = document.documentElement;
            // Don't allow the box to move outside the bounds of the viewport
            x = Math.min(Math.max(this.xOffset, 0), scrollingElement.clientWidth - box.width);
            y = Math.min(Math.max(this.yOffset, 0), scrollingElement.clientHeight - box.height);
            // Update the container position
            this.draggableElement.style.left = `${x}px`;
            this.draggableElement.style.top = `${y}px`;
        }
    }
    /**
     * Styles the handle and listens for mouse events.
     * @param draggableElement element that will be dragged
     * @returns {void}
     */
    setHandleListeners(draggableElement) {
        this.draggableElements.get(draggableElement).handle
            .addEventListener('mousedown', this.draggableElements.get(draggableElement).mouseDownListener);
    }
    /**
     * Styles the handle and listens for mouse events.
     * @param draggableElement element that will be dragged
     * @returns {void}
     */
    removeHandleListeners(draggableElement) {
        this.draggableElements.get(draggableElement).handle.removeEventListener('mousedown', this.draggableElements.get(draggableElement).mouseDownListener);
    }
    /**
     * Sets the cursor of the drag handle, based on its draggable state.
     * @param handle element that will be touched for dragging
     * @returns {void}
     */
    static setHandleCursor(handle) {
        handle.style.cursor = 'move';
    }
    /**
     * Sets the cursor of the drag handle, based on its draggable state.
     * @param handle element that will be touched for dragging
     * @returns {void}
     */
    static removeHandleCursor(handle) {
        handle.style.removeProperty('cursor');
    }
    /**
     * Get the current offset as it may have been changed.
     * @returns {void}
     */
    updateOffset() {
        if (this.draggableElement) {
            const style = getComputedStyle(this.draggableElement);
            this.xOffset = parseFloat(style.left.replace(/\D[~.]/g, ''));
            this.yOffset = parseFloat(style.top.replace(/\D[~.]/g, ''));
        }
    }
    /**
     * Set the global dragging values
     * @param x Starting mouse x position
     * @param y Starting mouse y position
     * @returns {void}
     */
    drag(x, y) {
        this.lastX = x;
        this.lastY = y;
    }
    /**
     * switch user-select if the dtaggableElement exists
     * @param enable the condition of the user-select state
     * @returns {void}
     */
    setSelectingOfText(enable) {
        if (!this.draggableElement) {
            return;
        }
        if (enable) {
            this.draggableElement.style.userSelect = 'auto';
        }
        else {
            this.draggableElement.style.userSelect = 'none';
        }
    }
}
/**
 * creating singleton instance of DraggableManager
 */
const draggableManager = new DraggableManager();
/**
 * provide public function for registering element for dragging
 * @param draggableElement element that will be moved
 * @param handle element that will be captured for movement
 * @returns {void}
 */
const register = (draggableElement, handle) => {
    draggableManager.register(draggableElement, handle);
};
/**
 * provide public function for registering element for dragging
 * @param draggableElement draggable element
 * @returns {void}
 */
const deregister = (draggableElement) => {
    draggableManager.deregister(draggableElement);
};

// EXTERNAL MODULE: ./node_modules/@elf/elf-translate/lib/elf-translate.js
var elf_translate = __webpack_require__(6);

// EXTERNAL MODULE: ./node_modules/@elf/core-phrasebook/lib/locale/en/coral-dialog.js
var coral_dialog = __webpack_require__(41);

// CONCATENATED MODULE: ./node_modules/@elf/coral-dialog/lib/coral-dialog.js
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};









// TODO: use metrics once available
const isIE = (/Trident/g).test(navigator.userAgent) || (/MSIE/g).test(navigator.userAgent);
/**
 * coral-dialog is a popup window,
 * designed to contain and show any HTML content.
 * It provides modal and dragging functionality,
 * and also allows custom footers and control buttons to be used.
 *
 * TODO: We should remove withBackdrop and withShadow. Users shouldn't use this on dialog.
 *
 * @prop {boolean} noCancelOnOutsideClick - Prevents dialog to close when user clicks outside the dialog.
 *
 * @attr {boolean} [opened=false] - Set dialog to open
 * @prop {boolean} [opened=false] - Set dialog to open
 *
 * @attr {boolean} [no-cancel-on-esc-key=false] - Prevents dialog to close when user presses ESC key
 * @prop {boolean} [noCancelOnEscKey=false] - Prevents dialog to close when user presses ESC key
 *
 * @attr {string} x - Set a specific x coordinate of dialog
 * @prop {string} x - Set a specific x coordinate of dialog
 *
 * @attr {string} y - Set a specific y coordinate of dialog
 * @prop {string} y - Set a specific y coordinate of dialog
 *
 * @prop {boolean} confirmed - True if user closed dialog by using default OK button
 *
 * @attr {boolean} full-screen - Set dialog to full screen
 * @prop {boolean} fullScreen - Set dialog to full screen
 *
 * @attr {string} position-target - Set position of dialog i.e. `top`, `right`, `left`, `bottom`, `center` or combination of theme e.g. `top right`.
 * @prop {string} positionTarget - Set position of dialog i.e. `top`, `right`, `left`, `bottom`, `center` or combination of theme e.g. `top right`.
 *
 * @fires opened-changed - Fired when value of `opened` property is changed. Prevent default to stop default action
 * @fires confirm - Fired when dialog is closed by user clicked a default OK button. Prevent default to stop default action
 * @fires cancel - Fired when dialog is closed by user clicked a default Cancel button, clicked outside to close dialog or press ESC to close the dialog. Prevent default to stop default action
 *
 * @slot footer - Hide default OK and Cancel button and replace dialog's footer with your custom content.
 */
let coral_dialog_CoralDialog = class CoralDialog extends lib["a" /* CoralPopupPanel */] {
    constructor() {
        super(...arguments);
        /**
         * Set Header/Title of the dialog
         */
        this.header = null;
        /**
         * @deprecated
         * @ignore
         * Flag to say whether the dialog has been confirmed and closed.
         */
        this.confirmed = false;
        /**
         * Should the dialog be draggable
         */
        this.draggable = false;
        /**
         * Deprecation notices
         */
        this.confirmDeprecation = new elf["c" /* DeprecationNotice */]('confirm() is deprecated.');
        this.modalDeprecation = new elf["c" /* DeprecationNotice */]('modal is deprecated, dialog is always modal.');
        this.autoHideDeprecation = new elf["c" /* DeprecationNotice */]('autoHide is deprecated. Uses "noCancelOnOutsideClick" instead.');
        /**
        * @ignore
        */
        this.noCancelOnOutsideClick = true;
        /**
        * @ignore
        */
        this.withBackdrop = true;
        /**
        * @ignore
        */
        this.withShadow = true;
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.36';
    }
    static get styles() {
        return [...lib["a" /* CoralPopupPanel */].styles, elf["h" /* css */] `
      :host {
        width: 400px;
        display: flex;
        flex-flow: column nowrap;
        flex-grow: 1;
        flex-shrink: 1;
        flex-basis: auto;
      }

      [part=content] {
        flex: 1 1 auto;
        overflow-x: hidden;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
      }

      [part="default-buttons"] {
        display: flex;
        justify-content: flex-end;
        align-items: center;
      }

      [part=header],
      [part=footer] {
        flex: none;
      }

      [part=close] {
        flex: none;
        cursor: pointer;
      }
    `];
    }
    /**
     * @deprecated
     * @ignore
     * use withBackdrop instead
     * Display a modal backdrop
     */
    get modal() {
        this.modalDeprecation.once();
        return this.withBackdrop;
    }
    /**
     * @ignore
     * @param {boolean} value - Set modal on/off
     */
    set modal(value) {
        this.modalDeprecation.once();
        this.withBackdrop = value;
    }
    /**
     * @deprecated
     * @ignore
     * use noCancelOnOutsideClick instead
     * Should the dialog auto-close when clicked outside of
     */
    get autoHide() {
        this.autoHideDeprecation.once();
        return !this.noCancelOnOutsideClick;
    }
    /**
     * @ignore
     * @param {boolean} value - Set auto hide on/off
     */
    set autoHide(value) {
        this.autoHideDeprecation.once();
        this.noCancelOnOutsideClick = !value;
    }
    /**
     * @deprecated
     * @ignore
     * @returns {void}
     */
    confirm() {
        this.confirmDeprecation.once();
        this.confirmed = true;
        this.opened = false;
    }
    disconnectedCallback() {
        super.disconnectedCallback();
        deregister(this);
    }
    /**
     * Clear all cached values and fit the popup.
     * Use this function only if maxWidth, maxHeight, minWidth, minHeight, height, width are changed
     * @returns {void}
     */
    refit() {
        super.refit();
        this.restrictContentMaxHeight();
    }
    /**
     * Called when the element's dimensions have changed
     * @ignore
     * @param size dimension details
     * @returns {void}
     */
    resizedCallback(size) {
        super.resizedCallback(size);
        this.calculateContentMaxHeight(size);
    }
    /**
     * check if component should be updated
     * @param changedProperties properties changed on shouldUpdate lifecycle callback
     * @returns boolean should component update
     */
    shouldUpdate(changedProperties) {
        const shouldUpdate = super.shouldUpdate(changedProperties);
        this.resetConfirmed(changedProperties);
        return shouldUpdate
            || ((changedProperties.has('draggable') || changedProperties.has('header') || changedProperties.has(elf_translate["a" /* TranslatePropertyKey */])) && this.opened);
    }
    /**
     * Called after the elements properties has been updated
     * @param changedProperties Properties that has changed
     * @returns {void}
     */
    updated(changedProperties) {
        super.updated(changedProperties);
        if (this.isDraggableBehaviourNeedToBeChanged(changedProperties)) {
            this.updateDraggableBehavior();
        }
    }
    /**
     * Get the default content region
     */
    get contentRegion() {
        return elf["k" /* html */] `<slot></slot>`;
    }
    /**
     * Get the default footer region
     */
    get footerRegion() {
        return elf["k" /* html */] `<slot name="footer">
      <div part="default-buttons">
        <coral-button part="default-button" cta @tap=${this.defaultConfirm}">${this.t('OK')}</coral-button>
        <coral-button part="default-button" @tap="${this.defaultCancel}">${this.t('CANCEL')}</coral-button>
      </div>
    </slot>`;
    }
    /**
     * Get the default header region
     */
    get headerRegion() {
        return elf["k" /* html */] `
      ${this.header === null ? this.t('HEADER') : this.header}
      <coral-icon part="close" icon="cross" slot="right" @tap="${this.defaultCancel}"></coral-icon>
    `;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return elf["k" /* html */] `
        <coral-header drag-handle part="header">${this.headerRegion}</coral-header>
        <coral-panel part="content" spacing transparent>${this.contentRegion}</coral-panel>
        <div part="footer">${this.footerRegion}</div>
    `;
    }
    /**
     * Run when the popup has closed, managers are de-registered
     * and closing transition has finished
     * @returns {void}
     */
    onClosed() {
        super.onClosed();
        this.restrictContentMaxHeight();
    }
    /**
     * reset `confirmed` property to default status false when dialog opens
     * @param changedProperties - properties changed on shouldUpdate lifecycle callback
     * @returns {void}
     */
    resetConfirmed(changedProperties) {
        if (changedProperties.has('opened') && this.opened) {
            this.confirmed = false;
        }
    }
    /**
     * IE11 only: Restrict maximum height of content element
     * @param [maxHeight] Maximum height of content element
     * @returns {void}
     */
    /* istanbul ignore next */
    restrictContentMaxHeight(maxHeight) {
        if (!isIE) {
            return;
        }
        if (maxHeight) {
            this.contentElement.style.setProperty('max-height', `${maxHeight}px`);
        }
        else {
            this.contentElement.style.removeProperty('max-height');
        }
    }
    /**
     * IE11 only: Calculate the maxHeight of content element
     * @param size Size of the dialog
     * @returns {void}
     */
    /* istanbul ignore next */
    calculateContentMaxHeight(size) {
        if (!isIE) {
            return;
        }
        const headerRect = this.headerElement.getBoundingClientRect();
        const footerRect = this.footerElement.getBoundingClientRect();
        const contentRect = this.contentElement.getBoundingClientRect();
        const dialogHeight = size.height;
        const headerHeight = headerRect ? headerRect.height : 0;
        const footerHeight = footerRect ? footerRect.height : 0;
        const contentHeight = contentRect ? contentRect.height : 0;
        if (headerHeight + footerHeight + contentHeight > dialogHeight) {
            this.restrictContentMaxHeight(dialogHeight - footerHeight - headerHeight);
        }
    }
    /**
     * Default handler for confirm click
     * @returns {void}
     */
    defaultConfirm() {
        this.confirmed = true;
        this.setOpened(false);
    }
    /**
     * Default handler for cancel click
     * @returns {void}
     */
    defaultCancel() {
        this.confirmed = false;
        this.setOpened(false);
    }
    /**
     * Make sure that confirm/cancel events are fired appropriately
     * All internal opened set events can be stoppable externally
     * Use this instead of setting opened directly
     * Protected method that can be used by managers or subclasses
     * @param opened True if opened
     * @returns {void}
     */
    setOpened(opened) {
        if (!opened) {
            // if default is prevented, do not proceed to closed
            if (!this.fireCancelOrConfirmEvent(this.confirmed)) {
                return;
            }
        }
        super.setOpened(opened);
    }
    /**
     * update draggable behavior looking to properties draggable and opened
     * @returns {void}
     */
    updateDraggableBehavior() {
        if (this.draggable && this.opened) {
            const handle = this.handle;
            handle && register(this, handle);
        }
        else {
            deregister(this);
        }
    }
    /**
     * @param changedProperties - updated properties map
     * @returns true if needs to update draggable behavior
     */
    isDraggableBehaviourNeedToBeChanged(changedProperties) {
        return changedProperties.has('draggable') || changedProperties.has('opened');
    }
    /**
     * fire `cancel` or `confirm` event looking to `confirm` property
     * @param isConfirm true to fire `confirm` event. false to fire `cancel` event
     * @returns true if event is successful, false if event is prevented
     */
    fireCancelOrConfirmEvent(isConfirm) {
        const event = new CustomEvent(isConfirm ? 'confirm' : 'cancel', {
            cancelable: true
        });
        this.dispatchEvent(event);
        return !event.defaultPrevented;
    }
};
__decorate([
    Object(elf["n" /* property */])({ type: String })
], coral_dialog_CoralDialog.prototype, "header", void 0);
__decorate([
    Object(elf["n" /* property */])({ type: Boolean })
], coral_dialog_CoralDialog.prototype, "modal", null);
__decorate([
    Object(elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_dialog_CoralDialog.prototype, "confirmed", void 0);
__decorate([
    Object(elf["n" /* property */])({ type: Boolean, attribute: 'auto-hide' })
], coral_dialog_CoralDialog.prototype, "autoHide", null);
__decorate([
    Object(elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_dialog_CoralDialog.prototype, "draggable", void 0);
__decorate([
    Object(elf_translate["c" /* translate */])()
], coral_dialog_CoralDialog.prototype, "t", void 0);
__decorate([
    Object(elf["o" /* query */])('[drag-handle]')
], coral_dialog_CoralDialog.prototype, "handle", void 0);
__decorate([
    Object(elf["o" /* query */])('[part=content]')
], coral_dialog_CoralDialog.prototype, "contentElement", void 0);
__decorate([
    Object(elf["o" /* query */])('[part=header]')
], coral_dialog_CoralDialog.prototype, "headerElement", void 0);
__decorate([
    Object(elf["o" /* query */])('[part=footer]')
], coral_dialog_CoralDialog.prototype, "footerElement", void 0);
coral_dialog_CoralDialog = __decorate([
    Object(elf["i" /* customElement */])('coral-dialog')
], coral_dialog_CoralDialog);



/***/ }),
/* 29 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ElementObserver */

// TODO: Improve _onMutationCallback to execute only listener that is related to to the element.

/** @namespace
*/
var ElementObserver = {};

/** @private
* @param {Element} elem
* @param {Array.<MutationRecord>} mutations
*/
var _onLanguageMutated = function (elem, mutations) {
	for (var i = 0; i < mutations.length; i++) {
		var mutation = mutations[i];
		if (mutation.target === document.documentElement && mutation.type == "attributes") {
			elem.lang = mutation.target.lang || "en";
		}
	}
};

/** @private Observe any element
* @param {Element} elem
* @param {Function} listener
* @param {Object=} opt_option
*/
ElementObserver._addObserver = function(elem, listener, opt_option) {
	var option = opt_option;
	if (!option) {
		option = {};
	}
	option.attributes = true; //configure it to listen to attribute changes

	ElementObserver._observer.observe(elem, option);
	ElementObserver._addListener(listener);
};

/** @private
* @param {Array.<MutationRecord>} mutations
*/
ElementObserver._onMutationCallback = function(mutations) {
	var listeners = ElementObserver._listeners;
	for (var i = 0; i < listeners.length; i++) {
		listeners[i](mutations);
	}
};

/** @private
* @param {Function} fn
*/
ElementObserver._addListener = function(fn) {
	var listeners = ElementObserver._listeners;
	if (!listeners) {
		listeners = ElementObserver._listeners = [];
	}
	if (listeners.indexOf(fn) < 0) {
		listeners.push(fn);
	}
};

/** @public Add a listener to a html lang attribute
* @param {Element} element A target element to listen to
*/
ElementObserver.addLanguageListener = function(element) {
	if (!element) { return; }

	element.lang = document.documentElement.lang || "en";

	ElementObserver._addObserver(document.documentElement, _onLanguageMutated.bind(null, element));
};

/**
* @type {MutationObserver}
* @private
*/
ElementObserver._observer = new MutationObserver(ElementObserver._onMutationCallback);

/**
* @type {Array.<*>}
* @private
*/
ElementObserver._listeners = [];

/* harmony default export */ __webpack_exports__["a"] = (ElementObserver);



/***/ }),
/* 30 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, "a", function() { return /* binding */ DateTime; });

// UNUSED EXPORTS: MILLISECONDS_IN_DAY, SECONDS_IN_DAY

// CONCATENATED MODULE: ./node_modules/tr-grid-util/es6/locale/translation-en.js
/**
* @namespace
*/
var translationEn = {
	"sun": "Sun",
	"mon": "Mon",
	"tue": "Tue",
	"wed": "Wed",
	"thu": "Thu",
	"fri": "Fri",
	"sat": "Sat",
	"Sunday": "Sunday",
	"Monday": "Monday",
	"Tuesday": "Tuesday",
	"Wednesday": "Wednesday",
	"Thursday": "Thursday",
	"Friday": "Friday",
	"Saturday": "Saturday",

	"jan": "Jan",
	"feb": "Feb",
	"mar": "Mar",
	"apr": "Apr",
	"may": "May",
	"jun": "Jun",
	"jul": "Jul",
	"aug": "Aug",
	"sep": "Sep",
	"oct": "Oct",
	"nov": "Nov",
	"dec": "Dec",
	"January": "January",
	"February": "February",
	"March": "March",
	"April": "April",
	"May": "May",
	"June": "June",
	"July": "July",
	"August": "August",
	"September": "September",
	"October": "October",
	"November": "November",
	"December": "December",

	"am": "am",
	"AM": "AM",
	"pm": "pm",
	"PM": "PM"
};

/* harmony default export */ var translation_en = (translationEn);

// CONCATENATED MODULE: ./node_modules/tr-grid-util/es6/locale/translation-de.js
/**
* @namespace
*/
var translationDe = {
	"sun": "So",
	"mon": "Mo",
	"tue": "Di",
	"wed": "Mi",
	"thu": "Do",
	"fri": "Fr",
	"sat": "Sa",
	"Sunday": "Sonntag",
	"Monday": "Montag",
	"Tuesday": "Dienstag",
	"Wednesday": "Mittwoch",
	"Thursday": "Donnerstag",
	"Friday": "Freitag",
	"Saturday": "Samstag",

	"jan": "Jan",
	"feb": "Feb",
	"mar": "Mrz",
	"apr": "Apr",
	"may": "Mai",
	"jun": "Jun",
	"jul": "Jul",
	"aug": "Aug",
	"sep": "Sep",
	"oct": "Okt",
	"nov": "Nov",
	"dec": "Dez",
	"January": "Januar",
	"February": "Februar",
	"March": "Mrz",
	"April": "April",
	"May": "Mai",
	"June": "Juni",
	"July": "Juli",
	"August": "August",
	"September": "September",
	"October": "Oktober",
	"November": "November",
	"December": "Dezember",

	"am": "am",
	"AM": "AM",
	"pm": "pm",
	"PM": "PM"
};

/* harmony default export */ var translation_de = (translationDe);

// CONCATENATED MODULE: ./node_modules/tr-grid-util/es6/locale/translation-ja.js
/**
* @namespace
*/
var translationJa = {
	'sun': '',
	'mon': '',
	'tue': '',
	'wed': '',
	'thu': '',
	'fri': '',
	'sat': '',
	'Sunday': '',
	'Monday': '',
	'Tuesday': '',
	'Wednesday': '',
	'Thursday': '',
	'Friday': '',
	'Saturday': '',

	'jan': '1',
	'feb': '2',
	'mar': '3',
	'apr': '4',
	'may': '5',
	'jun': '6',
	'jul': '7',
	'aug': '8',
	'sep': '9',
	'oct': '10',
	'nov': '11',
	'dec': '12',
	'January': '1',
	'February': '2',
	'March': '3',
	'April': '4',
	'May': '5',
	'June': '6',
	'July': '7',
	'August': '8',
	'September': '9',
	'October': '10',
	'November': '11',
	'December': '12',

	'am': '',
	'AM': '',
	'pm': '',
	'PM': ''
};

/* harmony default export */ var translation_ja = (translationJa);

// CONCATENATED MODULE: ./node_modules/tr-grid-util/es6/locale/translation-zh.js
/**
* @namespace
*/
var translationZh = {
	'sun': '',
	'mon': '',
	'tue': '',
	'wed': '',
	'thu': '',
	'fri': '',
	'sat': '',
	'Sunday': '',
	'Monday': '',
	'Tuesday': '',
	'Wednesday': '',
	'Thursday': '',
	'Friday': '',
	'Saturday': '',

	'jan': '1',
	'feb': '2',
	'mar': '3',
	'apr': '4',
	'may': '5',
	'jun': '6',
	'jul': '7',
	'aug': '8',
	'sep': '9',
	'oct': '10',
	'nov': '11',
	'dec': '12',
	'January': '',
	'February': '',
	'March': '',
	'April': '',
	'May': '',
	'June': '',
	'July': '',
	'August': '',
	'September': '',
	'October': '',
	'November': '',
	'December': '',

	'am': '',
	'AM': '',
	'pm': '',
	'PM': ''
};

/* harmony default export */ var translation_zh = (translationZh);

// CONCATENATED MODULE: ./node_modules/tr-grid-util/es6/locale/translation-zh-hant.js
/**
* @namespace
*/
var translationZhHant = {
	'sun': '',
	'mon': '',
	'tue': '',
	'wed': '',
	'thu': '',
	'fri': '',
	'sat': '',
	'Sunday': '',
	'Monday': '',
	'Tuesday': '',
	'Wednesday': '',
	'Thursday': '',
	'Friday': '',
	'Saturday': '',

	'jan': '1',
	'feb': '2',
	'mar': '3',
	'apr': '4',
	'may': '5',
	'jun': '6',
	'jul': '7',
	'aug': '8',
	'sep': '9',
	'oct': '10',
	'nov': '11',
	'dec': '12',
	'January': '',
	'February': '',
	'March': '',
	'April': '',
	'May': '',
	'June': '',
	'July': '',
	'August': '',
	'September': '',
	'October': '',
	'November': '',
	'December': '',

	'am': '',
	'AM': '',
	'pm': '',
	'PM': ''
};

/* harmony default export */ var translation_zh_hant = (translationZhHant);

// CONCATENATED MODULE: ./node_modules/tr-grid-util/es6/locale/translation.js






/**
* @namespace
*/
var translation = {
	"en": translation_en,
	"de": translation_de,
	"ja": translation_ja,
	"zh": translation_zh,
	"zh-Hant": translation_zh_hant
};

/* harmony default export */ var locale_translation = (translation);

// CONCATENATED MODULE: ./node_modules/tr-grid-util/es6/DateTime.js


/** @type {!Date}
* @public
* @constant
*/
var INVALID_DATE = new Date(NaN); // eslint-disable-line
/** JavaScript date starts at Jan 01 1970, while Excel date starts at Jan 01 1900 (before JavaScript date). This value is the difference in days between the two values.
* @type {number}
* @private
* @constant
*/
var _DIFF_DAYS = 25567 + 2; // Start 1 on 1 Jan 1900 + 1 for error on 29 Feb 1900 (Not existing date but existing in window)
/** Starting date (1 Jan 1900) of Excel date in milliseconds counting from JavaScript date
* @type {number}
* @private
* @constant
*/
var _1_JAN_1900 = Date.UTC(1900, 0, 1); // -2208988800000
/** @type {number}
* @private
* @constant
*/
var _1_MAR_1900 = Date.UTC(1900, 2, 1); // -2203891200000
/** @type {number}
* @public
* @constant
*/
var MILLISECONDS_IN_DAY = 24 * 60 * 60 * 1000; // 86400000
/** 86400 seconds in a day
* @type {number}
* @public
* @constant
*/
var SECONDS_IN_DAY = 24 * 60 * 60; // eslint-disable-line
/** 3600 seconds in a day
* @type {number}
* @public
* @constant
*/
var SECONDS_IN_HOUR = 60 * 60; // eslint-disable-line
/** @type {number}
* @public
* @constant
*/
var SECONDS_IN_MINUTE = 60; // eslint-disable-line

/** @type {Array.<string>}
* @public
* @constant
*/
var SHORT_DAYS = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"];
/** @type {Array.<string>}
* @public
* @constant
*/
var FULL_DAYS = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
/** @type {Array.<string>}
* @public
* @constant
*/
var SHORT_MONTHS = ["jan", "feb", "mar", "apr", "may", "jun", "jul", "aug", "sep", "oct", "nov", "dec"];
/** @type {Array.<string>}
* @public
* @constant
*/
var FULL_MONTHS = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

/** Add zero prefix to the number. WARNING: Does not support negative number
* @ignore
* @function
* @param {number} num
* @return {string}
*/
var prefixZero = function(num) {
	return (num > 9) ? "" + num : "0" + num;
};

/** @type {!Object.<string, Function>}
* @ignore
* @description Map of date pattern convertion
*/
var Parsers = {
	// Interday time
	"D": function(date, locale) { return "" + date.getDate(); },
	"DD": function(date, locale) { return prefixZero(date.getDate()); },
	"DDD": function(date, locale) { return locale[ SHORT_DAYS[date.getDay()] ]; },
	"D_": function(date, locale) { return locale[ FULL_DAYS[date.getDay()] ]; },
	"M": function(date, locale) { return "" + (date.getMonth() + 1); },
	"MM": function(date, locale) { return prefixZero(date.getMonth() + 1); },
	"MMM": function(date, locale) { return locale[ SHORT_MONTHS[date.getMonth()] ]; },
	"M_": function(date, locale) { return locale[ FULL_MONTHS[date.getMonth()] ]; },
	"YY": function(date, locale) { return ("" + date.getFullYear()).substr(-2); },
	"Y_": function(date, locale) { return "" + date.getFullYear(); },
	// Intraday time
	"H": function(date, locale) { return "" + date.getHours(); },
	"H_": function(date, locale) { return prefixZero(date.getHours()); },
	"h": function(date, locale) {
		var temp = date.getHours() % 12;
		return (temp === 0) ? "12" : "" + temp;
	},
	"h_": function(date, locale) {
		var temp = date.getHours() % 12;
		temp = (temp === 0) ? 12 : temp;
		return prefixZero(temp);
	},
	"m": function(date, locale) { return "" + date.getMinutes(); },
	"m_": function(date, locale) { return prefixZero(date.getMinutes()); },
	"S": function(date, locale) { return "" + date.getSeconds(); },
	"S_": function(date, locale) { return prefixZero(date.getSeconds()); },
	// AM/PM suffix
	"A": function(date, locale) { return (date.getHours() < 12) ? locale["AM"] : locale["PM"]; },
	"a": function(date, locale) { return (date.getHours() < 12) ? locale["am"] : locale["pm"]; }
};

/** @namespace
*/
var DateTime = {};

/**
* @type {string}
* @private
*/
DateTime._dateTimePattern = "M/D/YY h:mm A";
/**
* @type {string}
* @private
*/
DateTime._localeSetting = "en";
/**
* @type {Object.<string, string>}
* @private
*/
DateTime._activeLocaleMap = null;
/**
* @type {Date}
* @private
*/
DateTime._activeInput = null;


/** @public
* @function
* @description Set the default date time format in formula.
* @param {string=} format
*/
DateTime.setDateTimePattern = function(format) {
	DateTime._dateTimePattern = format || "M/D/YY h:mm A";
};
/** @public
* @function
* @description Set the locale language for localization.
* @param {string=} lang
*/
DateTime.setLocale = function(lang) {
	DateTime._localeSetting = locale_translation[lang] ? lang : "en";
};

/**
* @public
* @function
* @description The TEXT function converts an date & time number since 1 Jan, 1900 into a text in customizable format. Default is YYYY-MM-DD HH:mm:ss.
* @param  {number|string|Date} dateTimeNumber A date & time number since 1 Jan, 1900 or date & time text in format YYYY-MM-DDTHH:mm:ss
* @param  {string=} dateTimeFormat A customized format of the result. Default format is M/D/YY h:mm A.
* @param  {string=} timezone GMT (Greenwich Mean Time) or LOCAL (Local timezone). Default is GMT.
* @return {string}
* @example
* ----------------------------------------------------------------
* | Group  | Character   | English Output                        |
* ----------------------------------------------------------------
* | Year   | YY / yy     | 00 01 ... 16 17                       |
* |        | YYYY / yyyy | 2000 2001 ... 2016 2017               |
* | Month  | M           | 1 2 ... 11 12                         |
* |        | MM          | 01 02 ... 11 12                       |
* |        | MMM         | Jan Feb ... Nov Dec                   |
* |        | MMMM        | January February ... November December|
* | Day    | D / d       | 1 2 ... 30 31                         |
* |        | DD / dd     | 01 02 ... 30 31                       |
* |        | DDD / ddd   | Sun Mon ... Fri Sat                   |
* |        | DDDD / dddd | Sunday Monday ... Friday Saturday     |
* | Hour   | H           | 0 1 ... 22 23                         |
* |        | HH          | 00 01 ... 22 23                       |
* |        | h           | 1 2 ... 11 12                         |
* |        | hh          | 01 02 ... 11 12                       |
* | Minute | m           | 0 1 ... 58 59                         |
* |        | mm          | 00 01 ... 58 59                       |
* | Second | s           | 0 1 ... 58 59                         |
* |        | ss          | 00 01 ... 58 59                       |
* | AM/PM  | A           | AM PM                                 |
* |        | a           | am pm                                 |
* ----------------------------------------------------------------
*/
DateTime.format = function(dateTimeNumber, dateTimeFormat, timezone) {
	var date = null;
	var dtTxt = ""; // new Date() is on par with Date.parse in term of performance.
	var localTime = !!(timezone && timezone.toUpperCase() === "LOCAL");
	if(typeof dateTimeNumber === "number") {
		if(dateTimeNumber > 1e8) { // Maximum date is 100 millions and any number greater than that is assumed to be millisecond
			date = new Date(dateTimeNumber); // convert milisecond
		} else { // The given number is assumed to be in Excel format (i.e. integer represents date and fraction represents time)
			// This number is a product of other formulas (e.g. TODAY(), NOW()), which are all local time.
			date = DateTime.fromDateNumber(dateTimeNumber);
			localTime = true; // Assume that the given date is already in local time
		}
	} else if(dateTimeNumber instanceof Date) {
		// Monitor timestamp should pass the value as Date object
		// IDN data should pass the value as Date object. E.g. CF_DATE, CF_TIME
		date = new Date(dateTimeNumber); // Always clone the passing object as Date object is mutable
	} else {
		// Pass the value with string format, expected to be ISO8601 format (YYYY-MM-DDTHH:mm:ss)
		dtTxt = dateTimeNumber + "";
		var isISO8601 = dtTxt.match(/^\d{4}(-\d{2}(-\d{2}(T\d{2}\:\d{2}\:\d{2})?)?)?$/);
		dtTxt = dtTxt.replace(/\-/g, "\/"); // Convert to YYYY/MM/DD HH:mm:ss (common for all browsers)
		if(isISO8601) {
			dtTxt = dtTxt.replace(/T/g, " "); // Convert to YYYY/MM/DD HH:mm:ss (common for all browsers)
		}

		date = new Date(dtTxt);
	}

	if(DateTime.isInvalidDate(date)) { // Invalid date
		return dateTimeNumber || ""; // TODO: Check if we need to convert the original object to string
	}

	// Convert non-local time (GMT) to local time
	if(!localTime) {
		date.setTime(date.getTime() + date.getTimezoneOffset() * 60000);
	}

	return DateTime.formatDateObject(date, dateTimeFormat);
};
/** Format the Date object to specified format.
* @public
* @function
* @param  {Date} date Date object
* @param  {string=} dateTimeFormat Datetime format. Referred to TEXT function.
* @return {string} Return empty string, if the given date object is invalid
*/
DateTime.formatDateObject = function(date, dateTimeFormat) {
	if(DateTime.isInvalidDate(date)) { // Invalid date
		return "";
	}

	if(!dateTimeFormat) {
		dateTimeFormat = DateTime._dateTimePattern;
	}

	DateTime._activeInput = date;
	DateTime._activeLocaleMap = locale_translation[DateTime._localeSetting] || DateTimeLocale["en"];

	var result = dateTimeFormat.replace(/D+|M+|Y+|H+|S+|A+|d+|m+|y+|h+|s+|a+|\[[^\]]*\]+/g, DateTime._parseDatePattern);
	DateTime._activeInput = null;

	return result;
};

/** @type {!Object.<string, boolean>}
* @private
*/
DateTime._lowerCaseDatePatterns = {
	"d": true,
	"y": true,
	"s": true
};
/**
* @private
* @function
* @param  {string} match
* @return {string}
*/
DateTime._parseDatePattern = function(match) {
	var fchar = (match) ? match.charAt(0) : "";
	if(fchar === "[") { // Static text
		return match.substring(1, match.length - 1);
	}

	var parser = Parsers[match];
	if(!parser) {
		var mod = match;
		if(DateTime._lowerCaseDatePatterns[fchar]) {
			mod = match.toUpperCase();
			fchar = fchar.toUpperCase();
			parser = Parsers[mod];
		}
		if(!parser) {
			mod = fchar + "_";
			parser = Parsers[mod];
		}
	}
	if(parser) {
		return parser(DateTime._activeInput, DateTime._activeLocaleMap);
	}
	return match;
};

/** Check if the given date obj is valid without any automatic data type conversion.
* @public
* @function
* @param  {Date} dateObj Date number since 1 Jan, 1900 (value is 1)
* @return {boolean}
*/
DateTime.isValidDate = function(dateObj) {
	if(dateObj) {
		if(dateObj.getTime) {
			var t = dateObj.getTime();
			return t === t;
		}
	}
	return false;
};
/** Check if the given date obj is invalid without any automatic data type conversion.
* @public
* @function
* @param  {Date} dateObj Date number since 1 Jan, 1900 (value is 1)
* @return {boolean}
*/
DateTime.isInvalidDate = function(dateObj) {
	if(dateObj) {
		if(dateObj.getTime) {
			var t = dateObj.getTime();
			return t !== t;
		}
	}
	return true;
};

/** Convert the date number (Excel date format) since 1 Jan, 1900 (value is 1) to Date object.
* @public
* @function
* @param  {number} dateNumber Date number since 1 Jan, 1900 (value is 1)
* @return {!Date}
* @see {@link DateTime#dateNumberToMs}
* @see {@link DateTime#timeNumberToMs}
*/
DateTime.fromDateNumber = function(dateNumber) {
	var datePart = DateTime.dateNumberToMs(dateNumber);
	if(datePart === datePart) {
		var timePart = DateTime.timeNumberToMs(dateNumber);
		return new Date(datePart + timePart);
	}
	return new Date(NaN);
};
/** Convert the date number (Excel date format) to milliseconds. WARNING: This discards any intraday time information (keep only date part).
* @public
* @function
* @param  {number} dateNumber Date number since 1 Jan, 1900 (value is 1)
* @return {number} Returns NaN, if the given number is invalid. Otherwise, returns positive number in milliseconds
* @see {@link DateTime#timeNumberToMs}
* @see {@link DateTime#fromDateNumber}
*/
DateTime.dateNumberToMs = function(dateNumber) {
	dateNumber = Math.floor(+dateNumber); // Remove the floating point to prevent calculation error
	if(!dateNumber || dateNumber <= 0 || dateNumber === 60) { // Invalid input // 60 is 29 Feb 1900 that is not existing
		return NaN;
	}

	var num = dateNumber - _DIFF_DAYS;
	if(dateNumber < 60) {
		num++; // +1 Before 1 Mar 1900 because there is not existing 29 Feb 1900 but existing in Window.
	}
	return num * MILLISECONDS_IN_DAY;
};
/** Convert the time number (Excel time format) with range between 0 and 1 to milliseconds. WARNING: This discards date and millisecond from the given number.
* @public
* @function
* @param  {number} dateNumber Date number since 1 Jan, 1900 (value is 1)
* @return {number}
* @see {@link DateTime#dateNumberToMs}
* @see {@link DateTime#fromDateNumber}
*/
DateTime.timeNumberToMs = function(dateNumber) {
	if(typeof dateNumber !== "number") {
		dateNumber = (+dateNumber);
	}
	var timeNumber = dateNumber - Math.floor(dateNumber);
	if(!timeNumber) { // NaN or 0
		return 0;
	}
	if(timeNumber < 0) {
		timeNumber = -timeNumber;
	}

	var secondFromMidnight = Math.round(timeNumber * SECONDS_IN_DAY);
	return secondFromMidnight * 1000;
};

/** Convert the JavaScript date object to the date number since 1 Jan, 1900 (value is 1). WARNING: This discards any intraday time information (keep only date part).
* @public
* @param  {Date} dateObj JavaScript date object
* @return {number}
*/
DateTime.toDateNumber = function(dateObj) {
	return DateTime._millisecondToDateNumber(Date.UTC(
		dateObj.getFullYear(),
		dateObj.getMonth(),
		dateObj.getDate()
	));
};
/** Convert the JavaScript date object to the time number in a range between 0 and 1. WARNING: This discards date and millisecond from the given date object.
* @public
* @param  {Date} dateObj JavaScript date object
* @return {number}
*/
DateTime.toTimeNumber = function(dateObj) {
	return Date.UTC(
		1970, 0, 1,
		dateObj.getUTCHours(),
		dateObj.getUTCMinutes(),
		dateObj.getUTCSeconds()
	) / MILLISECONDS_IN_DAY;
};
/** Convert the time in millisecond of JavaScript date object to date number since 1 Jan, 1900 (value is 1).
* @private
* @function
* @param  {number} millisecond Milliseconds of JavaScript date object (UTC)
* @return {number} Date number
*/
DateTime._millisecondToDateNumber = function(millisecond) {
	millisecond = +millisecond;
	if(millisecond !== millisecond || millisecond < _1_JAN_1900) { // Invalid input
		return NaN;
	} else {
		var calDate = (millisecond / MILLISECONDS_IN_DAY) + _DIFF_DAYS;
		if(millisecond < _1_MAR_1900) {
			calDate--; // -1 before 1 Mar 1900 because there is not existing 29 Feb 1900 but existing in Window.
		}
		return calDate;
	}
};

/** Returns YYYY-MM-DD (UTC)
* @public
* @function
* @param  {Date} dateObj
* @return {string}
*/
DateTime.toYYYYMMDD = function(dateObj) {
	var str = dateObj ? dateObj.toJSON() : "";
	if(str) {
		return str.substr(0, 10);
	}
	return "";
};


/* harmony default export */ var es6_DateTime = __webpack_exports__["b"] = (DateTime);



/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CoralPanel */
/* harmony import */ var _elf_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

/**
 * coral-panel is a container for components.
 * It provides a standard background color and padding, depends on theme.
 */
let CoralPanel = class CoralPanel extends _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* BasicElement */ "a"] {
    constructor() {
        super(...arguments);
        /**
         * Apply default padding from theme
         */
        this.spacing = false;
        /**
         * Set panel background to transparent
         */
        this.transparent = false;
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.22';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* css */ "h"] `
      :host {
        position: relative;
        display: block;
        overflow: hidden;
        box-sizing: border-box;
      }

      :host([transparent]) {
        background: transparent;
        border: 0;
      }

      :host([spacing]) {
        padding: 10px; /* default padding - can be overridden by theme */
      }
    `;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `<slot></slot>`;
    }
};
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralPanel.prototype, "spacing", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralPanel.prototype, "transparent", void 0);
CoralPanel = __decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* customElement */ "i"])('coral-panel')
], CoralPanel);



/***/ }),
/* 32 */,
/* 33 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);

// these are used for buttons
const translations = {
    CANCEL: 'Cancel',
    OK: 'OK',
    CLOSE: 'Close',
    APPLY: 'Apply'
};
___WEBPACK_IMPORTED_MODULE_0__[/* Phrasebook */ "a"].define('en', translations);
/* unused harmony default export */ var _unused_webpack_default_export = (translations);


/***/ }),
/* 34 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CoralNumberField */
/* harmony import */ var _elf_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);
/* harmony import */ var _elf_coral_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


const NUMBER_PATTERN = '^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$';
const DEFAULT_STEP_BASE = 1;
const ANY_STEP = 'any';
var Direction;
(function (Direction) {
    Direction[Direction["Up"] = 1] = "Up";
    Direction[Direction["Down"] = -1] = "Down";
})(Direction || (Direction = {}));
/**
 * coral-number-field - a form control element for number
 *
 * @fires value-changed - Dispatched when value changes
 * @fires error-changed - Dispatched when error state changes
 *
 * @attr {string} value - Input's default value
 * @prop {string} [value=] - Input's value
 *
 * @attr {boolean} readonly - Set readonly state
 * @prop {boolean} [readonly=false] - Set readonly state
 *
 * @attr {boolean} disabled - Set disabled state
 * @prop {boolean} [disabled=false] - Set disabled state
 */
let CoralNumberField = class CoralNumberField extends _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* ControlElement */ "b"] {
    constructor() {
        super(...arguments);
        /**
         * Set placeholder text
         */
        this.placeholder = null;
        /**
         * Set spinner's visibility
         */
        this.noSpinner = false;
        /**
         * Set step value
         */
        this.step = null;
        /**
         * Set minimum value.
         * This value must be less than or equal to the value of the `max` attribute
         */
        this.min = null;
        /**
         * Set maximum value.
         * This value must be greater than or equal to the value of the `min` attribute
         */
        this.max = null;
        /**
         * Set state to transparent
         */
        this.transparent = false;
        /**
         * Set state to error
         */
        this.error = false;
        /**
         * Set state to warning
         */
        this.warning = false;
        this.interimValueState = false; // make sure that internal input field value is updated only on external value change
    }
    /**
    * Element version number
    */
    static get version() {
        return '4.5.28';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return {CSSResult | CSSResult[]} CSS template
     */
    static get styles() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* css */ "h"] `
      :host {
        display: inline-block;
      }
      :host(:focus), :host input:focus {
        outline: none;
      }
      :host([transparent]) {
        background: none !important;
        border: none !important;
      }
      [part=input] {
        font: inherit;
        background: none;
        color: currentColor;
        border: none;
        text-align: inherit;
      }
      [part=spinner]{
        display: flex;
        flex-direction: column;
      }
      [part=spinner-up], [part=spinner-down] {
        display: flex;
        height: 50%;
        cursor: pointer;
        user-select: none;
      }
      [part^=spinner][disabled],
      [part^=spinner][readonly] {
        cursor: default;
      }
    `;
    }
    /**
    * The value of the number entered into the input.
    * @param value number-field value
    */
    set value(value) {
        this.interimValueState = true;
        super.value = value;
    }
    get value() {
        return this.valueAsNumberString(this.internalValue);
    }
    /**
     * Returns the value of the element, interpreted as double number
     */
    get valueAsNumber() {
        return this.stringToNumber(this.internalValue);
    }
    /**
     * Updates the element
     * @param changedProperties Properties that has changed
     * @returns {void}
     */
    update(changedProperties) {
        // This code probably should not be here, as validation must be instantiated by the app developer
        // Keep the element inline with others for now
        if (changedProperties.has(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* FocusedPropertyKey */ "e"]) && !this.focused) {
            this.reportValidity();
        }
        super.update(changedProperties);
    }
    /**
     * Called when the elements DOM has been updated and rendered
     * @param changedProperties Properties that has changed
     * @returns {void}
     */
    updated(changedProperties) {
        // cannot use property binding on value as it may override the current input of the control
        // set it manually only if value has been updated externally
        // all internal input changes should not update input value
        if (changedProperties.has('value') && this.interimValueState) {
            this.inputValue = this.value;
            this.interimValueState = false;
        }
    }
    /**
     * Convert string to number
     * @param value value to convert
     * @returns NaN if string is an invalid number or Infinity or empty string;
     */
    stringToNumber(value) {
        return value && this.isValidValue(value) ? Number(value) : NaN;
    }
    /**
     * Convert a float number to a fixed number
     * @param value Value to convert
     * @param [decimals] optional decimals. Default is based on step base and allowed value step
     * @returns fixed number
     */
    toFixedNumber(value, decimals = this.stepDecimals) {
        return Number(value.toFixed(decimals));
    }
    /**
     * Convert step value from string to number or 'any'
     * @returns step value of input as a number or 'any'
     */
    get stepValue() {
        // special value as defined by HTML specs
        if (String(this.step).toLowerCase() === ANY_STEP) {
            return ANY_STEP;
        }
        const step = this.stringToNumber(this.step);
        return isNaN(step) || step <= 0 ? DEFAULT_STEP_BASE : step;
    }
    /**
     * Get the number of decimal places
     * @param value Value to check
     * @returns the number of decimal places
     */
    getDecimalPlace(value) {
        if (Math.floor(value) === value || isNaN(value) || !isFinite(value)) {
            return 0;
        }
        return value.toString().split('.')[1].length || 0;
    }
    /**
     * Get number of decimals based on step base and allowed value step
     * @returns decimals
     */
    get stepDecimals() {
        return Math.max(this.getDecimalPlace(this.stepBase), this.getDecimalPlace(this.getAllowedValueStep()));
    }
    /**
     * Check if passed value is a valid value
     * @override
     * @param value Value to check
     * @returns {boolean} false if value is invalid
     */
    isValidValue(value) {
        const number = Number(value);
        return !isNaN(number) && isFinite(number);
    }
    /**
     * Get value as valid number string.
     * @param value A value to convert
     * @returns string value
     */
    valueAsNumberString(value) {
        return this.isValidValue(value) ? value : '';
    }
    /**
     * Get either inputValue or actual value dependant on control state
     * @returns string of input value
     */
    get internalValue() {
        // cover the case when value getter is called before first render or in interim state
        return this.interimValueState || !this.inputEl ? super.value : this.inputValue;
    }
    /**
     * Get native input value
     * @returns string of input value
     */
    get inputValue() {
        return this.inputEl.value;
    }
    /**
     * Set native input value
     * @param value input's value
     */
    set inputValue(value) {
        this.inputEl.value = value;
    }
    /**
     * Handles key down input event
     * @param event Key down event object
     * @returns {void}
     */
    onNativeInputKeyDown(event) {
        if (this.readonly || this.disabled || event.defaultPrevented) {
            return;
        }
        switch (event.key) {
            case 'Up':
            case 'ArrowUp':
                this.onApplyStep(Direction.Up);
                break;
            case 'Down':
            case 'ArrowDown':
                this.onApplyStep(Direction.Down);
                break;
            default:
                return;
        }
        event.preventDefault();
    }
    /**
     * Run when spinner has been tapped
     * @param event tap event
     * @returns {void}
     */
    onSpinnerTap(event) {
        if (this.disabled || this.readonly || event.defaultPrevented) {
            return;
        }
        const target = event.target;
        if (target === this.spinnerDownEl) {
            this.onApplyStep(Direction.Down);
        }
        else if (target === this.spinnerUpEl) {
            this.onApplyStep(Direction.Up);
        }
    }
    /**
     * Step down or up and notify value change
     * @param direction Up or Down
     * @returns {void}
     */
    onApplyStep(direction) {
        try {
            this.applyStepDirection(undefined, direction);
            this.setSilentlyValueAndNotify();
        }
        catch (error) {
            // According to specs stepDown/stepUp may fail for some invalid inputs
            // do nothing and report nothing in that case
        }
    }
    /**
     * Run before input changes
     * Prevent invalid characters
     * @param event before input event
     * @returns {void}
     */
    /* istanbul ignore next */
    onNativeBeforeInputChange(event) {
        // The event is not supported in IE11 and old browsers
        // Therefore just try to prevent some of invalid characters to be entered
        // but still do full validation on actual `input` and `change` events
        const inputType = event.inputType;
        // cover all insert types, such as type, paste, drag&drop and others
        if (inputType.startsWith('insert')) {
            const data = event.data || '';
            const inputEl = this.inputEl;
            const oldInput = this.inputValue;
            // Calculate what could be the new input
            const selectionStart = inputEl.selectionStart || 0;
            const selectionEnd = inputEl.selectionEnd || 0;
            const newInput = `${oldInput.substring(0, selectionStart)}${data}${oldInput.substring(selectionEnd)}`;
            const validatedInput = this.stripeInvalidCharacters(newInput, oldInput, data);
            const insertionData = validatedInput.slice(0, validatedInput.length - (oldInput.length - selectionEnd)).substring(selectionStart);
            // Invalid characters or sequence of characters
            if (!insertionData.length) {
                event.preventDefault();
                return;
            }
            if (insertionData !== data) {
                // In theory here we should emulate the new input
                // in practice we cannot as there is no API (apart of deprecated execCommand), so do nothing
                // invalid input will be stripped out on `input` event handler, but that will break Undo logic
            }
        }
    }
    /**
     * Triggers when native input value change with input event or change event
     * @param event Input event
     * @returns {void}
     */
    onNativeInputChange(event) {
        const currentInput = this.inputValue;
        const inputValue = this.stripeInvalidCharacters(currentInput, this.value, event.data || '');
        if (inputValue !== currentInput) {
            const inputEl = this.inputEl;
            // we can only stripe the characters, so try to make the best guess where the cursor should be
            const selectionStart = inputEl.selectionStart || 0;
            const selectionEnd = inputEl.selectionEnd || 0;
            this.inputValue = inputValue;
            const diff = currentInput.length - inputValue.length;
            inputEl.selectionStart = Math.max(selectionStart - diff, 0);
            inputEl.selectionEnd = Math.max(selectionEnd - diff, 0);
        }
        this.setSilentlyValueAndNotify();
    }
    /**
     * Stripe characters from input text based on previous input and data
     * @param input The new input to process
     * @param oldInput Previous input
     * @param data The data that has been inserted
     * @returns the input where characters are striped away
     */
    stripeInvalidCharacters(input = '', oldInput = '', data = '') {
        // all these actions depends on new value and previous value trying to guess the best action
        const dataHasDot = data.includes('.');
        const dataHasE = data.search(/e/i) !== -1;
        const dotIndex = input.indexOf('.');
        const eIndex = input.search(/e/i);
        const valueHasDot = dotIndex !== -1 && !dataHasDot;
        const valueHasE = eIndex !== -1 && !dataHasE;
        // filter . and e/E keystrokes. Note: paste is not covered by this
        if (data !== input && ((valueHasDot && data === '.') || (valueHasE && (data === 'e' || data === 'E')))) {
            input = oldInput;
        }
        // stripe all e before dot and multiple . occurrences
        if (dotIndex !== -1) {
            input = `${input.substring(0, dotIndex + 1)}${input.substring(dotIndex + 1).replace(/\./g, '')}`;
            if (!valueHasE) {
                input = `${input.substring(0, dotIndex).replace(/e/ig, '')}${input.substring(dotIndex)}`;
            }
        }
        // stripe all dots after e and multiple e occurrences
        if (eIndex !== -1) {
            input = `${input.substring(0, eIndex + 1)}${input.substring(eIndex + 1).replace(/e/ig, '')}`;
            if (!valueHasDot) {
                input = `${input.substring(0, eIndex)}${input.substring(eIndex).replace(/\./g, '')}`;
            }
        }
        // stripe all other invalid characters and make sure that + and - signs are correct
        return input.replace(/(^[-+]|[e][-+])|[-+]|[^0-9e.+-]/ig, '$1');
    }
    /**
     * On *user-interaction* set the value and notify.
     * This function will not call request update, but will fire value-changed event
     * @returns {void}
     */
    setSilentlyValueAndNotify() {
        // Nobody likes to see a red border
        this.resetError();
        const value = this.valueAsNumberString(this.inputValue);
        if (super.value !== value) {
            // here we must set the value silently to avoid re-rendering of input
            super.value = value;
            this.notifyPropertyChange('value', value);
        }
    }
    /**
     * Reset error state on input
     * @returns {void}
     */
    resetError() {
        if (this.error && this.checkValidity()) {
            this.reportValidity();
        }
    }
    /**
     * Get the allowed step value
     * @returns allowed step
     */
    getAllowedValueStep() {
        let stepValue = this.stepValue;
        if (stepValue === ANY_STEP) {
            // By algorithm, this should throw an error
            // however keep the default value as we use same method for stepping up and down
            stepValue = DEFAULT_STEP_BASE;
        }
        return stepValue;
    }
    /**
     * Get the step base as per HTML5 specs
     * @returns step base
     */
    get stepBase() {
        // If the element has a min content attribute, and the result of applying the algorithm to convert a string to a number
        // to the value of the min content attribute is not an error, then return that result.
        const min = this.stringToNumber(this.min);
        if (!isNaN(min)) {
            return min;
        }
        // If the element has a value content attribute, and the result of applying the algorithm to convert a string to a number
        // to the value of the value content attribute is not an error, then return that result.
        const valueAttribute = this.stringToNumber(this.getAttribute('value') || '');
        if (!isNaN(valueAttribute)) {
            return valueAttribute;
        }
        return 0;
    }
    /**
     * Check if value subtracted from the step base is not an integral multiple of the allowed value step
     * @param value value to check
     * @returns true if value is integral
     */
    isValueIntegralMultipleOfStep(value) {
        const decimals = Math.max(this.getDecimalPlace(value), this.stepDecimals);
        const division = (this.stepBase - value) / this.getAllowedValueStep();
        const number = decimals ? this.toFixedNumber(division, decimals) : division;
        // (2 - 1.01) % 0.33 needs to give 0. So we cannot use % directly as it is intended for integers
        return number % 1 === 0;
    }
    /**
     * Find the nearest value that, when subtracted from the `stepBase`
     * is an integral multiple of the `allowedValueStep`,
     * and that is less than `value` if the `direction` was `Down`, and more than value otherwise.
     * @param value the value to operate on
     * @param stepBase base to start calculation
     * @param allowedValueStep a step to go Down or Up
     * @param direction Direction, either -1 for Down or 1 for Up
     * @returns nearest number
     */
    findNearestSteppedValue(value, stepBase, allowedValueStep, direction) {
        // TODO: there is probably much better way on how to implement this function
        let newValue = this.toFixedNumber(value + (stepBase - value) % allowedValueStep);
        if (direction === Direction.Up) {
            // with float number rounding this may need to run more than once to find the valid value
            while (newValue <= value) {
                const steppedValue = this.toFixedNumber(newValue + allowedValueStep);
                if (steppedValue <= newValue) {
                    // Non safe integers might behave incorrectly
                    // Avoid any potential infinitive loops
                    break;
                }
                newValue = steppedValue;
            }
        }
        else if (direction === Direction.Down) {
            while (newValue >= value) {
                const steppedValue = this.toFixedNumber(newValue - allowedValueStep);
                if (steppedValue >= newValue) {
                    break;
                }
                newValue = steppedValue;
            }
        }
        return newValue;
    }
    /**
     * Apply step up or step down on the input
     * @param stepIncrement step increment factor
     * @param direction either go up or down
     * @returns {void}
     */
    applyStepDirection(stepIncrement = 1, direction) {
        const min = this.stringToNumber(this.min);
        const max = this.stringToNumber(this.max);
        // If the element has a minimum and a maximum and the minimum is greater than the maximum, then return.
        if (min > max) {
            return;
        }
        // passing floats to step increment does not make sense as this potentially leads to incorrect results
        stepIncrement = stepIncrement < 0 ? Math.ceil(stepIncrement) : Math.floor(stepIncrement);
        if (stepIncrement < 0) {
            direction = direction === Direction.Up ? Direction.Down : Direction.Up;
            stepIncrement = Math.abs(stepIncrement);
        }
        const stepBase = this.stepBase;
        const allowedValueStep = this.getAllowedValueStep();
        // If applying the algorithm to convert a string to a number to the string given by the element's value
        // does not result in an error, then let value be the result of that algorithm. Otherwise, let value be zero.
        const inputValue = this.stringToNumber(this.inputValue);
        const valueBeforeStepping = isNaN(inputValue) ? 0 : inputValue;
        let value = valueBeforeStepping;
        // step-up or step-down
        if (this.isValueIntegralMultipleOfStep(value)) {
            const delta = allowedValueStep * stepIncrement * direction;
            value += delta;
        }
        else {
            value = this.findNearestSteppedValue(valueBeforeStepping, stepBase, allowedValueStep, direction);
        }
        // If the element has a minimum, and value is less than that minimum,
        // then set value to the smallest value that, when subtracted from the step base,
        // is an integral multiple of the allowed value step, and that is more than or equal to minimum.
        if (value < min) {
            value = this.findNearestSteppedValue(min + allowedValueStep, stepBase, allowedValueStep, Direction.Down);
        }
        // If the element has a maximum, and value is greater than that maximum,
        // then set value to the largest value that, when subtracted from the step base,
        // is an integral multiple of the allowed value step, and that is less than or equal to maximum.
        if (value > max) {
            value = this.findNearestSteppedValue(max - allowedValueStep, stepBase, allowedValueStep, Direction.Up);
        }
        // If either the method invoked was the stepDown() method and value is greater than valueBeforeStepping
        // or the method invoked was the stepUp() method and value is less than valueBeforeStepping, then return.
        if (!isNaN(inputValue) && ((direction === Direction.Up && value < valueBeforeStepping) || (direction === Direction.Down && value > valueBeforeStepping))) {
            return;
        }
        this.inputValue = `${this.toFixedNumber(value)}`;
    }
    /**
     * Increases the input value by amount of step
     * @param [stepIncrement] The stepIncrement parameter is a numeric value. If no parameter is passed, stepIncrement defaults to 1.
     * @returns {void}
     */
    stepUp(stepIncrement) {
        this.applyStepDirection(stepIncrement, Direction.Up);
    }
    /**
     * Decreases the input value by amount of step
     * @param [stepIncrement] The stepIncrement parameter is a numeric value. If no parameter is passed, stepIncrement defaults to 1.
     * @returns {void}
     */
    stepDown(stepIncrement) {
        this.applyStepDirection(stepIncrement, Direction.Down);
    }
    /**
     * Returns true if an input element contains valid data.
     * @returns true if input is valid
     */
    checkValidity() {
        const value = this.internalValue;
        // No support for required
        if (value === '') {
            return true;
        }
        if (!this.isValidValue(value)) {
            return false;
        }
        // Check min and max numbers
        const numberValue = Number(value);
        const max = this.stringToNumber(this.max);
        const min = this.stringToNumber(this.min);
        if (numberValue < min || numberValue > max) {
            return false;
        }
        // Check step for an integral step
        const stepValue = this.stepValue;
        if (stepValue !== ANY_STEP && !this.isValueIntegralMultipleOfStep(numberValue)) {
            return false;
        }
        return true;
    }
    /**
     * Validate input. Mark as error if input is invalid
     * @returns false if there is an error
     */
    reportValidity() {
        const hasError = !this.checkValidity();
        if (this.error !== hasError) {
            this.error = hasError;
            this.notifyPropertyChange('error', this.error);
        }
        return !hasError;
    }
    /**
     * Select the contents of input
     * @returns void
     */
    select() {
        if (!this.disabled) {
            this.inputEl && this.inputEl.select();
        }
    }
    /**
     * Renders spinner
     * @returns {TemplateResult} spinner part template
     */
    renderSpinner() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `
      <div
        part="spinner"
        @tap=${this.onSpinnerTap}>
        <coral-icon
          icon="up"
          part="spinner-up"
          ?readonly=${this.readonly}
          ?disabled=${this.disabled}>
        </coral-icon>
        <coral-icon
          icon="down"
          part="spinner-down"
          ?readonly=${this.readonly}
          ?disabled=${this.disabled}>
        </coral-icon>
      </div>
    `;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return {TemplateResult}  Render template
     */
    render() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `
      <input
        part="input"
        type="text"
        inputmode="decimal"
        pattern="${NUMBER_PATTERN}"
        ?readonly=${this.readonly}
        ?disabled=${this.disabled}
        placeholder=${Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* ifDefined */ "l"])(this.placeholder ? this.placeholder : undefined)}
        @input="${this.onNativeInputChange}"
        @keydown="${this.onNativeInputKeyDown}"
        @beforeinput="${this.onNativeBeforeInputChange}"
        @change="${this.onNativeInputChange}"
        autocomplete="off"
      >
      ${this.noSpinner ? null : this.renderSpinner()}
      `;
    }
};
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String, reflect: true })
], CoralNumberField.prototype, "placeholder", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, attribute: 'no-spinner', reflect: true })
], CoralNumberField.prototype, "noSpinner", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String, reflect: true })
], CoralNumberField.prototype, "step", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String, reflect: true })
], CoralNumberField.prototype, "min", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String, reflect: true })
], CoralNumberField.prototype, "max", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralNumberField.prototype, "transparent", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralNumberField.prototype, "error", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralNumberField.prototype, "warning", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String })
], CoralNumberField.prototype, "value", null);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* query */ "o"])('[part=input]')
], CoralNumberField.prototype, "inputEl", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* query */ "o"])('[part=spinner-up]')
], CoralNumberField.prototype, "spinnerUpEl", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* query */ "o"])('[part=spinner-down]')
], CoralNumberField.prototype, "spinnerDownEl", void 0);
CoralNumberField = __decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* customElement */ "i"])('coral-number-field')
], CoralNumberField);



/***/ }),
/* 35 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CoralSplitButton */
/* harmony import */ var _elf_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);
/* harmony import */ var _elf_coral_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


/**
 * coral-split-button is used to display multiple buttons to create a list of commands bar.
 */
let CoralSplitButton = class CoralSplitButton extends _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* BasicElement */ "a"] {
    constructor() {
        super(...arguments);
        /**
         * Manages user interaction, only allowing one toggle button to be active at any one time.
         */
        this.managed = false;
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.33';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* css */ "h"] `
      :host {
        display: inline-flex;
        z-index: 0;
      }
      :host ::slotted(coral-button) {
        margin: 0;
      }
      :host ::slotted(coral-split-button) {
        border-radius: 0;
        margin: 0;
        box-shadow: none;
        overflow: visible;
        background: none;
        z-index: auto;
      }
      :host ::slotted(coral-button:hover) {
        z-index: 1;
      }
      :host ::slotted(coral-button:focus) {
        z-index: 2;
      }
      :host ::slotted(coral-button:not(:hover):not(:focus)) {
        box-shadow: none;
      }
      @media (pointer: coarse){
        :host ::slotted(coral-button) {
          box-shadow: none;
        }
      }
      :host ::slotted(coral-button:first-of-type) {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
      }
      :host ::slotted(coral-button:last-of-type) {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
      }
      :host ::slotted(coral-button:not(:first-of-type):not(:last-of-type)) {
        border-radius: 0;
      }
      :host ::slotted(:not(coral-button):not(coral-split-button)) {
        display: none;
      }
    `;
    }
    /**
     * Called after the component is first rendered
     * @param changedProperties Properties which have changed
     * @returns {void}
     */
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        this.addEventListener('tap', event => this.onTapHandler(event));
    }
    /**
     * Handles tap event
     * @param event the param is the event of click and tap handlers
     * @returns {void}
     */
    onTapHandler(event) {
        if (!this.managed) {
            return;
        }
        const target = event.target;
        if (target instanceof _elf_coral_button__WEBPACK_IMPORTED_MODULE_1__[/* CoralButton */ "a"] && target.toggles) {
            event.stopPropagation();
            this.manageButtons(target);
        }
    }
    /**
     * Get the target CoralButton and handle it with other managed CoralButton items
     * @param targetButton a CoralButton that is the target of the event
     * @returns {void}
     */
    manageButtons(targetButton) {
        const managedButtons = this.getManagedButtons();
        const isTargetOfManaged = managedButtons.some(managedButton => managedButton === targetButton);
        if (!isTargetOfManaged) {
            return;
        }
        managedButtons.forEach(managedButton => {
            managedButton.active = managedButton === targetButton;
        });
    }
    /**
     * Return the array of Element items which is changed in the default slot
     * @returns the array of Element of the default slot
     */
    getElementsOfSlot() {
        return this.defaultSlot.assignedNodes()
            .filter(node => node instanceof Element);
    }
    /**
     * Filter Button classes by the toggles property
     * @param coralButtons the array of CoralButton items is the converted nodes of the default slot
     * @returns filtered CoralButton items by the toggles property
     */
    getManagedButtons() {
        const elements = this.getElementsOfSlot();
        return elements.filter(element => element instanceof _elf_coral_button__WEBPACK_IMPORTED_MODULE_1__[/* CoralButton */ "a"] && element.toggles);
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `<slot></slot>`;
    }
};
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralSplitButton.prototype, "managed", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* query */ "o"])('slot:not([name])')
], CoralSplitButton.prototype, "defaultSlot", void 0);
CoralSplitButton = __decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* customElement */ "i"])('coral-split-button')
], CoralSplitButton);



/***/ }),
/* 36 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return styleMap; });
/* harmony import */ var _lit_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */

/**
 * Stores the StyleInfo object applied to a given AttributePart.
 * Used to unset existing values when a new StyleInfo object is applied.
 */
const previousStylePropertyCache = new WeakMap();
/**
 * A directive that applies CSS properties to an element.
 *
 * `styleMap` can only be used in the `style` attribute and must be the only
 * expression in the attribute. It takes the property names in the `styleInfo`
 * object and adds the property values as CSS properties. Property names with
 * dashes (`-`) are assumed to be valid CSS property names and set on the
 * element's style object using `setProperty()`. Names without dashes are
 * assumed to be camelCased JavaScript property names and set on the element's
 * style object using property assignment, allowing the style object to
 * translate JavaScript-style names to CSS property names.
 *
 * For example `styleMap({backgroundColor: 'red', 'border-top': '5px', '--size':
 * '0'})` sets the `background-color`, `border-top` and `--size` properties.
 *
 * @param styleInfo {StyleInfo}
 */
const styleMap = Object(_lit_html_js__WEBPACK_IMPORTED_MODULE_0__[/* directive */ "f"])((styleInfo) => (part) => {
    if (!(part instanceof _lit_html_js__WEBPACK_IMPORTED_MODULE_0__[/* AttributePart */ "a"]) || (part instanceof _lit_html_js__WEBPACK_IMPORTED_MODULE_0__[/* PropertyPart */ "c"]) ||
        part.committer.name !== 'style' || part.committer.parts.length > 1) {
        throw new Error('The `styleMap` directive must be used in the style attribute ' +
            'and must be the only part in the attribute.');
    }
    const { committer } = part;
    const { style } = committer.element;
    let previousStyleProperties = previousStylePropertyCache.get(part);
    if (previousStyleProperties === undefined) {
        // Write static styles once
        style.cssText = committer.strings.join(' ');
        previousStylePropertyCache.set(part, previousStyleProperties = new Set());
    }
    // Remove old properties that no longer exist in styleInfo
    // We use forEach() instead of for-of so that re don't require down-level
    // iteration.
    previousStyleProperties.forEach((name) => {
        if (!(name in styleInfo)) {
            previousStyleProperties.delete(name);
            if (name.indexOf('-') === -1) {
                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                style[name] = null;
            }
            else {
                style.removeProperty(name);
            }
        }
    });
    // Add or update properties
    for (const name in styleInfo) {
        previousStyleProperties.add(name);
        if (name.indexOf('-') === -1) {
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            style[name] = styleInfo[name];
        }
        else {
            style.setProperty(name, styleInfo[name]);
        }
    }
});
//# sourceMappingURL=style-map.js.map

/***/ }),
/* 37 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, "a", function() { return /* binding */ renderer_Renderer; });

// CONCATENATED MODULE: ./node_modules/@elf/coral-list/lib/extensible-function.js
/**
 * Extensible function class
 * TODO: Move this to @elf/utils
 * ! Do not import this module !
 */
class ExtensibleFunction extends Function {
    constructor(fn) {
        super();
        return Object.setPrototypeOf(fn, new.target.prototype);
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/coral-list/lib/renderer.js

/**
 * Renderer base class.
 * Used for creating renderers to render data items.
 * TODO: Move this to @elf/utils
 * ! Do not import this module !
 */
class renderer_Renderer extends ExtensibleFunction {
}


/***/ }),
/* 38 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CoralHeader */
/* harmony import */ var _elf_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

/**
 * Coral Header is to identify and separate different sections of a page.
 * Headers helps to organize the page layout content into
 * a sensible hierarchy and improve the user experience.
 *
 * @slot left - Slot to add custom contents to the left side of header e.g. coral-icon, coral-checkbox
 * @slot right - Slot to add custom contents to the right side of header e.g. coral-icon, coral-checkbox
 */
let CoralHeader = class CoralHeader extends _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* BasicElement */ "a"] {
    constructor() {
        super(...arguments);
        /**
         * Use level styling from theme
         */
        this.level = '2';
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.22';
    }
    /**
     * Style definition
     * @return CSS template
     */
    static get styles() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* css */ "h"] `
      :host {
        display: block;
      }
      :host ::slotted(*) {
        margin-top: 0;
        margin-bottom: 0;
        vertical-align: middle;
      }
      [part="label"] {
        text-align: inherit;
      }
    `;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `
      <slot name="left">
        <div part="spacer"></div>
      </slot>
      <div part="label">
        <slot></slot>
      </div>
      <slot name="right"></slot>
    `;
    }
};
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String, reflect: true })
], CoralHeader.prototype, "level", void 0);
CoralHeader = __decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* customElement */ "i"])('coral-header')
], CoralHeader);



/***/ }),
/* 39 */
/***/ (function(module, exports) {



/***/ }),
/* 40 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// UNUSED EXPORTS: CoralRadioButton

// EXTERNAL MODULE: ./node_modules/@elf/core/lib/elf.js + 57 modules
var elf = __webpack_require__(0);

// EXTERNAL MODULE: ./node_modules/@elf/coral-tooltip/lib/coral-tooltip.js + 5 modules
var coral_tooltip = __webpack_require__(14);

// CONCATENATED MODULE: ./node_modules/@elf/coral-radio-button/lib/radio-button-registry.js
const registry = [];
/**
 * Remove radio button from registry
 * @param radio Radio button to remove
 * @returns {void}
 */
const removeFromRegistry = (radio) => {
    const idx = registry.indexOf(radio);
    if (idx !== -1) {
        registry.splice(idx, 1);
    }
};
/**
 * Add radio button to registry group of radio has a name
 * If radio does not have the name, remove from the group
 * @param radio Radio button to add
 * @returns {void}
 */
const applyRegistry = (radio) => {
    const idx = registry.indexOf(radio);
    if (radio.name && idx === -1) {
        registry.push(radio);
    }
    else if (!radio.name && idx !== -1) {
        removeFromRegistry(radio);
    }
};
/**
 * Get the group of same name radio buttons
 * @param radio A radio to get a group for
 * @returns collection of radio buttons
 */
const getRadioGroup = (radio) => {
    if (!registry.includes(radio)) {
        return [];
    }
    const groupName = radio.name;
    return registry.filter(radio => radio.name === groupName);
};


// CONCATENATED MODULE: ./node_modules/@elf/coral-radio-button/lib/coral-radio-button.js
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



/**
 * coral-radio-button - Basic radio button
 *
 * @fires checked-changed - Fired when the `checked` property changes.
 *
 * @attr {string} [value=] - Value of the radio button
 * @prop {string} [value=] - Value of the radio button
*
 * @attr {string} [name=] - Group multiple radio buttons by assigning the same name
 * @prop {string} [name=] - Group multiple radio buttons by assigning the same name
 *
 * @attr {boolean} readonly - Set readonly state
 * @prop {boolean} [readonly=false] - Set readonly state
 *
 * @attr {boolean} disabled - Set disabled state
 * @prop {boolean} [disabled=false] - Set disabled state
 */
let coral_radio_button_CoralRadioButton = class CoralRadioButton extends elf["b" /* ControlElement */] {
    constructor() {
        super(...arguments);
        /**
         * Radio button checked state
         */
        this.checked = false;
    }
    /**
    * Element version number
    */
    static get version() {
        return '4.5.29';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return elf["h" /* css */] `
      :host {
        display: inline-block;
      }
      [part=check] {
        visibility: hidden;
      }
      :host([checked]) [part=check] {
        visibility: inherit;
      }
      [part=label],
      [part=container] {
        display: inline-block;
        white-space: nowrap;
        vertical-align: middle;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      :host(:empty) [part=label], [part=label]:empty {
        display: none;
      }
    `;
    }
    /**
     * Called when connected to DOM
     * @returns {void}
     */
    connectedCallback() {
        super.connectedCallback();
        applyRegistry(this);
        this.manageGroupState();
    }
    /**
     * Called when disconnected from DOM
     * @returns {void}
     */
    disconnectedCallback() {
        removeFromRegistry(this);
        super.disconnectedCallback();
    }
    /**
     * Invoked whenever the element is update
     * @param changedProperties changed properties
     * @returns {void}
     */
    update(changedProperties) {
        if (this.isConnected && this.hasUpdated && changedProperties.has('name')) {
            applyRegistry(this);
        }
        // Ensure only one radio button is checked
        if (this.isConnected && this.hasUpdated && (changedProperties.has('checked') || (changedProperties.has('name')))) {
            this.manageGroupState();
        }
        super.update(changedProperties);
    }
    /**
     * Invoked when the element is first updated
     * @param changedProperties changed properties
     * @returns {void}
     */
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        this.addEventListener('tap', event => this.onTap(event));
        this.addEventListener('keydown', event => this.onKeyDown(event));
        Object(coral_tooltip["b" /* registerOverflowTooltip */])(this.labelEl, () => this.textContent);
    }
    /**
     * Manage group members state, when either one is being checked
     * @returns {void}
     */
    manageGroupState() {
        if (this.checked && this.name) {
            getRadioGroup(this).filter(radio => radio !== this).forEach(radio => {
                radio.checked = false; // unchecking the rest of the group members
            });
        }
    }
    /**
     * Run when radio button is tapped
     * @param event Tap event
     * @returns {void}
     */
    onTap(event) {
        if (this.disabled || this.readonly || event.defaultPrevented) {
            return;
        }
        this.handleChangeChecked();
    }
    /**
     * Handles key down event
     * @param event Key down event object
     * @returns {void}
     */
    onKeyDown(event) {
        if (this.disabled || this.readonly || event.defaultPrevented) {
            return;
        }
        switch (event.key) {
            case 'Enter':
            case ' ':
            case 'Spacebar':
                this.handleChangeChecked();
                break;
            default:
                return;
        }
        event.preventDefault();
    }
    /**
     * Change checked state and fire
     * checked-changed event
     * @return {void}
     */
    handleChangeChecked() {
        // Once checked, radio button cannot be unchecked
        if (!this.checked) {
            this.checked = true;
            this.notifyPropertyChange('checked', this.checked);
        }
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return elf["k" /* html */] `
      <div part="container">
        <div part="check"></div>
      </div>
      <div part="label"><slot></slot></div>
    `;
    }
};
__decorate([
    Object(elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_radio_button_CoralRadioButton.prototype, "checked", void 0);
__decorate([
    Object(elf["o" /* query */])('[part=label]', true)
], coral_radio_button_CoralRadioButton.prototype, "labelEl", void 0);
coral_radio_button_CoralRadioButton = __decorate([
    Object(elf["i" /* customElement */])('coral-radio-button')
], coral_radio_button_CoralRadioButton);



/***/ }),
/* 41 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(33);


const translations = {
    HEADER: 'Dialog'
};
___WEBPACK_IMPORTED_MODULE_0__[/* Phrasebook */ "a"].define('en', 'coral-dialog', translations);
/* harmony default export */ __webpack_exports__["a"] = (translations);


/***/ }),
/* 42 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export NumberFormatter */

/** @typedef {Object} NumberFormatter~Options
* @description Options that can be provided at the initialization phase
* @property {boolean=} precisionEnabled=false
* @property {number=} decimalPlaces=2
* @property {boolean=} plusSign=false
* @property {boolean=} separator=false
* @property {boolean=} percentSign=false
* @property {string=} scalingUnit "b" | "m"
* @property {boolean=} multiplyBy100=false
*/

/** NumberFormatter provides a way to format the given number quickly.
* @constructor
* @param {NumberFormatter~Options=} options
* @example
* var options = {
*  "precisionEnabled": false, // Default is leaving precision as is
*  "decimalPlaces": 2, // Take effect only precisionEnabled === true
*  "plusSign": false, // Plus sign prefixing
*  "separator": false, // Comma separated
*  "percentSign": false,
*  "scalingUnit": "", // "b"|"m"
*  "multiplyBy100": false
*};
* var nf = new NumberFormatter(options);
* nf.format(123); // "123"
* nf.format(-456.789); // "-456.789"
* nf.getOptions(); // For serialization
*/
var NumberFormatter = function (options) {
	this["format"] = this.format = this.format.bind(this);

	this.init(options);
};

/** @type {Array.<number>}
* @private
*/
NumberFormatter._denominator = [1, 10, 100, 1000, 10000, 100000, 1e6, 1e7, 1e8, 1e9];
/** @type {Array.<string>}
* @private
*/
NumberFormatter._zeroes = ["", "0", "00", "000", "0000", "00000", "000000", "0000000", "00000000", "000000000", "0000000000"];

/** @type {number}
* @private
*/
NumberFormatter.prototype._precision = 2;
/** @type {string}
* @private
*/
NumberFormatter.prototype._sepChar = ",";
/** @type {string}
* @private
*/
NumberFormatter.prototype._percentChar = " %";

/** @type {boolean}
* @private
*/
NumberFormatter.prototype._precisionEnabled = false;
/** @type {boolean}
* @private
*/
NumberFormatter.prototype._separatorEnabled = false;
/** @type {boolean}
* @private
*/
NumberFormatter.prototype._percentSignEnabled = false;
/** @type {boolean}
* @private
*/
NumberFormatter.prototype._percentFormatEnabled = false;
/** @type {boolean}
* @private
*/
NumberFormatter.prototype._plusSignEnabled = false;
/** @type {boolean}
* @private
*/
NumberFormatter.prototype._multiplyBy100Enabled = false;
/** @type {string}
* @private
*/
NumberFormatter.prototype._scaler = "";


/** @public
* @param {NumberFormatter~Options=} options
*/
NumberFormatter.prototype.init = function(options) { // deserialize
	if(!options) {
		return;
	}

	var formatType = /** @type{string} */(options["formatType"]);

	// Note that precision will not be used in scaledValue mode
	var val = options["precisionEnabled"];
	if(val != null && val !== "") {
		this._precisionEnabled = val ? true : false;
	} else {
		this._precisionEnabled = true; // If it is initialized this way, precision is enabled by default to increase the ease of use
	}

	val = options["decimalPlaces"];
	if(val != null && val !== "") {
		this._precision = (typeof val == "number") ? val : 2;
	}

	val = options["plusSign"];
	if(val != null && val !== "") {
		this._plusSignEnabled = val ? true : false;
	}

	val = options["separator"];
	if(val != null && val !== "") {
		this._separatorEnabled = val ? true : false;
	}

	this.enableMillionScaling(false);
	// Only enable scaling mode when format type is scaled
	if(formatType === "scaled" || formatType === "scaledvalue") { // WARNING: Beware of case sensitivity
		val = options["scalingUnit"];
		if(val != null && val !== "") {
			if(val && typeof val == "string") {
				val = val.charAt(0).toLowerCase();
				if(val == "b") {
					this.enableBillionScaling();
				} else if (val == "m") {
					this.enableMillionScaling();
				}
			}
		} else {
			this.enableMillionScaling();
		}
	}

	if(formatType === "percent") {
		val = options["percentSign"];
		if(val != null && val !== "") {
			this._percentSignEnabled = val ? true : false;
		} else {
			this._percentSignEnabled = true;
		}

		val = options["mutiplyBy100"];
		if(val != null && val !== "") {
			this._multiplyBy100Enabled = val ? true : false;
		} else {
			val = options["multiplyBy100"];
			if(val != null && val !== "") {
				this._multiplyBy100Enabled = val ? true : false;
			}
		}
	} else {
		this._percentSignEnabled = this._multiplyBy100Enabled = false;
	}
};

/** @public
*/
NumberFormatter.prototype.resetToDefaults = function () {
	this._precisionEnabled = false;
	this._precision = 2;
	this._plusSignEnabled = false;
	this._separatorEnabled = false;
	this._percentSignEnabled = false;
	this._scaler = '';
	this._multiplyBy100Enabled = false;
};

/** @public
* @function
* @param {string} str
* @param {number} precision
* @return {string}
* @example
* NumberFormatter.padDecimalPartWithZeroes("1", 2); // "1.00"
* NumberFormatter.padDecimalPartWithZeroes("1.", 2); // "1.00"
* NumberFormatter.padDecimalPartWithZeroes("1.0", 2); // "1.00"
* NumberFormatter.padDecimalPartWithZeroes("1.000", 2); // "1.000"
*/
NumberFormatter.padDecimalPartWithZeroes = function (str, precision) {
	var dp = str.lastIndexOf(".");
	if (dp >= 0) {
		var decimalPlace = str.length - dp - 1;
		if (decimalPlace < precision) {
			str += NumberFormatter._zeroes[precision - decimalPlace];
		}
	} else {
		str += "." + NumberFormatter._zeroes[precision];
	}
	return str;
};

/** @public
* @param {Object=} options
* @return {!Object}
*/
NumberFormatter.prototype.getOptions = function(options) { // serialize
	if(!options) { options = {}; }

	options["precisionEnabled"] = this._precisionEnabled;
	options["decimalPlaces"] = this._precision;
	options["plusSign"] = this._plusSignEnabled;
	options["separator"] = this._separatorEnabled;
	options["percentSign"] = this._percentSignEnabled;
	var su = "";
	if(this._scaler == "b") {
		su = "billion";
	} else if(this._scaler == "m") {
		su = "million";
	}
	options["scalingUnit"] = su;
	options["mutiplyBy100"] = this._multiplyBy100Enabled;
	options["multiplyBy100"] = this._multiplyBy100Enabled;
	return options;
};

/** @public
* @param {number} origVal
* @return {string}
*/
NumberFormatter.prototype.format = function(origVal) {
	if(!origVal) {
		if(origVal === null) { // null will be formatted as 0
			origVal = 0;
		} else if(origVal !== 0) {
			return ""; // Invalid value will be formatted as empty
		} // Zero value doesn't require handling
	}

	// Make value to be positive value for simpler logic
	var val, sign;
	if(origVal >= 0) {
		val = origVal;
		sign = this._plusSignEnabled ? "+" : "";
	} else {
		val = -origVal;
		sign = "-";
	}
	if(this._multiplyBy100Enabled) {
		val = val * 100;
	}
	var absVal = val;
	var scalingMode = this._percentFormatEnabled ? "" : this._scaler; // Percent formatting overwrite scaling mode

	// Perform rounding

	if (scalingMode) {
		if (scalingMode === "b" && val < 1e9) {
			scalingMode = "m";
		}
		if (scalingMode === "m") {
			if (val >= 1e6) {
				val = val / 1e6;
			} else if (val >= 1e3) {
				val = val / 1e3;
			}
		} else if (scalingMode === "b") {
			val = val / 1e9;
		}

		if (!this._precisionEnabled) {
			val = Math.round(val * 100) / 100;
		}
	}
	if (this._precisionEnabled) {
		if (this._precision > 0) {
			var deno = NumberFormatter._denominator[this._precision];
			val = Math.round(val * deno) / deno;
		} else {
			val = Math.round(val);
		}
	}

	// Convert value to string
	var str;
	if(val > 0) {
		if(val >= 1e-6) { // Handle high (7 or more digits) precision value
			str = sign + val;
		} else {
			var fraction = val * 1e7; // Be careful that there are some cases like 1e-7 * 1e6 === 0.099
			str = (fraction / 10) + "";
			str = sign + "0.000000" + str.substr(2);
		}
	} else {
		str = "0";
	}

	// Add separators
	if(this._separatorEnabled && val >= 1e3) {
		var strs = str.split(".");
		str = strs[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");
		if(strs.length > 1) {
			str += "." + strs[1];
		}
	}

	if ((this._precisionEnabled || scalingMode ) && this._precision > 0) { // Filling trialling zeros
		str = NumberFormatter.padDecimalPartWithZeroes(str, this._precision);
	}

	// Add unit or suffix
	if (scalingMode) {
		if (scalingMode === "m") {
			if (absVal >= 1e6) {
				str += "M";
			} else if (absVal >= 1e3) {
				str += "K";
			}
		} else if (scalingMode === "b") {
			str += "B";
		}
	}

	if(this._percentSignEnabled || this._percentFormatEnabled) {
		str += this._percentChar;
	}
	return str;
};

/** @public */
NumberFormatter.prototype.enableDefaultFormat = function() {
	var t = this;
	t._precisionEnabled = t._separatorEnabled = t._percentSignEnabled = false;
	t._percentFormatEnabled = t._plusSignEnabled = t._multiplyBy100Enabled = false;
	t._scaler = "";
};
/** @public
* @param {boolean=} bool
*/
NumberFormatter.prototype.enablePrecision = function(bool) {
	this._precisionEnabled = (bool !== false);
};
/** @public
* @param {boolean=} bool
*/
NumberFormatter.prototype.enableSeparator = function(bool) {
	this._separatorEnabled = (bool !== false);
};
/** @public
* @param {boolean=} bool
*/
NumberFormatter.prototype.enablePercentSign = function(bool) {
	this._percentSignEnabled = (bool !== false);
};
/** Enforce percent format even if scaling mode is active
* @public
* @param {boolean=} bool
*/
NumberFormatter.prototype.enablePercentFormat = function(bool) {
	this._percentFormatEnabled = (bool !== false);
};
/** @public
* @param {boolean=} bool
*/
NumberFormatter.prototype.enablePlusSign = function(bool) {
	this._plusSignEnabled = (bool !== false);
};
/** @public
* @param {boolean=} bool
*/
NumberFormatter.prototype.enableMultiplyBy100 = function(bool) {
	this._multiplyBy100Enabled = (bool !== false);
};
/** @public
* @param {boolean=} bool
*/
NumberFormatter.prototype.enableMillionScaling = function(bool) {
	this._scaler = (bool !== false) ? "m" : "";
};
/** @public
* @param {boolean=} bool
*/
NumberFormatter.prototype.enableBillionScaling = function(bool) {
	this._scaler = (bool !== false) ? "b" : "";
};

/** @public
* @return {boolean}
*/
NumberFormatter.prototype.isDefaultFormatEnabled = function() {
	return !(this._precisionEnabled || this._separatorEnabled || this._percentSignEnabled || this._scaler || this._percentFormatEnabled);
};
/** @public
* @return {boolean}
*/
NumberFormatter.prototype.isPrecisionEnabled = function() {
	return this._precisionEnabled;
};
/** @public
* @return {boolean}
*/
NumberFormatter.prototype.isSeparatorEnabled = function() {
	return this._separatorEnabled;
};
/** @public
* @return {boolean}
*/
NumberFormatter.prototype.isPercentSignEnabled = function() {
	return this._percentSignEnabled;
};
/** @public
* @return {boolean}
*/
NumberFormatter.prototype.isPercentFormatEnabled = function() {
	return this._percentFormatEnabled;
};
/** @public
* @return {boolean}
*/
NumberFormatter.prototype.isPlusSignEnabled = function() {
	return this._plusSignEnabled;
};
/** @public
* @return {boolean}
*/
NumberFormatter.prototype.isMultiplyBy100Enabled = function() {
	return this._multiplyBy100Enabled;
};
/** @public
* @return {boolean}
*/
NumberFormatter.prototype.isMillionScalingEnabled = function() {
	return this._scaler === "m";
};
/** @public
* @return {boolean}
*/
NumberFormatter.prototype.isBillionScalingEnabled = function() {
	return this._scaler === "b";
};

/** @public
* @return {number}
*/
NumberFormatter.prototype.getPrecision = function() {
	return this._precision;
};
/** @public
* @param {number} num Maximum is 9 digits
*/
NumberFormatter.prototype.setPrecision = function(num) {
	this._precision = (num < NumberFormatter._denominator.length) ? num : NumberFormatter._denominator.length - 1;
};
/** @public
* @param {string} cha
*/
NumberFormatter.prototype.setSeparatorCharacter = function(cha) {
	this._sepChar = cha;
};
/** @public
* @param {string} cha
*/
NumberFormatter.prototype.setPercentSignCharacter = function(cha) {
	this._percentChar = cha;
};

/* harmony default export */ __webpack_exports__["a"] = (NumberFormatter);



/***/ }),
/* 43 */
/***/ (function(module, exports) {

//
// Main
//

function memoize (fn, options) {
  var cache = options && options.cache
    ? options.cache
    : cacheDefault

  var serializer = options && options.serializer
    ? options.serializer
    : serializerDefault

  var strategy = options && options.strategy
    ? options.strategy
    : strategyDefault

  return strategy(fn, {
    cache: cache,
    serializer: serializer
  })
}

//
// Strategy
//

function isPrimitive (value) {
  return value == null || typeof value === 'number' || typeof value === 'boolean' // || typeof value === "string" 'unsafe' primitive for our needs
}

function monadic (fn, cache, serializer, arg) {
  var cacheKey = isPrimitive(arg) ? arg : serializer(arg)

  var computedValue = cache.get(cacheKey)
  if (typeof computedValue === 'undefined') {
    computedValue = fn.call(this, arg)
    cache.set(cacheKey, computedValue)
  }

  return computedValue
}

function variadic (fn, cache, serializer) {
  var args = Array.prototype.slice.call(arguments, 3)
  var cacheKey = serializer(args)

  var computedValue = cache.get(cacheKey)
  if (typeof computedValue === 'undefined') {
    computedValue = fn.apply(this, args)
    cache.set(cacheKey, computedValue)
  }

  return computedValue
}

function assemble (fn, context, strategy, cache, serialize) {
  return strategy.bind(
    context,
    fn,
    cache,
    serialize
  )
}

function strategyDefault (fn, options) {
  var strategy = fn.length === 1 ? monadic : variadic

  return assemble(
    fn,
    this,
    strategy,
    options.cache.create(),
    options.serializer
  )
}

function strategyVariadic (fn, options) {
  var strategy = variadic

  return assemble(
    fn,
    this,
    strategy,
    options.cache.create(),
    options.serializer
  )
}

function strategyMonadic (fn, options) {
  var strategy = monadic

  return assemble(
    fn,
    this,
    strategy,
    options.cache.create(),
    options.serializer
  )
}

//
// Serializer
//

function serializerDefault () {
  return JSON.stringify(arguments)
}

//
// Cache
//

function ObjectWithoutPrototypeCache () {
  this.cache = Object.create(null)
}

ObjectWithoutPrototypeCache.prototype.has = function (key) {
  return (key in this.cache)
}

ObjectWithoutPrototypeCache.prototype.get = function (key) {
  return this.cache[key]
}

ObjectWithoutPrototypeCache.prototype.set = function (key, value) {
  this.cache[key] = value
}

var cacheDefault = {
  create: function create () {
    return new ObjectWithoutPrototypeCache()
  }
}

//
// API
//

module.exports = memoize
module.exports.strategies = {
  variadic: strategyVariadic,
  monadic: strategyMonadic
}


/***/ }),
/* 44 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PercentBar; });
/* harmony import */ var _Dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var _ElfUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(17);




/** Provides UI for simple percent bar
* @constructor
* @param {Element=} elem
*/
var PercentBar = function (elem) {
	this._topNode = elem || _Dom_js__WEBPACK_IMPORTED_MODULE_0__[/* Dom */ "a"].div();
	this._topNode._percentBar = this; // HACK: For internal reference by PercentBarRenderer
	this._topNode.classList.add("tr-percent-bar");

	this._bar = _Dom_js__WEBPACK_IMPORTED_MODULE_0__[/* Dom */ "a"].div();
	this._track = _Dom_js__WEBPACK_IMPORTED_MODULE_0__[/* Dom */ "a"].div();
	this._track.appendChild(this._bar);

	this._txt = _Dom_js__WEBPACK_IMPORTED_MODULE_0__[/* Dom */ "a"].create("span");
	this.setAlignment("c");
};

/** @type {Element}
* @private
*/
PercentBar.prototype._topNode = null;
/** @type {Element}
* @private
*/
PercentBar.prototype._track = null;
/** @type {Element}
* @private
*/
PercentBar.prototype._bar = null;
/** @type {Element}
* @private
*/
PercentBar.prototype._txt = null;

/** @type {string}
* @private
*/
PercentBar.prototype._textWidth = "56px"; // 56 is the exact fit to the default format

/** @type {boolean}
* @private
*/
PercentBar.prototype._textHidden = false;

/** @type {string}
* @private
*/
PercentBar.prototype._alignment;
/** @type {number}
* @private
*/
PercentBar.prototype._absValue;
/** @type {number}
* @private
*/
PercentBar.prototype._maxValue = 100;
/** Sign of value. 1 for positive and -1 for negative.
* @type {number}
* @private
*/
PercentBar.prototype._sign = 1;
/** @type {boolean}
* @private
*/
PercentBar.prototype._dirtySign = true;
/** @type {boolean}
* @private
*/
PercentBar.prototype._invalid = false;

/** @type {boolean}
* @private
*/
PercentBar.prototype._movementColorUsed = true;

/** @type {boolean}
* @private
*/
PercentBar.prototype._tooltipEnabled = true;

/** @type {string}
* @private
*/
PercentBar._styles = Object(_Util_js__WEBPACK_IMPORTED_MODULE_2__[/* prettifyCss */ "d"])([
	".tr-percent-bar", [
		"position: relative;",
		"text-align: left;",
		"overflow: hidden;",
		"white-space: nowrap;"
	],
	".tr-percent-bar>div", [
		"position: relative;",
		"display: inline-block;",
		"height: 8px;",
		"vertical-align: middle;"
	],
	".tr-percent-bar>div>div ", [
		"position: absolute;",
		"height: 100%;"
	],
	".tr-percent-bar>span", [
		"display: inline-block;",
		"vertical-align: middle;",
		"box-sizing: border-box;",
		"padding-left: 4px;",
		"padding-right: 4px;",
		"overflow: hidden;",
		"max-width: 100%;"
	]
]);

/** to apply percent bar style into elem
 * @public
 * @param {Element} hostElem
 */
PercentBar.injectCss = function (hostElem) {
	Object(_Util_js__WEBPACK_IMPORTED_MODULE_2__[/* injectCss */ "a"])(this._styles, hostElem);
};

/** @public
* @returns {Element}
*/
PercentBar.prototype.getElement = function () {
	return this._topNode;
};

/** @public
* @returns {number}
*/
PercentBar.prototype.getValue = function () {
	return this._absValue * this._sign;
};
/** @public
* @returns {number}
*/
PercentBar.prototype.getPercent = function () {
	return (this._absValue / this._maxValue) * this._sign;
};

/** @public
* @param {number} value
* @param {number=} opt_max
* @param {string=} opt_displayText
*/
PercentBar.prototype.setValue = function (value, opt_max, opt_displayText) {
	var t = this;
	if(!value && value !== 0) { // NaN or undefined
		t._absValue = NaN;
		if(!t._invalid) {
			t._invalid = true;
			t._topNode.style.display = "none";
		}
		return;
	} else {
		if(t._invalid) {
			t._invalid = false;
			t._topNode.style.display = "";
		}
	}
	if(value >= 0) {
		t._absValue = value;
		t._dirtySign |= t._sign !== 1;
		t._sign = 1;
	} else {
		t._absValue = -value;
		t._dirtySign |= t._sign !== -1;
		t._sign = -1;
	}

	if(opt_max != null) {
		t._maxValue = (opt_max >= 0) ? opt_max : -opt_max;
	}
	if(t._absValue > t._maxValue) {
		t._absValue = t._maxValue;
	}
	t._update(true, opt_displayText);
};
/** @public
* @param {number} absVal
*/
PercentBar.prototype.setMax = function (absVal) {
	this._maxValue = (absVal >= 0) ? absVal : -absVal;
	if(this._absValue > this._maxValue) {
		this._absValue = this._maxValue;
	}
	this._update();
};

/** @public
* @param {string} txt
*/
PercentBar.prototype.setText = function (txt) {
	if(!this._invalid) {
		if(this._txt._prevText !== txt) {
			this._txt._prevText = txt;
			this._txt.textContent = txt;
			if (this._tooltipEnabled) {
				if(txt) {
					this._topNode.setAttribute("title", txt);
				} else {
					this._topNode.removeAttribute("title");
				}
			}
		}
	}
};
/** @public
* @param {boolean=} opt_hiden
*/
PercentBar.prototype.hideText = function (opt_hiden) {
	this._textHidden = opt_hiden !== false;
	if(this._textHidden) {
		_Dom_js__WEBPACK_IMPORTED_MODULE_0__[/* Dom */ "a"].removeParent(this._txt);
	} else {
		this._reorderElements();
	}
	this.setAlignment(this._alignment);
};
/** @public
* @return {boolean}
*/
PercentBar.prototype.isTextHidden = function () {
	return this._textHidden || (this._textWidth === "0px");
};

/** Use when alignment is not center. This will be a reserved space for text
* @public
* @param {number|string} width
*/
PercentBar.prototype.setTextWidth = function (width) {
	if(typeof width === "number") {
		if(width <= 8) {
			console.log("Please use hideText() method instead of small textWidth");
			width = 0;
		}
		width = width + "px";
	} else if(!width) { // undefined, NaN, null, and ""
		width = "56px";
	}

	var txtWidth = width;
	if(this._textWidth !== txtWidth) {
		this._textWidth = txtWidth;
		this.setAlignment(this._alignment);
	}
};
/** @public
* @function
* @param {number|string} width
*/
PercentBar.prototype.setMaxTextLength = PercentBar.prototype.setTextWidth;
/** @public
* @return {number} scrollWidth
*/
PercentBar.prototype.getTextScrollWidth = function() {
	if(this._txt.scrollWidth > this._txt.offsetWidth) {
		return this._txt.scrollWidth;
	}
	return NaN;
};

/** @public
* @returns {string} alignment Alignment can be "left", "center", "right"
*/
PercentBar.prototype.getAlignment = function () {
	switch(this._alignment) {
	case "l": return "left";
	case "r": return "right";
	}
	return "center";
};

/** @public
* @param {string} alignment Alignment can be "left", "center", "right"
*/
PercentBar.prototype.setAlignment = function (alignment) {
	if(alignment) {
		alignment = alignment.charAt(0).toLowerCase();
	} else {
		alignment = "c";
	}

	if(alignment === "c") {
		this._track.style.width = "50%";
		this._txt.style.width = '50%';
		this._txt.style.textOverflow = 'elipsis';
		this._dirtySign = true;
	} else {
		if (this.isTextHidden()) {
			this._track.style.width = "100%";
		} else {
			this._track.style.width = "calc(100% - " + this._textWidth + ")";
		}
		this._txt.style.width = this._textWidth; // Text width can be percent ("50%") or pixel ("50px")
		this._txt.style.textAlign = "right";

		this._track.style.left = ""; // Important
		this._txt.style.transform = ""; // Important

		if(alignment === "r") {
			this._bar.style.right = "0";
		} else {
			this._bar.style.right = "";
		}
	}

	if(this._alignment !== alignment) {
		this._alignment = alignment;
		if(!this.isTextHidden()) {
			this._reorderElements();
		}
	}
	this._update(false);
};
/** @private */
PercentBar.prototype._reorderElements = function () {
	if(this._alignment !== "l") {
		this._topNode.appendChild(this._track);
		this._topNode.appendChild(this._txt);
	} else { // align left
		this._topNode.appendChild(this._txt);
		this._topNode.appendChild(this._track);
	}
};

/** @public
* @param {boolean=} opt_enabled
*/
PercentBar.prototype.useMovementColor = function (opt_enabled) {
	this._movementColorUsed = opt_enabled !== false;
	this.updateBarColor();
};

/** @public
* @param {string=} color
*/
PercentBar.prototype.setTrackColor = function (color) {
	this._track.style.backgroundColor = color ? color : "";
};

/** @public
* @param {boolean=} enabled
*/
PercentBar.prototype.enableTooltip = function (enabled) {
	this._tooltipEnabled = enabled !== false;
	if(!this._tooltipEnabled) {
		this._topNode.removeAttribute("title");
	}
};

/** @private
* @param {boolean=} opt_updateVal
* @param {string=} opt_displayText
*/
PercentBar.prototype._update = function (opt_updateVal, opt_displayText) {
	var t = this;
	if(t._dirtySign) {
		t._dirtySign = false;
		if(t._alignment === "c") {
			if(t._sign >= 0) {
				t._track.style.left = "50%";
				t._bar.style.right = "";
				t._txt.style.transform = "translateX(-100%)";
				t._txt.style.textAlign = "right";
			} else {
				t._track.style.left = "";
				t._bar.style.right = "0";
				t._txt.style.transform = "";
				t._txt.style.textAlign = "left";
			}
		}

		if(t._movementColorUsed) {
			t.updateBarColor();
		}
	}

	if (opt_updateVal !== false) {
		var percent = t._maxValue !== 100 ? t._absValue / t._maxValue * 100 : t._absValue;
		t._bar.style.width = percent + "%";
		if(opt_displayText != null) {
			t.setText(opt_displayText);
		} else {
			t.setText(((percent * t._sign * 100) | 0) / 100 + "%");
		}
	}
};
/** update percent bar color to current theme
* @public
*/
PercentBar.prototype.updateBarColor = function () {
	var trackColor = _ElfUtil_js__WEBPACK_IMPORTED_MODULE_1__[/* ElfUtil */ "a"].themeColors["trackColor"];
	if(this._movementColorUsed) {
		trackColor = this._sign >= 0 ? _ElfUtil_js__WEBPACK_IMPORTED_MODULE_1__[/* ElfUtil */ "a"].themeColors["up"] :  _ElfUtil_js__WEBPACK_IMPORTED_MODULE_1__[/* ElfUtil */ "a"].themeColors["down"];
	}
	this._bar.style.backgroundColor = trackColor;
};

/* unused harmony default export */ var _unused_webpack_default_export = (PercentBar);



/***/ }),
/* 45 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CoralCollapse */
/* harmony import */ var _elf_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);
/* harmony import */ var _elf_coral_header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(38);
/* harmony import */ var _elf_coral_panel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(31);
/* harmony import */ var _elf_coral_icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var CoralCollapse_1;




/**
 * coral-collapse allows users to hide non-critical information
 * or areas of the screen, maximizing the amount of real estate
 * for their primary displays.
 *
 * @slot header-left - Slot to add custom contents to the left side of header e.g. coral-icon, coral-checkbox
 * @slot header-right - Slot to add custom contents to the right side of header e.g. coral-icon, coral-checkbox
 *
 */
let CoralCollapse = CoralCollapse_1 = class CoralCollapse extends _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* BasicElement */ "a"] {
    constructor() {
        super(...arguments);
        this.panelHolder = null;
        this.panel = null;
        /**
         * Set text on the header
         */
        this.header = null;
        /**
         * Use level styling from theme
         */
        this.level = '3';
        /**
         * Set to expand the item
         */
        this.expanded = false;
        /**
         * Set to apply padding from theme to content section
         */
        this.spacing = false;
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.6.11';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* css */ "h"] `
      :host {
        display: block;
      }
      [part="header"] {
        cursor: default;
      }
      [part="toggle"] {
        display: inline-block;
        margin: 0 5px;
      }
      [part="content"]  {
        overflow: hidden;
        box-sizing: border-box;
      }
      [no-animation] {
        animation: none !important;
      }
    `;
    }
    /**
     * @param changedProperties {PropertyValues}
     * @return {void}
     */
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        this.panelHolder = this.shadowRoot && this.shadowRoot.querySelector('[part="content"]');
        this.panel = this.shadowRoot && this.shadowRoot.querySelector('coral-panel');
        this.panelHolder && this.panelHolder.setAttribute('no-animation', '');
    }
    /**
     * @param changedProperties {PropertyValues}
     * @return {void}
     */
    updated(changedProperties) {
        super.updated(changedProperties);
        if (changedProperties.has('expanded')) {
            this.showHide();
        }
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `
      <coral-header part="header" level="${this.level}" @tap="${this.handleTap}">
        <coral-icon icon="right" slot="left" part="toggle"></coral-icon>
        <slot slot="left" name="header-left"></slot>
        <slot slot="right" name="header-right"></slot>
        ${this.header}
      </coral-header>

      <div part="content">
        <coral-panel ?spacing="${this.spacing}" transparent>
          <slot></slot>
        </coral-panel>
      </div>
    `;
    }
    /**
     * Toggle the item
     * @returns void
     */
    toggle() {
        this.expanded = !this.expanded;
        /* @fires expanded-changed
           * Fired when the `expanded` property changes.
           */
        const event = this.notifyPropertyChange('expanded', this.expanded, true);
        if (!event) { // revert expanded if event is cancelled
            this.expanded = !this.expanded;
        }
    }
    /**
     * only handle clicks from coral-header/toggle part, not coral-header content
     * @param element for checking
     * @returns boolean
     */
    static isHeader(element) {
        return element.localName === 'coral-header' || element.getAttribute('part') === 'toggle';
    }
    /**
     * Handle tap on the item header, will toggle the expanded state
     * @param event - Event object
     * @returns void
     */
    handleTap(event) {
        const target = event.target;
        if (CoralCollapse_1.isHeader(target)) {
            this.toggle();
        }
    }
    /**
     * Show or Hide the item depending on the expanded state
     * @returns void
     */
    showHide() {
        if (!this.panelHolder) {
            return;
        }
        this.panelHolder.removeAttribute(('no-animation'));
        this.setAnimationTargetHeight(this.getContentHeight());
    }
    /**
     * Set current content height at the target-height
     * @param height number or null value
     * @returns void
     */
    setAnimationTargetHeight(height) {
        this.updateVariable('--target-height', height + 'px');
    }
    /**
     * Gets the height of the coral-panel element which contains the content
     * will pass height including optional spacing
     * @returns clientHeight of the panel so that the panel holder max-height can be set
     */
    getContentHeight() {
        return this.panel && this.panel.clientHeight || 0;
    }
};
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String })
], CoralCollapse.prototype, "header", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String })
], CoralCollapse.prototype, "level", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralCollapse.prototype, "expanded", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean })
], CoralCollapse.prototype, "spacing", void 0);
CoralCollapse = CoralCollapse_1 = __decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* customElement */ "i"])('coral-collapse')
], CoralCollapse);



/***/ }),
/* 46 */
/***/ (function(module, exports) {



/***/ }),
/* 47 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CoralSelect */
/* harmony import */ var _elf_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);
/* harmony import */ var _elf_coral_popup_panel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(18);
/* harmony import */ var _elf_coral_item__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9);
/* harmony import */ var _elf_coral_icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7);
/* harmony import */ var _elf_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






/**
 * Key direction
 */
var Direction;
(function (Direction) {
    Direction[Direction["Up"] = -1] = "Up";
    Direction[Direction["Down"] = 1] = "Down";
})(Direction || (Direction = {}));
// Observer config for items
const observerOptions = {
    subtree: true,
    childList: true,
    attributes: true,
    characterData: true,
    attributeFilter: [
        'label',
        'value',
        'selected',
        'disabled',
        'readonly'
    ]
};
const LABEL_SEPARATOR = ', '; // TODO: for multiselect
const POPUP_POSITION = ['bottom-start', 'top-start'];
const KEY_SEARCH_DEBOUNCER = 300;
/**
 * coral-select expands upon the native select element,
 * providing a fully themeable dropdown element.
 *
 * @attr {boolean} disabled - Set disabled state
 * @prop {boolean} [disabled=false] - Set disabled state
 *
 * @fires value-changed - Fired when the value property changes.
 * @fires opened-changed - Fired when the opened property changes.
 */
let CoralSelect = class CoralSelect extends _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* ControlElement */ "b"] {
    constructor() {
        super(...arguments);
        this.composer = new _elf_utils__WEBPACK_IMPORTED_MODULE_4__[/* CollectionComposer */ "d"]([]);
        this._data = null;
        this.popupDynamicStyles = {}; /* set popup min-width based on select width or CSS vars */
        this.lazyRendered = false; /* speed up rendering by not populating popup window on first load */
        this.popupScrollTop = 0; /* remember scroll position on popup refit actions */
        this.observingMutations = false;
        this.keySearchTerm = ''; /* used for quick search */
        this.keySearchThrottler = new _elf_utils__WEBPACK_IMPORTED_MODULE_4__[/* TimeoutTaskRunner */ "g"](KEY_SEARCH_DEBOUNCER);
        this.resizeThrottler = new _elf_utils__WEBPACK_IMPORTED_MODULE_4__[/* AnimationTaskRunner */ "b"]();
        /**
        * Placeholder to display when no value is set
        */
        this.placeholder = '';
        /**
        * Toggles the opened state of the list
        */
        this.opened = false;
        /**
        * Set state to error
        */
        this.error = false;
        /**
        * Set state to warning
        */
        this.warning = false;
        /**
         * This variable is here to ensure that the value and data are in sync when data is set after the value.
         * This is developer error to use both, selected and value to control the selections.
         * Therefore as soon as value has been set externally, selected state in data setter is ignored
         */
        this.cachedValue = '';
        /**
         * Handles all mutations and filters out
         * any Shadow DOM changes in polyfilled browsers
         * mutations collection of mutation records
         * @param mutations Observer mutations
         * @returns {void}
         */
        this.handleMutations = (mutations) => {
            const hasLightDomMutations = mutations
                .some(m => m.target.getRootNode() !== this.shadowRoot);
            if (hasLightDomMutations) {
                this.requestUpdate();
            }
        };
        this.shouldOpenOnFocus = false;
        /**
         * Used to store scroll position
         * @returns {void}
         */
        this.onPopupScroll = ({ target }) => {
            this.popupScrollTop = target.scrollTop;
        };
    }
    /**
    * Element version number
    */
    static get version() {
        return '4.5.33';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* css */ "h"] `
      :host {
        outline: none;
        position: relative;
        user-select: none;
        -webkit-user-select: none;
        display: inline-block;
      }

      [part=label],
      [part=placeholder] {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      [part=icon] {
        flex: none;
      }
      :host [part=list] {
        overflow-y: auto;
      }
      :host [part="list"] ::slotted(:not(coral-item)) {
        display: none;
      }
      #box {
        align-items: center;
        display: inline-flex;
        flex-flow: row nowrap;
        overflow: hidden;
        flex: 1 1 100%;
      }
      #text {
        position: relative;
        flex: 1 1 auto;
        height: 100%;
        display: flex;
        align-items: center;
        min-width: 0;
      }
      #trigger {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      }
      #select {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        border: none;
        padding: 0;
        margin: 0;
      }
    `;
    }
    /**
    * Current text content of the selected value
    * @readonly
    */
    get label() {
        return this.labels[0];
    }
    /**
    * Current text content of the selected values
    * @ignore
    * @readonly
    */
    get labels() {
        if (this.hasDataItems()) {
            return this.selectedDataItems.map(item => this.composer.getItemPropertyValue(item, 'label'));
        }
        return this.selectedSlotItems.map(item => this.getItemLabel(item));
    }
    /**
    * Switch to multiple select input
    * @ignore
    * @param multiple True if element needs to support multi selection
    */
    set multiple(multiple) {
        // TODO: not implemented
    }
    /**
    * @ignore
    */
    get multiple() {
        return false;
    }
    /**
    * Construct the menu from data object. Cannot be used with slotted content
    * @type {CoralItemData[] | null}
    */
    get data() {
        return this._data;
    }
    set data(value) {
        const oldValue = this._data;
        if (oldValue === value) {
            return;
        }
        else if (Array.isArray(value)) {
            this.composer = new _elf_utils__WEBPACK_IMPORTED_MODULE_4__[/* CollectionComposer */ "d"](value);
        }
        else {
            this.composer = new _elf_utils__WEBPACK_IMPORTED_MODULE_4__[/* CollectionComposer */ "d"]([]);
        }
        this._data = value;
        // check if new set of data contains selected, which becomes the new value
        // otherwise try to set current value
        if (!this.selectedDataItems.length) {
            this.value = this.cachedValue;
        }
        this.requestUpdate('data', oldValue);
    }
    /**
    * Value of the element
    * @param value Element value
    */
    set value(value) {
        value = this.castValue(value);
        this.cachedValue = value;
        const oldValue = this.value;
        if (value !== oldValue) {
            this.stopObserveMutations();
            // setting the value always overrides the selected attribute
            // either defined in data or by having selected as an attribute
            this.clearSelection();
            this.selectValue(value);
            this.requestUpdate('value', oldValue);
        }
    }
    get value() {
        return this.values[0] || '';
    }
    /**
     * Array of selected items` values
     * @ignore
     * @readonly
     */
    get values() {
        if (this.hasDataItems()) {
            return this.selectedDataItems.map(item => this.composer.getItemPropertyValue(item, 'value'));
        }
        return this.selectedSlotItems.map(item => this.getItemValue(item));
    }
    /**
     * Updates the element
     * @param changedProperties Properties that has changed
     * @returns {void}
     */
    update(changedProperties) {
        this.cachedValue = ''; /* reset cached value as it is only valid when value and data are set the same time */
        const focusedChanged = changedProperties.has(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* FocusedPropertyKey */ "e"]);
        // the opened logic is bound to focus state
        if (focusedChanged) {
            // When focus changes the popup can open only on tapstart
            if (this.focused && this.shouldOpenOnFocus) {
                this.setOpened(true);
            }
            this.shouldOpenOnFocus = false;
        }
        if (changedProperties.has('opened')) {
            if (this.opened) {
                this.opening();
            }
            else {
                this.closing();
            }
        }
        super.update(changedProperties);
    }
    /**
     * Called after the component is first rendered
     * @param changedProperties Properties which have changed
     * @returns {void}
     */
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        this.addEventListener('keydown', event => this.onKeyDown(event)); /* keydown when select is closed */
    }
    /**
     * Called when element finished updating
     * @param changedProperties Properties which have changed
     * @returns {void}
     */
    updated(changedProperties) {
        super.updated(changedProperties);
        // we must wait while all elements in the tree are updated before starting the mutation observer
        this.updateComplete.then(() => {
            // Start watching for any child mutations
            this.observeMutations();
        });
    }
    /**
     * Run when popup is opening
     * Calculate CSS variables an computed width
     * @returns {void}
     */
    opening() {
        this.lazyRendered = true;
        this.restrictPopupWidth(); /* styles ary dynamically applied in rendering */
    }
    /**
     * Run when popup is closing
     * @returns {void}
     */
    closing() {
        // no content
    }
    /**
     * Observe any changes to Light DOM
     * This observer is self contained and should
     * be garbage collected when there are no element references.
     * @returns {void}
     */
    observeMutations() {
        // Start watching for any new mutations if slotted content is used
        if (!this.observingMutations && !this.hasDataItems()) {
            if (!this.mutationObserver) {
                this.mutationObserver = new MutationObserver(this.handleMutations);
            }
            this.mutationObserver.observe(this, observerOptions);
            this.observingMutations = true;
        }
    }
    /**
     * Stop observe any changes to Light DOM
     * There must not be any observation on any internal changes
     * as it may cause excessive re-rendering
     * @returns {void}
     */
    stopObserveMutations() {
        if (this.observingMutations && this.mutationObserver) {
            this.mutationObserver.disconnect();
            this.observingMutations = false;
        }
    }
    /**
     * Popup has to use max width if --list-max-width specified
     * otherwise, popup should have same width as control or wider
     * @returns {void}
     */
    restrictPopupWidth() {
        /* istanbul ignore next */
        if (this.offsetWidth === 0) {
            // this code might happen only when opened has been set during initialisation
            // or when display is set to none
            this.resizeThrottler.schedule(() => {
                if (this.offsetWidth) { /* must be here to avoid infinitive loop */
                    this.restrictPopupWidth();
                    this.requestUpdate();
                }
            });
            return;
        }
        const maxWidth = this.getComputedVariable('--list-max-width', 'none');
        let minWidth = this.offsetWidth;
        if (maxWidth !== 'none') {
            // reset min-width if max-width less than min-width, otherwise browser won't apply max-width
            if (parseInt(maxWidth, 10) < minWidth) {
                minWidth = 0;
            }
        }
        this.popupDynamicStyles.minWidth = `${minWidth}px`;
    }
    /**
     * Set opened state with event
     * @param opened True if opened
     * @returns {void}
     */
    setOpened(opened) {
        if (this.opened !== opened) {
            const event = new CustomEvent('opened-changed', {
                detail: {
                    value: opened
                }
            });
            this.dispatchEvent(event);
            this.opened = opened;
        }
    }
    /**
     * This flag is required to remove the frame gap
     * between tap start and opening the popup
     * @returns {void}
     */
    openOnFocus() {
        if (this.opened) {
            return;
        }
        if (this.focused) {
            this.setOpened(true);
            return;
        }
        this.shouldOpenOnFocus = true;
    }
    /**
     * Toggles the opened state of the list
     * @returns {void}
     */
    toggleOpened() {
        if (this.opened) {
            this.setOpened(false);
        }
        else {
            this.openOnFocus();
        }
    }
    /**
     * Scroll to first selected item
     * @returns {void}
     */
    scrollToSelected() {
        const selected = this.getSelectedElements()[0];
        if (selected) {
            selected.scrollIntoView({
                block: 'nearest'
            });
        }
    }
    /**
     * Used to restore scroll position on each refit event
     * @returns {void}
     */
    onPopupRefit({ target }) {
        target.scrollTop = this.popupScrollTop;
    }
    /**
     * Run when popup closes externally via opened-changed event
     * Required to propagate the event
     * @param event opened-changed event
     * @returns {void}
     */
    onPopupOpenedChanged(event) {
        event.preventDefault();
        this.setOpened(event.detail.value);
    }
    /**
     * Run when popup gets opened
     * @returns {void}
     */
    onPopupOpened({ target }) {
        this.scrollToSelected();
        this.setItemHighlight(this.getSelectedElements()[0]);
        const eventOptions = {
            capture: true,
            passive: true
        };
        target === null || target === void 0 ? void 0 : target.addEventListener('scroll', this.onPopupScroll, eventOptions);
    }
    /**
     * Run when popup gets closed
     * @returns {void}
     */
    onPopupClosed({ target }) {
        const eventOptions = {
            capture: true,
            passive: true
        };
        target === null || target === void 0 ? void 0 : target.removeEventListener('scroll', this.onPopupScroll, eventOptions);
        this.setItemHighlight();
        this.popupScrollTop = 0;
    }
    /**
     * Run when tap event happens on render root
     * @param event tap event
     * @returns {void}
     */
    onPopupTap(event) {
        const item = this.findSelectableElement(event);
        if (item) {
            this.setValueAndNotify(this.getItemValue(item));
            this.setOpened(false);
        }
    }
    /**
     * Run mouse move event over the popup
     * @param event mouse move event
     * @returns {void}
     */
    onPopupMouseMove(event) {
        var _a;
        (_a = this.menuEl) === null || _a === void 0 ? void 0 : _a.focus();
        const item = this.findSelectableElement(event);
        if (item) {
            this.setItemHighlight(item);
        }
    }
    /**
     * Handles key input when popup is closed
     * @param event Key down event object
     * @returns {void}
     */
    onKeyDown(event) {
        switch (event.key) {
            case 'Up':
            case 'ArrowUp':
            case 'Down':
            case 'ArrowDown':
            case 'Enter':
            case 'Spacebar':
            case ' ':
                this.setOpened(true);
                break;
            default:
                return;
        }
        event.preventDefault();
    }
    /**
     * Handles popup key input when popup is opened
     * @param event Key down event object
     * @returns {void}
     */
    onPopupKeyDown(event) {
        var _a;
        switch (event.key) {
            case ' ':
            case 'Spacebar':
            case 'Enter':
                (_a = this.highlightedItem) === null || _a === void 0 ? void 0 : _a.click();
                break;
            case 'Up':
            case 'ArrowUp':
                this.focusElement(Direction.Up);
                break;
            case 'Down':
            case 'ArrowDown':
                this.focusElement(Direction.Down);
                break;
            case 'Tab':
                this.focusElement(event.shiftKey ? Direction.Up : Direction.Down);
                break;
            default:
                if (this.isValidFilterKey(event)) {
                    this.onKeySearch(event.key);
                    break;
                }
                return;
            // no default
        }
        event.preventDefault();
        event.stopPropagation(); /* must be her to not reach self key listener */
    }
    /**
     * Check if keyboard keydown can be used for data searching
     * @param event Keyboard event
     * @returns true if a valid key
     */
    isValidFilterKey(event) {
        // all printable keys have length of 1. This is better than regexp as we cover all non latin characters
        return event.key.length === 1
            && !event.ctrlKey
            && !event.altKey
            && !event.metaKey;
    }
    /**
     * Focus and highlight the next/previous element
     * @param direction Focus next or previous element
     * @returns {void}
     */
    focusElement(direction) {
        const highlightedItem = this.highlightedItem || this.getSelectedElements()[0];
        const children = this.getSelectableElements();
        const idx = highlightedItem ? children.indexOf(highlightedItem) : -1;
        let focusElement;
        if (direction === 1) {
            focusElement = idx === -1 ? children[0] : children[idx + 1];
        }
        else {
            focusElement = idx === -1 ? children[children.length - 1] : children[idx - 1];
        }
        if (!focusElement) {
            focusElement = direction === 1 ? children[0] : children[children.length - 1];
        }
        if (focusElement) {
            focusElement.focus();
            this.setItemHighlight(focusElement);
        }
    }
    /**
     * Highlight or remove highlight from an item
     * @param [item] An item to highlight
     * @returns {void}
     */
    setItemHighlight(item) {
        if (this.highlightedItem === item) {
            return;
        }
        if (this.highlightedItem) {
            this.highlightedItem.highlighted = false;
        }
        this.highlightedItem = item;
        if (item) {
            item.highlighted = true;
        }
    }
    /**
     * A simple search that highlight elements on key press
     * @param key A key pressed
     * @returns {void}
     */
    onKeySearch(key) {
        this.keySearchTerm += key.toLowerCase();
        this.keySearchThrottler.schedule(() => {
            this.keySearchTerm = '';
        });
        // start from highlighted and continue in circles
        let selectableElements = this.getSelectableElements();
        const highlightedIdx = this.highlightedItem ? selectableElements.indexOf(this.highlightedItem) : -1;
        selectableElements = selectableElements.concat(selectableElements.splice(0, highlightedIdx));
        const focusElement = selectableElements.find(item => {
            const label = this.getItemLabel(item).toLowerCase();
            return label.startsWith(this.keySearchTerm) && item !== this.highlightedItem;
        });
        if (focusElement) {
            focusElement.focus();
            this.setItemHighlight(focusElement);
        }
    }
    /**
     * Check if element can be selected
     * @param element Element to check
     * @returns true if element can be selected
     */
    isSelectableElement(element) {
        // TODO: remove disabled && readonly check once ControlElement tabIndex issue is fixed
        return element instanceof _elf_coral_item__WEBPACK_IMPORTED_MODULE_2__["CoralItem"] && element.tabIndex >= 0 && !element.disabled && !element.readonly;
    }
    /**
     * Get a list of selectable HTML Elements
     * *Can be used only when select is opened*
     * @returns A list of selectable HTML elements
     */
    getSelectableElements() {
        const root = this.hasDataItems() ? this.menuEl : this;
        /* istanbul ignore next */
        if (!root) {
            return [];
        }
        const items = [];
        const rootChildren = root.children;
        for (let i = 0; i < rootChildren.length; i += 1) {
            const item = rootChildren[i];
            if (this.isSelectableElement(item)) {
                items.push(item);
            }
        }
        return items;
    }
    /**
     * Find selectable element is the event composed path
     * @param event Event to check
     * @returns The first selectable element or undefined
     */
    findSelectableElement(event) {
        const path = event.composedPath();
        for (let i = 0; i < path.length; i += 1) {
            const element = path[i];
            if (element === this) {
                return;
            }
            if (this.isSelectableElement(element)) {
                return element;
            }
        }
    }
    /**
     * Get a list of selected HTML elements
     * *Can be used only when select is opened*
     * @returns A list of selected elements
     */
    getSelectedElements() {
        return this.getSelectableElements().filter(item => item.selected);
    }
    /**
     * Clears the current selected items
     * @returns {void}
     */
    clearSelection() {
        if (this.hasDataItems()) {
            this.selectedDataItems.forEach((item) => this.composer.setItemPropertyValue(item, 'selected', false));
        }
        else {
            this.selectedSlotItems.forEach(item => {
                item.selected = false;
            });
        }
        this.requestUpdate();
    }
    /**
     * Mark item as selected
     * @param value Value to select
     * @returns true if corresponding item is found and item selected
     */
    selectValue(value) {
        if (!this.values.includes(value)) {
            if (this.hasDataItems()) {
                return this.selectDataItem(value);
            }
            else {
                return this.selectSlotItem(value);
            }
        }
        return false;
    }
    /**
     * Mark data item as selected
     * @param value Item value
     * @returns true if corresponding item is found and item selected
     */
    selectDataItem(value) {
        const item = this.composer.queryItemsByPropertyValue('value', value)[0];
        if (item) {
            this.composer.setItemPropertyValue(item, 'selected', true);
            return true;
        }
        return false;
    }
    /**
     * Mark slotted item as selected
     * @param value Item value, item label or item text content
     * @returns true if corresponding item is found and item selected
     */
    selectSlotItem(value) {
        const items = this.getSelectableElements();
        for (let i = 0; i < items.length; i += 1) {
            const item = items[i];
            if (this.getItemValue(item) === value) {
                item.selected = true;
                return true;
            }
        }
        return false;
    }
    /**
     * Helper to return a value from an item
     * @param item select item
     * @returns value
     */
    getItemValue(item) {
        return item.value || (item.hasAttribute('value') ? '' : this.getItemLabel(item));
    }
    /**
     * Helper to return a label from an item
     * @param item select item
     * @returns value
     */
    getItemLabel(item) {
        return item.label || item.textContent || '';
    }
    /**
     * Check whether select is working with data or slotted content
     * @returns True if working with data
     */
    hasDataItems() {
        var _a;
        return !!((_a = this.data) === null || _a === void 0 ? void 0 : _a.length);
    }
    /**
     * Retrieve the selected data items
     * @returns Selected data item
     */
    get selectedDataItems() {
        return this.composer.queryItemsByPropertyValue('selected', true);
    }
    /**
     * Retrieve the selected coral items
     * @returns Selected data item
     */
    get selectedSlotItems() {
        return this.getSelectedElements();
    }
    /**
     * Calculating whether the placeholder should be hidden
     * @returns result
     */
    placeholderHidden() {
        return !!(this.labels.length > 0 || this.value);
    }
    /**
     * Create template for menu item
     * @param item JSON object to parse
     * @returns template result
     */
    toCoralItem(item) {
        switch (item.type) {
            case 'divider':
                return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `<coral-item part="item" type="divider"></coral-item>`;
            case 'header':
                return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `<coral-item
          part="item"
          type="header"
          .label=${item.label}></coral-item>`;
            // no default
        }
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `<coral-item
      part="item"
      .value=${item.value}
      .label=${item.label}
      ?selected=${this.composer.getItemPropertyValue(item, 'selected')}
      ?disabled=${item.disabled}
    ></coral-item>`;
    }
    /**
     * Template for placeholder
     */
    get placeholderTemplate() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `<div part="placeholder">${this.placeholder}</div>`;
    }
    /**
     * Template for label
     */
    get labelTemplate() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `<div part="label">${this.multiple ? this.labels.join(LABEL_SEPARATOR) : this.label}</div>`;
    }
    /**
     * Edit template when select is not readonly or disabled
     */
    get editTemplate() {
        if (!this.readonly && !this.disabled) {
            return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `
        <div id="trigger" @tapstart="${this.toggleOpened}"></div>
        ${this.popupTemplate}
      `;
        }
    }
    /**
     * Get default slot template
     */
    get slottedContent() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `<slot></slot>`;
    }
    /**
     * Get data iterator template
     */
    get dataContent() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `${this.composer.queryItems(() => true).map(item => this.toCoralItem(item))}`;
    }
    /**
    * Edit template when select is not readonly or disabled
    */
    get popupTemplate() {
        if (this.lazyRendered) {
            return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `<coral-popup-panel
        tabindex="-1"
        id="menu"
        part="list"
        style=${Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* styleMap */ "p"])(this.popupDynamicStyles)}
        with-shadow
        lock-position-target
        .positionTarget=${this}
        .position=${POPUP_POSITION}
        ?opened=${this.opened}
        @tap=${this.onPopupTap}
        @mousemove=${this.onPopupMouseMove}
        @keydown=${this.onPopupKeyDown}
        @opened-changed="${this.onPopupOpenedChanged}"
        @opened="${this.onPopupOpened}"
        @refit=${this.onPopupRefit}
        @closed="${this.onPopupClosed}">${this.hasDataItems() ? this.dataContent : this.slottedContent}</coral-popup-panel>`;
        }
        else {
            // This code is required because IE11 polyfill need items to be within a slot
            // to make MutationObserver to observe items correctly
            return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `<div style="display: none !important;"><slot></slot></div>`;
        }
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return _elf_core__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"] `
    <div id="box">
      <div id="text">
        ${this.placeholderHidden() ? this.labelTemplate : this.placeholderTemplate}
      </div>
      <coral-icon icon="down" part="icon"></coral-icon>
    </div>
    ${this.editTemplate}`;
    }
};
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String, attribute: false })
], CoralSelect.prototype, "label", null);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Array, attribute: false })
], CoralSelect.prototype, "labels", null);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String })
], CoralSelect.prototype, "placeholder", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralSelect.prototype, "opened", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralSelect.prototype, "error", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean, reflect: true })
], CoralSelect.prototype, "warning", void 0);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: Boolean })
], CoralSelect.prototype, "multiple", null);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ attribute: false })
], CoralSelect.prototype, "data", null);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ type: String, attribute: false })
], CoralSelect.prototype, "value", null);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* property */ "n"])({ attribute: false })
], CoralSelect.prototype, "values", null);
__decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* query */ "o"])('#menu')
], CoralSelect.prototype, "menuEl", void 0);
CoralSelect = __decorate([
    Object(_elf_core__WEBPACK_IMPORTED_MODULE_0__[/* customElement */ "i"])('coral-select')
], CoralSelect);



/***/ }),
/* 48 */
/***/ (function(module, exports) {



/***/ }),
/* 49 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// UNUSED EXPORTS: EmeraldColorDialog

// EXTERNAL MODULE: ./node_modules/@elf/core/lib/elf.js + 57 modules
var elf = __webpack_require__(0);

// EXTERNAL MODULE: ./node_modules/lit-html/directives/style-map.js
var style_map = __webpack_require__(36);

// EXTERNAL MODULE: ./node_modules/@elf/utils/lib/utils.js + 23 modules
var utils = __webpack_require__(1);

// EXTERNAL MODULE: ./node_modules/@elf/elf-translate/lib/elf-translate.js
var elf_translate = __webpack_require__(6);

// EXTERNAL MODULE: ./node_modules/@elf/core-phrasebook/lib/index.js + 1 modules
var lib = __webpack_require__(2);

// EXTERNAL MODULE: ./node_modules/@elf/core-phrasebook/lib/locale/en/shared.js
var shared = __webpack_require__(33);

// EXTERNAL MODULE: ./node_modules/@elf/core-phrasebook/lib/locale/en/coral-dialog.js
var coral_dialog = __webpack_require__(41);

// CONCATENATED MODULE: ./node_modules/@elf/core-phrasebook/lib/locale/en/emerald-color-dialog.js
// Component docs https://elf.int.refinitiv.com/elements/emerald-color-dialog.html



const translations = Object.assign(Object.assign({}, coral_dialog["a" /* default */]), { 
    // Dialog title
    HEADER: 'Color Picker', 
    // Color values for color mixer, has space for a single character
    RED: 'R', GREEN: 'G', BLUE: 'B' });
lib["a" /* Phrasebook */].define('en', 'emerald-color-dialog', translations);
/* harmony default export */ var emerald_color_dialog = (translations);

// EXTERNAL MODULE: ./node_modules/@elf/coral-dialog/lib/coral-dialog.js + 1 modules
var lib_coral_dialog = __webpack_require__(28);

// CONCATENATED MODULE: ./node_modules/@elf/emerald-color-dialog/lib/helpers/color-helpers.js
/**
 * SVG polygons per color
 */
const COLOR_ITEMS = [
    ['63,0,72,4,72,15,63,19,54,15,54,4', '#003366'],
    ['81,0,90,4,90,15,81,19,72,15,72,4', '#336699'],
    ['99,0,108,4,108,15,99,19,90,15,90,4', '#3366cc'],
    ['117,0,126,4,126,15,117,19,108,15,108,4', '#003399'],
    ['135,0,144,4,144,15,135,19,126,15,126,4', '#000099'],
    ['153,0,162,4,162,15,153,19,144,15,144,4', '#0000cc'],
    ['171,0,180,4,180,15,171,19,162,15,162,4', '#000066'],
    ['54,15,63,19,63,30,54,34,45,30,45,19', '#006666'],
    ['72,15,81,19,81,30,72,34,63,30,63,19', '#006699'],
    ['90,15,99,19,99,30,90,34,81,30,81,19', '#0099cc'],
    ['108,15,117,19,117,30,108,34,99,30,99,19', '#0066cc'],
    ['126,15,135,19,135,30,126,34,117,30,117,19', '#0033cc'],
    ['144,15,153,19,153,30,144,34,135,30,135,19', '#0000ff'],
    ['162,15,171,19,171,30,162,34,153,30,153,19', '#3333ff'],
    ['180,15,189,19,189,30,180,34,171,30,171,19', '#333399'],
    ['45,30,54,34,54,45,45,49,36,45,36,34', '#669999'],
    ['63,30,72,34,72,45,63,49,54,45,54,34', '#009999'],
    ['81,30,90,34,90,45,81,49,72,45,72,34', '#33cccc'],
    ['99,30,108,34,108,45,99,49,90,45,90,34', '#00ccff'],
    ['117,30,126,34,126,45,117,49,108,45,108,34', '#0099ff'],
    ['135,30,144,34,144,45,135,49,126,45,126,34', '#0066ff'],
    ['153,30,162,34,162,45,153,49,144,45,144,34', '#3366ff'],
    ['171,30,180,34,180,45,171,49,162,45,162,34', '#3333cc'],
    ['189,30,198,34,198,45,189,49,180,45,180,34', '#666699'],
    ['36,45,45,49,45,60,36,64,27,60,27,49', '#339966'],
    ['54,45,63,49,63,60,54,64,45,60,45,49', '#00cc99'],
    ['72,45,81,49,81,60,72,64,63,60,63,49', '#00ffcc'],
    ['90,45,99,49,99,60,90,64,81,60,81,49', '#00ffff'],
    ['108,45,117,49,117,60,108,64,99,60,99,49', '#33ccff'],
    ['126,45,135,49,135,60,126,64,117,60,117,49', '#3399ff'],
    ['144,45,153,49,153,60,144,64,135,60,135,49', '#6699ff'],
    ['162,45,171,49,171,60,162,64,153,60,153,49', '#6666ff'],
    ['180,45,189,49,189,60,180,64,171,60,171,49', '#6600ff'],
    ['198,45,207,49,207,60,198,64,189,60,189,49', '#6600cc'],
    ['27,60,36,64,36,75,27,79,18,75,18,64', '#339933'],
    ['45,60,54,64,54,75,45,79,36,75,36,64', '#00cc66'],
    ['63,60,72,64,72,75,63,79,54,75,54,64', '#00ff99'],
    ['81,60,90,64,90,75,81,79,72,75,72,64', '#66ffcc'],
    ['99,60,108,64,108,75,99,79,90,75,90,64', '#66ffff'],
    ['117,60,126,64,126,75,117,79,108,75,108,64', '#66ccff'],
    ['135,60,144,64,144,75,135,79,126,75,126,64', '#99ccff'],
    ['153,60,162,64,162,75,153,79,144,75,144,64', '#9999ff'],
    ['171,60,180,64,180,75,171,79,162,75,162,64', '#9966ff'],
    ['189,60,198,64,198,75,189,79,180,75,180,64', '#9933ff'],
    ['207,60,216,64,216,75,207,79,198,75,198,64', '#9900ff'],
    ['18,75,27,79,27,90,18,94,9,90,9,79', '#006600'],
    ['36,75,45,79,45,90,36,94,27,90,27,79', '#00cc00'],
    ['54,75,63,79,63,90,54,94,45,90,45,79', '#00ff00'],
    ['72,75,81,79,81,90,72,94,63,90,63,79', '#66ff99'],
    ['90,75,99,79,99,90,90,94,81,90,81,79', '#99ffcc'],
    ['108,75,117,79,117,90,108,94,99,90,99,79', '#ccffff'],
    ['126,75,135,79,135,90,126,94,117,90,117,79', '#ccccff'],
    ['144,75,153,79,153,90,144,94,135,90,135,79', '#cc99ff'],
    ['162,75,171,79,171,90,162,94,153,90,153,79', '#cc66ff'],
    ['180,75,189,79,189,90,180,94,171,90,171,79', '#cc33ff'],
    ['198,75,207,79,207,90,198,94,189,90,189,79', '#cc00ff'],
    ['216,75,225,79,225,90,216,94,207,90,207,79', '#9900cc'],
    ['9,90,18,94,18,105,9,109,0,105,0,94', '#003300'],
    ['27,90,36,94,36,105,27,109,18,105,18,94', '#009933'],
    ['45,90,54,94,54,105,45,109,36,105,36,94', '#33cc33'],
    ['63,90,72,94,72,105,63,109,54,105,54,94', '#66ff66'],
    ['81,90,90,94,90,105,81,109,72,105,72,94', '#99ff99'],
    ['99,90,108,94,108,105,99,109,90,105,90,94', '#ccffcc'],
    ['117,90,126,94,126,105,117,109,108,105,108,94', '#ffffff'],
    ['135,90,144,94,144,105,135,109,126,105,126,94', '#ffccff'],
    ['153,90,162,94,162,105,153,109,144,105,144,94', '#ff99ff'],
    ['171,90,180,94,180,105,171,109,162,105,162,94', '#ff66ff'],
    ['189,90,198,94,198,105,189,109,180,105,180,94', '#ff00ff'],
    ['207,90,216,94,216,105,207,109,198,105,198,94', '#cc00cc'],
    ['225,90,234,94,234,105,225,109,216,105,216,94', '#660066'],
    ['18,105,27,109,27,120,18,124,9,120,9,109', '#336600'],
    ['36,105,45,109,45,120,36,124,27,120,27,109', '#009900'],
    ['54,105,63,109,63,120,54,124,45,120,45,109', '#66ff33'],
    ['72,105,81,109,81,120,72,124,63,120,63,109', '#99ff66'],
    ['90,105,99,109,99,120,90,124,81,120,81,109', '#ccff99'],
    ['108,105,117,109,117,120,108,124,99,120,99,109', '#ffffcc'],
    ['126,105,135,109,135,120,126,124,117,120,117,109', '#ffcccc'],
    ['144,105,153,109,153,120,144,124,135,120,135,109', '#ff99cc'],
    ['162,105,171,109,171,120,162,124,153,120,153,109', '#ff66cc'],
    ['180,105,189,109,189,120,180,124,171,120,171,109', '#ff33cc'],
    ['198,105,207,109,207,120,198,124,189,120,189,109', '#cc0099'],
    ['216,105,225,109,225,120,216,124,207,120,207,109', '#993399'],
    ['27,120,36,124,36,135,27,139,18,135,18,124', '#333300'],
    ['45,120,54,124,54,135,45,139,36,135,36,124', '#669900'],
    ['63,120,72,124,72,135,63,139,54,135,54,124', '#99ff33'],
    ['81,120,90,124,90,135,81,139,72,135,72,124', '#ccff66'],
    ['99,120,108,124,108,135,99,139,90,135,90,124', '#ffff99'],
    ['117,120,126,124,126,135,117,139,108,135,108,124', '#ffcc99'],
    ['135,120,144,124,144,135,135,139,126,135,126,124', '#ff9999'],
    ['153,120,162,124,162,135,153,139,144,135,144,124', '#ff6699'],
    ['171,120,180,124,180,135,171,139,162,135,162,124', '#ff3399'],
    ['189,120,198,124,198,135,189,139,180,135,180,124', '#cc3399'],
    ['207,120,216,124,216,135,207,139,198,135,198,124', '#990099'],
    ['36,135,45,139,45,150,36,154,27,150,27,139', '#666633'],
    ['54,135,63,139,63,150,54,154,45,150,45,139', '#99cc00'],
    ['72,135,81,139,81,150,72,154,63,150,63,139', '#ccff33'],
    ['90,135,99,139,99,150,90,154,81,150,81,139', '#ffff66'],
    ['108,135,117,139,117,150,108,154,99,150,99,139', '#ffcc66'],
    ['126,135,135,139,135,150,126,154,117,150,117,139', '#ff9966'],
    ['144,135,153,139,153,150,144,154,135,150,135,139', '#ff6666'],
    ['162,135,171,139,171,150,162,154,153,150,153,139', '#ff0066'],
    ['180,135,189,139,189,150,180,154,171,150,171,139', '#cc6699'],
    ['198,135,207,139,207,150,198,154,189,150,189,139', '#993366'],
    ['45,150,54,154,54,165,45,169,36,165,36,154', '#999966'],
    ['63,150,72,154,72,165,63,169,54,165,54,154', '#cccc00'],
    ['81,150,90,154,90,165,81,169,72,165,72,154', '#ffff00'],
    ['99,150,108,154,108,165,99,169,90,165,90,154', '#ffcc00'],
    ['117,150,126,154,126,165,117,169,108,165,108,154', '#ff9933'],
    ['135,150,144,154,144,165,135,169,126,165,126,154', '#ff6600'],
    ['153,150,162,154,162,165,153,169,144,165,144,154', '#ff5050'],
    ['171,150,180,154,180,165,171,169,162,165,162,154', '#cc0066'],
    ['189,150,198,154,198,165,189,169,180,165,180,154', '#660033'],
    ['54,165,63,169,63,180,54,184,45,180,45,169', '#996633'],
    ['72,165,81,169,81,180,72,184,63,180,63,169', '#cc9900'],
    ['90,165,99,169,99,180,90,184,81,180,81,169', '#ff9900'],
    ['108,165,117,169,117,180,108,184,99,180,99,169', '#cc6600'],
    ['126,165,135,169,135,180,126,184,117,180,117,169', '#ff3300'],
    ['144,165,153,169,153,180,144,184,135,180,135,169', '#ff0000'],
    ['162,165,171,169,171,180,162,184,153,180,153,169', '#cc0000'],
    ['180,165,189,169,189,180,180,184,171,180,171,169', '#990033'],
    ['63,180,72,184,72,195,63,199,54,195,54,184', '#663300'],
    ['81,180,90,184,90,195,81,199,72,195,72,184', '#996600'],
    ['99,180,108,184,108,195,99,199,90,195,90,184', '#cc3300'],
    ['117,180,126,184,126,195,117,199,108,195,108,184', '#993300'],
    ['135,180,144,184,144,195,135,199,126,195,126,184', '#990000'],
    ['153,180,162,184,162,195,153,199,144,195,144,184', '#800000'],
    ['171,180,180,184,180,195,171,199,162,195,162,184', '#993333']
];
/**
 * SVG polygons per grayscale items
 */
const GRAYSCALE_ITEMS = [
    ['29, 2, 38, 6, 38, 17, 29, 21, 20, 17, 20, 6', '#ffffff'],
    ['47, 2, 56, 6, 56, 17, 47, 21, 38, 17, 38, 6', '#eaeaea'],
    ['65, 2, 74, 6, 74, 17, 65, 21, 56, 17, 56, 6', '#b2b2b2'],
    ['83, 2, 92, 6, 92, 17, 83, 21, 74, 17, 74, 6', '#777777'],
    ['101, 2, 110, 6, 110, 17, 101, 21, 92, 17, 92, 6', '#4d4d4c'],
    ['119, 2, 128, 6, 128, 17, 119, 21, 110, 17, 110, 6', '#323332'],
    ['137, 2, 146, 6, 146, 17, 137, 21, 128, 17, 128, 6', '#282828'],
    ['155, 2, 164, 6, 164, 17, 155, 21, 146, 17, 146, 6', '#000000']
];
const NOCOLOR_POINTS = '6, 2, 15, 6, 15, 17, 6, 21, -3, 17, -3, 6';
const HEX_REGEXP = /^#([0-9A-F]{3}){1,2}$/i; // used to validate HEX
const isHex = (value) => HEX_REGEXP.test(value);
/**
 * Remove hash (#) sign from hex value
 * @param hex Hex to check
 * @returns hex value without # sign
 */
const removeHashSign = (hex) => {
    if (hex) {
        if (hex.startsWith('#')) {
            hex = hex.slice(1);
        }
    }
    return hex;
};

// CONCATENATED MODULE: ./node_modules/@elf/emerald-color-dialog/lib/helpers/value-model.js


const rgbNumberToString = (value) => isNaN(value) ? '' : `${value}`; // replace NaN with empty string
/**
 * A helper model in order to keep and update values between RGB and HEX
 */
class value_model_ValueModel {
    /**
     * Create the new value model
     * @param value A valid hex value (e.g. "#ffffff") or an empty string
     */
    constructor(value = '') {
        this.initialValue = value;
        const { r, g, b } = Object(utils["h" /* rgb */])(value);
        this._red = rgbNumberToString(r);
        this._green = rgbNumberToString(g);
        this._blue = rgbNumberToString(b);
        this._hex = removeHashSign(value);
    }
    getHexValue() {
        if (this.red === '' && this.green === '' && this.blue === '') {
            return '';
        }
        else if (!this.isValidRGB()) {
            return '';
        }
        const hex = Object(utils["h" /* rgb */])(Number(this.red), Number(this.green), Number(this.blue)).formatHex();
        return hex ? removeHashSign(hex) : '';
    }
    isValidRGBValue(value) {
        return value === '' || Number(value) >= 0 && Number(value) <= 255;
    }
    isValidHexValue(value) {
        return value === '' || isHex(`#${value}`);
    }
    isValidRGB() {
        return this.isValidRGBValue(this.red)
            && this.isValidRGBValue(this.green)
            && this.isValidRGBValue(this.blue);
    }
    isValidHex() {
        return this.isValidHexValue(this.hex);
    }
    /**
     * Check if new value is different to initial
     * ignoring hex length
     * @returns true if different
     */
    hasChanged() {
        return Object(utils["h" /* rgb */])(this.initialValue).formatHex() !== Object(utils["h" /* rgb */])(this.value).formatHex();
    }
    /**
     * Check if RGB and Hex values are valid
     * @returns true if both are valid
     */
    isValid() {
        return this.isValidRGB() && this.isValidHex();
    }
    /**
     * Set red color from RGB pallette.
     * Setting this overrides hex
     * @param red Red color, the string number from 0 - 255
     */
    set red(red) {
        this._red = red;
        this._green = this._green || '0';
        this._blue = this._blue || '0';
        this._hex = this.getHexValue();
    }
    /**
     * Get red color from RGB pallette
     */
    get red() {
        return this._red;
    }
    /**
     * Set green color from RGB pallette.
     * Setting this overrides hex
     * @param green Green color, the string number from 0 - 255
     */
    set green(green) {
        this._green = green;
        this._red = this._red || '0';
        this._blue = this._blue || '0';
        this._hex = this.getHexValue();
    }
    /**
     * Get green color from RGB pallette
     */
    get green() {
        return this._green;
    }
    /**
     * Set blue color from RGB pallette.
     * Setting this overrides hex
     * @param blue Blue color, the string number from 0 - 255
     */
    set blue(blue) {
        this._blue = blue;
        this._red = this._red || '0';
        this._green = this._green || '0';
        this._hex = this.getHexValue();
    }
    /**
     * Get blue color from RGB pallette
     */
    get blue() {
        return this._blue;
    }
    /**
     * Set hex value. Setting hex overrides RGB
     * @param hex Hex value, e.g. "ffffff" or "#ffffff"
     */
    set hex(hex) {
        if (!this.isValidHexValue(hex)) {
            this._red = '';
            this._green = '';
            this._blue = '';
        }
        else {
            const { r, g, b } = Object(utils["h" /* rgb */])(`#${hex}`);
            this._red = rgbNumberToString(r);
            this._green = rgbNumberToString(g);
            this._blue = rgbNumberToString(b);
        }
        this._hex = hex;
    }
    /**
     * Get the hex value (hex without #, e.g "ffffff").
     */
    get hex() {
        return this._hex;
    }
    /**
     * Get the value. Value is Hex with #, e.g. "#ffffff"
     */
    get value() {
        return this._hex ? `#${this._hex}` : '';
    }
}


// EXTERNAL MODULE: ./node_modules/@elf/coral-button/lib/coral-button.js
var coral_button = __webpack_require__(15);

// EXTERNAL MODULE: ./node_modules/@elf/coral-number-field/lib/coral-number-field.js
var coral_number_field = __webpack_require__(34);

// EXTERNAL MODULE: ./node_modules/@elf/coral-text-field/lib/coral-text-field.js
var coral_text_field = __webpack_require__(27);

// CONCATENATED MODULE: ./node_modules/@elf/emerald-color-dialog/lib/elements/emerald-palettes.js
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



/**
 * emerald-palettes - element base class.
 * usually used for creating palettes elements.
 */
let emerald_palettes_EmeraldPalettes = class EmeraldPalettes extends elf["a" /* BasicElement */] {
    constructor() {
        super(...arguments);
        /**
         * Color value in hex
         */
        this.value = '';
        /**
         * update color value when tab on color item
         * @param event mouse event
         * @return {void}
         */
        this.onTapItem = (event) => {
            const polygonElement = event.target;
            this.updateValue(polygonElement);
        };
        /**
         * update color value when drag on color item
         * @param event mouse event
         * @return {void}
         */
        this.onMousemove = (event) => {
            const polygonElement = event.target;
            let mouseButton = event.buttons;
            if (mouseButton === undefined) { // buttons property is not supported in safari
                mouseButton = event.which;
            }
            if (mouseButton !== 1) {
                return;
            }
            // only update when user click and drag on color item
            this.updateValue(polygonElement);
        };
        /**
         * update color value when drag on color item in mobile device
         * @param event touch event
         * @return {void}
         */
        this.onTouchmove = (event) => {
            var _a;
            const touchOffsets = event.changedTouches[0];
            const realTarget = (_a = this.shadowRoot) === null || _a === void 0 ? void 0 : _a.elementFromPoint(touchOffsets.clientX, touchOffsets.clientY);
            this.updateValue(realTarget);
        };
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.41';
    }
    /**
     * create selector template
     * @return selector template
     */
    get SelectorTemplate() {
        return (elf["q" /* svg */] `
        <polygon class="color-selector-shadow"></polygon>
        <polygon class="color-selector"></polygon>
      `);
    }
    /**
     * hide selector element
     * @return {void}
     */
    hideSelector() {
        if (this.colorSelector && this.colorSelectorShadow) {
            this.colorSelector.style.display = 'none';
            this.colorSelectorShadow.style.display = 'none';
        }
    }
    /**
     * show selector element on specific points
     * @return {void}
     * @param points points of colorSelector
     */
    showSelector(points) {
        if (this.colorSelector && this.colorSelectorShadow) {
            this.colorSelector.style.display = '';
            this.colorSelectorShadow.style.display = '';
            this.colorSelectorShadow.setAttribute('points', points);
            this.colorSelector.setAttribute('points', points);
        }
    }
    /**
     * update color value and
     * fired value-changed event
     * @param element target element to get value
     * @return {void}
     */
    updateValue(element) {
        const color = element.getAttribute('fill');
        if (color) {
            this.value = color;
            this.notifyPropertyChange('value', color);
        }
    }
    /**
     * Expand short format hex into long format
     * For instance, "#fff" becomes "#ffffff"
     * @param hex hex to expand
     * @returns expanded hex value
     */
    expandHex(hex) {
        return isHex(hex) ? Object(utils["h" /* rgb */])(this.value).formatHex() : '';
    }
};
__decorate([
    Object(elf["o" /* query */])('.color-selector')
], emerald_palettes_EmeraldPalettes.prototype, "colorSelector", void 0);
__decorate([
    Object(elf["o" /* query */])('.color-selector-shadow')
], emerald_palettes_EmeraldPalettes.prototype, "colorSelectorShadow", void 0);
__decorate([
    Object(elf["n" /* property */])({ type: String })
], emerald_palettes_EmeraldPalettes.prototype, "value", void 0);
emerald_palettes_EmeraldPalettes = __decorate([
    Object(elf["i" /* customElement */])('emerald-palettes', { theme: false })
], emerald_palettes_EmeraldPalettes);


// CONCATENATED MODULE: ./node_modules/@elf/emerald-color-dialog/lib/elements/emerald-color-palettes.js
var emerald_color_palettes_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



/**
 * emerald-color-palettes - component that
 * allow user to select any colours by
 * tapping or dragging
 */
let emerald_color_palettes_EmeraldColorPalettes = class EmeraldColorPalettes extends emerald_palettes_EmeraldPalettes {
    /**
     * Element version number
     */
    static get version() {
        return '4.5.41';
    }
    /**
     * create color items template from COLOR_ITEMS array
     * @return color items template
     */
    get ColorItemsTemplate() {
        return COLOR_ITEMS.map((item) => {
            return (elf["q" /* svg */] `
          <polygon
            data-role="color-item"
            stroke=${item[1]}
            fill=${item[1]}
            points=${item[0]}
            @tap=${this.onTapItem}
            @mousemove=${this.onMousemove}
            @touchmove=${this.onTouchmove}
          >
          </polygon>
        `);
        });
    }
    /**
     * update color selector element when value has been changed
     * @param changedProperties Properties that has changed
     * @return {void}
     */
    updated(changedProperties) {
        if (changedProperties.has('value')) {
            const value = this.expandHex(this.value);
            const item = COLOR_ITEMS.find((item) => item[1] === value);
            if (item) {
                this.showSelector(item[0]);
            }
            else {
                this.hideSelector();
            }
        }
    }
    static get styles() {
        return elf["h" /* css */] `
      :host {
        display: block;
      }
      svg {
        width: 100%;
      }
      .color-selector {
        stroke: #fff;
        stroke-width: 2;
        fill: none;
        pointer-events: none;
      }
      .color-selector-shadow {
        stroke: black;
        stroke-width: 3;
        fill: none;
        pointer-events: none;
      }
    `;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return elf["k" /* html */] `
      <svg id="colorPalettes" viewBox="-5 -5 245 210">
        ${this.ColorItemsTemplate}
        ${this.SelectorTemplate}
      </svg>
    `;
    }
};
emerald_color_palettes_EmeraldColorPalettes = emerald_color_palettes_decorate([
    Object(elf["i" /* customElement */])('emerald-color-palettes', { theme: false })
], emerald_color_palettes_EmeraldColorPalettes);


// CONCATENATED MODULE: ./node_modules/@elf/emerald-color-dialog/lib/elements/emerald-grayscale-palettes.js
var emerald_grayscale_palettes_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



/**
 * emerald-grayscale-palettes - component that
 * allow user to select any grayscale color by
 * tapping or dragging
 */
let emerald_grayscale_palettes_EmeraldGrayscalePalettes = class EmeraldGrayscalePalettes extends emerald_palettes_EmeraldPalettes {
    constructor() {
        super(...arguments);
        /**
         * Set the palettes to activate no-color option
         */
        this.allowNocolor = false;
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.41';
    }
    /**
     * create grayscale items template from GRAYSCALE_ITEMS array
     * @return grayscale items template
     */
    get GrayscaleItemsTemplate() {
        return GRAYSCALE_ITEMS.map((item) => {
            return (elf["q" /* svg */] `
          <polygon
            data-role="color-item"
            stroke="rgba(0,0,0,0.4)"
            fill=${item[1]}
            points=${item[0]}
            @tap=${this.onTapItem}
            @mousemove=${this.onMousemove}
            @touchmove=${this.onTouchmove}
          >
          </polygon>
        `);
        });
    }
    /**
     * create no color item template
     * @return no color item template
     */
    get NoColorItemTemplate() {
        return this.allowNocolor ? (elf["q" /* svg */] `
        <polygon
          id="nocolor-item"
          stroke="rgba(0,0,0,0.4)"
          fill="#fff"
          points=${NOCOLOR_POINTS}
          @tap=${this.onTapItem}
          @mousemove=${this.onMousemove}
          @touchmove=${this.onTouchmove}
        >
        </polygon>
        <line x1="15" y1="6" x2="-3" y2="17" stroke="red" stroke-width="2"></line>
      `) : null;
    }
    /**
     * update color selector element when value has been changed
     * @param changedProperties Properties that has changed
     * @return {void}
     */
    updated(changedProperties) {
        if (changedProperties.has('value')) {
            const value = this.expandHex(this.value);
            const item = GRAYSCALE_ITEMS.find((item) => item[1] === value);
            if (this.allowNocolor && this.value === '') {
                this.showSelector(NOCOLOR_POINTS);
            }
            else if (item) {
                this.showSelector(item[0]);
            }
            else {
                this.hideSelector();
            }
        }
        // hide selector if value equal '' and allowNocolor has been changed to false
        if (changedProperties.has('allowNocolor')) {
            if (!this.allowNocolor && this.value === '') {
                this.hideSelector();
            }
        }
    }
    /**
     * update color value and
     * fired value-changed event
     * @param element target element to get value
     * @return {void}
     */
    updateValue(element) {
        const color = element.getAttribute('fill');
        const itemId = element.getAttribute('id');
        if (color) {
            this.value = itemId === 'nocolor-item' ? '' : color;
            this.notifyPropertyChange('value', color);
        }
    }
    static get styles() {
        return elf["h" /* css */] `
      :host {
        display: flex;
        justify-content: center;
        max-height: 23px;
        min-height: 0;
      }
      line {
        pointer-events: none;
      }
      .color-selector {
        stroke: #fff;
        stroke-width: 2;
        fill: none;
        pointer-events: none;
      }
      .color-selector-shadow {
        stroke: black;
        stroke-width: 3;
        fill: none;
        pointer-events: none;
      }
      svg {
        height: 100%;
      }
    `;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        const viewBox = this.allowNocolor ? '-5 0 169 23' : '6 0 169 23';
        return elf["k" /* html */] `
      <svg id="grayscale-palettes" viewBox=${viewBox}>
        ${this.NoColorItemTemplate}
        ${this.GrayscaleItemsTemplate}
        ${this.SelectorTemplate}
      </svg>
    `;
    }
};
emerald_grayscale_palettes_decorate([
    Object(elf["n" /* property */])({ type: Boolean, attribute: 'allow-nocolor' })
], emerald_grayscale_palettes_EmeraldGrayscalePalettes.prototype, "allowNocolor", void 0);
emerald_grayscale_palettes_EmeraldGrayscalePalettes = emerald_grayscale_palettes_decorate([
    Object(elf["i" /* customElement */])('emerald-grayscale-palettes', { theme: false })
], emerald_grayscale_palettes_EmeraldGrayscalePalettes);


// CONCATENATED MODULE: ./node_modules/@elf/emerald-color-dialog/lib/emerald-color-dialog.js
var emerald_color_dialog_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};













/**
 * emerald-color-dialog - displays a colour picker dialog,
 * for selecting a predefined range of colours.
 * @fires value-changed - Fired when the `value` property changes.
 * @fires opened-changed - Fired when the `opened` property changes.
 *
 * @attr {string|null} header - Set Header/Title of the color dialog
 * @prop {string|null} header - Set Header/Title of the color dialog
 *
 * @attr {boolean} [opened=false] - Set dialog to open
 * @prop {boolean} [opened=false] - Set dialog to open
 *
 * @attr {boolean} [no-cancel-on-esc-key=false] - Prevents dialog to close when user presses ESC key
 * @prop {boolean} [noCancelOnEscKey=false] - Prevents dialog to close when user presses ESC key
 *
 * @attr {string} x - Set a specific x coordinate of dialog
 * @prop {string} x - Set a specific x coordinate of dialog
 *
 * @attr {string} y - Set a specific y coordinate of dialog
 * @prop {string} y - Set a specific y coordinate of dialog
 *
 * @attr {string} position-target - Set position of dialog i.e. `top`, `right`, `left`, `bottom`, `center` or combination of theme e.g. `top right`.
 * @prop {string} positionTarget - Set position of dialog i.e. `top`, `right`, `left`, `bottom`, `center` or combination of theme e.g. `top right`.
 *
 * @prop {boolean} [noCancelOnOutsideClick=true] - Prevents dialog to close when user clicks outside the dialog.
 *
 * @prop {boolean} [withBackdrop=true] - False to hide backdrop.
 *
 * @prop {boolean} [draggable=true] - False to make the dialog not draggable.
 *
 * @prop {boolean} [withShadow=true] - False to remove shadow for dialog component.
 */
let emerald_color_dialog_EmeraldColorDialog = class EmeraldColorDialog extends lib_coral_dialog["a" /* CoralDialog */] {
    constructor() {
        super(...arguments);
        /**
         * speed up rendering by not populating content on page load
         */
        this.lazyRendered = false;
        /**
         * Color dialog has commit button to update actual values
         * Value model is used to support this functionality
         */
        this.valueModel = new value_model_ValueModel();
        /**
        * @ignore
        */
        this.draggable = true;
        /**
         * Set the palettes to activate no-color option
         */
        this.allowNocolor = false;
        this._value = '';
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.41';
    }
    static get styles() {
        return [...lib_coral_dialog["a" /* CoralDialog */].styles, elf["h" /* css */] `
        :host {
          display: block;
        }
        [part=preview-color][no-color] {
          background: linear-gradient(to bottom right, transparent calc(50% - 2px),
          var(--no-color-line-color, #ff0000) calc(50% - 1px),
          var(--no-color-line-color, #ff0000) calc(50% + 1px),
          transparent calc(50% + 2px));
        }
    `];
    }
    /**
     * Value of selected color from color dialog will be written here as hex value
     * e.g. "#00f" or "#0000ff"
     * @default -
     * @param value A value to set
     */
    set value(value) {
        value = String(value);
        const oldValue = this._value;
        if (!this.isValidValue(value)) {
            value = '';
        }
        this._value = value;
        this.requestUpdate('value', oldValue);
    }
    get value() {
        return this._value;
    }
    /**
     * Value of hex without # sign, supports both 3-digits shorthand hex and regular 6-digits hex
     * @default -
     * @param hex A hex value to set
     */
    set hex(hex) {
        hex = String(hex);
        if (!this.isValidHex(hex)) {
            hex = '';
        }
        this.value = hex ? `#${hex}` : '';
    }
    get hex() {
        const value = this.value;
        return value ? removeHashSign(value) : '';
    }
    /**
     * Red value from 0 to 255
     * @default -
     * @param red Red value
     */
    set red(red) {
        red = String(red);
        this.value = this.isValidRGB(red) ? Object(utils["h" /* rgb */])(Number(red), Number(this.green), Number(this.blue)).formatHex() : '';
    }
    get red() {
        return this.hex ? Object(utils["h" /* rgb */])(`#${this.hex}`).r.toString() : '';
    }
    /**
     * Green value from 0 to 255
     * @default -
     * @param green Green value
     */
    set green(green) {
        green = String(green);
        this.value = this.isValidRGB(green) ? Object(utils["h" /* rgb */])(Number(this.red), Number(green), Number(this.blue)).formatHex() : '';
    }
    get green() {
        return this.hex ? Object(utils["h" /* rgb */])(`#${this.hex}`).g.toString() : '';
    }
    /**
     * Blue value from 0 to 255
     * @default -
     * @param blue Blue value
     */
    set blue(blue) {
        blue = String(blue);
        this.value = this.isValidRGB(blue) ? Object(utils["h" /* rgb */])(Number(this.red), Number(this.green), Number(blue)).formatHex() : '';
    }
    get blue() {
        return this.hex ? Object(utils["h" /* rgb */])(`#${this.hex}`).b.toString() : '';
    }
    /**
     * check if component should be updated
     * @param changedProperties properties changed on shouldUpdate lifecycle callback
     * @returns boolean should component update
     */
    shouldUpdate(changedProperties) {
        const shouldUpdate = super.shouldUpdate(changedProperties);
        return shouldUpdate
            || changedProperties.has('allowNocolor')
            || changedProperties.has('red')
            || changedProperties.has('green')
            || changedProperties.has('blue')
            || changedProperties.has('value')
            || changedProperties.has('hex')
            || changedProperties.has('enableConfirm');
    }
    /**
     * Updates the element
     * @param changedProperties Properties that has changed
     * @returns {void}
     */
    update(changedProperties) {
        if (changedProperties.has('value')) {
            // ensure that the internal values are always in sync when set externally
            this.resetValueModel();
        }
        if (this.opened && changedProperties.has('opened')) {
            this.lazyRendered = true;
        }
        super.update(changedProperties);
    }
    /**
     * @inheritdoc
     * Reset value model
     * @param opened True if opened
     * @returns {void}
     */
    setOpened(opened) {
        // setOpened is run only from internal context. It is safe to reset it here
        this.resetValueModel();
        super.setOpened(opened);
    }
    /**
     * Reset value model always resets
     * when either red, green, blue, hex or value are changed externally
     * Value model is reset internally otherwise
     * @returns {void}
     */
    resetValueModel() {
        this.valueModel = new value_model_ValueModel(this.value);
    }
    /**
     * Check if value is valid HEX value (including #)
     * @param value Value to check
     * @returns true if value is valid
     */
    isValidValue(value) {
        const isValid = value === '' || isHex(value);
        if (!isValid) {
            new elf["g" /* WarningNotice */](`The specified value "${value}" is not valid value. The correct value should look like "#fff" or "#ffffff".`).show();
        }
        return isValid;
    }
    /**
     * Check if value is valid HEX value (excluding #)
     * @param value Value to check
     * @returns true if value is valid
     */
    isValidHex(value) {
        const isValid = value === '' || (!value.includes('#') && isHex(`#${value}`));
        if (!isValid) {
            new elf["g" /* WarningNotice */](`The specified hex "${value}" is not valid color. The correct value should look like "fff" or "ffffff".`).show();
        }
        return isValid;
    }
    /**
     * Check if value is within 0 - 255, and warn of it is not
     * @param value Value to check
     * @returns true if value is within 0 - 255
     */
    isValidRGB(value) {
        const isValid = value === '' || Number(value) >= 0 && Number(value) <= 255;
        if (!isValid) {
            new elf["g" /* WarningNotice */](`The specified RGB "${value}" is not valid color. The value should be 0 - 255.`).show();
        }
        return isValid;
    }
    /**
     * update color value when tapping or dragging on color palettes
     * @param event select color event
     * @return {void}
     */
    onColorChanged(event) {
        this.valueModel.hex = removeHashSign(event.target.value);
        this.requestUpdate();
    }
    /**
     * update hex value when typing on hex input
     * @param event input event
     * @return {void}
     */
    onHexChanged(event) {
        this.valueModel.hex = event.target.value;
        this.requestUpdate();
    }
    /**
     * update r,g,b value when typing on RGB inputs
     * @param event input event
     * @return {void}
     */
    onRGBChanged(event) {
        const targetElem = event.target;
        if (targetElem === this.redInputEl) {
            this.valueModel.red = this.redInputEl.value;
        }
        else if (targetElem === this.greenInputEl) {
            this.valueModel.green = this.greenInputEl.value;
        }
        else if (targetElem === this.blueInputEl) {
            this.valueModel.blue = this.blueInputEl.value;
        }
        this.requestUpdate();
    }
    /**
     * set opened state to false
     * @return {void}
     */
    onCloseDialog() {
        this.setOpened(false);
    }
    /**
     * fired value-changed event and close dialog
     * @return {void}
     */
    onConfirmValue() {
        // no need to check for anything, as the button is disabled if not dirty is invalid
        this.value = this.valueModel.value;
        this.notifyPropertyChange('value', this.value);
        this.setOpened(false);
    }
    /**
     * Check if apply button is disabled
     * The button is disabled if value is invalid
     * or value has not changed
     * @returns true if disabled
     */
    isApplyDisabled() {
        return this.valueModel.hasChanged() && this.valueModel.isValid() ? this.allowNocolor ? false : this.valueModel.hex === '' : true;
    }
    /**
     * Override the content region
     */
    get contentRegion() {
        if (!this.lazyRendered) {
            return elf["k" /* html */] ``;
        }
        return elf["k" /* html */] `
      <div part="content-section">
        <div part="palettes-container">
          <emerald-color-palettes
            .value=${this.valueModel.value}
            @value-changed=${this.onColorChanged}
            part="color-palettes">
          </emerald-color-palettes>
          <emerald-grayscale-palettes
            .value=${this.valueModel.value}
            @value-changed=${this.onColorChanged}
            ?allow-nocolor=${this.allowNocolor}
            part="grayscale-palettes"
            >
          </emerald-grayscale-palettes>
        </div>
        <div part="inputs-container">
          <div
            part="preview-color"
            style=${Object(style_map["a" /* styleMap */])({
            backgroundColor: this.valueModel.value
        })}
            ?no-color=${!this.valueModel.value}></div>
          <div>${this.t('RED')}&nbsp;:
            <coral-number-field
              .value=${this.valueModel.red}
              @value-changed=${this.onRGBChanged}
              part="color-input"
              min="0"
              max="255"
              no-spinner
              id="redInput"
            ></coral-number-field>
          </div>
          <div>${this.t('GREEN')}&nbsp;:
            <coral-number-field
              .value=${this.valueModel.green}
              @value-changed=${this.onRGBChanged}
              part="color-input"
              min="0"
              max="255"
              no-spinner
              id="greenInput"
            ></coral-number-field>
          </div>
          <div>${this.t('BLUE')}&nbsp;:
            <coral-number-field
              .value=${this.valueModel.blue}
              @value-changed=${this.onRGBChanged}
              part="color-input"
              min="0"
              max="255"
              no-spinner
              id="blueInput"
            ></coral-number-field>
          </div>
          <div>#&nbsp;:
            <coral-text-field
              .value=${this.valueModel.hex}
              @value-changed=${this.onHexChanged}
              pattern="^([0-9a-fA-F]{3}){1,2}$"
              part="color-input"
              id="hexInput"
              maxlength="6">
            </coral-text-field>
          </div>
        </div>
      </div>
    `;
    }
    /**
     * Override the footer region
     */
    get footerRegion() {
        if (!this.lazyRendered) {
            return elf["k" /* html */] ``;
        }
        return elf["k" /* html */] `
      <coral-button
        id="confirmButton"
        part="button"
        cta
        @tap=${this.onConfirmValue}
        ?disabled=${this.isApplyDisabled()}>${this.t('APPLY')}</coral-button>
      <coral-button
        id="closeButton"
        @tap=${this.onCloseDialog}
        part="button">${this.t('CLOSE')}</coral-button>
    `;
    }
};
emerald_color_dialog_decorate([
    Object(elf["n" /* property */])({ type: Boolean, attribute: 'allow-nocolor' })
], emerald_color_dialog_EmeraldColorDialog.prototype, "allowNocolor", void 0);
emerald_color_dialog_decorate([
    Object(elf["n" /* property */])({ type: String })
], emerald_color_dialog_EmeraldColorDialog.prototype, "value", null);
emerald_color_dialog_decorate([
    Object(elf["n" /* property */])({ type: String })
], emerald_color_dialog_EmeraldColorDialog.prototype, "hex", null);
emerald_color_dialog_decorate([
    Object(elf["n" /* property */])({ type: String })
], emerald_color_dialog_EmeraldColorDialog.prototype, "red", null);
emerald_color_dialog_decorate([
    Object(elf["n" /* property */])({ type: String })
], emerald_color_dialog_EmeraldColorDialog.prototype, "green", null);
emerald_color_dialog_decorate([
    Object(elf["n" /* property */])({ type: String })
], emerald_color_dialog_EmeraldColorDialog.prototype, "blue", null);
emerald_color_dialog_decorate([
    Object(elf_translate["c" /* translate */])()
], emerald_color_dialog_EmeraldColorDialog.prototype, "t", void 0);
emerald_color_dialog_decorate([
    Object(elf["o" /* query */])('#redInput')
], emerald_color_dialog_EmeraldColorDialog.prototype, "redInputEl", void 0);
emerald_color_dialog_decorate([
    Object(elf["o" /* query */])('#greenInput')
], emerald_color_dialog_EmeraldColorDialog.prototype, "greenInputEl", void 0);
emerald_color_dialog_decorate([
    Object(elf["o" /* query */])('#blueInput')
], emerald_color_dialog_EmeraldColorDialog.prototype, "blueInputEl", void 0);
emerald_color_dialog_EmeraldColorDialog = emerald_color_dialog_decorate([
    Object(elf["i" /* customElement */])('emerald-color-dialog')
], emerald_color_dialog_EmeraldColorDialog);



/***/ }),
/* 50 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export FieldFormatter */
/* harmony import */ var _NumberFormatter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(42);
/* harmony import */ var _DateTime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(30);
 // eslint-disable-line


/** @typedef {Object} FieldFormatter~Options
* @description Options that can be provided at the initialization phase
* @property {string=} field
* @property {string=} formatType="number" Available Values are: number, percent, datetime, freetext (mixed), or formula
* @property {string=} fieldDataType Deprecated. Alias to formatType
* @property {string=} dateTimeFormat
* @property {boolean=} useUTCTime=false
* @property {string=} idnSource
*/

/** @constructor
* @param {FieldFormatter~Options=} options
* @example
* var ff = new FieldFormatter();
* ff.format(anyValue);
* ff.getOptions(); // For serialization
*/
var FieldFormatter = function(options) {
	this["format"] = this.format = this.format.bind(this); // Always export bound format method

	FieldFormatter._startMidnightInterval();
	this.init(options);
};

/** @type {string}
* @private
*/
FieldFormatter.prototype._field = "";
/** @type {string}
* @private
*/
FieldFormatter.prototype._formattedField = "";
/** @type {string}
* @private
*/
FieldFormatter.prototype._combinedField = "";

/** @type {string}
* @private
*/
FieldFormatter.prototype._formatType = "number"; // number, percent, datetime, freetext (mixed), or formula
/** @type {boolean}
* @private
*/
FieldFormatter.prototype._mixedTypeInput = false; // Input can be either string or number in the same column

/** @type {string}
* @private
*/
FieldFormatter.prototype._dateTimeFormat = "";
/** @type {string}
* @private
*/
FieldFormatter.prototype._idnSource = "";
/** @type {string}
* @private
*/
FieldFormatter.prototype._timeZone = "GMT"; // "GMT" or "LOCAL"

/** Date formatter
* @type {Function}
* @private
*/
FieldFormatter.prototype._df = null;
/** Number formatter
* @type {Function}
* @private
*/
FieldFormatter.prototype._nf = null;

/** Date past midnight 00:00:00 (UTC)
* @type {Date}
* @private
*/
FieldFormatter._lastMidnight = null;
/** Update date past midnight
* @private
* @function
*/
FieldFormatter._updateMidnight = function() {
	FieldFormatter._lastMidnight = new Date();
	FieldFormatter._lastMidnight.setUTCHours(0, 0, 0, 0);
};
/** Start updating interval, if the interval has not been started
* @private
* @function
*/
FieldFormatter._startMidnightInterval = function() {
	if(!FieldFormatter._lastMidnight) {
		FieldFormatter._updateMidnight();
		var currentMidnight = FieldFormatter._lastMidnight.valueOf();
		var timeUntilNextUpdate = currentMidnight + 86405000 - (new Date().valueOf()); // delay to the next midnight + 5sec
		setTimeout(FieldFormatter._setMidnightInterval, timeUntilNextUpdate);
	}
};
/** WARNING: For internal use only
* @private
* @function
*/
FieldFormatter._setMidnightInterval = function() {
	setInterval(FieldFormatter._updateMidnight, 86400000); // 24 hours
};


/** @public
* @param {FieldFormatter~Options=} options
*/
FieldFormatter.prototype.init = function(options) { // deserialize
	if(!options) {
		return;
	}

	var val = options["field"];
	if(val) {
		// DateTime pairs come from the JET's user settings
		// Datetime paired will have special column that suffix with "_COMBINED"
		this.setField(val); // , (this._dateTimePairs[field]) ? field + "_COMBINED" : "");
	}
	var formatType = /** @type{string} */(options["formatType"]);
	val = (formatType === "datetime") ? "datetime" : (options["fieldDataType"] || formatType);
	if(val) {
		this.setFormatType(val);
	}
	var dtf = options["dateTimeFormat"];
	var utc = options["useUTCTime"];
	if(utc != null || dtf != null) {
		this.setDateTimeMeta(
			dtf || "MM/DD/YYYY",
			utc,
			(options["idnSource"]) ? "idn" : "" // IDN Source will send time in second instead of millisecond.
		);
	}

	if(this._formatType === "datetime") { // WARNING: Beware of case sensitivity
		if(!this._df) {
			this._df = _DateTime_js__WEBPACK_IMPORTED_MODULE_1__[/* DateTime */ "a"].format;
		}
	}
};
/** @public
* @param {Object=} options
* @return {!Object}
*/
FieldFormatter.prototype.getOptions = function(options) { // serialize
	if(!options) { options = {}; }

	options["field"] = this._field;
	options["formatType"] = this._formatType; // WARNING: Beware of case sensitivity
	options["dateTimeFormat"] = this._dateTimeFormat;
	options["useUTCTime"] = (this._timeZone == "GMT");
	return options;
};
/** @public
* @return {string}
*/
FieldFormatter.prototype.getField = function() {
	return this._field;
};

/** @public
* @return {FieldFormatter}
*/
FieldFormatter.prototype.clone = function() {
	var newFF = new FieldFormatter();
	newFF._field = this._field;
	newFF._formattedField = this._formattedField;
	newFF._combinedField = this._combinedField;

	newFF._formatType = this._formatType;
	newFF._mixedTypeInput = this._mixedTypeInput;

	newFF._dateTimeFormat = this._dateTimeFormat;
	newFF._idnSource = this._idnSource;
	newFF._timeZone = this._timeZone;

	newFF._df = this._df;
	newFF._nf = this._nf;
	return newFF;
};

/** @public
* @param {string} type Possible values are number, percent, datetime, freetext, and formula
*/
FieldFormatter.prototype.setFormatType = function(type) {
	this._formatType = type.toLowerCase(); // WARNING: Beware of case sensitivity
	this._mixedTypeInput = (this._formatType == "freetext" || this._formatType == "formula");
};
/** @public
* @param {string} field
* @param {string=} combinedField
* @param {string=} formattedField
*/
FieldFormatter.prototype.setField = function(field, combinedField, formattedField) {
	this._field = field;
	this._formattedField = (formattedField) ? formattedField : field + "_FORMATTED";
	this._combinedField = combinedField || "";
};
/** @public
* @param {string} format
* @param {boolean=} gmtTimeZone
* @param {string=} inputSource
* @param {string=} lang
*/
FieldFormatter.prototype.setDateTimeMeta = function(format, gmtTimeZone, inputSource, lang) {
	this._dateTimeFormat = format;
	this._timeZone = (gmtTimeZone !== false) ? "GMT" : "LOCAL";
	this._idnSource = (inputSource && inputSource.toLowerCase() == "idn") ? "idn" : "";
	_DateTime_js__WEBPACK_IMPORTED_MODULE_1__[/* DateTime */ "a"].setLocale(lang);
};
/** @public
* @param {Function} func The given function should take a value and return string
*/
FieldFormatter.prototype.setDateFormatter = function(func) {
	this._df = func;
};
/** @public
* @param {Function|NumberFormatter} formatter The given function should take a value and return string
*/
FieldFormatter.prototype.setNumberFormatter = function(formatter) {
	if(formatter) {
		if(typeof formatter === "function") {
			this._nf = formatter;
		} else if(typeof formatter["format"] === "function") {
			this._nf = formatter["format"];
		}
	} else {
		this._nf = null;
	}
};

FieldFormatter.prototype.getProperties = function() {
	var obj = {
		"field": this._field,
		"formattedField": this._formattedField,
		"combinedField": this._combinedField,
		"type": this._formatType
	};

	if(this._formatType === "datetime") { // WARNING: Beware of case sensitivity
		obj["dateTimeFormat"] = this._dateTimeFormat;
		obj["timeZone"] = this._timeZone;
		obj["idnSource"] = this._idnSource;
	}

	return obj;
};


/** @public
* @param {*} data This can be row data (Object} or any other value
* @return {string}
*/
FieldFormatter.prototype.format = function(data) {
	if(data) {
		if(typeof data == "object") {
			if(!(data instanceof Date)) {  // Array or literal object
				return this.formatRowData(data);
			}
		}
	}
	return this._format(data, null);
};
/** @public
* @param {Object} rowData
* @return {string}
*/
FieldFormatter.prototype.formatRowData = function(rowData) {
	return rowData ? this._format(rowData[this._field], rowData) : "";
};
/** @public
* @param {*} val
* @return {string}
*/
FieldFormatter.prototype.formatValue = function(val) {
	return this._format(val, null);
};


/** @private
* @param {*} val
* @param {Object} rowData
* @return {string}
*/
FieldFormatter.prototype._format = function(val, rowData) {
	if(!val) {
		if(val !== 0) {
			if(val !== null) {
				return ""; // undefined, NaN, empty string
			} else if(this._nf && !this._mixedTypeInput) {
				return this._nf(0); // number formatter will treat null as zero
			} else { // null
				return "";
			}
		}
	}

	if(this._formatType == "datetime") {
		return this._formatDateTime(val, rowData);
	}

	if(this._mixedTypeInput) { // Free text and Formula
		if(typeof val != "number") {
			return (typeof val != "string") ? val + "" : val;
		}
	}

	if(this._nf) { // Number formatter will override any default field format
		if(typeof val != "number") { // string
			var num = (+val); // Only convertible value will be formatted by the number formatter
			return (num === num) ? this._nf(num) : val + "";
		}

		return this._nf(val);
	}

	if(this._mixedTypeInput) { // Free text and formula
		if(this._formatType == "formula") { // Remove small fraction (e.g. 3.0000000001)
			return (Math.round(val * 1000000) / 1000000) + ""; // Round to seven digit precision
		}
		return val + "";
	}

	// Only number and percent formatType can reach here at this point
	return this._formatNumber(val, rowData);
};
/** @private
* @param {number|string|Date} val
* @param {Object} rowData
* @return {string}
*/
FieldFormatter.prototype._formatDateTime = function(val, rowData) {
	if(!this._df) { return ""; }
	if(this._idnSource) { // IDN Source will send time in second instead of millisecond.
		var sec = +val; // Date object can be converted to number
		if(sec !== sec) { // NaN checking
			return val; // WARNING: val could be number
		}

		var cmbValue = (rowData && this._combinedField) ? +rowData[this._combinedField] : NaN;
		if(cmbValue === cmbValue) { // Combined value is not NaN
			sec = cmbValue;
		} else if(sec < 86400) { // No paired date and sec < 24 hours -> this is a time within this day
			sec += FieldFormatter._lastMidnight.valueOf() / 1000;
		} else { // No paired sec. Date need to add for timezone
			if((this._field !== "NEWS_TIME") && (this._timeZone === "LOCAL")) {
				var d = new Date(sec * 1000); // Need to know the timezone of given date
				sec += d.getTimezoneOffset() * 60;
			}
		}
		val = new Date(sec * 1000); // Convert real-time raw data (second) to millisecond
	}
	return this._df(val, this._dateTimeFormat, this._timeZone);
};
/** @private
* @param {number|string|Date} val
* @param {Object} rowData
* @return {string}
*/
FieldFormatter.prototype._formatNumber = function(val, rowData) {
	var ff;
	if(rowData) {
		ff = rowData[this._formattedField];
		if(!ff) { // null, undefined, empty string, zero, or NaN
			if(ff === null && val === 0) { // +0 case
				return ""; // Unformatted value of +0 should be blank
			}
			ff = val; // As opposed to formatted value, raw value may exist (i.e. combined fields)
		}
	} else {
		ff = val; // string|number|Date
	}
	if(this._formatType == "number") {
		if(typeof ff == "string" && ff.indexOf(",") >= 0) {
			// Remove the 1000 separator for the formatted numbers from JET.Quote
			return ff.replace(/,/g, '');
		}
	} else if(this._formatType == "percent") {
		if(typeof ff == "string") {
			if (ff.lastIndexOf("%") < 0 && (+ff) !== 0) { // ff could be "   " (empty spaces)
				return ff + " %";
			}
		} else if(typeof ff == "number") {
			if(ff === ff) { // ff is not NaN
				return ff + " %";
			}
			return "#INVALID";
		}
	}
	if(!ff) { // null, undefined, empty string, zero, or NaN
		return (ff === 0) ? "0" : "";
	}
	return ff; // WARNING: This could be some Date object
};

/* harmony default export */ __webpack_exports__["a"] = (FieldFormatter);



/***/ }),
/* 51 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// CONCATENATED MODULE: ./node_modules/@grid/column-format-dialog/lib/locale/translation-en.js
/**
* @namespace
*/
var translationEn = {
	"Format": "Format",
	"Preview": "Preview",
	"Value Format": "Value Format",
	"Decimal Places": "Decimal Places",
	"Use 1000 Separator (,)": "Use 1000 Separator (,)",
	"Show + Sign": "Show + Sign",
	"Scale to": "Scale to",
	"Millions": "Millions",
	"Billions": "Billions",
	"Multiply the cell value by 100": "Multiply the cell value by 100",
	"Custom": "Custom",
	"User Defined": "User Defined",
	"Convert to GMT Time": "Convert to GMT Time",
	"Emphasize": "Emphasize",
	"Number of Pips digits (maximum 5)": "Number of Pips digits (maximum 5)",
	"Number": "Number",
	"Pips Offset": "Pips Offset",
	"Number of half pips digits": "Number of half pips digits",
	"Reset to default": "Reset to default",
	"Multiple columns are selected. Select a format or/and style to be applied to all of them.": "Multiple columns are selected. Select a format or/and style to be applied to all of them.",
	"Display Style": "Display Style",
	"Alignment": "Alignment",
	"Show Values": "Show Values",
	"Use Movement Colors": "Use Movement Colors",
	"Apply to": "Apply to",
	"Cell": "Cell",
	"Text": "Text",
	"Midpoint": "Midpoint",
	"Based On": "Based On",
	"Conditions": "Conditions",
	"Stop If True": "Stop If True",
	"Order": "Order",
	"Increase condition precedence": "Increase condition precedence",
	"Decrease condition precedence": "Decrease condition precedence",
	"Add a condition": "Add a condition",
	"Add": "Add",
	"Updates": "Updates",
	"Color Based On": "Color Based On",
	"Background Based On": "Background Based On",
	"Border": "Border",
	"Edit Condition": "Edit Condition",
	"Condition": "Condition",
	"Low Value": "Low Value",
	"High Value": "High Value",
	"Text Color": "Text Color",
	"Cell Color": "Cell Color",
	"Edit": "Edit",
	"Remove": "Remove",
	"Sample Format": "Sample Format",
	"General": "General",
	"Scaled Values": "Scaled Values",
	"Percentage": "Percentage",
	"Date & Time": "Date & Time",
	"Heatmap": "Heatmap",
	"Conditional Color": "Conditional Color",
	"This Column": "This Column",
	"Another Field": "Another Field",
	"Bar": "Bar",
	"FX": "FX",
	"Date": "Date",
	"Time": "Time",
	"Date & time format displays date and time serial numbers as date values": "Date & time format displays date and time serial numbers as date values",
	"FX format is used for Bid/Offer columns.": "FX format is used for Bid/Offer columns.",
	"General format items have no specific number format.": "General format items have no specific number format.",
	"Number format is used for general display of numbers.": "Number format is used for general display of numbers.",
	"Percentage format is used to display the result with a percent sign.": "Percentage format is used to display the result with a percent sign.",
	"Scaled values format is used for displaying large numbers.": "Scaled values format is used for displaying large numbers.",
	"Greater than": "Greater than",
	"Greater than or equal to": "Greater than or equal to",
	"Equal to": "Equal to",
	"Less than": "Less than",
	"Less than or equal to": "Less than or equal to",
	"Between": "Between",
	"Text that contains": "Text that contains",
	"Text that not contains": "Text that not contains",
	"Text is": "Text is",
	"Value is blank": "Value is blank",
	"Value is not blank": "Value is not blank",
	"Value > {0}": "Value > {0}",
	"Value >= {0}": "Value >= {0}",
	"Value = {0}": "Value = {0}",
	"Value < {0}": "Value < {0}",
	"Value <= {0}": "Value <= {0}",
	"Value Between {0} And {1}": "Value Between {0} And {1}",
	"Text that contains '{0}'": "Text that contains '{0}'",
	"Text that not contains '{0}'": "Text that not contains '{0}'",
	"Value = '{0}'": "Value = '{0}'"
};

/* harmony default export */ var translation_en = (translationEn);

// CONCATENATED MODULE: ./node_modules/@grid/column-format-dialog/lib/locale/translation-de.js
/**
* @namespace
*/
var translationDe = {
	"Format": "Format",
	"Preview": "Vorschau",
	"Value Format": "Wertformat",
	"Decimal Places": "Dezimalstellen",
	"Use 1000 Separator (,)": "Tausendertrennzeichen verwenden (,)",
	"Show + Sign": "Anzeigen + Unterzeichnen",
	"Scale to": "Skala bis",
	"Millions": "Millionen",
	"Billions": "Milliarden",
	"Multiply the cell value by 100": "Den Zellwert mit 100 multiplizieren",
	"Custom": "Benutzerdefiniert",
	"User Defined": "Benutzerdefiniert",
	"Convert to GMT Time": "In GMT-Zeit konvertieren",
	"Emphasize": "Betonen",
	"Number of Pips digits (maximum 5)": "Anzahl der Pips-Ziffern (maximal 5)",
	"Number": "Zahl",
	"Pips Offset": "Pips-Verrechnung",
	"Number of half pips digits": "Anzahl der halben Pips-Ziffern",
	"Reset to default": "Auf Standard zurcksetzen",
	"Multiple columns are selected. Select a format or/and style to be applied to all of them.": "Mehrere Spalten ausgewhlt Whlen Sie ein Format oder/und Stil, das fr alle angewendet werden soll.",
	"Display Style": "Stil anzeigen",
	"Alignment": "Ausrichtung",
	"Show Values": "Werte anzeigen",
	"Use Movement Colors": "Bewegungsfarben verwenden",
	"Apply to": "Anwenden auf",
	"Cell": "Zelle",
	"Text": "Text",
	"Midpoint": "Mittlerer Wert",
	"Based On": "Basierend auf",
	"Conditions": "Bedingungen",
	"Stop If True": "Beenden, wenn Wahr",
	"Order": "Reihenfolge",
	"Increase condition precedence": "Erhhung der Bedingung",
	"Decrease condition precedence": "Verringerung der Bedingung",
	"Add a condition": "Bedingung hinzufgen",
	"Add": "Hinzufgen",
	"Updates": "Aktualisierungen",
	"Color Based On": "Farbe basiert auf",
	"Background Based On": "Hintergrund basiert auf",
	"Border": "Rahmen",
	"Edit Condition": "Bedingung bearbeiten",
	"Condition": "Bedingung",
	"Low Value": "Niedriger Wert",
	"High Value": "Hoher Wert",
	"Text Color": "Textfarbe",
	"Cell Color": "Zellfarbe",
	"Edit": "Bearbeiten",
	"Remove": "Entfernen",
	"Sample Format": "Muster Format",
	"General": "Allgemein",
	"Scaled Values": "Skalierte Werte",
	"Percentage": "Prozentsatz",
	"Date & Time": "Datum und Uhrzeit",
	"Heatmap": "Heatmap",
	"Conditional Color": "Bedingte Farbe",
	"This Column": "Diese Spalte",
	"Another Field": "Anderes Feld",
	"Bar": "Balken",
	"FX": "FX",
	"Date": "Datum",
	"Time": "Uhrzeit",
	"Date & time format displays date and time serial numbers as date values": "Datums- und Uhrzeitformat zeigt Datums- und Zeitreihenzahlen als Datumswerte an",
	"FX format is used for Bid/Offer columns.": "FX-Format wird fr Geld-/Brief-Spalten verwendet.",
	"General format items have no specific number format.": "Allgemeine Formatelemente haben kein spezifisches Zahlenformat.",
	"Number format is used for general display of numbers.": "Zahlenformat wird fr die allgemeine Anzeige von Zahlen verwendet.",
	"Percentage format is used to display the result with a percent sign.": "Das Prozentformat wird verwendet, um das Ergebnis mit einem Prozentzeichen anzuzeigen.",
	"Scaled values format is used for displaying large numbers.": "Das Format Skalierte Werte wird zum Anzeigen groer Zahlen verwendet.",
	"Greater than": "Grer als",
	"Greater than or equal to": "Ist grer als oder gleich",
	"Equal to": "Gleich",
	"Less than": "Kleiner als",
	"Less than or equal to": "Ist kleiner als oder gleich",
	"Between": "Zwischen",
	"Text that contains": "Text beinhaltet:",
	"Text that not contains": "Text beinhaltet nicht:",
	"Text is": "Text ist",
	"Value is blank": "Wert ist leer",
	"Value is not blank": "Wert ist nicht leer",
	"Value > {0}": "Wert > {0}",
	"Value >= {0}": "Wert >= {0}",
	"Value = {0}": "Wert = {0}",
	"Value < {0}": "Wert < {0}",
	"Value <= {0}": "Wert <= {0}",
	"Value Between {0} And {1}": "Wert zwischen {0} und {1}",
	"Text that contains '{0}'": "Text beinhaltet '{0}'",
	"Text that not contains '{0}'": "Text beinhaltet nicht '{0}'",
	"Value = '{0}'": "Wert = '{0}'"
};

/* harmony default export */ var translation_de = (translationDe);

// CONCATENATED MODULE: ./node_modules/@grid/column-format-dialog/lib/locale/translation-ja.js
/**
* @namespace
*/
var translationJa = {
	"Format": "",
	"Preview": "",
	"Value Format": "",
	"Decimal Places": "",
	"Use 1000 Separator (,)": "1,000  (,)",
	"Show + Sign": "+",
	"Scale to": "",
	"Millions": "",
	"Billions": "",
	"Multiply the cell value by 100": "100",
	"Custom": "",
	"User Defined": "",
	"Convert to GMT Time": "GMT ",
	"Emphasize": "",
	"Number of Pips digits (maximum 5)": " ( 5)",
	"Number": "",
	"Pips Offset": " ",
	"Number of half pips digits": "",
	"Reset to default": "",
	"Multiple columns are selected. Select a format or/and style to be applied to all of them.": "",
	"Display Style": "",
	"Alignment": "",
	"Show Values": "",
	"Use Movement Colors": "",
	"Apply to": "",
	"Cell": "",
	"Text": "",
	"Midpoint": "",
	"Based On": "",
	"Conditions": "",
	"Stop If True": "True ",
	"Order": "",
	"Increase condition precedence": "",
	"Decrease condition precedence": "",
	"Add a condition": "",
	"Add": "",
	"Updates": "",
	"Color Based On": ":",
	"Background Based On": ":",
	"Border": "",
	"Edit Condition": "",
	"Condition": "",
	"Low Value": "",
	"High Value": "",
	"Text Color": "",
	"Cell Color": "",
	"Edit": "",
	"Remove": "",
	"Sample Format": " ",
	"General": "",
	"Scaled Values": "",
	"Percentage": "",
	"Date & Time": "",
	"Heatmap": "",
	"Conditional Color": "",
	"This Column": "",
	"Another Field": "",
	"Bar": "",
	"FX": "FX",
	"Date": "",
	"Time": "",
	"Date & time format displays date and time serial numbers as date values": "/",
	"FX format is used for Bid/Offer columns.": "FX [/] ",
	"General format items have no specific number format.": "",
	"Number format is used for general display of numbers.": "",
	"Percentage format is used to display the result with a percent sign.": "",
	"Scaled values format is used for displaying large numbers.": "",
	"Greater than": "",
	"Greater than or equal to": "",
	"Equal to": "",
	"Less than": "",
	"Less than or equal to": "",
	"Between": "",
	"Text that contains": "",
	"Text that not contains": "",
	"Text is": "",
	"Value is blank": "",
	"Value is not blank": "",
	"Value > {0}": " > {0}",
	"Value >= {0}": " >= {0}",
	"Value = {0}": " = {0}",
	"Value < {0}": " < {0}",
	"Value <= {0}": " <= {0}",
	"Value Between {0} And {1}": "{0} {1}",
	"Text that contains '{0}'": ": '{0}'",
	"Text that not contains '{0}'": ": '{0}'",
	"Value = '{0}'": " = '{0}'"
};

/* harmony default export */ var translation_ja = (translationJa);

// CONCATENATED MODULE: ./node_modules/@grid/column-format-dialog/lib/locale/translation-zh.js
/**
* @namespace
*/
var translationZh = {
	"Format": "",
	"Preview": "",
	"Value Format": "",
	"Decimal Places": "",
	"Use 1000 Separator (,)": " (,)",
	"Show + Sign": " + ",
	"Scale to": "",
	"Millions": "",
	"Billions": "",
	"Multiply the cell value by 100": " 100",
	"Custom": "",
	"User Defined": "",
	"Convert to GMT Time": "",
	"Emphasize": "",
	"Number of Pips digits (maximum 5)": " (5)",
	"Number": "",
	"Pips Offset": "",
	"Number of half pips digits": "",
	"Reset to default": "",
	"Multiple columns are selected. Select a format or/and style to be applied to all of them.": "",
	"Display Style": "",
	"Alignment": "",
	"Show Values": "",
	"Use Movement Colors": "",
	"Apply to": "",
	"Cell": "",
	"Text": "",
	"Midpoint": "",
	"Based On": "",
	"Conditions": "",
	"Stop If True": "True",
	"Order": "",
	"Increase condition precedence": "",
	"Decrease condition precedence": "",
	"Add a condition": "",
	"Add": "",
	"Updates": "",
	"Color Based On": "",
	"Background Based On": "",
	"Border": "",
	"Edit Condition": "",
	"Condition": "",
	"Low Value": "",
	"High Value": "",
	"Text Color": "",
	"Cell Color": "",
	"Edit": "",
	"Remove": "",
	"Sample Format": "",
	"General": "",
	"Scaled Values": "",
	"Percentage": "",
	"Date & Time": "",
	"Heatmap": "",
	"Conditional Color": "",
	"This Column": "",
	"Another Field": "",
	"Bar": "",
	"FX": "",
	"Date": "",
	"Time": "",
	"Date & time format displays date and time serial numbers as date values": "",
	"FX format is used for Bid/Offer columns.": "FX /",
	"General format items have no specific number format.": "",
	"Number format is used for general display of numbers.": "",
	"Percentage format is used to display the result with a percent sign.": "",
	"Scaled values format is used for displaying large numbers.": "",
	"Greater than": "",
	"Greater than or equal to": "",
	"Equal to": "",
	"Less than": "",
	"Less than or equal to": "",
	"Between": "",
	"Text that contains": "",
	"Text that not contains": "",
	"Text is": "",
	"Value is blank": "",
	"Value is not blank": "",
	"Value > {0}": " > {0}",
	"Value >= {0}": " >= {0}",
	"Value = {0}": " = {0}",
	"Value < {0}": " < {0}",
	"Value <= {0}": " <= {0}",
	"Value Between {0} And {1}": "{0}  {1} ",
	"Text that contains '{0}'": ": '{0}'",
	"Text that not contains '{0}'": ": '{0}'",
	"Value = '{0}'": " = '{0}'"
};

/* harmony default export */ var translation_zh = (translationZh);

// CONCATENATED MODULE: ./node_modules/@grid/column-format-dialog/lib/locale/translation-zh-hant.js
/**
* @namespace
*/
var translationZhHant = {
	"Format": "",
	"Preview": "",
	"Value Format": "",
	"Decimal Places": "",
	"Use 1000 Separator (,)": " (,)",
	"Show + Sign": " + ",
	"Scale to": "",
	"Millions": "",
	"Billions": "",
	"Multiply the cell value by 100": " 100",
	"Custom": "",
	"User Defined": "",
	"Convert to GMT Time": "",
	"Emphasize": "",
	"Number of Pips digits (maximum 5)": " (5)",
	"Number": "",
	"Pips Offset": "",
	"Number of half pips digits": "",
	"Reset to default": "",
	"Multiple columns are selected. Select a format or/and style to be applied to all of them.": "",
	"Display Style": "",
	"Alignment": "",
	"Show Values": "",
	"Use Movement Colors": "",
	"Apply to": "",
	"Cell": "",
	"Text": "",
	"Midpoint": "",
	"Based On": "",
	"Conditions": "",
	"Stop If True": "True",
	"Order": "",
	"Increase condition precedence": "",
	"Decrease condition precedence": "",
	"Add a condition": "",
	"Add": "",
	"Updates": "",
	"Color Based On": "",
	"Background Based On": "",
	"Border": "",
	"Edit Condition": "",
	"Condition": "",
	"Low Value": "",
	"High Value": "",
	"Text Color": "",
	"Cell Color": "",
	"Edit": "",
	"Remove": "",
	"Sample Format": "",
	"General": "",
	"Scaled Values": "",
	"Percentage": "",
	"Date & Time": "",
	"Heatmap": "",
	"Conditional Color": "",
	"This Column": "",
	"Another Field": "",
	"Bar": "",
	"FX": "",
	"Date": "",
	"Time": "",
	"Date & time format displays date and time serial numbers as date values": "",
	"FX format is used for Bid/Offer columns.": "FX /",
	"General format items have no specific number format.": "",
	"Number format is used for general display of numbers.": "",
	"Percentage format is used to display the result with a percent sign.": "",
	"Scaled values format is used for displaying large numbers.": "",
	"Greater than": "",
	"Greater than or equal to": "",
	"Equal to": "",
	"Less than": "",
	"Less than or equal to": "",
	"Between": "",
	"Text that contains": "",
	"Text that not contains": "",
	"Text is": "",
	"Value is blank": "",
	"Value is not blank": "",
	"Value > {0}": " > {0}",
	"Value >= {0}": " >= {0}",
	"Value = {0}": " = {0}",
	"Value < {0}": " < {0}",
	"Value <= {0}": " <= {0}",
	"Value Between {0} And {1}": "{0}  {1} ",
	"Text that contains '{0}'": ": '{0}'",
	"Text that not contains '{0}'": ": '{0}'",
	"Value = '{0}'": " = '{0}'"
};

/* harmony default export */ var translation_zh_hant = (translationZhHant);

// CONCATENATED MODULE: ./node_modules/@grid/column-format-dialog/lib/locale/translation.js






/**
* @namespace
*/
var translation = {
	"en": translation_en,
	"de": translation_de,
	"ja": translation_ja,
	"zh": translation_zh,
	"zh-Hant": translation_zh_hant
};

/* harmony default export */ var locale_translation = __webpack_exports__["a"] = (translation);

/***/ }),
/* 52 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// UNUSED EXPORTS: CellPainter

// CONCATENATED MODULE: ./node_modules/tr-grid-util/es6/TickCodes.js
/** @type {Object.<string, number>}
* @public
*/
var TickCodes = {
	"\u21e7": 1,
	"B\u21e7": 1,
	"\u2191": 1,
	"B\u2191": 1,
	"26": 1,
	"1": 1,
	"\"1\"": 1,
	"-1": -1,
	"\u21e9": -1,
	"B\u21e9": -1,
	"\u2193": -1,
	"B\u2193": -1,
	"27": -1,
	"2": -1,
	"\"2\"": -1
};

/** @type {Object.<string, number>}
* @public
*/
var TickFields = {
	"CF_TICK": 1,
	"PRCTCK_1": 1,
	"BID_TICK": 1,
	"ASK_TICK": 1
};

/* harmony default export */ var es6_TickCodes = (TickCodes);


// EXTERNAL MODULE: ./node_modules/tr-grid-util/es6/Util.js
var Util = __webpack_require__(17);

// EXTERNAL MODULE: ./node_modules/tr-grid-util/es6/ElfUtil.js + 1 modules
var ElfUtil = __webpack_require__(11);

// CONCATENATED MODULE: ./node_modules/tr-grid-util/es6/CellPainter.js




/** @typedef {Object} CellPainter~Expression
* @property {string=} name
* @property {string} text Text describes condition e.g. [FIELD] > 10
* @property {Array=} values
*/

/** @typedef {Object} CellPainter~Condition
* @property {string} field Field to be used in the condition
* @property {CellPainter~Expression|string} expression Text describes condition e.g. [FIELD] > 10
* @property {string=} backgroundColor CSS color string
* @property {string=} color CSS color string
* @property {string=} fontSize
* @property {string=} fontWeight
* @property {string=} fontStyle
* @property {string=} textAlign
* @property {string=} textDecoration
*/

/** @typedef {Object.<string, string>} CellPainter~ThemeColors
* @description Theme colors in hex format. All of the values are optional
* @property {string=} baseGrid Background color of the grid element
* @property {string=} baseText Text color of the grid element
* @property {string=} up Color for positive value
* @property {string=} down Color for negative value
* @property {string=} level Color for neutral/unchanged value
* @property {string=} tickUp Color for positive tick icon
* @property {string=} tickDown Color for negative tick icon
*/

/** @constructor */

var CellPainter = function() {
	this._conditions = [];
	this._scopes = [];

	CellPainter._painters.push(this); // For later referencing
};

/** Enum for coloring types.
* @enum {number}
*/
CellPainter.ColoringTypes = {
	TEXT: 1,
	HEATMAP: 2,
	CONDITIONAL: 3
};

/** @type {CellPainter.ColoringTypes}
* @private
*/
CellPainter.prototype._coloringType = 0;
/** @type {Array.<Object>}
* @private
*/
CellPainter.prototype._conditions = null;
/** @type {Object}
* @private
*/
CellPainter.prototype._blinkCondition = null;
/** @type {!Array}
* @private
*/
CellPainter.prototype._scopes;
/** @type {number}
* @private
*/
CellPainter._runningBlinkId = 0;


/** @type {Array.<CellPainter>}
* @private
* @const
*/
CellPainter._painters = [];

/** @type {!Array}
* @private
* @const
*/
CellPainter._emptyAry = [];
/** @type {!Object}
* @private
* @const
*/
CellPainter._emptyObj = {};
/** @type {!Object}
* @private
* @const
*/
CellPainter._bgObj = {"backgroundColor": "", "color": ""};
/** @type {!Object}
* @private
* @const
*/
CellPainter._colorObj = {"color": ""};
/** @type {!Array.<string>}
* @private
* @const
*/
CellPainter._bgStyles = ["backgroundColor", "color"];
/** @type {!Array.<string>}
* @private
* @const
*/
CellPainter._nonBgStyles = ["fontSize", "fontWeight", "fontStyle", "textAlign", "textDecoration"];
/** @type {!Array.<string>}
* @private
* @const
*/
CellPainter._supportedStyles = CellPainter._bgStyles.concat(CellPainter._nonBgStyles);
/** @type {Promise<Object>}
* @public
*/
CellPainter.themeReady = null;

/** @public
* @function
* @param {string|Function} expression
* @return {Function}
* @example
* var fn = CellPainter.parse("[CF_BID] >= 10 && [CF_BID] <= 100");
* window.console.log(fn(25));
*/
CellPainter.parse = Util["c" /* parseCondition */];


/** @public */
CellPainter.prototype.dispose = function() {
	var at = CellPainter._painters.indexOf(this);
	if(at >= 0) {
		CellPainter._painters.splice(at, 1);
	}
	this.reset(); // Restore all styles and clear all blink timers

	this._conditions = null;
	this._scopes.length = 0;

	this._blinkCondition = null;
};
/** @public */
CellPainter.prototype.reset = function() {
	this._setColoringType(0);

	var len = this._scopes.length;
	if(len) {
		for(var i = 0; i < len; ++i) {
			var scope = this._scopes[i];
			if(CellPainter._clearBlinkTimer(scope)) {
				scope._restorer();
			}
			var cell = scope["cell"];
			delete cell["blinking"]; // Delete cell blinking scope

			scope["cell"] = null;
		}
		this._scopes.length = 0;
	}

	this._blinkCondition = null;
};
/** @public */
CellPainter.prototype.applyThemeColor = function() {
	var colors = ElfUtil["a" /* ElfUtil */].themeColors;
	var cond = this._conditions[0]; // Heatmap, color text condition must be the first
	if(cond) {
		if(this._coloringType === CellPainter.ColoringTypes.HEATMAP) { // Heatmap uses grid color to blend the result color
			if(cond["textMode"]) {
				cond["baseColor"] = colors["baseText"];
			} else {
				cond["baseColor"] = colors["baseGrid"];
			}
		}
		if(cond["useThemeColor"]) { // Only heatmap and colorText painters use theme color
			if(this._coloringType === CellPainter.ColoringTypes.HEATMAP || this._coloringType === CellPainter.ColoringTypes.TEXT) {
				var up, down;
				if(this._coloringType === CellPainter.ColoringTypes.TEXT && cond["field"] === "CF_TICK") {
					up = colors["tickUp"];
					down = colors["tickDown"];
				} else {
					up = colors["up"];
					down = colors["down"];
				}
				var level = (colors["level"] === colors["baseText"]) ? "" : colors["level"];
				CellPainter._setUpDownColors(cond, up, down, level);
			}
		}
	}

	if(this._blinkCondition && this._blinkCondition["useThemeColor"]) {
		CellPainter._setUpDownColors(this._blinkCondition, colors["up"], colors["down"], colors["level"], true);
	}
};
/** Used by monitor saving
* @public
* @return {Array.<Object>}
*/
CellPainter.prototype.getConditions = function() {
	return this._conditions;
};
/** Used by monitor saving <br>
* Returns the coloring type ("text", "heatmap", "conditional")
* @public
* @return {CellPainter.ColoringTypes}
*/
CellPainter.prototype.getColoringType = function() {
	return this._coloringType;
};
/** @private
* @param {number} enumType Available values are TEXT, HEATMAP, CONDITIONAL
*/
CellPainter.prototype._setColoringType = function(enumType) {
	if(this._coloringType !== enumType) { // We can only have one type of coloring
		this._conditions.length = 0; // TODO: Restore cell styles before clearing condition
		this._coloringType = enumType;
	}
};
/** @public
* @param {Array.<CellPainter~Condition>} conditions
*/
CellPainter.prototype.setConditions = function(conditions) {
	this._conditions.length = 0; // TODO: Clear existing cell styles first
	this._setColoringType(CellPainter.ColoringTypes.CONDITIONAL);

	var len = conditions.length;
	for (var i = 0; i < len; i++) {
		this._addCondition(conditions[i]);
	}
};
/** @private
* @param {CellPainter~Condition|Object} condition
*/
CellPainter.prototype._addCondition = function(condition) {
	var exp = condition["expression"];
	if(exp) {
		condition._fn = CellPainter.parse(exp["text"] || exp);
		this._conditions.push(condition);
	}
};
/** @public
* @param {string} field
* @param {number} midPoint
* @param {string} upColor
* @param {string} downColor
* @param {string} baseColor
* @param {(string|boolean)=} opt_textMode
* @return {!Object}
*/
CellPainter.prototype.addHeatmap = function(field, midPoint, upColor, downColor, baseColor, opt_textMode) {
	this._setColoringType(CellPainter.ColoringTypes.HEATMAP);

	var condition = {};
	condition["heatmap"] = true;
	condition["field"] = field;
	condition["expression"] = CellPainter._heatMapCondition.bind(condition);
	condition["midPoint"] = midPoint;
	CellPainter._setUpDownColors(condition, upColor, downColor);

	condition["baseColor"] = baseColor;
	if(opt_textMode === true || opt_textMode === "text") {
		condition["textMode"] = true;
	}

	this._addCondition(condition);
	return condition;
};
/** @public
* @param {string} field
* @param {number} midPoint
* @param {(string|boolean)=} opt_textMode
* @return {!Object}
*/
CellPainter.prototype.addHeatmapWithTheme = function(field, midPoint, opt_textMode) {
	var colors = ElfUtil["a" /* ElfUtil */].themeColors;
	var condition = this.addHeatmap(
		field,
		midPoint,
		colors["up"], colors["down"], colors["baseGrid"],
		opt_textMode
	);

	if(opt_textMode === true || opt_textMode === "text") {
		condition["baseColor"] = colors["baseText"];
	}
	condition["useThemeColor"] = true;
	return condition;
};
/** @private
* @param {Function} expression
* @param {string} field
* @param {string} upColor
* @param {string} downColor
* @param {string} levelColor
* @return {!Object}
*/
CellPainter.prototype._addColorText = function(expression, field, upColor, downColor, levelColor) {
	this._setColoringType(CellPainter.ColoringTypes.TEXT);

	var condition = {};
	condition["field"] = field;
	condition["expression"] = expression.bind(null, field);
	CellPainter._setUpDownColors(condition, upColor, downColor, levelColor);

	this._addCondition(condition);
	return condition;
};
/** @public
* @param {string} field
* @param {string} upColor
* @param {string} downColor
* @param {string} levelColor
* @return {!Object}
*/
CellPainter.prototype.addColorText = function(field, upColor, downColor, levelColor) {
	return this._addColorText(
		TickFields[field] ? CellPainter._tickColorTextCondition : CellPainter._colorTextCondition,
		field,
		upColor, downColor, levelColor
	);
};
/** @public
* @param {string} field
* @return {!Object}
*/
CellPainter.prototype.addColorTextWithTheme = function(field) {
	var colors = ElfUtil["a" /* ElfUtil */].themeColors;
	var condition = this.addColorText(field,
		colors["up"],
		colors["down"],
		(colors["level"] === colors["baseText"]) ? "" : colors["level"]
	);

	condition["useThemeColor"] = true;
	return condition;
};
/** @public
* @param {string} upColor
* @param {string} downColor
* @param {string} levelColor
* @return {!Object}
*/
CellPainter.prototype.addTickColorText = function(upColor, downColor, levelColor) {
	return this.addColorText("CF_TICK", upColor, downColor, levelColor);
};
/** @public
* @return {!Object}
*/
CellPainter.prototype.addTickColorTextWithTheme = function() {
	var colors = ElfUtil["a" /* ElfUtil */].themeColors;
	var condition = this.addTickColorText(colors["tickUp"], colors["tickDown"], colors["level"]);
	condition["useThemeColor"] = true;
	return condition;
};
/** @public
* @param {string} upColor
* @param {string} downColor
* @param {string} levelColor
* @param {(string|boolean)=} opt_border
* @return {!Object}
*/
CellPainter.prototype.addTickBlink = function(upColor, downColor, levelColor, opt_border) {
	return this.addBlink("CF_TICK", upColor, downColor, levelColor, opt_border);
};
/** @public
* @param {(string|boolean)=} opt_border
* @return {!Object}
*/
CellPainter.prototype.addTickBlinkWithTheme = function(opt_border) {
	var colors = ElfUtil["a" /* ElfUtil */].themeColors;
	var condition = this.addTickBlink(colors["tickUp"], colors["tickDown"], colors["level"], opt_border);
	condition["useThemeColor"] = true;
	return condition;
};
/** @public
* @param {string} field
* @param {string} upColor
* @param {string} downColor
* @param {string} levelColor
* @param {(string|boolean)=} opt_border
* @return {!Object}
*/
CellPainter.prototype.addBlink = function(field, upColor, downColor, levelColor, opt_border) {
	return this._addBlink(
		TickFields[field] ? CellPainter._tickBlinkCondition : CellPainter._fieldBlinkCondition,
		field,
		upColor, downColor, levelColor,
		opt_border
	);
};
/** @public
* @param {string} field
* @param {(string|boolean)=} opt_border
* @return {!Object}
*/
CellPainter.prototype.addBlinkWithTheme = function(field, opt_border) {
	var colors = ElfUtil["a" /* ElfUtil */].themeColors;
	var condition = this.addBlink(field, colors["up"], colors["down"], colors["level"], opt_border);
	condition["useThemeColor"] = true;
	return condition;
};
/** @private
* @param {Function} expression
* @param {string} field
* @param {string} upColor
* @param {string} downColor
* @param {string} levelColor
* @param {(string|boolean)=} blinkType
* @return {!Object}
*/
CellPainter.prototype._addBlink = function(expression, field, upColor, downColor, levelColor, blinkType) {
	var condition = this._blinkCondition = {};
	condition["blink"] = true;
	condition["blinkId"] = CellPainter._runningBlinkId++;
	condition["field"] = field;
	condition._fn = condition["expression"] = expression;

	if(blinkType === true || blinkType === "border") {
		condition["border"] = true;
	}
	CellPainter._setUpDownColors(condition, upColor, downColor, levelColor, true);
	return condition;
};

/**
* @public
* @param {tr.grid.Cell} cell
* @param {Object} rowData e.g. { PCTCHNG: 0.53, CF_NETCHNG: 0.75 }
* @param {number} min
* @param {number} max
* @param {Object=} changedCols
*/
CellPainter.prototype.render = function (cell, rowData, min, max, changedCols) {
	this._render(cell, rowData, min, max, changedCols);
};

/**
* @public
* @param {tr.grid.Cell} cell
* @param {boolean} blinkSignal
* @param {Object} rowData to calculate original style e.g. { PCTCHNG: 0.53, CF_NETCHNG: 0.75 }
* @param {number=} min to calculate original style
* @param {number=} max to calculate original style
*/
CellPainter.prototype.blink = function (cell, blinkSignal, rowData, min, max) {
	this._render(cell, rowData, min, max, null, blinkSignal);
};

/** WARNING: This method is called very often and the performance is very critical here
* @public
* @param {tr.grid.Cell} cell
* @param {Object} rowData e.g. { PCTCHNG: 0.53, CF_NETCHNG: 0.75 }
* @param {number=} min
* @param {number=} max
* @param {Object=} changedCols
* @param {number=} blinkSignal
*/
CellPainter.prototype._render = function (cell, rowData, min, max, changedCols, blinkSignal) {
	if (!cell) return;

	var elem = cell.getElement();
	if (!elem) return; // Cell has been disposed

	var styles = this._getStyles(rowData, min, max);
	var bgBlinking = this._blinkCell(cell, rowData, styles, changedCols, blinkSignal);

	// Skip backgroundColor and color if bg blinking is active (it will override the styles)
	var ss = null;
	if (bgBlinking) { // Only conditional coloring needs to update during the blinking
		if (this._coloringType === CellPainter.ColoringTypes.CONDITIONAL) {
			ss = CellPainter._nonBgStyles;
		}
	} else {
		if (this._coloringType !== CellPainter.ColoringTypes.CONDITIONAL) { // heatmap and text coloring type only need to update background and text colors
			ss = CellPainter._bgStyles;
		} else {  // Conditional coloring can modify several styles
			ss = CellPainter._supportedStyles;
		}
	}

	if (ss) {
		var elStyle = elem.style;
		for (var i = ss.length; --i >= 0;) {
			var styleName = ss[i];
			elStyle[styleName] = styles[styleName] || "";
		}
	}
};

/** @private
* @param {tr.grid.Cell} cell
* @param {Object} rowData e.g. { PCTCHNG: 0.53, CF_NETCHNG: 0.75 }
* @param {Object=} originalColors
* @param {Object=} changedCols
* @param {number=} blinkSignal
* @return {boolean} Returns true if background is changed by the blinking process
*/
CellPainter.prototype._blinkCell = function (cell, rowData, originalColors, changedCols, blinkSignal) {
	var bc = this._blinkCondition;
	if (!bc) return false;

	originalColors = originalColors || {};
	changedCols = changedCols || {};

	var scope = cell["blinking"]; // HACK
	if (!scope) {
		scope = {};
		scope["cell"] = cell;
		cell["blinking"] = scope;

		this._scopes.push(scope);
	}
	if (scope["blinkId"] !== bc["blinkId"]) {
		scope["blinkId"] = bc["blinkId"];
		scope["field"] = bc["field"];
		var restorer = bc["border"] ? CellPainter._borderRestorer : CellPainter._cellRestorer;
		scope._restorer = restorer.bind(null, scope);
	}

	if (!blinkSignal && blinkSignal !== 0) {
		blinkSignal = this._blinkCondition._fn(rowData, changedCols, scope);

		if (!blinkSignal && blinkSignal !== 0) {
			return false; // No blink signal at this time
		}
	}

	var blinkColor, contrastColor;
	if (blinkSignal > 0) {
		blinkColor = bc["upColor"];
		contrastColor = bc["contrastUpColor"];
	} else if (blinkSignal < 0) {
		blinkColor = bc["downColor"];
		contrastColor = bc["contrastDownColor"];
	} else {
		blinkColor = bc["levelColor"];
		contrastColor = bc["contrastLevelColor"];
	}

	if (!blinkColor) {
		return false; // No color for blinking
	}

	// All conditions are met for blinking
	var elem = cell.getElement();
	if (bc["border"]) {
		elem.style.border = "1px solid " + blinkColor;
	} else {
		elem.style.backgroundColor = blinkColor;
		elem.style.color = contrastColor;
	}

	CellPainter._clearBlinkTimer(scope);
	scope["blinkTimer"] = setTimeout(scope._restorer, 250);

	if (!bc["border"]) {
		if (scope["blinkTimer"]) { // Blinking is active
			scope["color"] = originalColors["color"]; // For restoration of original color
			scope["backgroundColor"] = originalColors["backgroundColor"];

			return true; // Background is changed
		}
	}
	return false;
};

/** @public
* @param {Element} cell
* @param {Object} rowData e.g. { PCTCHNG: 0.53, CF_NETCHNG: 0.75 }
* @param {number} min
* @param {number} max
*/
CellPainter.prototype.renderForPrinting = function(cell, rowData, min, max) {
	if(!cell) {
		return;
	}
	var styles = this._getStyles(rowData, min, max);
	var c = styles["backgroundColor"];
	if(c) {
		cell.style.backgroundColor = c;
	}

	c = styles["color"];
	if(c) {
		cell.style.color = c;
	}
};


/** @private
* @param {string} field
* @param {Object} rowData
* @return {string|number}
*/
CellPainter._colorTextCondition = function(field, rowData) {
	var value = rowData[field];
	if(value || value === 0) {
		if(value > 0) {
			return 1;
		} else if(value < 0) {
			return -1;
		}
	}
	return "u"; // unchanged
};
/** @private
* @param {string} field
* @param {Object} rowData
* @return {undefined|number}
*/
CellPainter._tickColorTextCondition = function(field, rowData) {
	var code = TickCodes[rowData[field]];
	if(code) {
		return code;
	}
	return; // eslint-disable-line
};
/** @private
* @this {Object}
* @param {Object} rowData
* @param {number} min
* @param {number} max
* @return {number}
*/
CellPainter._heatMapCondition = function(rowData, min, max) {
	var value = rowData[this["field"]];
	var diff = (value || value === 0) ? value - this["midPoint"] : NaN;
	if (diff === 0 || diff !== diff) {
		return 0;
	}

	var ratio;
	var range = 1;
	if(diff > 0) {
		range = max - this["midPoint"];
		if(range < 0) {
			range = min - this["midPoint"];
		}
	} else {
		range = min - this["midPoint"];
		if(range > 0) {
			range = max - this["midPoint"];
		}
	}
	if(range < 0) {
		range = -range;
	}
	ratio = diff / range;
	return ratio;
};
/** @private
* @function
* @param {Object} rowData
* @param {Object} changeCols
* @param {Object} scope
* @return {undefined|number}
*/
CellPainter._tickBlinkCondition = function(rowData, changeCols, scope) {
	var field = scope["field"] || "";
	if(changeCols[field]) {
		var code = TickCodes[rowData[field]];
		if(code) {
			return code;
		}
	}
	return; // eslint-disable-line
};
/** @private
* @function
* @param {Object} rowData
* @param {Object} changeCols
* @param {Object} scope
* @return {undefined|number}
*/
CellPainter._fieldBlinkCondition = function(rowData, changeCols, scope) {
	var field = scope["field"] || "";
	var value = (rowData) ? rowData[field] : NaN;
	var oldValue = scope["oldValue"];

	// Cache value
	if (!value && value !== 0) {
		scope["oldValue"] = NaN;
		return; // eslint-disable-line
	} else {
		value = +value;
		scope["oldValue"] = value;
	}

	if(!changeCols[field]) {
		return; // eslint-disable-line
	}

	if(value > oldValue) {
		return 1; // eslint-disable-line
	} else if(value < oldValue) {
		return -1; // eslint-disable-line
	} else { // AlphaNumeric, unchanged value
		return 0; // eslint-disable-line
	}
};
/** @private
* @param {Object} scope
*/
CellPainter._borderRestorer = function(scope) {
	scope["blinkTimer"] = 0;
	var cell = scope["cell"];
	var elem = cell.getElement();

	if(elem) {
		elem.style.border = "";
	}
};
/** @private
* @param {Object} scope
*/
CellPainter._cellRestorer = function(scope) {
	scope["blinkTimer"] = 0;
	var cell = scope["cell"];
	var elem = cell.getElement();

	if(elem) {
		elem.style.backgroundColor = scope["backgroundColor"] || "";
		elem.style.color = scope["color"] || "";
	}
};

/** WARNING: This method is called very often and the performance is very critical here
* @private
* @param {Object} rowData
* @param {number} min
* @param {number} max
* @return {!Object}
*/
CellPainter.prototype._getStyles = function(rowData, min, max) {
	if (!rowData) {
		return CellPainter._emptyObj;
	}
	var len = this._conditions.length;
	for(var i = 0; i < len; ++i) {
		var curCond = this._conditions[i];
		var fn = curCond._fn;
		try { // WARNING: Try/Catch is very slow. TODO: The function should be checked for validity beforehand
			var ret = fn && fn(rowData, min, max);
		} catch (err){
			// console.error(err.message); // This will produce tons of errors in the console
		}
		if (ret) { // Match condition with results 1, -1, true, or string
			if(this._coloringType === CellPainter.ColoringTypes.HEATMAP) {
				var blendedColor;
				if(ret > 0) {
					blendedColor = CellPainter.blendColor(curCond["baseColor"], curCond["upColor"], ret);
				} else {
					blendedColor = CellPainter.blendColor(curCond["baseColor"], curCond["downColor"], -ret);
				}

				if(curCond["textMode"]) {
					CellPainter._colorObj["color"] = CellPainter.num2Hex(blendedColor);
					return CellPainter._colorObj;
				} else {
					CellPainter._bgObj["backgroundColor"] = CellPainter.num2Hex(blendedColor);
					CellPainter._bgObj["color"] = CellPainter.blackAndWhite(blendedColor);

					return CellPainter._bgObj;
				}
			} else if(this._coloringType === CellPainter.ColoringTypes.TEXT) {
				if(ret > 0) {
					CellPainter._colorObj["color"] = curCond["upColor"];
				} else if(ret < 0) {
					CellPainter._colorObj["color"] = curCond["downColor"];
				} else {
					CellPainter._colorObj["color"] = curCond["levelColor"];
				}
				return CellPainter._colorObj;
			} // else Conditional coloring

			// Expected return value is {
			// "backgroundColor": bgc,
			// "color": color,
			// "fontSize": fSize,
			// "fontWeight": fWeight,
			// "fontStyle": fStyle,
			// "textAlign": tAlign,
			// "textDecoration": tDecor
			// };
			return curCond;
		}
	}
	return CellPainter._emptyObj;
};

/** @public
* @param {string} baseColor
* @param {string} maxColor
* @param {number} ratio [0, 1]
* @return {Array.<number>} resultColor
*/
CellPainter.blendColor = function (baseColor, maxColor, ratio) { // TODO: Optimize this
	if (ratio > 1) {
		ratio = 1;
	} else if(ratio < 0) {
		ratio = 0;
	}

	var baseColorTriplet = CellPainter.hex2Num(baseColor);
	var maxColorTriplet = CellPainter.hex2Num(maxColor);
	var blendResult = [];
	for (var i = 0; i < 3; ++i) {
		var gap = (maxColorTriplet[i] - baseColorTriplet[i]) * ratio;
		blendResult.push(baseColorTriplet[i] + gap);
	}

	return blendResult;
};

/** @private
* @param {Array.<number>} triplet
* @return {string} resultColor
*/
CellPainter.blackAndWhite = function (triplet) {
	var brightness = Math.sqrt(triplet[0] * triplet[0] * 0.241 + triplet[1] * triplet[1] * 0.691 + triplet[2] * triplet[2] * 0.068);

	if (brightness >= 135) { // Brighter color has more impact to human eye than the darker color
		return '#000000';
	}
	return '#FFFFFF';
};

/** @public
* @function
* @param {string} rgbCode
* @return {string} resultColor E.g. "#10FF0D"
*/
CellPainter.rgb2Hex = Util["e" /* rgb2Hex */]; // For backward compatability

/** @public
* @function
* @param {Array.<number>} triplet
* @return {string} resultColor
*/
CellPainter.num2Hex = function (triplet) {
	var rgb = triplet[2] | (triplet[1] << 8) | (triplet[0] << 16);
	return ('#' + (0x1000000 + rgb).toString(16).slice(1));
};
/** Note that Chrome, IE, and Firefox store color in rgb representation.
* @public
* @function
* @param {Array.<number>} triplet
* @return {string} Color string in RGB represetation (e.g. rgb(100, 44, 1))
*/
CellPainter.num2Rgb = function (triplet) {
	return 'rgb(' + triplet[0] + ', ' + triplet[1] + ', ' + triplet[2] + ')';
};
/** @public
* @function
* @param {string} hex
* @return {Array.<number>} array of size 3 which contains [red, green, blue]
*/
CellPainter.hex2Num = function (hex) {
	var hexInt = parseInt(hex.replace(/[^0-9A-F]/gi, ''), 16);
	var r = (hexInt >> 16) & 255;
	var g = (hexInt >> 8) & 255;
	var b = hexInt & 255;
	return [r, g, b];
};
/** @public
* @function
* @param {string} hex Color string with leading # character (e.g. #FFAA00)
* @return {string} Color string in RGB represetation (e.g. rgb(100, 44, 1))
*/
CellPainter.hex2Rgb = function (hex) {
	if(hex) {
		var hexInt = parseInt(hex.replace(/[^0-9A-F]/gi, ''), 16);
		var r = (hexInt >> 16) & 255;
		var g = (hexInt >> 8) & 255;
		var b = hexInt & 255;
		return 'rgb(' + r + ', ' + g + ', ' + b + ')';
	}
	return '';
};

/** Deprecated. Colors should be changed according to user's settings by CellPainter#loadThemeColors
* @private
* @function
*/
CellPainter.themeChanged = function() {};
/** Deprecated. Colors should be changed according to user's settings by CellPainter#loadThemeColors
* @public
* @function
*/
CellPainter.setThemeColors = function() {};
/** @private
* @function
* @param {Object} colors
* @return {Object} colors
*/
CellPainter._onThemeChanged = function(colors) {
	// Apply newly changed theme to all the painters
	var painters = CellPainter._painters;
	for(var i = painters.length; --i >= 0;) {
		painters[i].applyThemeColor(); // Re-apply theme color
	}
	return colors;
};
/** Load theme colors and change colors for all instances of CellPainter
* @public
* @function
* @return {Promise<Object>}
*/
CellPainter.loadThemeColors = function() {
	if(!CellPainter.themeReady) {
		CellPainter.themeReady = ElfUtil["a" /* ElfUtil */].getThemeColors().then(CellPainter._onThemeChanged);
	}
	return CellPainter.themeReady;
};

/** Reload theme colors and change colors for all instances of CellPainter
* @public
* @function
* @return {Promise<Object>}
*/
CellPainter.reloadThemeColors = function () {
	CellPainter.themeReady = ElfUtil["a" /* ElfUtil */].themeReady = null;
	return CellPainter.loadThemeColors();
};

/** @public
* @function
* @ignore
* @param {tr.grid.Cell} cell
*/
CellPainter.clearCellStyle = function(cell) {
	var elem = cell.getElement();
	if(!elem) {
		return; // Cell has been disposed
	}

	var scope = cell["blinking"];
	if(scope) { // Clear blinking scope
		CellPainter._clearBlinkTimer(scope);

		delete cell["blinking"]; // Delete cell blinking scope

		scope["cell"] = null;
		// WARNING: Scope is not removed from the this._scopes collection to speed things up
	}

	var styles = CellPainter._supportedStyles;
	for(var i = styles.length; --i >= 0;) {
		elem.style[styles[i]] = "";  // WARNING: Very slow
	}
};
/** @private
* @param {!Object} scp Scope Object
* @param {string|null} upColor Color in hex representation
* @param {string|null} downColor
* @param {(string|null)=} levelColor
* @param {boolean=} withContrast
*/
CellPainter._setUpDownColors = function(scp, upColor, downColor, levelColor, withContrast) {
	if(upColor != null) {
		scp["upColor"] = upColor;
		if(withContrast) {
			scp["contrastUpColor"] = CellPainter.getOppositeColor(upColor);
		}
		//scp["rgbUp"] = CellPainter.hex2Rgb(upColor);
	}
	if(downColor != null) {
		scp["downColor"] = downColor;
		if(withContrast) {
			scp["contrastDownColor"] = CellPainter.getOppositeColor(downColor);
		}
		//scp["rgbDown"] = CellPainter.hex2Rgb(downColor);
	}
	if(levelColor != null) {
		scp["levelColor"] = levelColor;
		if(withContrast) {
			scp["contrastLevelColor"] = CellPainter.getOppositeColor(levelColor);
		}
		//scp["rgbLevel"] = CellPainter.hex2Rgb(levelColor);
	}
};
/** @private
* @param {!Object} scp Scope Object
* @param {boolean=} opt_restoreColor
* @return {boolean}
*/
CellPainter._clearBlinkTimer = function(scp, opt_restoreColor) {
	if(scp["blinkTimer"]) {
		clearTimeout(scp["blinkTimer"]);
		scp["blinkTimer"] = 0;
		return true;
	}
	return false;
};
/** @public
* @param {string|Array.<number>} hexCode
* @return {string}
*/
CellPainter.getOppositeColor = function (hexCode) {
	if(typeof hexCode === "string") {
		if(hexCode.charAt(0) === "#") {
			var triplet = CellPainter.hex2Num(hexCode);
			return CellPainter.blackAndWhite(triplet);
		}
	} else if(Array.isArray(hexCode)) {
		return CellPainter.blackAndWhite(hexCode);
	}
	return "";
};

/* harmony default export */ var es6_CellPainter = __webpack_exports__["a"] = (CellPainter);



/***/ }),
/* 53 */,
/* 54 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ColumnFormatDialog */
/* harmony import */ var _elf_core_lib_elf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);
/* harmony import */ var _elf_coral_button_lib_coral_button_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _elf_coral_checkbox_lib_coral_checkbox_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(25);
/* harmony import */ var _elf_coral_collapse_lib_coral_collapse_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(45);
/* harmony import */ var _elf_coral_dialog_lib_coral_dialog_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(28);
/* harmony import */ var _elf_coral_icon_lib_coral_icon_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(7);
/* harmony import */ var _elf_coral_text_field_lib_coral_text_field_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(27);
/* harmony import */ var _elf_coral_number_field_lib_coral_number_field_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(34);
/* harmony import */ var _elf_coral_list_lib_coral_list_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(23);
/* harmony import */ var _elf_coral_radio_button_lib_coral_radio_button_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(40);
/* harmony import */ var _elf_coral_select_lib_coral_select_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(47);
/* harmony import */ var _elf_coral_split_button_lib_coral_split_button_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(35);
/* harmony import */ var _elf_coral_tooltip_lib_coral_tooltip_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(14);
/* harmony import */ var _elf_coral_item_lib_coral_item_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(9);
/* harmony import */ var _elf_emerald_color_dialog_lib_emerald_color_dialog_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(49);
/* harmony import */ var tr_grid_util_es6_CellPainter_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(52);
/* harmony import */ var tr_grid_util_es6_ElfUtil_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(11);
/* harmony import */ var tr_grid_util_es6_NumberFormatter_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(42);
/* harmony import */ var tr_grid_util_es6_FieldFormatter_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(50);
/* harmony import */ var _locale_translation_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(51);
/* harmony import */ var tr_grid_util_es6_PercentBar_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(44);
/* harmony import */ var tr_grid_util_es6_ElementObserver_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(29);

// import '@elf/atlas-autosuggest/lib/atlas-autosuggest.js'; //TODO: Not been use at the moment, But possible to use in the future






















/**
 * @typedef {Object} ColumnFormatDialog~SupportDisplayStyleOptions
 * @property {boolean} bar support 'bar'
 */

/**
 * @typedef {Object} ColumnFormatDialog~Config
 * @property {Object} data Context object indicating current states of the column
 * @property {boolean=} supportValueFormatOptions.fx Support FxFormat
 * @property {boolean=} supportHighlightApplyToSwitch support HighlightApplyToSwitch
 * @property {Object=} supportDisplayStyleOptions Support items in "Display Style" dropdown
 * @property {ColumnFormatDialog~SupportDisplayStyleOptions|boolean} support items in "Display Style" dropdown
 * @property {Array.<string>=} fields List of available fields to be shown in the dialog
 * @property {Function=} confirm Confirm event callback
 */

const conditionDict = {
	'GREATER_THAN': {
		text: 'Greater than',
		expression: '[{0}] > {1}',
		valueType: 'number',
		displayFormat: 'Value > {0}',
		regExp: /^\[[^[\]]+]\s*>\s*([+\-eE\d.]+)$/ // for auto-detect type of expression
	},
	'GREATER_THAN_OR_EQUAL_TO': {
		text: 'Greater than or equal to',
		expression: '[{0}] >= {1}',
		valueType: 'number',
		displayFormat: 'Value >= {0}',
		regExp: /^\[[^[\]]+]\s*>=\s*([+\-eE\d.]+)$/ // for auto-detect type of expression
	},
	'EQUAL_TO': {
		text: 'Equal to',
		expression: '[{0}] === {1}',
		valueType: 'number',
		displayFormat: 'Value = {0}',
		regExp: /^\[[^[\]]+]\s*===\s*([+\-eE\d.]+)$/ // for auto-detect type of expression
	},
	'LESS_THAN': {
		text: 'Less than',
		expression: '[{0}] < {1}',
		valueType: 'number',
		displayFormat: 'Value < {0}',
		regExp: /^\[[^[\]]+]\s*<\s*([+\-eE\d.]+)$/ // for auto-detect type of expression
	},
	'LESS_THAN_OR_EQUAL_TO': {
		text: 'Less than or equal to',
		expression: '[{0}] <= {1}',
		valueType: 'number',
		displayFormat: 'Value <= {0}',
		regExp: /^\[[^[\]]+]\s*<=\s*([+\-eE\d.]+)$/ // for auto-detect type of expression
	},
	'BETWEEN': {
		text: 'Between',
		expression: '[{0}] > {1} && [{0}] < {2}',
		valueType: 'twoNumbers',
		displayFormat: 'Value Between {0} And {1}',
		regExp: new RegExp(/^\[[^[\]]+]\s*>\s*([+\-eE\d.]+)\s*&&\s*\[[^[\]]+]\s*<\s*([+\-eE\d.]+)$/) // for auto-detect type of expression
	},
	'TEXT_THAT_CONTAINS': {
		text: 'Text that contains',
		expression: 'String([{0}]).indexOf("{1}") > -1',
		valueType: 'text',
		displayFormat: 'Text that contains \'{0}\'',
		regExp: new RegExp(/^String\(\[[^[\]]+]\)\.indexOf\("([^()]+)"\)\s*>\s*-1$/) // for auto-detect type of expression
	},
	'TEXT_THAT_NOT_CONTAINS': {
		text: 'Text that not contains',
		expression: 'String([{0}]).indexOf("{1}") < 0',
		valueType: 'text',
		displayFormat: 'Text that not contains \'{0}\'',
		regExp: new RegExp(/^String\(\[[^[\]]+]\)\.indexOf\("([^()]+)"\)\s*<\s*0$/) // for auto-detect type of expression
	},
	'TEXT_IS': {
		text: 'Text is',
		expression: 'String([{0}]) === "{1}"',
		valueType: 'text',
		displayFormat: 'Value = \'{0}\'',
		regExp: new RegExp(/String\(\[[^[\]]+]\)\s*===\s*"(.+)"/) // for auto-detect type of expression
	},
	'BLANK': { // undefined, null, '', NaN
		text: 'Value is blank',
		expression: '![{0}] && [{0}] !== 0',
		valueType: 'none',
		displayFormat: 'Value is blank',
		regExp: new RegExp(/!\[[^[\]]+]\s*&&\s*\[[^[\]]+]\s*!==\s*0/) // for auto-detect type of expression
	},
	'NOT_BLANK': { // Has a value
		text: 'Value is not blank',
		expression: '[{0}] || [{0}] === 0',
		valueType: 'none',
		displayFormat: 'Value is not blank',
		regExp: new RegExp(/\[[^[\]]+]\s*\|\|\s*\[[^[\]]+]\s*===\s*0/) // for auto-detect type of expression
	}
};

const MAX_SAMPLE_DATA = 6645100000.00;
const MIN_SAMPLE_DATA = -8421000000.00;
const ABSOLUTE_MAX_SAMPLE_DATA = Math.abs(MAX_SAMPLE_DATA) > Math.abs(MIN_SAMPLE_DATA) ? Math.abs(MAX_SAMPLE_DATA) : Math.abs(MIN_SAMPLE_DATA);
const SAMPLE_DATASET = [
	[
		[120470000.00, 2516900000.00],
		[-4500900000.00, -3830100000.00]
	],
	[
		[4901100000.00, 5907300000.00 ],
		[-2702200000.00, -1505300000.00]
	],
	[
		[MAX_SAMPLE_DATA, 120470000.00],
		[-3830100000.00, -1505300000.00]
	],
	[
		[2516900000.00, 4901100000.00],
		[MIN_SAMPLE_DATA, -4500900000.00]
	],
	[
		[5907300000.00, MAX_SAMPLE_DATA],
		[-2702200000.00, MIN_SAMPLE_DATA]
	]
];

/**
 * @class
 * @public
 */
class ColumnFormatDialog extends _elf_core_lib_elf_js__WEBPACK_IMPORTED_MODULE_0__[/* BasicElement */ "a"] {

	static get properties() {
		return {
			config: { type: Object },
			data: { type: Object },
			isShown: { type: Boolean },
			lang: { type: String, reflect: true }
		};
	}

	constructor() {
		super();
		this.$ = {}; // WORKAROUND
		this.isShown = false;
		this._colors = null;

		this.lang = 'en';
		this._translation = _locale_translation_js__WEBPACK_IMPORTED_MODULE_19__[/* default */ "a"];

		this._onIntervalUpdate = this._onIntervalUpdate.bind(this);
		this._formatSampleValue = this._formatSampleValue.bind(this);
		this._onThemeLoaded = this._onThemeLoaded.bind(this);

		this._numberFormatter = new tr_grid_util_es6_NumberFormatter_js__WEBPACK_IMPORTED_MODULE_17__[/* default */ "a"]();
		this._dateFormatter = new tr_grid_util_es6_FieldFormatter_js__WEBPACK_IMPORTED_MODULE_18__[/* default */ "a"]({
			formatType: "datetime"
		});

		this._constSelfColumn = 'THIS_COLUMN';
		this._sampleSetIndex = 0;
		this._sampleColCount = 1;
		this._sampleRowCount = 2;
		this._colorConditionEditState = {
			expression: {
				name: 'GREATER_THAN',
				values: []
			},
			color: '',
			backgroundColor: ''
		};
		this._atLeastOneBidOffer = false;

		tr_grid_util_es6_ElfUtil_js__WEBPACK_IMPORTED_MODULE_16__[/* default */ "b"].getThemeColors().then(this._onThemeLoaded);
		tr_grid_util_es6_ElementObserver_js__WEBPACK_IMPORTED_MODULE_21__[/* default */ "a"].addLanguageListener(this);
	}

	/**
	 * @private
	 * @param {Object} changedProperties
	 */
	update(changedProperties) {
		if(changedProperties.has("config")) {
			this._config = Object.assign({
				supportValueFormatOptions: {},
				supportDisplayStyleOptions: {}
			}, this.config);
			if(!changedProperties.has("data")) {
				if(this._config.data != null) {
					this.data = this._config.data;
				}
			}

			// allow config.lang overrides default lang
			if(this._translation[this.config.lang]) {
				this.lang = this.config.lang;
			}
		}

		super.update(changedProperties);
	}

	/** A `TemplateResult` that will be used to render the updated internal template
	 * @private
	 * @return {*}
	 */
	render() {
		var lang = this._translation[this.lang] ? this.lang : "en";
		var t =  this._translation[lang];
		return _elf_core_lib_elf_js__WEBPACK_IMPORTED_MODULE_0__[/* html */ "k"]`
			<coral-dialog style="width: inherit; " header="${t["Format"]}" id="formatDialog" lang="${lang}">
				<div class="format-dialog dialog-theme-wrapper">
					<div class="preview section-panel">
						<div class="left-panel">
							<div>${t["Preview"]}</div>
						</div>
						<div class="right-panel">
							<div class="cell-painter-sample">
								<table id="sampleTable" class="sample-table">
									<colgroup id="sampleTableColgroup"></colgroup>
									<tbody id="sampleTableBody">
									<tr>
										<td>sample1</td>
									</tr>
									<tr>
										<td>sample2</td>
									</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
					<div class="options">
						<!-- Value Format Section -->
						<coral-collapse class="value-format" header="${t["Value Format"]}" expanded="true">
							<div class="section-panel">
								<div class="left-panel">
									<div class="value-format__inner">
										<coral-select class="coral-select-wrapper" id="valueFormatMenu"></coral-select>
										<div class="value-menu-description" title="{{valueMenuDescription}}" id="valueMenuDesc">
											<coral-icon icon="info"></coral-icon>
										</div>
										<coral-tooltip selector=".value-menu-description"></coral-tooltip>
									</div>
								</div>
								<div class="right-panel">
									<div style="display:none" id="valueFormatOther">
										<div id="valueFormatNumberOrPercentage" style="padding-bottom: 3px; padding-top: 1px; display:none">
											${t["Decimal Places"]}:
											<coral-number-field id="colFormatValueDecimalPlaces" min="0" max="9" style="width: 75px;" value="2"/>
										</div>
										<div style="margin-top: 3px;">
											<coral-checkbox id="colFormatValueUseSeparator"/>
											<label for="col-format-value-use-separator">${t["Use 1000 Separator (,)"]}</label>
										</div>
										<div style="padding-top: 8px;">
											<coral-checkbox id="colFormatPlusSign"/>
											<label for="col-format-plus-sign">${t["Show + Sign"]}</label>
										</div>
										<div style="padding-top: 18px;" id="valueFormatScaledValues">
											${t["Scale to"]}:
											<coral-radio-button name="group1" id="colFormatValueScaledMillions" value="million" checked>${t["Millions"]}</coral-radio-button>
											<coral-radio-button name="group1" id="colFormatValueScaledBillions" value="billion">${t["Billions"]}</coral-radio-button>
										</div>
										<div style="padding-top: 8px;" id="valueFormatPercentage">
											<coral-checkbox id="colFormatPercentageMultiply"/>
											<label for="col-format-percentage-multiply-by-100">${t["Multiply the cell value by 100"]}</label>
										</div>
									</div>

									<div style="display:none" id="valueFormatDateTime">
										<div style="margin-top: 1px; margin-bottom: 5px;">
											<coral-list id="dateTimeList" items="dateFormatMenu" selected-item="dateFormatSelected" style="width: 100%; height: 115px"/>
										</div>
										<div style="width:100%; display:none" id="customDateFormatWrapper">
											<coral-text-field id="customDateFormatInput" type="text" placeholder="${t["Custom"]}" style="width: 100%;"/>
										</div>
										<div style="margin-top: 8px;">
											<coral-checkbox id="colFormatDateUseUtcTime"/>
											<label for="colFormatDateUseUtcTime">${t["Convert to GMT Time"]}</label>
										</div>
									</div>

									<div style="display: flex; flex-direction: column;" id="valueFormatFx">
										<div style="margin-bottom: 20px;">
											<div style="margin-bottom: 10px;">
												<coral-checkbox id="colFormatFxEmphasize" checked/>
												<label for="colFormatFxEmphasize">${t["Emphasize"]}</label>
											</div>
											<div>
												<span>${t["Number of Pips digits (maximum 5)"]}:</span>
											</div>
											<div style="margin-bottom: 10px;">
												<coral-number-field placeholder="${t["Number"]}" min="0" max="5" id="colFormatFxPipLength"/>
											</div>
											<div>
												<span>${t["Pips Offset"]}:</span>
											</div>
											<div style="margin-bottom: 10px;">
												<coral-number-field placeholder="${t["Number"]}" min="-10" max="10" id="colFormatFxPipOffset"/>
											</div>
											<div>
												<span>${t["Number of half pips digits"]}:</span>
											</div>
											<div>
												<coral-number-field placeholder="${t["Number"]}" min="0" max="10" id="colFormatFxSubPipLength"/>
											</div>
										</div>
										<div>
											<coral-button id="fxReset">${t["Reset to default"]}</coral-button>
										</div>
									</div>

									<div style="display:none" id="valueFormatMessage">
										"${t["Multiple columns are selected. Select a format or/and style to be applied to all of them."]}"
									</div>

								</div>
							</div>
						</coral-collapse>

						<!-- Display Style Section -->
						<coral-collapse class="display-style" header="${t["Display Style"]}" expanded="true">
							<div class="section-panel display-style-panel">
								<div class="display-style-panel__header">
									<div class="left-panel">
										<coral-select class="coral-select-wrapper display-style-panel__menu" id="displayFormatMenu"></coral-select>
									</div>
									<div class="right-panel">
										<section class="align-section">
											<label class="left-panel">${t["Alignment"]}:</label>
											<div class="right-panel">
												<tab-buttons mode="icon" tab-list="alignmentButtons" selected-id="generalAlignment"></tab-buttons>
												<coral-split-button
													managed id="alignmentButtonsWrapper"
													class="button-split"
													mode="icon"
													tab-list="alignmentButtons"
													selected-id="generalAlignment"
												>
													<coral-button toggles id="tab-left" class="split-action icon"
														icon="text-left" tabindex="0" textpos="after"
														aria-disabled="false" aria-pressed="false" empty=""
														highlight="false"
													></coral-button>
													<coral-button
														toggles id="tab-center" class="split-action icon"
														icon="text-center" tabindex="0" textpos="after"
														aria-disabled="false" aria-pressed="false" empty=""
														highlight="false"
													></coral-button>
													<coral-button
														toggles id="tab-right" class="split-action icon"
														icon="text-right" tabindex="0" textpos="after"
														aria-disabled="false" aria-pressed="true" empty=""
														highlight="true"
													></coral-button>
												</coral-split-button>
											</div>
										</section>
									</div>
								</div>

								<div class="display-style-panel__content">
									<div class="left-panel"></div>
									<div class="right-panel">
										<div style="display:block" id="displayFormatGeneral"></div>

										<div style="display:none" id="displayFormatBar">
											<div style="padding-bottom: 10px;">
												<coral-checkbox id="colFormatBarShowValues" checked/>
												<label for="colFormatBarShowValues">${t["Show Values"]}</label>
											</div>
											<div style="padding-bottom: 10px;">
												<coral-checkbox id="colFormatBarUseMovementColor" checked/>
												<label for="colFormatBarUseMovementColor">${t["Use Movement Colors"]}</label>
											</div>
										</div>

										<div class="display-format-heatmap" style="display:none" id="displayFormatHeatmap">
											<div class="display-format-heatmap__apply">
												<label class="left-panel">${t["Apply to"]}:</label>
												<div class="right-panel" id="heatmapApplyContainer">
													<coral-radio-button name="heatmapRadio" id="colFormatHeatmapApplyCell"
																	value="cell"
																	checked>${t["Cell"]}</coral-radio-button>
													<coral-radio-button name="heatmapRadio" id="colFormatHeatmapApplyText"
																	value="text">${t["Text"]}</coral-radio-button>
												</div>
											</div>
											<div class="display-format-heatmap__midpoint">
												<label class="left-panel">${t["Midpoint"]}:</label>
												<div class="right-panel">
														<coral-number-field id="colFormatHeatmapMidpoint" style="width: 75px;" value="0" />
												</div>
											</div>
										</div>

										<div style="display:none" id="displayFormatConditionalColor"></div>

										<div style="display:none" id="displayFormatMessage">
											${t["Multiple columns are selected. Select a format or/and style to be applied to all of them."]}
										</div>
									</div>
								</div>

								<div class="conditions-panel" style="display:none" id="displayFormatConditionsPanel">
									<div class="conditions-panel__inner">
										<div class="conditions-panel__header">
											<div class="left-panel">
												<label>${t["Based On"]}:</label>
												<coral-select class="coral-select-wrapper" id="conditionalColorBasedonDropdown"></coral-select>
											</div>
											<div class="right-panel">
												<coral-text-field class="coral-another-field" id="conditionalColorBasedonAutosuggestInput" style="display:none;"></coral-text-field>
												<!--<atlas-autosuggest id="conditionalColorBasedonAutosuggest"></atlas-autosuggest>-->
											</div>
										</div>
									</div>

									<div class="conditions-container">
										<div class="left-panel">${t["Conditions"]}: (${t["Stop If True"]})</div>
										<div class="conditions-container__order right-panel">
											<label>${t["Order"]}:</label>
											<coral-button title="${t["Increase condition precedence"]}" id="moveUpConditionButton" icon="up"></coral-button>
											<coral-button title="${t["Decrease condition precedence"]}" id="moveDownConditionButton" icon="down"></coral-button>
											<coral-button class="conditions-container__add" title="${t["Add a condition"]}" id="addConditionButton">
												${t["Add"]}...
											</coral-button>
										</div>
									</div>
									<div>
										<coral-list id="conditionList"></coral-list>
									</div>
								</div>
							</div>
						</coral-collapse>

						<!-- Updates Section -->
						<coral-collapse class="updates" header="${t["Updates"]}" expanded="true">
							<div class="section-panel">
								<div class="colors-panel">
									<div class="left-panel">
										<coral-checkbox id="colFormatUpdatesUseColor"/>
										<label for="colFormatUpdatesUseColor">${t["Color Based On"]}</label>
									</div>

									<div class="right-panel">
										<div class="colortext-basedon">
											<coral-select class="coral-select-wrapper left-panel" id="colorTextBasedonDropdown" disabled></coral-select>
											<div class="right-panel" id="colorTextBasedonAutosuggestWrapper" style="display: none;">
												<coral-text-field class="coral-another-field" id="colorTextBasedonAutosuggestInput" style="width: 100%">
												</coral-text-field>
												<!--<atlas-autosuggest id="colorTextBasedonAutosuggest"></atlas-autosuggest>-->
											</div>
										</div>
									</div>
								</div>

								<div class="highlight-panel">
									<div class="left-panel">
										<coral-checkbox id="colFormatUpdatesUseHighlight"/>
										<label for="colFormatUpdatesUseHighlight">${t["Background Based On"]}</label>
									</div>

									<div class="right-panel">
										<div class="highlight-basedon">
											<coral-select class="coral-select-wrapper left-panel" id="highlightBasedonDropdown" disabled></coral-select>
											<div class="right-panel" id="highlightBasedonAutosuggestWrapper" style="display: none;">
												<coral-text-field class="coral-another-field" id="highlightBasedonAutosuggestInput"></coral-text-field>
												<!--<atlas-autosuggest id="highlightBasedonAutosuggest"></atlas-autosuggest>-->
											</div>
										</div>

										<div class="highlight-apply-block" id="highlightApplyToBlock">
											<div class="highlight-apply-block__inner">
												<label class="left-panel">${t["Apply to"]}:</label>
												<div class="right-panel">
													<coral-radio-button name="highlightRadio" id="colFormatUpdatesApplyCell"
																	value="cell" checked disabled>${t["Cell"]}</coral-radio-button>
													<coral-radio-button name="highlightRadio" id="colFormatUpdatesApplyBorder"
																	value="border" disabled>${t["Border"]}</coral-radio-button>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</coral-collapse>
					</div>
				</div>
			</coral-dialog>

			<coral-dialog id="colorConditionDialog" header="${t["Edit Condition"]}" lang="${lang}">
				<emerald-color-dialog id="colorDialog" no-color allow-nocolor></emerald-color-dialog>
				<emerald-color-dialog id="backgroundColorDialog" no-color allow-nocolor></emerald-color-dialog>
				<div class="container">
					<!-- Preview -->
					<div class="section">
						<div class="input-group">
							<div class="input-side">
								<label>${t["Preview"]}:</label>
							</div><!-- prevent space
							--><div class="input-side">
								<div id="colorDialogSample">${t["Sample Format"]}</div>
							</div>
						</div>
					</div>
					<!-- Condition Type -->
					<div class="section">
						<div class="input-group">
							<div class="input-side">
								<label for="conditionSelect">${t["Condition"]}:</label>
							</div><!-- prevent space
							--><div class="input-side">
								<coral-select class="coral-select-wrapper" id="conditionSelect"></coral-select>
							</div>
						</div>
					</div>
					<!-- Number Value -->
					<div class="section" id="conditionNumber">
						<div class="input-group">
							<div class="input-side">
								<label for="conditionNumberValue" id="numberValueLabel">${t["Greater than"]}:</label>
							</div><!-- prevent space
							--><div class="input-side">
								<coral-number-field id="conditionNumberValue" value="0"></coral-number-field>
							</div>
						</div>
					</div>
					<!-- TwoNumber Value -->
					<div class="section" id="conditionTwoNumbers" style="display:none">
						<div class="input-group">
							<div class="input-side">
								<label for="conditionFirstValue">${t["Low Value"]}:</label>
							</div><!-- prevent space
							--><div class="input-side">
								<coral-number-field id="conditionFirstValue" value="0"></coral-number-field>
							</div>
						</div>
						<div class="input-group">
							<div class="input-side">
								<label for="conditionSecondValue">${t["High Value"]}:</label>
							</div><!-- prevent space
							--><div class="input-side">
								<coral-number-field id="conditionSecondValue" value="0"></coral-number-field>
							</div>
						</div>
					</div>
					<!-- Test Value -->
					<div class="section" id="conditionText" style="display:none">
						<div class="input-group">
							<div class="input-side">
								<label for="conditionTextValue">${t["Text"]}:</label>
							</div><!-- prevent space
							--><div class="input-side">
								<coral-text-field id="conditionTextValue">
							</div>
						</div>
					</div>
					<!-- None Value -->
					<div class="section" id="conditionNone" style="display:none">
						<div style="height: 39px;"></div>
					</div>
					<!-- Color selection -->
					<div class="section">
						<div class="input-group">
							<div class="input-side">
								<label>${t["Text Color"]}:</label>
							</div><!-- prevent space
							--><div class="input-side">
								<div class="color-example" id="textColorExample"></div>
							</div>
						</div>
						<div class="input-group">
							<div class="input-side">
								<label>${t["Cell Color"]}:</label>
							</div><!-- prevent space
							--><div class="input-side">
								<div class="color-example input-side" id="backgroundColorExample"></div>
							</div>
						</div>
					</div>
				</div>
			</coral-dialog>
		`;
	}

	/**
	 * @private
	 * @override
	 */
	firstUpdated(changedProperties) {
		this._initElements();
		this._initHandlers();
		this._initAutosuggests();
	}

	/**
	 * @private
	 * @override
	 */
	updated(changedProperties) {
		var dirty = false;
		if(changedProperties.has("config") || changedProperties.has("data")) {
			var fields = null;
			if(this._config) {
				fields = this._config.fields;

				var onConfirmHandler = this._config.confirm;
				if(typeof onConfirmHandler === "function") {
					this.addEventListener('confirm', onConfirmHandler);
				}
			}
			if(changedProperties.has("config")) {
				this._fillBaseFieldSelectors(fields); // populate dropdown items
			}

			this._initData(); // TODO: Data and states modification should be done in the "update" phase to prevent infinite loop
			if(this._config) { // TODO: Make it so that we can bind data without a config object
				dirty = true;
			}
		}
		if (changedProperties.has("isShown")) {
			this.$.formatDialog.opened = this.isShown;
			if (!this.isShown) {
				this.remove();
			}
		}
		if(changedProperties.has("lang")) {
			dirty = true;
		}
		if(dirty) {
			this._bindData(this._data);
		}
	}

	/**
	 * @public
	 * @param {ColumnFormatDialog~Config=} userConfig Configuration object used to initialize dialog and populate data
	 */
	init(userConfig) {
		this.config = userConfig;
	}

	/** Show the dialog
	 * @public
	 */
	show() {
		if (!this.parentNode) {
			document.body.appendChild(this); // custom element only work when it is in the document
		}
		this.isShown = true;
	}

	/** Hide the dialog
	 * @public
	 */
	hide() {
		this.isShown = false;
	}

	/**
	 * @private
	 * @return {Object}
	 */
	_getTranslation() {
		var lang = this._translation[this.lang] ? this.lang : 'en';
		return this._translation[lang];
	}

	/**
	 * @private
	 * @param {Object} colors
	 */
	_onThemeLoaded(colors) {
		this._colors = colors;
	}

	/**
	 * @private
	 */
	_initData() {
		const t = this;
		t._data = Object.assign({
			valueFormatTab: {
				formatType: 'general'
			},
			displayStyleTab: {
				mode: 'general',
				alignment: 'left',
				general: {}
			},
			colorTextTab: {}
		}, t.data);

		if (!t._data.valueFormatTab.formatType) {
			t._data.valueFormatTab.formatType = 'general';
		}
		if (!t._data.displayStyleTab.mode) {
			t._data.displayStyleTab.mode = 'general';
		}
		if (!t._data.displayStyleTab.alignment) {
			t._data.displayStyleTab.alignment = 'left';
		}

		// TODO: t.conditions should not be public property. It should be prefixed with underscore
		t.conditions = t._getDeepValue(t._data.displayStyleTab, 'conditionalColor.conditions', []);
		t.conditions.forEach((condition) => {
			if (typeof condition.expression === 'string') {
				condition.expression = t._expresionStringToObject(condition.expression);
			}
		});
	}

	/** Convert expression string to object
	 * @private
	 * @param {string} expresionString String describing condition for coloring
	 * @returns {{name: string, text: string, values: Array}} An object used by ELF components
	 */
	_expresionStringToObject(expresionString) {
		let cond = {};
		Object.keys(conditionDict).find(key => {
			const matches = conditionDict[key].regExp.exec(expresionString);
			if (Array.isArray(matches)) {
				cond = {
					name: key,
					text: expresionString,
					values: [matches[1], matches[2]]
				};
				return true;
			}
			return false;
		});
		return cond;
	}

	/**
	 * @private
	 */
	_initElements() {
		const _s = this.shadowRoot;
		/**
		 * Initialize
		 */
		this.$.alignmentButtonsWrapper = _s.getElementById("alignmentButtonsWrapper");
		this.$.dateTimeList = _s.getElementById("dateTimeList");
		this.$.colFormatValueDecimalPlaces = _s.getElementById("colFormatValueDecimalPlaces");
		this.$.colFormatValueUseSeparator = _s.getElementById("colFormatValueUseSeparator");
		this.$.colFormatPlusSign = _s.getElementById("colFormatPlusSign");
		this.$.colFormatValueScaledBillions = _s.getElementById("colFormatValueScaledBillions");
		this.$.colFormatValueScaledMillions = _s.getElementById("colFormatValueScaledMillions");
		this.$.colFormatPercentageMultiply = _s.getElementById("colFormatPercentageMultiply");
		this.$.colFormatDateUseUtcTime = _s.getElementById("colFormatDateUseUtcTime");
		this.$.displayFormatGeneral = _s.getElementById("displayFormatGeneral");
		this.$.displayFormatBar = _s.getElementById("displayFormatBar");
		this.$.displayFormatHeatmap = _s.getElementById("displayFormatHeatmap");
		this.$.displayFormatConditionalColor = _s.getElementById("displayFormatConditionalColor");
		this.$.displayFormatConditionsPanel = _s.getElementById("displayFormatConditionsPanel");
		this.$.displayFormatMessage = _s.getElementById("displayFormatMessage");
		this.$.conditionalColorBasedonAutosuggestInput = _s.getElementById("conditionalColorBasedonAutosuggestInput");
		this.$.conditionalColorBasedonDropdown = _s.getElementById("conditionalColorBasedonDropdown");
		this.$.colorConditionDialog = _s.getElementById("colorConditionDialog");
		this.$.colorTextBasedonAutosuggestInput = _s.getElementById("colorTextBasedonAutosuggestInput");
		this.$.colorTextBasedonAutosuggestWrapper = _s.getElementById("colorTextBasedonAutosuggestWrapper");
		this.$.colorTextBasedonDropdown = _s.getElementById("colorTextBasedonDropdown");
		this.$.highlightBasedonAutosuggestInput = _s.getElementById("highlightBasedonAutosuggestInput");
		this.$.highlightBasedonAutosuggestWrapper = _s.getElementById("highlightBasedonAutosuggestWrapper");
		this.$.highlightBasedonDropdown = _s.getElementById("highlightBasedonDropdown");
		this.$.colFormatFxEmphasize = _s.getElementById("colFormatFxEmphasize");
		this.$.colFormatFxPipLength = _s.getElementById("colFormatFxPipLength");
		this.$.colFormatFxPipOffset = _s.getElementById("colFormatFxPipOffset");
		this.$.colFormatFxSubPipLength = _s.getElementById("colFormatFxSubPipLength");
		this.$.colFormatBarShowValues = _s.getElementById("colFormatBarShowValues");
		this.$.colFormatBarUseMovementColor = _s.getElementById("colFormatBarUseMovementColor");
		this.$.colFormatHeatmapMidpoint = _s.getElementById("colFormatHeatmapMidpoint");
		this.$.colFormatHeatmapApplyText = _s.getElementById("colFormatHeatmapApplyText");
		this.$.colFormatHeatmapApplyCell = _s.getElementById("colFormatHeatmapApplyCell");
		this.$.colFormatUpdatesUseColor = _s.getElementById("colFormatUpdatesUseColor");
		this.$.colorTextBasedonDropdown = _s.getElementById("colorTextBasedonDropdown");
		this.$.colorTextBasedonAutosuggestInput = _s.getElementById("colorTextBasedonAutosuggestInput");
		this.$.colFormatUpdatesUseHighlight = _s.getElementById("colFormatUpdatesUseHighlight");
		this.$.colFormatUpdatesApplyCell = _s.getElementById("colFormatUpdatesApplyCell");
		this.$.colFormatUpdatesApplyBorder = _s.getElementById("colFormatUpdatesApplyBorder");
		this.$.highlightApplyToBlock = _s.getElementById("highlightApplyToBlock");
		this.$.conditionSelect = _s.getElementById("conditionSelect");
		this.$.conditionList = _s.getElementById("conditionList");
		this.$.valueFormatMenu = _s.getElementById("valueFormatMenu");
		this.$.displayFormatMenu = _s.getElementById("displayFormatMenu");
		this.$.valueFormatOther = _s.getElementById("valueFormatOther");
		this.$.valueFormatNumberOrPercentage = _s.getElementById("valueFormatNumberOrPercentage");
		this.$.valueFormatScaledValues = _s.getElementById("valueFormatScaledValues");
		this.$.valueFormatPercentage = _s.getElementById("valueFormatPercentage");
		this.$.valueFormatDateTime = _s.getElementById("valueFormatDateTime");
		this.$.valueFormatFx = _s.getElementById("valueFormatFx");
		this.$.valueFormatMessage = _s.getElementById("valueFormatMessage");
		this.$.sampleTableBody = _s.getElementById("sampleTableBody");
		this.$.sampleTableBodyRows = this.$.sampleTableBody.getElementsByTagName('TR');
		this.$.formatDialog = _s.getElementById("formatDialog");
		this.$.addConditionButton = _s.getElementById("addConditionButton");
		this.$.backgroundColorDialog = _s.getElementById("backgroundColorDialog");
		this.$.backgroundColorExample = _s.getElementById("backgroundColorExample");
		this.$.colorDialog = _s.getElementById("colorDialog");
		this.$.colorDialogSample = _s.getElementById("colorDialogSample");
		this.$.textColorExample = _s.getElementById("textColorExample");
		this.$.moveUpConditionButton = _s.getElementById("moveUpConditionButton");
		this.$.moveDownConditionButton = _s.getElementById("moveDownConditionButton");
		this.$.customDateFormatInput = _s.getElementById("customDateFormatInput");
		this.$.customDateFormatWrapper = _s.getElementById("customDateFormatWrapper");
		this.$.fxReset = _s.getElementById("fxReset");
		this.$.valueMenuDesc = _s.getElementById("valueMenuDesc");
		this.$.conditionNumber = _s.getElementById("conditionNumber");
		this.$.conditionTwoNumbers = _s.getElementById("conditionTwoNumbers");
		this.$.conditionText = _s.getElementById("conditionText");
		this.$.conditionNone = _s.getElementById("conditionNone");
		this.$.numberValueLabel = _s.getElementById("numberValueLabel");
		this.$.conditionNumberValue = _s.getElementById("conditionNumberValue");
		this.$.conditionFirstValue = _s.getElementById("conditionFirstValue");
		this.$.conditionSecondValue = _s.getElementById("conditionSecondValue");
		this.$.conditionTextValue = _s.getElementById("conditionTextValue");

		// TODO: Redundant variables remove these
		this._conditionSelect = this.$.conditionSelect;
		this._conditionList = this.$.conditionList;
		this._valueFormatSelect = this.$.valueFormatMenu;
		this._displayFormatSelect = this.$.displayFormatMenu;
		this._colorConditionDialog = this.$.colorConditionDialog;
		this._conditionalFieldInput = this.$.conditionalColorBasedonAutosuggestInput;
		this._colorTextFieldInput = this.$.colorTextBasedonAutosuggestInput;

		// inject percent bar style to elem
		tr_grid_util_es6_PercentBar_js__WEBPACK_IMPORTED_MODULE_20__[/* PercentBar */ "a"].injectCss(this);
	}

	/**
	 * @private
	 * @param {Object=} opt_data - initial data
	 */
	_bindData(opt_data) { // TODO: opt_data and this._data are actually the same thing
		var trans = this._getTranslation();

		this._conditionalColorField = this.$.conditionalColorBasedonDropdown.value;
		this.$.dateTimeList.data = this._getDateTimeListData();
		this._setVisibleDisplayFormatOptions(this._data.displayStyleTab.mode);
		this.$.colFormatValueDecimalPlaces.value = this._data.valueFormatTab.decimalPlaces || 2;
		this.$.colFormatValueUseSeparator.checked = this._data.valueFormatTab.separator;
		this.$.colFormatPlusSign.checked = this._data.valueFormatTab.plusSign;

		if (this._data.valueFormatTab.scalingUnit === 'billion') {
			this.$.colFormatValueScaledBillions.checked = true;
		}
		else {
			this.$.colFormatValueScaledMillions.checked = true;
		}

		this.$.colFormatPercentageMultiply.checked = this._data.valueFormatTab.multiplyBy100;
		this.$.colFormatDateUseUtcTime.checked = this._data.valueFormatTab.useUTCTime;

		if (this._atLeastOneBidOffer && this._config.supportValueFormatOptions.fx) {
			this.$.colFormatFxEmphasize.checked = this._data.valueFormatTab.fxOptions.isEmphasize;
			this.$.colFormatFxPipLength.value = this._data.valueFormatTab.fxOptions.pipLength;
			this.$.colFormatFxPipOffset.value = this._data.valueFormatTab.fxOptions.pipStart;
			this.$.colFormatFxSubPipLength.value = this._data.valueFormatTab.fxOptions.subPipLength;
		}

		this.$.colFormatBarShowValues.checked = this._data.displayStyleTab.bar ? this._data.displayStyleTab.bar.showValues : false;
		this.$.colFormatBarUseMovementColor.checked = this._data.displayStyleTab.bar ? this._data.displayStyleTab.bar.useMovementColor : false;
		{
			// Init heatmap section
			const heatmap = this._data.displayStyleTab.heatmap || {};
			this.$.colFormatHeatmapMidpoint.value = heatmap.midPoint || 0;

			if (heatmap.mode === 'text') {
				this.$.colFormatHeatmapApplyText.checked = true;
			}
			else {
				this.$.colFormatHeatmapApplyCell.checked = true;
			}
		}

		{
			// Set accessibility for "Color Based On" block
			const isColorText = !!this._data.colorTextTab.colorText;

			this.$.colFormatUpdatesUseColor.checked = isColorText;
			this.$.colorTextBasedonDropdown.disabled = !isColorText;
			this.$.colorTextBasedonAutosuggestInput.disabled = !isColorText;
			// ------------------------------------------------------

			// Set accessibility for "Background Based On" block
			const highlight = this._data.colorTextTab.highlight;
			const isHighlight = !!highlight;

			this.$.colFormatUpdatesUseHighlight.checked = isHighlight;
			this.$.highlightBasedonDropdown.disabled = !isHighlight;
			this.$.highlightBasedonAutosuggestInput.disabled = !isHighlight;
			this.$.colFormatUpdatesApplyCell.disabled = !isHighlight;
			this.$.colFormatUpdatesApplyBorder.disabled = !isHighlight;

			if (highlight && highlight.mode === 'border') {
				this.$.colFormatUpdatesApplyBorder.checked = true;
			}
			else {
				this.$.colFormatUpdatesApplyCell.checked = true;
			}

			// Check support highlighting border and background
			this.$.highlightApplyToBlock.style.display = this._config.supportHighlightApplyToSwitch ? 'none' : 'block';
			// -------------------------------------------------------
		}

		this._conditionDict = conditionDict;
		var dropdownItems = [];

		for (var key in conditionDict) {
			if (conditionDict[key] != null) {
				dropdownItems.push({ id: key, 'value': key, 'label': trans[conditionDict[key].text] });
			}
		}

		this._conditionSelect.data = dropdownItems;
		var conditionList = this.$.conditionList;
		conditionList.renderer = this._conditionRenderer.bind(this);
		this._initDefaultCondition();
		this._createConditionListItems();


		this._valueFormatSelect.data = this._getValueFormatMenu(opt_data);
		this._setVisibleValueFormatOptions(this._data.valueFormatTab.formatType);
		this._valueFormatSelected(this._data.valueFormatTab.formatType);
		this._displayFormatSelect.data = this._getDisplayStyleMenu();


		{
			// Set align for all group of buttons
			// Use coral-split-button standard api `manageCoralButtons()` not working currently
			// Because elem.managedCoralButtons will be undefined during this point
			let textAlignment = this._data.displayStyleTab.alignment;
			const positions = ['left', 'center', 'right'];
			if (positions.indexOf(textAlignment) < 0) {
				textAlignment = 'left';
			}
			for (let i = 0; i < positions.length; i++) {
				const button = this.$.alignmentButtonsWrapper.children[i];
				/**
				 * WORKAROUND: Set active attrivute directly instead of standard method alignmentButtonsWrapper.manageCoralButtons(button)
				 * {@link https://git.sami.int.thomsonreuters.com/elf/coral-split-button/blob/v4/src/coral-split-button.ts#L194}
				 */
				button.active = textAlignment === positions[i];
			}
			this._setAlignment(textAlignment);
		}
	}

	/**
	 * @private
	 */
	_initHandlers() {
		this._intervalId = setInterval(this._onIntervalUpdate, 1500); // TODO: Only start this interval while dialog is on
		this.$.formatDialog.addEventListener('confirm', this._onConfirm.bind(this));
		this.$.formatDialog.addEventListener('cancel', this.hide.bind(this));
		this.$.addConditionButton.onclick = this._addConditionButtonClick.bind(this);
		this._valueFormatSelect.addEventListener('value-changed', function (e) {
			var val;
			if (e && e.detail) {
				val = e.detail.value;
			}
			if (val) {
				this._valueFormatSelected(val);
			}
		}.bind(this));
		this.$.colFormatValueDecimalPlaces.addEventListener('value-changed', function (e) {
			// manupulate input value and set to our cache value this._data.valueFormatTab.decimalPlaces

			var value = Number(e.target.value);
			var max = Number(e.target.getAttribute('max'));
			var min = Number(e.target.getAttribute('min'));
			if (value > max) {
				value = max;
			} else if (value < min) {
				value = min;
			}

			this._data.valueFormatTab.decimalPlaces = e.target.value = value;
			this._formatSampleValue();
		}.bind(this));

		this.$.colFormatValueUseSeparator.addEventListener('checked-changed', function (e) {
			this._data.valueFormatTab.separator = e.target.checked;
			this._formatSampleValue();
		}.bind(this));

		this.$.colFormatPlusSign.addEventListener('checked-changed', function (e) {
			this._data.valueFormatTab.plusSign = e.target.checked;
			this._formatSampleValue();
		}.bind(this));

		this.$.colFormatPercentageMultiply.addEventListener('checked-changed', function (e) {
			this._data.valueFormatTab.multiplyBy100 = e.target.checked;
			this._formatSampleValue();
		}.bind(this));

		this.$.colFormatBarShowValues.addEventListener('checked-changed', function (e) {
			this._data.displayStyleTab.bar.showValues = e.target.checked;
			this._formatSampleValue();
		}.bind(this));

		this.$.colFormatBarUseMovementColor.addEventListener('checked-changed', function (e) {
			this._data.displayStyleTab.bar.useMovementColor = e.target.checked;
			this._formatSampleValue();
		}.bind(this));

		this.$.colFormatValueScaledMillions.addEventListener('click', function (e) {
			if (e.target.checked) {
				this._data.valueFormatTab.scalingUnit = 'million';
				this._formatSampleValue();
			}
		}.bind(this));

		this.$.colFormatValueScaledBillions.addEventListener('click', function (e) {
			if (e.target.checked) {
				this._data.valueFormatTab.scalingUnit = 'billion';
				this._formatSampleValue();
			}
		}.bind(this));

		this._displayFormatSelect.addEventListener('value-changed', function (e) {
			var val;
			if (e && e.detail) {
				val = e.detail.value;
			}
			this._displayFormatSelected(val);
		}.bind(this));
		this._conditionSelect.addEventListener('value-changed', function (e) {
			var val;
			if (e && e.detail) {
				val = e.detail.value;
			}
			if (val) {
				this._setColorCondition(val);
			}
		}.bind(this));

		this.$.textColorExample.onclick = function () {
			this.$.colorDialog.opened = true;
		}.bind(this);

		this.$.backgroundColorExample.onclick = function () {
			this.$.backgroundColorDialog.opened = true;
		}.bind(this);

		this.$.colorDialog.addEventListener('value-changed', function (e) {
			if (e && e.detail) {
				this._colorConditionColor = e.detail.value;
				this.$.textColorExample.style.backgroundColor = e.detail.value;
				this.$.colorDialogSample.style.color = e.detail.value;
				this.$.textColorExample.classList.toggle("no-color", !e.detail.value);
			}
		}.bind(this));

		this.$.backgroundColorDialog.addEventListener('value-changed', function (e) {
			if (e && e.detail) {
				this._colorConditionBackgroundColor = e.detail.value;
				this.$.backgroundColorExample.style.backgroundColor = e.detail.value;
				this.$.backgroundColorExample.classList.toggle("no-color", !e.detail.value);
				this.$.colorDialogSample.style.backgroundColor = e.detail.value;
			}
		}.bind(this));

		this.$.colFormatHeatmapMidpoint.addEventListener('value-changed', function (e) {
			this._data.displayStyleTab.heatmap.midPoint = e.detail.value;
			this._formatSampleValue();
		}.bind(this));

		this.$.colFormatHeatmapApplyCell.addEventListener('click', function (e) {
			if (e.target.checked) {
				this._data.displayStyleTab.heatmap.mode = 'cell';
				this._formatSampleValue();
			}
		}.bind(this));

		this.$.colFormatHeatmapApplyText.addEventListener('click', function (e) {
			if (e.target.checked) {
				this._data.displayStyleTab.heatmap.mode = 'text';
				this._formatSampleValue();
			}
		}.bind(this));

		this.$.colorConditionDialog.addEventListener('confirm', this._onColorConditionDialogConfirm.bind(this));
		this.$.colorConditionDialog.addEventListener('cancel', this._onColorConditionDialogCancel.bind(this));

		this._conditionList.addEventListener('value-changed', function (e) {
			this._selectedConditionIdx = e.detail.value.id;
		}.bind(this));

		this.$.moveUpConditionButton.onclick = this._onMoveUpConditionClick.bind(this);
		this.$.moveDownConditionButton.onclick = this._onMoveDownConditionClick.bind(this);

		this.$.conditionalColorBasedonDropdown.addEventListener('value-changed', function (e) {
			var val;
			if (e && e.detail) {
				val = e.detail.value;
			}
			this._setColorBaseOn(val);
		}.bind(this));

		this.$.colorTextBasedonDropdown.addEventListener('value-changed', this._colorTextBasedOnDropdownValueChanged.bind(this));
		this.$.highlightBasedonDropdown.addEventListener('value-changed', this._highlightBasedOnDropdownValueChanged.bind(this));
		this.$.colorTextBasedonAutosuggestInput.addEventListener('value-changed', (e) => {
			if (this._data.colorTextTab.colorText) { // TODO: Handle the case where value-changed is triggered when tab is not opened
				this._data.colorTextTab.colorText.field = e.detail.value;
			}
		});
		this.$.highlightBasedonAutosuggestInput.addEventListener('value-changed', (e) => {
			if (this._data.colorTextTab.highlight) { // TODO: Handle the case where value-changed is triggered when tab is not opened
				this._data.colorTextTab.highlight.field = e.detail.value;
			}
		});
		this.$.dateTimeList.addEventListener('value-changed', function (e) {
			if (e && e.detail && e.detail.value) {
				if (e.detail.value === 'customDateFormat') {
					this.$.customDateFormatWrapper.style.display = 'inline-flex';
					this._data.isCustomDateFormat = true;
				}
				else {
					this.$.customDateFormatWrapper.style.display = 'none';
					this._data.valueFormatTab.dateTimeFormat = e.detail.value;
					this._data.isCustomDateFormat = false;
				}
				this._formatSampleValue();
			}
		}.bind(this));

		this.$.colFormatDateUseUtcTime.addEventListener('checked-changed', function (e) {
			this._data.valueFormatTab.useUTCTime = e.target.checked;
			this._formatSampleValue();
		}.bind(this));

		this.$.customDateFormatInput.addEventListener('value-changed', function (e) {
			this._data.valueFormatTab.dateTimeFormat = e.detail.value;
			this._formatSampleValue();
		}.bind(this));

		this.$.alignmentButtonsWrapper.addEventListener('click', function (e) {
			if (!e || !e.target || e.target.id === 'alignmentButtonsWrapper') {
				return;
			}
			this._setAlignment(e.target.id);
		}.bind(this));

		this.$.colFormatFxEmphasize.addEventListener('checked-changed', function (e) {
			this._data.valueFormatTab.fxOptions.isEmphasize = e.target.checked;
			this._formatSampleValue();
		}.bind(this));

		this.$.colFormatFxPipLength.addEventListener('value-changed', function (e) {
			this._data.valueFormatTab.fxOptions.pipLength = e.detail.value;
			this._formatSampleValue();
		}.bind(this));

		this.$.colFormatFxPipOffset.addEventListener('value-changed', function (e) {
			this._data.valueFormatTab.fxOptions.pipStart = e.detail.value;
			this._formatSampleValue();
		}.bind(this));

		this.$.colFormatFxSubPipLength.addEventListener('value-changed', function (e) {
			this._data.valueFormatTab.fxOptions.subPipLength = e.detail.value;
			this._formatSampleValue();
		}.bind(this));

		this.$.fxReset.onclick = function (e) {
			this.$.colFormatFxEmphasize.checked = true;
			this.$.colFormatFxPipLength.value = null;
			this.$.colFormatFxPipOffset.value = null;
			this.$.colFormatFxSubPipLength.value = null;
		}.bind(this);

		this.$.colFormatUpdatesUseColor.addEventListener('checked-changed', function (e) {
			const isChecked = e.target.checked;

			this.$.colorTextBasedonDropdown.disabled = !isChecked;
			this.$.colorTextBasedonAutosuggestInput.disabled = !isChecked;
			if (isChecked) {
				this._data.colorTextTab.colorText = {
					field: this.$.colorTextBasedonDropdown.value
				};
			}
			else if (this._data.colorTextTab) {
				this._data.colorTextTab.colorText = null;
			}
			this._formatSampleValue();
		}.bind(this));

		this.$.colFormatUpdatesUseHighlight.addEventListener('checked-changed', function (e) {
			const isChecked = e.target.checked;

			this.$.highlightBasedonDropdown.disabled = !isChecked;
			this.$.highlightBasedonAutosuggestInput.disabled = !isChecked;
			this.$.colFormatUpdatesApplyCell.disabled = !isChecked;
			this.$.colFormatUpdatesApplyBorder.disabled = !isChecked;
			if (isChecked) {
				this._data.colorTextTab.highlight = {
					mode: this.$.colFormatUpdatesApplyBorder ? 'border' : 'cell',
					field: this.$.highlightBasedonDropdown.value
				};
			}
			else if (this._data.colorTextTab) {
				this._data.colorTextTab.highlight = null;
			}

			this._formatSampleValue();
		}.bind(this));

		this.$.colFormatUpdatesApplyCell.addEventListener('click', function (e) {
			if (e.target.checked) {
				if (this._data.colorTextTab.highlight) {
					this._data.colorTextTab.highlight.mode = 'cell';
				}
				else {
					this._data.colorTextTab.highlight = {
						field: this.$.highlightBasedonDropdown.value,
						mode: 'cell'
					};
				}
				this._formatSampleValue();
			}
		}.bind(this));

		this.$.colFormatUpdatesApplyBorder.addEventListener('click', function (e) {
			if (e.target.checked) {
				if (this._data.colorTextTab.highlight) {
					this._data.colorTextTab.highlight.mode = 'border';
				}
				else {
					this._data.colorTextTab.highlight = {
						field: this.$.highlightBasedonDropdown.value,
						mode: 'border'
					};
				}
				this._formatSampleValue();
			}
		}.bind(this));
	}

	/**
	 * @private
	 */
	_initDefaultCondition() {
		if (this.conditions.length) {
			this._generateConditions();
			return;
		}

		// var movementColor = userSettings['movementColor'];
		var bgColor = ''; // WORKAROUNND: Check again when color dialog has 'no color'

		this.conditions = [
			{
				'expression': {
					'name': 'GREATER_THAN',
					'values': [0]
				},
				'color': 'green',
				'backgroundColor': bgColor
			},
			{
				'expression': {
					'name': 'EQUAL_TO',
					'values': [0]
				},
				'color': '',
				'backgroundColor': bgColor
			},
			{
				'expression': {
					'name': 'LESS_THAN',
					'values': [0]
				},
				'color': 'red',
				'backgroundColor': bgColor
			}
		];

		this._generateConditions();
	}

	/**
	 * @private
	 * @param {Object} e - event obj
	 */
	_colorTextBasedOnDropdownValueChanged(e) {
		var val;

		if (!this.$.colFormatUpdatesUseColor.checked) {
			return;
		}

		if (e && e.detail) {
			val = e.detail.value;
		}

		if (val === 'ANOTHER') {
			this.$.colorTextBasedonAutosuggestWrapper.style.display = 'inline-flex';
		}
		else {
			if (!this._data.colorTextTab) {
				this._data.colorTextTab = {};
			}
			this._data.colorTextTab.colorText = {
				field: val
			};
			this.$.colorTextBasedonAutosuggestWrapper.style.display = 'none';
		}
	}

	/**
	 * @private
	 * @param {Object} e - event object
	 */
	_highlightBasedOnDropdownValueChanged(e) {
		var val;

		if (!this.$.colFormatUpdatesUseHighlight.checked) {
			return;
		}

		if (e && e.detail) {
			val = e.detail.value;
		}

		if (val === 'ANOTHER') {
			this.$.highlightBasedonAutosuggestWrapper.style.display = 'inline-flex';
		}
		else if (this._data.colorTextTab && this._data.colorTextTab.highlight) {
			this._data.colorTextTab.highlight.field = val;
		}
		else {
			if (!this._data.colorTextTab) {
				this._data.colorTextTab = {};
			}
			this._data.colorTextTab.highlight = {
				field: val
			};
			this.$.highlightBasedonAutosuggestWrapper.style.display = 'none';
		}
	}

	/**
	 * @private
	 * @param {*} val - Value
	 */
	_displayFormatSelected(val) {
		this._setVisibleDisplayFormatOptions(val);
		this._setDisplayFormat(val);
	}

	/**
	 * @private
	 * @param {*} val - Value
	 */
	_valueFormatSelected(val) {
		this._setVisibleValueFormatOptions(val);
		this._setValueFormat(val);
		this._setValueMenuDescription(val);
	}

	/**
	 * @private
	 */
	_addConditionButtonClick() {
		this._conditionSelect.value = 'GREATER_THAN';
		this._colorConditionColor = 'green';
		this._colorConditionBackgroundColor = '';
		this.$.textColorExample.style.backgroundColor = 'green';
		this.$.textColorExample.classList.remove("no-color");
		this.$.backgroundColorExample.style.backgroundColor = '';
		this.$.backgroundColorExample.classList.add("no-color");
		this.$.colorDialogSample.style.color = 'green';
		this.$.colorDialogSample.style.backgroundColor = '';
		this._colorConditionDialog.opened = true;
	}

	/**
	 * @private
	 * @param {Object} optData - initial data
	 * @return {Array} - menu items
	 */
	_getValueFormatMenu(optData) {
		var trans = this._getTranslation();
		const menu = [
			{ value: 'general', label: trans['General'], 'disabled': false },
			{ value: 'number', label: trans['Number'], 'disabled': false },
			{ value: 'scaled', label: trans['Scaled Values'], 'disabled': false },
			{ value: 'percent', label: trans['Percentage'], 'disabled': false },
			{ value: 'datetime', label: trans['Date & Time'], 'disabled': false }
		];
		const fxItem = { value: 'fx', label: trans['FX'], 'disabled': false };

		if (this._config.supportValueFormatOptions.fx) {
			menu.push(fxItem);
		}

		menu.forEach(item => {
			item.selected = item.value === this._data.valueFormatTab.formatType;
		});

		if (this._config.supportValueFormatOptions.fx) {
			// need requirements for implementation
			if (optData.fieldDataType === 'fx') {
				fxItem.disabled = true;
			}
			else {
				menu.forEach(item => {
					if (item !== fxItem) {
						item.disabled = true;
					}
				});
			}
		}
		return menu;
	}

	/** Generate DisplayStyle items
	 * @private
	 * @returns {Array.<{label: string, value: string}>} Object used by ELF's coral list
	 */
	_getDisplayStyleMenu() {
		var trans = this._getTranslation();
		const menu = [
			{ value: 'general', label: trans['General'] },
			{ value: 'heatmap', label: trans['Heatmap'], hidden: true },
			{ value: 'conditionalColor', label: trans['Conditional Color'] }
		];

		if (this._config.supportDisplayStyleOptions.bar) {
			menu.splice(1, 0, { value: 'bar', label: trans['Bar'] });
		}

		menu.forEach(item => {
			item.selected = item.value === this._data.displayStyleTab.mode;
		});

		return menu;
	}

	/**
	 * @private
	 */
	_initAutosuggests() {
		let conditionalFieldAutoSuggest = this.$.conditionalColorBasedonAutosuggest;

		if (conditionalFieldAutoSuggest) {
			conditionalFieldAutoSuggest.setAttribute('api-key', 'czZTQ5MjY4');
			conditionalFieldAutoSuggest.profile = 'Field Selector';
			conditionalFieldAutoSuggest.url = 'http://localhost:3133/synapse/service/suggestions/suggest';
			this._conditionalFieldAutoSuggest = conditionalFieldAutoSuggest;
		}

		this._initAutosuggest(this._conditionalFieldInput, this._conditionalFieldAutoSuggest);
		let colorTextFieldAutoSuggest = this.$.colorTextBasedonAutosuggest;

		if (colorTextFieldAutoSuggest) {
			colorTextFieldAutoSuggest.setAttribute('api-key', 'czZTQ5MjY4');
			colorTextFieldAutoSuggest.profile = 'Field Selector';
			colorTextFieldAutoSuggest.url = 'http://localhost:3133/synapse/service/suggestions/suggest';
			this._colorTextFieldAutoSuggest = colorTextFieldAutoSuggest;
			// this._colorText.append(colorTextFieldAutoSuggest);
		}

		this._initAutosuggest(this._colorTextFieldInput, this._colorTextFieldAutoSuggest);
		this._highlightFieldInput = this.$.highlightBasedonAutosuggestInput;
		let highlightFieldAutoSuggest = this.$.highlightBasedonAutosuggest;

		if (highlightFieldAutoSuggest) {
			highlightFieldAutoSuggest.setAttribute('api-key', 'czZTQ5MjY4');
			highlightFieldAutoSuggest.profile = 'Field Selector';
			highlightFieldAutoSuggest.url = 'http://localhost:3133/synapse/service/suggestions/suggest';
			this._highlightFieldAutoSuggest = highlightFieldAutoSuggest;
		}

		this._initAutosuggest(this._highlightFieldInput, this._highlightFieldAutoSuggest);
	}

	/**
	 * @private
	 * @param {Object} input - input element
	 * @param {Object} autoSuggest - atlas-autosuggest element
	 */
	_initAutosuggest(input, autoSuggest) {
		if (input && autoSuggest) {
			autoSuggest.renderer = function (suggestion) {
				if (suggestion.renderer) {
					return suggestion.renderer(suggestion);
				}
				var el = document.createElement('atlas-suggest-item');
				el.value = suggestion.value.subtitle;
				el.asset = suggestion.value.vc;
				el.label = suggestion.label;
				el.description = suggestion.value.title;
				el.symbol = (suggestion.value['p']) ? /* Field */ suggestion.value['p']['fn'] : /* Formula*/ suggestion.value['cmd'];
				el.highlighted = suggestion.highlighted;
				if (suggestion.hidden) {
					el.style.display = 'none';
				}
				return el;
			};

			autoSuggest.attach = input;

			autoSuggest.addEventListener('item-select', function (e) {
				if (!e || !e.detail) {
					return;
				}

				if ((e.detail.method !== 'click') && (e.detail.method !== 'enter')) {
					return;
				}

				if (!e.detail.suggestion) {
					return;
				}
				var selectedItem = {
					'label': e.detail.suggestion.label,
					'field': e.detail.suggestion.value.p.fn,
					'src': e.detail.suggestion.value.p.fsrc
				};
				this.updateDataWithAutosuggest(selectedItem, e.target);

			}.bind(this));

			autoSuggest.addEventListener('icon-click', function (e) {
				// TODO: opening Udip dialog
			});

			autoSuggest.addEventListener('input', function (e) {
				var value = e.srcElement.value;
				if (value !== scope.selectedItem.label && value !== scope.selectedItem.field) {
					var selectedItem = {
						'label': value,
						'field': value,
						'src': ''
					};
					this.updateDataWithAutosuggest(selectedItem, e.target);
				}
			}.bind(this));
		}
	}

	/**
	 * @public
	 * @param {Object} selectedItem - autosuggest selection
	 * @param {Object} autoSuggest - source autosuggest element
	 */
	updateDataWithAutosuggest(selectedItem, autoSuggest) {
		switch (autoSuggest.id) {
		case 'conditionalColorBasedonAutosuggest':
			this._data.displayStyleTab.conditionalColor.field = selectedItem.field;
			break;
		case 'colorTextBasedonAutosuggest':
			this._data.colorTextTab.colorText.field = selectedItem.field;
			break;
		case 'highlightBasedonAutosuggest':
			this._data.colorTextTab.highlight.field = selectedItem.field;
			break;
		default:
			break;
		}
	}

	/**
	 * @private
	 * @param {Object} item - condition item
	 * @param {*} composer
	 * @param {Element} element
	 * @return {Object} - condition DOM element
	 */
	_conditionRenderer(item, composer, element) {
		var trans = this._getTranslation();
		var deleteButton, modifyButton, sampleDiv, conditionTitle, sampleLabel;
		if (!element) {
			element = document.createElement('coral-item');

			var container = document.createElement('div');
			container.className = 'condition-item';

			conditionTitle = document.createElement('div');
			conditionTitle.className = 'condition-item-title left-panel';

			var right = document.createElement('div');
			right.className = "right-panel";

			var sampleDivOuter = document.createElement('div');
			sampleDivOuter.className = 'condition-sample-outer';
			sampleDiv = document.createElement('div');
			sampleDiv.className = 'condition-sample';
			sampleDivOuter.appendChild(sampleDiv);

			sampleLabel = document.createElement('label');
			sampleDiv.appendChild(sampleLabel);

			var buttonDiv = document.createElement('div');
			buttonDiv.className = 'condition-button';

			modifyButton = document.createElement('coral-button');
			modifyButton.className = 'modify-button';
			modifyButton.icon = 'edit';
			buttonDiv.appendChild(modifyButton);

			deleteButton = document.createElement('coral-button');
			deleteButton.className = 'delete-button';
			deleteButton.icon = 'cross-circle';
			buttonDiv.appendChild(deleteButton);

			right.appendChild(sampleDivOuter);
			right.appendChild(buttonDiv);

			container.appendChild(conditionTitle);
			container.appendChild(right);

			element.appendChild(container);
		} else {
			deleteButton = element.querySelector(".delete-button");
			modifyButton = element.querySelector(".modify-button");
			sampleDiv = element.querySelector(".condition-sample");
			sampleLabel = sampleDiv.getElementsByTagName("label")[0];
			conditionTitle = element.querySelector("div.condition-item-title");
		}

		element.selected = this._selectedConditionIdx === item.value.id;

		// Recommended to use tap event instead of click by elf team
		if (deleteButton._onDeleteConditionClick) {
			deleteButton.removeEventListener('tap', deleteButton._onDeleteConditionClick);
		}
		deleteButton._onDeleteConditionClick = this._onDeleteConditionClick.bind(this, item.value.id);
		deleteButton.addEventListener('tap', deleteButton._onDeleteConditionClick);
		deleteButton.title = trans['Remove'];

		// Recommended to use tap event instead of click by elf team
		if (modifyButton._onEditConditionClick) {
			modifyButton.removeEventListener('tap', modifyButton._onEditConditionClick);
		}
		modifyButton._onEditConditionClick = this._onEditConditionClick.bind(this, item.value.id);
		modifyButton.addEventListener('tap', modifyButton._onEditConditionClick);
		modifyButton.title = trans['Edit'];

		sampleLabel.innerText = trans['Sample Format'];

		this._applyStyleObject(sampleDiv, {
			'background-color': item.value.backgroundColor
		});

		this._applyStyleObject(sampleLabel, {
			'color': item.value.color,
			'text-align': this.conditionAlignment
		});

		conditionTitle.title = item.label;
		conditionTitle.innerText = item.label;

		return element;
	}

	/**
	 * @private
	 * @param {string} id - condition id
	 */
	_onDeleteConditionClick(id) {
		var selectedConditionIdx = this._isEmpty(id) ? this._selectedConditionIdx : id;

		if (this._isEmpty(selectedConditionIdx) || selectedConditionIdx < 0 || selectedConditionIdx >= this.conditions.length) {
			return;
		}

		this.conditions.splice(selectedConditionIdx, 1);
		this._createConditionListItems();
	}

	/**
	 * @private
	 * @param {string} id - condition id
	 */
	_onEditConditionClick(id) {
		var selectedConditionIdx = this._isEmpty(id) ? this._selectedConditionIdx : id;
		this._selectedConditionIdx = selectedConditionIdx;

		if (this._isEmpty(selectedConditionIdx) || selectedConditionIdx < 0 || selectedConditionIdx >= this.conditions.length) {
			return;
		}

		var data = this.conditions[selectedConditionIdx];

		if (data && data.expression) {
			this._conditionSelect.value = data.expression.name;
			this._colorConditionColor = data.color;
			this.$.conditionTextValue.value = data.expression.values[0];
			this.$.conditionNumberValue.value = data.expression.values[0];
			this.$.conditionFirstValue.value = data.expression.values[0];
			this.$.conditionSecondValue.value = data.expression.values[1];
			this.$.textColorExample.style.backgroundColor = data.color;
			this.$.textColorExample.classList.toggle("no-color", !data.color);
			this._colorConditionBackgroundColor = data.backgroundColor;
			this.$.backgroundColorExample.style.backgroundColor = data.backgroundColor;
			this.$.backgroundColorExample.classList.toggle("no-color", !data.backgroundColor);
			this.$.colorDialogSample.style.color = data.color;
			this.$.colorDialogSample.style.backgroundColor = data.backgroundColor;
		}

		this._isConditionEditing = true;
		this._colorConditionDialog.opened = true;
	}

	/**
	 * @private
	 * @param {number} selectedIndex -selected condition index
	 * @param {number} moveCount - number of moves to do
	 */
	_swapCondition(selectedIndex, moveCount) {
		var temp = this.conditions[selectedIndex];
		var move = selectedIndex + moveCount;

		this.conditions[selectedIndex] = this.conditions[move];
		this.conditions[move] = temp;
		this._createConditionListItems(move);
	}

	/**
	 * @private
	 */
	_onMoveUpConditionClick() {
		var selectedConditionIdx = this._selectedConditionIdx;

		if (this._isEmpty(selectedConditionIdx) || selectedConditionIdx <= 0 || selectedConditionIdx >= this.conditions.length) {
			return;
		}

		this._swapCondition(selectedConditionIdx, -1);
	}

	/**
	 * @private
	 */
	_onMoveDownConditionClick() {
		var selectedConditionIdx = this._selectedConditionIdx;

		if (this._isEmpty(selectedConditionIdx) || selectedConditionIdx < 0 || selectedConditionIdx >= (this.conditions.length - 1)) {
			return;
		}

		this._swapCondition(selectedConditionIdx, 1);
	}

	/**
	 * @private
	 * @param {Array=} opt_fields - fields for dropdowns
	 */
	_fillBaseFieldSelectors(opt_fields) {
		var trans = this._getTranslation();
		var i;
		let data = [
			{ 'id': 'this-column', 'label': trans['This Column'], 'value': this._constSelfColumn },
			{ 'id': 'another-field', 'label': trans['Another Field'], 'value': 'ANOTHER' },
			{ 'type': 'divider' }
		];

		if (opt_fields && opt_fields.length > 0) {
			for (i = 0; i < opt_fields.length; i++) {
				data.push({ 'id': opt_fields[i], 'label': opt_fields[i], 'value': opt_fields[i] });
			}
		}
		var condFieldData = JSON.parse(JSON.stringify(data));
		var condFieldIndex = this._config.defaultToSelf ? 0 : 1;

		var displayStyleTab = this._data ? this._data.displayStyleTab : null;
		var conditionalColor = displayStyleTab ? displayStyleTab.conditionalColor : null;
		var condColorField = conditionalColor ? conditionalColor.field : "";
		if(!condColorField) {
			condColorField = this._constSelfColumn;
		}

		if (condColorField) {
			for (i = 0; i < condFieldData.length; i++) {
				if (condFieldData[i].value === condColorField) {
					condFieldIndex = i;
					condFieldData[i].selected = true;
				}
			}
		}

		if (condColorField !== 'MULTIPLE' && condColorField !== 'default') {
			condFieldData[condFieldIndex].selected = true;
		}

		if (condFieldIndex === 1) {
			this.$.conditionalColorBasedonAutosuggestInput.value = condColorField;
			this.$.conditionalColorBasedonAutosuggestInput.style.display = 'inline-flex';
		}

		this.$.conditionalColorBasedonDropdown.data = condFieldData;
		var colorFieldData = JSON.parse(JSON.stringify(data));
		var colorFieldIndex = this._config.defaultToSelf ? 0 : 1;
		var colorField;

		var colorTextTab = this._data ? this._data.colorTextTab : null;
		if (colorTextTab && colorTextTab.colorText && colorTextTab.colorText.field) {
			colorField = colorTextTab.colorText.field;
		}
		else {
			colorField = this._config.defaultToSelf ? 'SELF' : 'CF_NETCHNG';
		}

		if (colorField) {
			for (i = 0; i < colorFieldData.length; i++) {
				if (colorFieldData[i].value === colorField) {
					colorFieldIndex = i;
				}
			}
		}

		if (colorField !== 'MULTIPLE' && colorField.toLowerCase() !== 'default') {
			colorFieldData[colorFieldIndex].selected = true;
		}

		if (colorFieldIndex === 1) {
			this.$.colorTextBasedonAutosuggestInput.value = colorField;
			this.$.colorTextBasedonAutosuggestWrapper.style.display = 'inline-flex';
		}

		this.$.colorTextBasedonDropdown.data = colorFieldData;
		var highlightFieldData = JSON.parse(JSON.stringify(data));
		var highlightFieldIndex = this._config.defaultToSelf ? 0 : 1;
		var highlightField;

		if (colorTextTab && colorTextTab.highlight && colorTextTab.highlight.field) {
			highlightField = colorTextTab.highlight.field;
		}
		else {
			highlightField = this._config.defaultToSelf ? 'SELF' : 'CF_TICK';
		}

		if (colorField) {
			for (i = 0; i < highlightFieldData.length; i++) {
				if (highlightFieldData[i].value === highlightField) {
					highlightFieldIndex = i;
				}
			}
		}

		if (highlightField !== 'MULTIPLE' && highlightField.toLowerCase() !== 'default') {
			highlightFieldData[highlightFieldIndex].selected = true;
		}

		if (highlightFieldIndex === 1) {
			this.$.highlightBasedonAutosuggestInput.value = colorField;
			this.$.highlightBasedonAutosuggestWrapper.style.display = 'inline-flex';
		}

		this.$.highlightBasedonDropdown.data = highlightFieldData;
	}

	/**
	 * @private
	 * @param {*} value - Value
	 */
	_setAlignment(value) {
		if (!value) return;

		if (value.includes('left')) {
			this._data.displayStyleTab.alignment = 'left';
		}

		else if (value.includes('center')) {
			this._data.displayStyleTab.alignment = 'center';
		}

		else if (value.includes('right')) {
			this._data.displayStyleTab.alignment = 'right';
		}
		this._formatSampleValue();
	}

	/**
	 * @private
	 * @param {string} value - selected value
	 */
	_setVisibleValueFormatOptions(value) {
		if (value !== 'general' && value !== 'datetime' && value !== 'fx') {
			this.$.valueFormatOther.style.display = 'block';
			if (value === 'percent' || value === 'number' || value === 'scaled') {
				this.$.valueFormatNumberOrPercentage.style.display = 'block';
			}
			else {
				this.$.valueFormatNumberOrPercentage.style.display = 'none';
			}
			if (value === 'scaled') {
				this.$.valueFormatScaledValues.style.display = 'block';
			}
			else {
				this.$.valueFormatScaledValues.style.display = 'none';
			}
			if (value === 'percent') {
				this.$.valueFormatPercentage.style.display = 'block';
			}
			else {
				this.$.valueFormatPercentage.style.display = 'none';
			}
		}
		else {
			this.$.valueFormatOther.style.display = 'none';
		}

		if (value === 'datetime') {
			this.$.valueFormatDateTime.style.display = 'block';
		}
		else {
			this.$.valueFormatDateTime.style.display = 'none';
		}

		if (value === 'fx') {
			this.$.valueFormatFx.style.display = 'block';
		}
		else {
			this.$.valueFormatFx.style.display = 'none';
		}

		if (!value) {
			this.$.valueFormatMessage.style.display = 'block';
		}
		else {
			this.$.valueFormatMessage.style.display = 'none';
		}

	}

	/**
	 * @private
	 * @param {string} value - selected value
	 */
	_setValueFormat(value) {
		if (value) {
			this._data.valueFormatTab.formatType = value;
		}

		var decimalPlacesValue = Number(this.$.colFormatValueDecimalPlaces.value);

		switch (value) {
		case 'number':
			this._data.valueFormatTab.decimalPlaces = decimalPlacesValue;
			this._data.valueFormatTab.separator = this.$.colFormatValueUseSeparator.checked;
			this._data.valueFormatTab.plusSign = this.$.colFormatPlusSign.checked;
			break;
		case 'scaled':
			this._data.valueFormatTab.decimalPlaces = decimalPlacesValue;
			this._data.valueFormatTab.scalingUnit = this.$.colFormatValueScaledMillions.checked ? 'million' : 'billion';
			this._data.valueFormatTab.separator = this.$.colFormatValueUseSeparator.checked;
			this._data.valueFormatTab.plusSign = this.$.colFormatPlusSign.checked;
			break;
		case 'percent':
			this._data.valueFormatTab.decimalPlaces = decimalPlacesValue;
			this._data.valueFormatTab.separator = this.$.colFormatValueUseSeparator.checked;
			this._data.valueFormatTab.plusSign = this.$.colFormatPlusSign.checked;
			this._data.valueFormatTab.multiplyBy100 = this.$.colFormatPercentageMultiply.checked;
			break;
		case 'datetime':
			this._data.valueFormatTab.dateTimeFormat = this.$.dateTimeList.value || 'M/D/YY';
			this._data.valueFormatTab.isCustomDateFormat = this.$.dateTimeList.value === 'customDateFormat';
			this._data.valueFormatTab.useUTCTime = this.$.colFormatDateUseUtcTime.checked;
			break;
		case 'fx':
			this._data.valueFormatTab.fxOptions = {
				isEmphasize: this.$.colFormatFxEmphasize.checked,
				pipLength: this.$.colFormatFxPipLength.value,
				pipStart: this.$.colFormatFxPipOffset.value,
				subPipLength: this.$.colFormatFxSubPipLength.value
			};
			break;
		default:

			break;
		}

		this._formatSampleValue();
	}

	/**
	 * @private
	 * @param {string} value - selected value
	 */
	_setVisibleDisplayFormatOptions(value) {
		if (value === 'general') {
			this.$.displayFormatGeneral.style.display = 'block';
		}
		else {
			this.$.displayFormatGeneral.style.display = 'none';
		}

		if (value === 'bar') {
			this.$.displayFormatBar.style.display = 'block';
		}
		else {
			this.$.displayFormatBar.style.display = 'none';
		}

		if (value === 'heatmap') {
			this.$.displayFormatHeatmap.style.display = 'block';
		}
		else {
			this.$.displayFormatHeatmap.style.display = 'none';
		}

		if (value === 'conditionalColor') {
			this.$.displayFormatConditionalColor.style.display = 'block';
			this.$.displayFormatConditionsPanel.style.display = 'block';
		}
		else {
			this.$.displayFormatConditionalColor.style.display = 'none';
			this.$.displayFormatConditionsPanel.style.display = 'none';
		}

		if (!value) {
			this.$.displayFormatMessage.style.display = 'block';
		}
		else {
			this.$.displayFormatMessage.style.display = 'none';
		}
	}

	/**
	 * @private
	 * @param {string} value - selected value
	 */
	_setDisplayFormat(value) {
		this._data.displayStyleTab.mode = value;
		this._setSampleColumnCount(1);

		if (value === 'general') {
			this.$.colFormatUpdatesUseColor.disabled = false;
			this._checkOptionAlignment(this.$.alignmentButtonsWrapper);
		}
		else if (value === 'bar') {
			this.$.colFormatUpdatesUseColor.disabled = false;
			this._data.displayStyleTab.bar = {
				showValues: this.$.colFormatBarShowValues.checked,
				useMovementColor: this.$.colFormatBarUseMovementColor.checked
			};
			this._checkOptionAlignment(this.$.alignmentButtonsWrapper);
		}
		else if (value === 'heatmap') {
			// heatmap mode has 2 cells per row
			this._setSampleColumnCount(2);
			this._data.displayStyleTab.heatmap = {};
			this._checkOptionAlignment(this.$.alignmentButtonsWrapper);
			if (this.$.colFormatHeatmapApplyText.checked) {
				this._data.displayStyleTab.heatmap.mode = 'text';
			}
			else {
				this._data.displayStyleTab.heatmap.mode = 'cell';
			}
			this._data.displayStyleTab.heatmap.midPoint = this.$.colFormatHeatmapMidpoint.value ? this.$.colFormatHeatmapMidpoint.value : 0;
			this.$.colFormatUpdatesUseColor.checked = false;
			this.$.colFormatUpdatesUseColor.disabled = true;
		}
		else if (value === 'conditionalColor') {
			this._data.displayStyleTab.conditionalColor = {};
			this._data.displayStyleTab.conditionalColor.conditions = this.conditions;
			this._checkOptionAlignment(this.$.alignmentButtonsWrapper);
			this.$.colFormatUpdatesUseColor.checked = false;
			this.$.colFormatUpdatesUseColor.disabled = true;
		}

		this._formatSampleValue();
	}

	/**
	 * @private
	 * @param {Object} wrapper - wrapper element for alignment buttons
	 */
	_checkOptionAlignment(wrapper) {
		for (var item in wrapper.children) {
			if (wrapper.children[item].active) {
				var alignment = wrapper.children[item].id.replace('tab-', '');
				this._data.displayStyleTab.alignment = alignment;
				return;
			}
		}
	}

	/**
	 * @private
	 * @param {string} value
	 */
	_setColorBaseOn(value) {
		if (value && !this._data.displayStyleTab.conditionalColor) {
			this._data.displayStyleTab.conditionalColor = {};
		}
		if (value === 'ANOTHER') {
			this.$.conditionalColorBasedonAutosuggestInput.style.display = 'block';
		}
		else {
			this.$.conditionalColorBasedonAutosuggestInput.style.display = 'none';
			this._data.displayStyleTab.conditionalColor.field = value;
		}
		this._generateConditions();
	}
	/**
	 * @private
	 * @param {string} value - selected value
	 */
	_setColorCondition(value) {
		let condition = this._conditionDict[value];

		if (condition) {
			if (condition.valueType === 'number') {
				this.$.conditionNumber.style.display = 'block';
				this.$.numberValueLabel.innerText = condition.text + ':';
			}
			else {
				this.$.conditionNumber.style.display = 'none';
			}

			if (condition.valueType === 'twoNumbers') {
				this.$.conditionTwoNumbers.style.display = 'block';
			}
			else {
				this.$.conditionTwoNumbers.style.display = 'none';
			}

			if (condition.valueType === 'text') {
				this.$.conditionText.style.display = 'block';
			}
			else {
				this.$.conditionText.style.display = 'none';
			}

			if (!condition.valueType && condition.valueType === 'none') {
				this.$.conditionNone.style.display = 'block';
			}
			else {
				this.$.conditionNone.style.display = 'none';
			}
		}
	}

	/**
	 * @private
	 * @param {string} value - selected value;
	 */
	_setValueMenuDescription(value) {
		var trans = this._getTranslation();
		switch (value) {
		case 'general':
			this.$.valueMenuDesc.title = trans['General format items have no specific number format.'];
			break;
		case 'number':
			this.$.valueMenuDesc.title = trans['Number format is used for general display of numbers.'];
			break;
		case 'scaled':
			this.$.valueMenuDesc.title = trans['Scaled values format is used for displaying large numbers.'];
			break;
		case 'percent':
			this.$.valueMenuDesc.title = trans['Percentage format is used to display the result with a percent sign.'];
			break;
		case 'datetime':
			this.$.valueMenuDesc.title = trans['Date & time format displays date and time serial numbers as date values'];
			break;
		case 'fx':
			this.$.valueMenuDesc.title = trans['FX format is used for Bid/Offer columns.'];
			break;
		default:
			this.$.valueMenuDesc.title = trans['General format items have no specific number format.'];
			break;
		}
	}

	/**
	 * @private
	 * @param {Object} e - event object
	 */
	_onColorConditionDialogConfirm(e) {
		if (e.cancelled) {
			return;
		}

		let condition = this._conditionDict[this._conditionSelect.value];
		this._colorConditionEditState.expression.name = this._conditionSelect.value;

		if (condition) {
			if (condition.valueType === 'number') {
				this._colorConditionEditState.expression.values = [this.$.conditionNumberValue.value];
			}
			if (condition.valueType === 'twoNumbers') {
				this._colorConditionEditState.expression.values = [this.$.conditionFirstValue.value, this.$.conditionSecondValue.value];
			}
			if (condition.valueType === 'text') {
				this._colorConditionEditState.expression.values = [this.$.conditionTextValue.value];
			}
		}

		this._colorConditionEditState.color = this._colorConditionColor;
		this._colorConditionEditState.backgroundColor = this._colorConditionBackgroundColor;
		var newCondition = JSON.parse(JSON.stringify(this._colorConditionEditState));

		if (this._isConditionEditing) {
			this.conditions[this._selectedConditionIdx] = newCondition;
			this._isConditionEditing = false;
		}
		else {
			this.conditions.push(newCondition);
		}

		this._generateConditions();
		this._createConditionListItems();
	}

	/**
	 * @private
	 */
	_onColorConditionDialogCancel() {
		this._isConditionEditing = false;
	}

	/**
	 * @private
	 */
	_generateConditions() {
		if (!this.conditions) {
			return;
		}

		var len = this.conditions.length;

		for (var i = 0; i < len; i++) {
			this._createCondition(this.conditions[i]);
		}
	}

	/**
	 * @private
	 * @param {Object} newCondition - new condition object
	 */
	_createCondition(newCondition) {
		let conditionalColorField;

		if (this._data.displayStyleTab && this._data.displayStyleTab.conditionalColor) {
			conditionalColorField = this._data.displayStyleTab.conditionalColor.field;
		}

		if (!conditionalColorField) {
			conditionalColorField = this._constSelfColumn;
		}

		newCondition['fields'] = [{
			'field': conditionalColorField,
			'displayName': '',
			'src': ''
		}];

		if (Array.isArray(newCondition.expression.values)) {
			newCondition.expression.text = this._getExpression(conditionalColorField, newCondition['expression']);
		}
	}

	/**
	 * @private
	 * @param {string} field - base field
	 * @param {Object} expression - condition expression
	 * @return {string} - formatted expression string
	 */
	_getExpression(field, expression) {
		const val0 = expression.values[0];
		const val1 = expression.values[1];

		return this._formatCondition(this._conditionDict[expression.name].expression, field, val0, val1);
	}

	/**
	 * @private
	 * @param {string} format - formatting template
	 * @return {string} - formatted condition
	 */
	_formatCondition(format) {
		var args = Array.prototype.slice.call(arguments, 1);
		return format.replace(/{(\d+)}/g, (function (match, number) {
			return void 0 !== args[number] ? args[number] : match;
		}));
	}

	/**
	 * @private
	 * @param {Object} data - condition data object
	 * @return {string} - condition string
	 */
	_conditionToString(data) {
		var trans = this._getTranslation();

		// eslint-disable-next-line no-undefined
		if (data === undefined || !conditionDict[data.name]) { // TODO: Fix this
			return '';
		}

		var def = conditionDict[data.name];
		var text;

		switch (def.valueType) {
		case 'number':
			text = this._formatCondition(trans[def.displayFormat], data.values[0]);
			break;
		case 'twoNumbers':
			text = this._formatCondition(trans[def.displayFormat], data.values[0], data.values[1]);
			break;
		case 'none':
			text = trans[def.displayFormat];
			break;
		default:
			text = this._formatCondition(trans[def.displayFormat], data.values[0]);
		}
		return text;
	}

	/**
	 * @private
	 * @param {number} optSelectedIndex - selected condition index
	 */
	_createConditionListItems(optSelectedIndex) {
		var conditions = this.conditions;
		var conditionList = this._conditionList;

		if (!conditions || !conditionList) {
			return;
		}

		// Create list
		var data = [];

		for (var i = conditions.length; --i >= 0;) {
			var condition = conditions[i];
			data.unshift({
				label: this._conditionToString(condition.expression), // Need to convert
				value: Object.assign({
					id: i
				}, condition)
			});
		}
		conditionList.data = data;

		if (this._isEmpty(optSelectedIndex) || optSelectedIndex < 0 || optSelectedIndex >= data.length) {
			// eslint-disable-next-line no-undefined
			this._selectedConditionIdx = undefined;
		}
		else {
			this._selectedConditionIdx = optSelectedIndex;

			// Set selection
			conditionList.selectItem(conditionList.data[optSelectedIndex]);
		}
		if (this._data && this._data.displayStyleTab && this._data.displayStyleTab.conditionalColor) {
			this._data.displayStyleTab.conditionalColor.conditions = this.conditions;
		}
		this._formatSampleValue();

	}

	/**
	 * @private
	 */
	_onIntervalUpdate() {
		if(this.isShown) {
			this._sampleSetIndex = (++this._sampleSetIndex) % SAMPLE_DATASET.length;
			this._formatSampleValue(true);

			setTimeout(this._formatSampleValue, 500);
		}
	}

	/**
	 * @private
	 * @param {boolean=} blinking
	 */
	_formatSampleValue(blinking) {
		var styleObjs = this._getSampleStyleObjects(blinking);
		var rows = this.$.sampleTableBodyRows;
		var barRendering = this._data && this._data.displayStyleTab && (this._data.displayStyleTab.mode === 'bar');
		var borderBlinking = blinking && !this.$.colFormatUpdatesApplyCell.checked;
		var curIndex = this._sampleSetIndex;
		var curDataset = SAMPLE_DATASET[curIndex];

		if(borderBlinking) {
			this.$.sampleTableBody.classList.add("blinking-borders");
		} else {
			this.$.sampleTableBody.classList.remove("blinking-borders");
		}

		for (var r = 0; r < rows.length; r++) {
			var row = rows[r];
			for (var c = row.cells.length; --c >= 0;) {
				var cell = row.cells[c];
				cell.innerHTML = ''; // TODO: Not good for performance
				var value = curDataset[r][c];
				var formattedValue = this._updateValueFormatExample(value);
				if (barRendering) {
					this._renderBar(
						cell,
						value, formattedValue,
						this._data.displayStyleTab.bar.useMovementColor,
						this._data.displayStyleTab.bar.showValues
					);
				} else {
					cell.textContent = formattedValue;
				}
				var obj = styleObjs[r][c];
				for (var prop in obj) {
					cell.style[prop] = obj[prop];
				}
			}
		}
	}

	/**
	 * @private
	 * @param {Object} cell - cell element
	 * @param {number} value - base number value
	 * @param {string} formattedValue - formatted string value
	 * @param {boolean} useMovementColor - true if movement colors applied
	 * @param {boolean} showValues - true if numeric values need to be displayed
	 */
	_renderBar(cell, value, formattedValue, useMovementColor, showValues) {
		let bar = new tr_grid_util_es6_PercentBar_js__WEBPACK_IMPORTED_MODULE_20__[/* PercentBar */ "a"]();
		bar.setValue(value, ABSOLUTE_MAX_SAMPLE_DATA, formattedValue);
		bar.hideText(!showValues);
		bar.useMovementColor(useMovementColor);
		bar.setTextWidth(95);
		if (this._data.displayStyleTab.alignment) {
			bar.setAlignment(this._data.displayStyleTab.alignment);
		}
		let percentBarElem = bar.getElement();
		cell.appendChild(percentBarElem);
	}

	/**
	 * @private
	 * @param {number} val - base number value
	 * @return {string} -formatted value
	 */
	_updateValueFormatExample(val) {
		var value = val;
		var valueFormatTab = this._data ? this._data.valueFormatTab : null;
		if(!valueFormatTab) {
			valueFormatTab = {};
		}
		var decimalPlaces = valueFormatTab.decimalPlaces ? valueFormatTab.decimalPlaces : 0;
		var plusSign = valueFormatTab.plusSign && value > 0;
		var numberFormatter = this._numberFormatter;
		switch (valueFormatTab.formatType) {
		case 'general':
			numberFormatter.resetToDefaults();
			numberFormatter.init({
				decimalPlaces: 2
			});
			value = numberFormatter.format(value);
			break;
		case 'number':
			numberFormatter.resetToDefaults();
			numberFormatter.init({
				decimalPlaces: decimalPlaces,
				plusSign: plusSign,
				separator: valueFormatTab.separator
			});
			value = numberFormatter.format(value);
			break;
		case 'scaled':
			numberFormatter.resetToDefaults();
			numberFormatter.init({
				decimalPlaces: decimalPlaces,
				plusSign: plusSign,
				separator: valueFormatTab.separator,
				scalingUnit: valueFormatTab.scalingUnit === 'billion' ? 'b' : 'm',
				formatType: 'scaled'
			});
			value = numberFormatter.format(value);
			break;
		case 'percent':
			numberFormatter.resetToDefaults();
			numberFormatter.init({
				decimalPlaces: decimalPlaces,
				plusSign: plusSign,
				separator: valueFormatTab.separator,
				formatType: 'percent',
				percentSign: true,
				multiplyBy100: valueFormatTab.multiplyBy100
			});
			value = numberFormatter.format(value);
			break;
		case 'datetime':
			var format = valueFormatTab.dateTimeFormat ? valueFormatTab.dateTimeFormat : 'M/D/YY';
			this._dateFormatter.setDateTimeMeta(format, valueFormatTab.useUTCTime, null, this.lang);
			value = this._dateFormatter.format(new Date());
			break;
		case 'fx':
			value = '';
			break;
		default:
			break;
		}
		return value;
	}

	/**
	 * @private
	 * @param {boolean=} blinking
	 * @return {Array} - style objects for sample table
	 */
	_getSampleStyleObjects(blinking) {
		var cc = this._sampleColCount;
		var rc = this._sampleRowCount;
		var curIndex = this._sampleSetIndex;
		var curDataset = SAMPLE_DATASET[curIndex];
		var displayStyleTab = this._data ? this._data.displayStyleTab : null;
		if(!displayStyleTab) {
			displayStyleTab = {};
		}

		var alignment = displayStyleTab.alignment;
		alignment = (alignment && alignment !== 'default') ? alignment : '';
		var r, c, obj; // eslint-disable-line
		var objs = new Array(rc);

		for (r = 0; r < rc; ++r) {
			var ary = objs[r] = new Array(cc);
			for (c = 0; c < cc; ++c) {
				obj = ary[c] = {};
				obj.textAlign = alignment;
				obj.color = '';
				obj.backgroundColor = '';
				obj.borderColor = '';// Style clearing
			}
		}

		var val;
		if (displayStyleTab.mode === 'heatmap') {
			var midPoint = (+displayStyleTab.heatmap.midPoint) || 0;
			var min = 0, max = 0;
			var themeColorBase = this._toTriplet(getComputedStyle(document.documentElement).getPropertyValue('--color-scheme-neutral'));
			var themeColorUp = this._toTriplet(getComputedStyle(document.documentElement).getPropertyValue('--color-scheme-positive'));
			var themeColorDown = this._toTriplet(getComputedStyle(document.documentElement).getPropertyValue('--color-scheme-negative'));

			for (r = 0; r < rc; ++r) {
				for (c = 0; c < cc; ++c) {
					var data = curDataset[r][c];
					if (min > data) min = data;
					if (max < data) max = data;
				}
			}

			for (r = 0; r < rc; ++r) {
				for (c = 0; c < cc; ++c) {
					obj = objs[r][c];
					val = curDataset[r][c] - midPoint;
					var blendedColor = null;
					if (val > 0) {
						blendedColor = this._blend(themeColorBase, themeColorUp,
							val / (max - midPoint)
						);
					} else if (val < 0) {
						blendedColor = this._blend(themeColorBase, themeColorDown,
							val / (min - midPoint)
						);
					} else {
						blendedColor = this._blend(themeColorBase, themeColorDown, 0);
					}
					if (displayStyleTab.heatmap.mode === 'text') {
						obj.color = this._toHex(blendedColor);
					}
					else {
						obj.backgroundColor = this._toHex(blendedColor);
						obj.color = this._toContrast(blendedColor);
					}
				}
			}
		}
		if (displayStyleTab.mode === 'conditionalColor') {
			for (r = 0; r < rc; ++r) {
				for (c = 0; c < cc; ++c) {
					for (var i = 0; i < this.conditions.length; i++) {
						obj = objs[r][c];
						val = curDataset[r][c];
						var cond = this._parseRowCondition(this.conditions[i].expression.text);
						if (!cond) continue;
						var ret = null;
						try {
							ret = cond(val);
						} catch (error) { } // do nothing
						if (ret) {
							obj.color = this.conditions[i].color;
							obj.backgroundColor = this.conditions[i].backgroundColor;
							break;
						}
					}
				}
			}
		}

		if (this.$.colFormatUpdatesUseColor.checked) {
			for (r = 0; r < rc; ++r) {
				for (c = 0; c < cc; ++c) {
					obj = objs[r][c];
					val = curDataset[r][c];
					if (val > 0) {
						obj.color = 'var(--color-scheme-positive)';
					}
					else {
						obj.color = 'var(--color-scheme-negative)';
					}
				}
			}
		}

		if (blinking && this.$.colFormatUpdatesUseHighlight.checked) {
			var bgBlinking = this.$.colFormatUpdatesApplyCell.checked;
			var prevIndex = curIndex ? curIndex - 1 : SAMPLE_DATASET.length - 1;
			var prevDataset = SAMPLE_DATASET[prevIndex];

			for (r = 0; r < rc; ++r) {
				for (c = 0; c < cc; ++c) {
					obj = objs[r][c];
					var curVal = curDataset[r][c];
					var prevVal = prevDataset[r][c];
					var blinkColor = '';
					if (curVal >= prevVal) {
						blinkColor = this._colors ? this._colors.tickUp : 'var(--color-scheme-tickup)';
					} else {
						blinkColor = this._colors ? this._colors.tickDown : 'var(--color-scheme-tickdown)';
					}

					if(bgBlinking) {
						obj.backgroundColor = blinkColor;
						obj.color = this._colors ? tr_grid_util_es6_CellPainter_js__WEBPACK_IMPORTED_MODULE_15__[/* default */ "a"].getOppositeColor(blinkColor) : '';
					} else {
						obj.borderColor = blinkColor;
					}
				}
			}
		}
		return objs;
	}

	/**
	 * @private
	 * @return {Object} - dialog output object
	 */
	_createOutput() {
		// TODO: Handle the case where there is no data
		var formatType = this._data.valueFormatTab.formatType;
		var mode = this._data.displayStyleTab.mode;
		var output = {
			valueFormatTab: {
				formatType: formatType
			},
			displayStyleTab: {
				mode: mode
			}
		};

		switch (formatType) {
		case 'general':
			break;
		case 'number':
			output.valueFormatTab.decimalPlaces = this._data.valueFormatTab.decimalPlaces;
			output.valueFormatTab.separator = this._data.valueFormatTab.separator;
			output.valueFormatTab.plusSign = this._data.valueFormatTab.plusSign;
			break;
		case 'scaled':
			output.valueFormatTab.decimalPlaces = this._data.valueFormatTab.decimalPlaces;
			output.valueFormatTab.scalingUnit = this._data.valueFormatTab.scalingUnit;
			output.valueFormatTab.separator = this._data.valueFormatTab.separator;
			output.valueFormatTab.plusSign = this._data.valueFormatTab.plusSign;
			break;
		case 'percent':
			output.valueFormatTab.decimalPlaces = this._data.valueFormatTab.decimalPlaces;
			output.valueFormatTab.separator = this._data.valueFormatTab.separator;
			output.valueFormatTab.plusSign = this._data.valueFormatTab.plusSign;
			output.valueFormatTab.multiplyBy100 = this._data.valueFormatTab.multiplyBy100;
			break;
		case 'datetime':
			output.valueFormatTab.dateTimeFormat = this._data.valueFormatTab.dateTimeFormat;
			output.valueFormatTab.isCustomDateFormat = this._data.valueFormatTab.isCustomDateFormat;
			output.valueFormatTab.useUTCTime = this._data.valueFormatTab.useUTCTime;
			break;
		case 'fx':
			const fxOptions = Object.assign({}, this._data.valueFormatTab.fxOptions);
			output.valueFormatTab.fxOptions = {
				isEmphasize: fxOptions.isEmphasize,
				pipLength: fxOptions.pipLength,
				pipStart: fxOptions.pipStart,
				subPipLength: fxOptions.subPipLength
			};
			break;
		default:
			break;
		}

		output.displayStyleTab[mode] = this._data.displayStyleTab[mode] ? this._data.displayStyleTab[mode] : {};
		output.displayStyleTab[mode].alignment = this._data.displayStyleTab.alignment;

		if (mode === 'conditionalColor') {
			const field = output.displayStyleTab.conditionalColor.field || this._constSelfColumn;
			// compatibility with general and monitor
			output.displayStyleTab.conditionalColor.conditions.forEach(condition => {
				if (typeof condition.expression !== 'string') {
					condition.expressionObject = condition.expression;
					condition.expression = condition.expression.text.replace(this._constSelfColumn, field);
				}
			});
		}

		if (this.$.colFormatUpdatesUseColor.checked || this.$.colFormatUpdatesUseHighlight.checked) {
			output.colorTextTab = {};
			if (this.$.colFormatUpdatesUseColor.checked) {
				output.colorTextTab.colorText = this._data.colorTextTab.colorText;
			}
			if (this.$.colFormatUpdatesUseHighlight.checked) {
				output.colorTextTab.highlight = this._data.colorTextTab.highlight;
				// compatibility with def-Grid
				output.colorTextTab.blinking = {
					field: this._data.colorTextTab.highlight.field,
					border: this._data.colorTextTab.highlight.mode === 'border'
				};

			}
		}

		return output;
	}

	/**
	 * @private
	 */
	_onConfirm() {
		var output = this._createOutput();
		var event = new CustomEvent('confirm', {
			cancelable: true,
			detail: {
				data: output,
				value: output
			}
		});
		this.dispatchEvent(event);
		this.hide();
	}

	/**
	 * @private
	 * @param {Array} tripletA - first color as [R, G, B]
	 * @param {Array} tripletB - second color as [R, G, B]
	 * @param {Array} ratio - ratio
	 * @return {Array} - blended color as [R, G, B]
	 */
	_blend(tripletA, tripletB, ratio) {
		if (ratio && tripletA) {
			if (ratio >= 1) {
				return tripletB;
			}
			else {
				var triplet = [0, 0, 0];
				for (var i = 0; i < 3; ++i) {
					triplet[i] = Math.round(tripletA[i] + (tripletB[i] - tripletA[i]) * ratio);
				}
				return triplet;
			}
		}
		else {
			return tripletA;
		}
	}

	/**
	 * @private
	 * @param {Array} triplet - [R, G, B]
	 * @return {string} - color as hex
	 */
	_toContrast(triplet) {
		var brightness = Math.sqrt(
			triplet[0] * triplet[0] * 0.241
			+ triplet[1] * triplet[1] * 0.691
			+ triplet[2] * triplet[2] * 0.068
		);

		if (brightness >= 135) { // Brighter color has more impact to human eyes than the darker color
			return '#000000';
		}
		return '#ffffff';
	}

	/**
	 * @private
	 * @param {Array} triplet - [R, G, B]
	 * @return {string} - color as hex
	 */
	_toHex(triplet) {
		var str = '';
		if (triplet) {
			str = '#';
			for (var i = 0; i < 3; ++i) {
				str += triplet[i].toString(16);
			}
		}
		return str;
	}


	/**
	 * @private
	 * @param {string} hex - color as hex
	 * @return {Array} - color as [R, G, B]
	 */
	_toTriplet(hex) {
		var r = parseInt(hex.slice(1, 3), 16);
		var g = parseInt(hex.slice(3, 5), 16);
		var b = parseInt(hex.slice(5, 7), 16);
		return [r, g, b];
	}

	/**
	 * @private
	 * @param {string} expression - expression string
	 * @return {Function} - condition function
	 */
	_parseRowCondition(expression) {
		if (!expression) {
			return null;
		}

		var regEx = new RegExp(/\[[^[]*\]/g); // Regex for matching the field token E.g. '[CF_BID]'
		expression = expression.replace(regEx, 'value');
		var finalExp = '(function(value) { return ' + expression + '; })';

		var fn = null;
		try {
			// TODO: find a better way to avoid using eval
			fn = eval(finalExp); // eslint-disable-line
		} catch (err) { }
		return fn;
	}

	/**
	 * @private
	 * @param {Object} el - dom element to apply styles
	 * @param {Object} styleObject - styles to apply
	 * @param {boolean} append - true if append styles, false if replace
	 */
	_applyStyleObject(el, styleObject, append) {
		var styleString = '';

		if (!el) {
			return;
		}

		for (var property in styleObject) {
			if (styleObject[property] == null) {
				continue;
			}

			styleString += property + ':' + styleObject[property] + '; ';
		}

		var elStyle = el.style;

		if (typeof elStyle.cssText === 'undefined') {
			el.setAttribute('style', styleString);

			return;
		}

		if (append) {
			// TODO: Add regexp for checking the character `;` at the end of line.
			elStyle.cssText += styleString;
		}
		else {
			elStyle.cssText = styleString;
		}
	}

	/**
	 * @private
	 * @param {Object} value - value to check
	 * @param {boolean} allowEmptyString - allow empty strings
	 * @return {boolean} - boolean check result
	 */
	_isEmpty(value, allowEmptyString) {
		return (value === null || typeof value === 'undefined') || (!allowEmptyString ? value === '' : false) || (this._isArray(value) && value.length === 0);
	}

	/**
	 * @private
	 * @param {Object} value - value to check
	 * @return {boolean} - boolean check result
	 */
	_isArray(value) {
		return Object.prototype.toString.call(value) === '[object Array]';
	}

	/**
	 * @private
	 * @param {number} x - number to format
	 * @return {string} - number formatted with comma separators
	 */
	_numberWithCommas(x) {
		var parts = x.toString().split('.');
		parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ',');
		return parts.join('.');
	}

	/**
	 * @private
	 * @return {Array}
	 */
	_getDateTimeListData() {
		var lang = this._translation[this.lang] ? this.lang : "en";
		var trans = this._getTranslation();
		return [
			{ type: 'header', label: trans['Date'] },
			{ value: 'M/D/YY', label: 'M/D/YY' },
			{ value: 'MM/DD/YY', label: 'MM/DD/YY' },
			{ value: 'M/D/YYYY', label: 'M/D/YYYY' },
			{ value: 'MM/DD/YYYY', label: 'MM/DD/YYYY' },
			{ value: 'D-MMM-YY', label: 'D-MMM-YY' },
			{ value: 'DD-MMM-YY', label: 'DD-MMM-YY' },
			{ value: 'D-MMM-YYYY', label: 'D-MMM-YYYY' },
			{ value: 'DD-MMM-YYYY', label: 'DD-MMM-YYYY' },
			{ value: 'MMMM D, YYYY', label: 'MMMM D, YYYY' },
			{ value: 'YYYY-MM-DD', label: 'YYYY-MM-DD' },
			{ value: 'YYYYMMDD', label: 'YYYYMMDD' },
			{ value: 'YYYY/M/D', label: 'YYYY/M/D' },
			{ value: 'YYYY/MM/DD', label: 'YYYY/MM/DD' },
			{ value: 'YYYYMD', label: 'YYYYMD', hidden: (lang !== 'ja' && lang !== 'zh') }, // Show when set to Japanese or Chinese

			{ type: 'header', label: trans['Time'] },
			{ value: 'h:mm A', label: 'h:mm A' },
			{ value: 'hh:mm A', label: 'hh:mm A' },
			{ value: 'h:mm:ss A', label: 'h:mm:ss A' },
			{ value: 'hh:mm:ss A', label: 'hh:mm:ss A' },
			{ value: 'H:mm', label: 'H:mm' },
			{ value: 'HH:mm', label: 'HH:mm' },
			{ value: 'H:mm:ss', label: 'H:mm:ss' },
			{ value: 'HH:mm:ss', label: 'HH:mm:ss' },

			{ type: 'header', label: trans['Date & Time'] },
			{ value: 'M/D/YY h:mm A', label: 'M/D/YY h:mm A' },
			{ value: 'M/D/YY h:mm:ss A', label: 'M/D/YY h:mm:ss A' },
			{ value: 'M/D/YY H:mm', label: 'M/D/YY H:mm' },
			{ value: 'M/D/YY H:mm:ss', label: 'M/D/YY H:mm:ss' },
			{ value: 'MM/DD/YY h:mm A', label: 'MM/DD/YY h:mm A' },
			{ value: 'MM/DD/YY h:mm:ss A', label: 'MM/DD/YY h:mm:ss A' },
			{ value: 'MM/DD/YY H:mm', label: 'MM/DD/YY H:mm' },
			{ value: 'MM/DD/YY H:mm:ss', label: 'MM/DD/YY H:mm:ss' },
			{ value: 'M/D/YYYY h:mm A', label: 'M/D/YYYY h:mm A' },
			{ value: 'M/D/YYYY h:mm:ss A', label: 'M/D/YYYY h:mm:ss A' },
			{ value: 'M/D/YYYY H:mm', label: 'M/D/YYYY H:mm' },
			{ value: 'M/D/YYYY H:mm:ss', label: 'M/D/YYYY H:mm:ss' },
			{ value: 'MM/DD/YYYY h:mm A', label: 'MM/DD/YYYY h:mm A' },
			{ value: 'MM/DD/YYYY h:mm:ss A', label: 'MM/DD/YYYY h:mm:ss A' },
			{ value: 'MM/DD/YYYY H:mm', label: 'MM/DD/YYYY H:mm' },
			{ value: 'MM/DD/YYYY H:mm:ss', label: 'MM/DD/YYYY H:mm:ss' },
			{ value: 'YYYYMD H:mm', label: 'YYYYMD H:mm', hidden: (lang !== 'ja' && lang !== 'zh') }, // Show when set to Japanese or Chinese

			{ type: 'header', label: trans['Custom'] },
			{ value: 'customDateFormat', label: trans['User Defined'] }
		];
	}

	/** Gets the value at path of object. If the resolved value is undefined, the defaultValue is returned in its place.
	 * @private
	 * @param {Object} obj  The object to query
	 * @param {string} path The path of the property to get.
	 * @param {*} defaultValue The value returned for undefined resolved values.
	 * @returns {*} Returns the resolved value
	 */
	_getDeepValue(obj, path, defaultValue) {
		const paths = path.split('.');
		const length = paths.length;
		let current = obj;

		for (let i = 0; i < length; i++) {
			const key = paths[i];
			// eslint-disable-next-line no-undefined
			if (current[key] === undefined) { // TODO: Fix this
				return defaultValue;
			}
			else {
				current = current[key];
			}
		}

		return current;
	}

	/**
	 * @private
	 * @param {Array} arr - column definitions array
	 * @param {string} key - field key
	 * @param {string} defaultValue - default value
	 * @return {string} - common value
	 */
	_getCommonValue(arr, key, defaultValue) {
		var len = arr.length;
		var val = arr[len - 1];

		// eslint-disable-next-line no-undefined
		if (val !== undefined) { // TODO: Fix this
			val = (key) ? val[key] : val;
		}

		for (var i = arr.length - 1; --i >= 0;) {
			var val2 = arr[i];

			// eslint-disable-next-line no-undefined
			if (val2 !== undefined) { // TODO: Fix this
				val2 = (key) ? val2[key] : val2;
			}

			if (val !== val2) {
				// eslint-disable-next-line no-undefined
				return undefined;
			}
		}

		// eslint-disable-next-line no-undefined
		if (val === undefined) { // TODO: Fix this
			// eslint-disable-next-line no-undefined
			if (defaultValue !== undefined) { // TODO: Fix this
				return defaultValue;
			}

			return 'default';
		}

		return val;
	}

	/**
	 * @private
	 * @param {number} num - input number
	 * @return {string} - formatted number
	 */
	_prefixZero(num) {
		return (num > 9) ? '' + num : '0' + num;
	}

	/**
	 * @private
	 * @param {number} count number of cell
	 */
	_setSampleColumnCount(count) {
		if (count < 1) count = 1; // min is 1
		this._sampleColCount = count;

		var rows = this.$.sampleTableBodyRows;
		for (var r = 0; r < rows.length; r++) {
			var row = rows[r];
			while (row.cells.length > count) {
				row.removeChild(row.children[row.children.length - 1]); // remove last child
			}
			while (row.cells.length < count) {
				row.appendChild(document.createElement('td')); // add more cell
			}
		}
	}
}

Object(_elf_core_lib_elf_js__WEBPACK_IMPORTED_MODULE_0__[/* customElement */ "i"])('column-format-dialog')(ColumnFormatDialog);


/* unused harmony default export */ var _unused_webpack_default_export = (ColumnFormatDialog);

/***/ }),
/* 55 */
/***/ (function(module, exports) {



/***/ }),
/* 56 */
/***/ (function(module, exports) {



/***/ }),
/* 57 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./node_modules/@elf/core-phrasebook/lib/index.js + 1 modules
var lib = __webpack_require__(2);

// CONCATENATED MODULE: ./node_modules/@elf/core-phrasebook/lib/locale/ja/shared.js

// these are used for buttons
const translations = {
    CANCEL: '',
    OK: 'OK',
    CLOSE: '',
    APPLY: ''
};
lib["a" /* Phrasebook */].define('ja', translations);
/* harmony default export */ var shared = (translations);

// CONCATENATED MODULE: ./node_modules/@elf/core-phrasebook/lib/locale/ja/coral-dialog.js


// deliberately empty as covered by shared
const coral_dialog_translations = {
    HEADER: ''
};
lib["a" /* Phrasebook */].define('ja', 'coral-dialog', coral_dialog_translations);
/* harmony default export */ var coral_dialog = (coral_dialog_translations);

// CONCATENATED MODULE: ./node_modules/@elf/core-phrasebook/lib/locale/de/shared.js

// these are used for buttons
const shared_translations = {
    CANCEL: 'Abbrechen',
    OK: 'OK',
    CLOSE: 'Schlieen',
    APPLY: 'Anwenden'
};
lib["a" /* Phrasebook */].define('de', shared_translations);
/* harmony default export */ var de_shared = (shared_translations);

// CONCATENATED MODULE: ./node_modules/@elf/core-phrasebook/lib/locale/de/coral-dialog.js


// deliberately empty as covered by shared
const de_coral_dialog_translations = {
    HEADER: 'Dialog'
};
lib["a" /* Phrasebook */].define('de', 'coral-dialog', de_coral_dialog_translations);
/* harmony default export */ var de_coral_dialog = (de_coral_dialog_translations);

// CONCATENATED MODULE: ./node_modules/@elf/core-phrasebook/lib/locale/zh/shared.js

// these are used for buttons
const zh_shared_translations = {
    CANCEL: '',
    OK: '',
    CLOSE: '',
    APPLY: ''
};
lib["a" /* Phrasebook */].define('zh', zh_shared_translations);
/* harmony default export */ var zh_shared = (zh_shared_translations);

// CONCATENATED MODULE: ./node_modules/@elf/core-phrasebook/lib/locale/zh/coral-dialog.js


// deliberately empty as covered by shared
const zh_coral_dialog_translations = {
    HEADER: ''
};
lib["a" /* Phrasebook */].define('zh', 'coral-dialog', zh_coral_dialog_translations);
/* harmony default export */ var zh_coral_dialog = (zh_coral_dialog_translations);

// CONCATENATED MODULE: ./node_modules/@elf/core-phrasebook/lib/locale/zh-hant/shared.js

// these are used for buttons
const zh_hant_shared_translations = {
    CANCEL: '',
    OK: '',
    CLOSE: '',
    APPLY: ''
};
lib["a" /* Phrasebook */].define('zh-Hant', zh_hant_shared_translations);
/* harmony default export */ var zh_hant_shared = (zh_hant_shared_translations);

// CONCATENATED MODULE: ./node_modules/@elf/core-phrasebook/lib/locale/zh-hant/coral-dialog.js


// deliberately empty as covered by shared
const zh_hant_coral_dialog_translations = {
    HEADER: ''
};
lib["a" /* Phrasebook */].define('zh-Hant', 'coral-dialog', zh_hant_coral_dialog_translations);
/* harmony default export */ var zh_hant_coral_dialog = (zh_hant_coral_dialog_translations);

// EXTERNAL MODULE: ./node_modules/@elf/core/lib/elf.js + 57 modules
var lib_elf = __webpack_require__(0);

// CONCATENATED MODULE: ./node_modules/@elf/amber-loader/lib/amber-loader.js
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

/**
 * Global cache for loader template parts
 */
let cachedParts;
/**
 * `amber-loader` is an animated graphical component,
 *  used to show that an app is performing an action
 *  in the background such as downloading content.
 */
let amber_loader_AmberLoader = class AmberLoader extends lib_elf["a" /* BasicElement */] {
    /**
     * Element version number
     */
    static get version() {
        return '4.5.22';
    }
    /**
     * Collection of template part names,
     * used to create and theme different loader styles
     */
    get templateParts() {
        const parts = cachedParts || this.getComputedVariable('--parts')
            .split(',').map(part => part.trim()).filter(part => part);
        if (cachedParts !== parts && parts.length) {
            cachedParts = parts;
        }
        return parts;
    }
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        !cachedParts && this.requestUpdate(); // polyfilled browsers require a second update
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     *
     * @return TemplateResult
     */
    render() {
        const dots = [];
        for (const part of this.templateParts) {
            dots.push(lib_elf["k" /* html */] `
        <i part="${part}"></i>
      `);
        }
        return lib_elf["k" /* html */] `
      <div part="wrapper">${dots}</div>
    `;
    }
};
amber_loader_AmberLoader = __decorate([
    Object(lib_elf["i" /* customElement */])('amber-loader')
], amber_loader_AmberLoader);


// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/a.js



elf.nativeStyles.define('a', 'a{text-decoration:none;cursor:pointer;color:#484848}a:active{color:#434343}a:focus{outline:0;border-style:dotted;border-width:0 0 1px;border-color:#f93}a:hover{color:#000}a:visited{color:#8a8a96}a[alt]{color:#0080f0}a[alt]:hover{color:#46a0f0}a[alt]:visited{color:#6262de}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/body.js



elf.nativeStyles.define('body', '@font-face{font-family:\'Proxima Nova Fin\';font-style:normal;font-weight:400;font-display:swap;src:url(https://cdn.refinitiv.net/public/libs/elf/assets/elf-theme-solar/resources/fonts/proximanovafin/proximanovafin-regular.woff2) format(\'woff2\'),url(https://cdn.refinitiv.net/public/libs/elf/assets/elf-theme-solar/resources/fonts/proximanovafin/proximanovafin-regular.woff) format(\'woff\')}@font-face{font-family:\'Proxima Nova Fin\';font-style:normal;font-weight:600;font-display:swap;src:url(https://cdn.refinitiv.net/public/libs/elf/assets/elf-theme-solar/resources/fonts/proximanovafin/proximanovafin-semibold.woff2) format(\'woff2\'),url(https://cdn.refinitiv.net/public/libs/elf/assets/elf-theme-solar/resources/fonts/proximanovafin/proximanovafin-semibold.woff) format(\'woff\')}@font-face{font-family:\'Proxima Nova Fin\';font-style:normal;font-weight:700;font-display:swap;src:url(https://cdn.refinitiv.net/public/libs/elf/assets/elf-theme-solar/resources/fonts/proximanovafin/proximanovafin-bold.woff2) format(\'woff2\'),url(https://cdn.refinitiv.net/public/libs/elf/assets/elf-theme-solar/resources/fonts/proximanovafin/proximanovafin-bold.woff) format(\'woff\')}body{color:#484848;font-size:14rem;background:#c2c2c2;padding:0;margin:0 auto;font-family:\'Proxima Nova Fin\',Arial,\'Helvetica Nue\',Helvetica,sans-serif;visibility:visible}body ::-moz-selection{background-color:#ee7600;color:#fff}body ::selection{background-color:#ee7600;color:#fff}:lang(ja) body{font-family:\'Proxima Nova Fin\',Meiryo,\'\',\' Pro W3\',\'Hiragino Kaku Gothic Pro\',\'MS PGothic\',\' \',Arial}:lang(ja) body pre{font-family:\'MS Gothic\',\' \',\'MS PGothic\',\'Osaka\',\'Osaka-\',Osaka-mono,monospace,\' \',Arial}:lang(zh-CN) body{font-family:\'Proxima Nova Fin\',\'Microsoft YaHei\',\'\',STXihei,\'\',Simsun,\'\',Arial}:lang(zh-Hant) body{font-family:\'Proxima Nova Fin\',\'Heiti TC\',\'-\',\'Microsoft JhengHei\',\'\',Pmingliu,\'\',Arial}:lang(zh-Hant) body pre{font-family:\'Heiti TC\',\'-\',Pmingliu,\'\',monospace,Arial}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/button.js



elf.nativeStyles.define('button', 'button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0;background-color:#fafbfc;color:#505050;border:1px solid #a9afba;height:23px;box-shadow:0 0 0 0 rgba(0,0,0,.3);padding:0 8px;outline:0;font-family:inherit;font-size:13rem;font-weight:400;min-width:23px;margin:1px 0;transition:70ms;text-align:center;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-flex;justify-content:center;align-items:center;vertical-align:bottom;position:relative;overflow:hidden;background-image:linear-gradient(rgba(0,0,0,0) 0,rgba(0,0,0,.1) 100%)}button[cta]{background-color:#ffb266;color:#505050;border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0;background-image:linear-gradient(rgba(255,255,255,.4) 0,rgba(255,255,255,0) 100%)}button[toggles]{background-color:#fafbfc;color:#505050;border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0}button[toggles][active]{border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0;color:#f93!important;background-color:#fff!important;background-image:linear-gradient(rgba(0,0,0,.1) 0,rgba(0,0,0,0) 100%)}@media all{button:active,button[cta]:active,button[toggles]:active{background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.3)}button:active:not(:focus),button[cta]:active:not(:focus),button[toggles]:active:not(:focus),button[toggles][active]:active:not(:focus){border-color:#a9afba;outline:0}button[disabled],button[toggles][disabled]{background-color:#fafbfc;color:#505050;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}button[cta][disabled]{background-color:#ffb266;color:#505050;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}button[toggles][active]:active{background-color:#fff;color:#c60;box-shadow:0 0 0 0 rgba(0,0,0,.3)}button[toggles][active][disabled]{background-color:#fff;color:#f93;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}}button[cta]:active{background-color:#ffb266;background-image:linear-gradient(rgba(255,255,255,0) 0,rgba(255,255,255,.4) 100%)}button[cta][disabled],button[disabled]{opacity:.4}button:active{background-image:none}@media (-ms-high-contrast:none),(pointer:fine){button:focus:not([focused]),button[focused=visible]{background-color:#fafbfc;color:#505050;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0;border-style:dotted;box-shadow:inset 0 0 0 1px #a9afba}button:hover,button[toggles]:hover{background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.6)}button:hover:not(:focus),button[cta]:hover:not(:focus),button[toggles]:hover:not(:focus),button[toggles][active]:hover:not(:focus){border-color:#a9afba;outline:0}button[cta]:focus:not([focused]),button[cta][focused=visible]{background-color:#ffb266;box-shadow:inset 0 0 0 1px #a9afba;outline:0;border-color:#a9afba;box-shadow:inset 0 0 0 1px #a9afba;color:#505050}button[cta]:hover{background-color:#ffc48a;box-shadow:0 0 0 0 rgba(0,0,0,.6);color:#505050}button[toggles]:focus:not([focused]),button[toggles][focused=visible]{background-color:#fafbfc;color:#505050;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}button[toggles][active]:focus:not([focused]),button[toggles][active][focused=visible]{background-color:#fff;color:#f93;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}button[toggles][active]:hover{background-color:#fff;color:#c60;box-shadow:0 0 0 0 rgba(0,0,0,.6)}}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/h1.js



elf.nativeStyles.define('h1', 'h1:first-child{margin-top:0}@media (max-width:450px){h1{font-size:48rem}}h1{margin:60px 0 15px;color:#484848;font-size:44rem;font-weight:400}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/h2.js



elf.nativeStyles.define('h2', 'h2{margin:55px 0 15px;color:#484848;font-size:37rem;font-weight:400}h2:first-child{margin-top:0}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/h3.js



elf.nativeStyles.define('h3', 'h3{margin:48px 0 15px;color:#484848;font-size:30rem;font-weight:400}h3:first-child{margin-top:0}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/h4.js



elf.nativeStyles.define('h4', 'h4{margin:40px 0 10px;color:#484848;font-size:23rem;text-transform:uppercase;font-weight:700}h4:first-child{margin-top:0}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/h5.js



elf.nativeStyles.define('h5', 'h5{margin:36px 0 10px;text-transform:uppercase;color:#484848;font-size:15rem;text-transform:uppercase;font-weight:700}h5:first-child{margin-top:0}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/h6.js



elf.nativeStyles.define('h6', 'h6{margin:30px 0 10px;text-transform:uppercase;color:#484848;font-size:13rem;text-transform:uppercase;font-weight:700}h6:first-child{margin-top:0}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/header.js



elf.nativeStyles.define('header', 'header{color:#484848;background-color:#bec3cc;padding:0 10px;height:27px;font-size:14rem;font-family:inherit;white-space:nowrap;box-sizing:border-box;display:flex;align-items:center;overflow:hidden}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/hr.js



elf.nativeStyles.define('hr', 'hr{border:none;margin:20px auto 40px;background:#d5d8db;height:1px}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/html.js



elf.nativeStyles.define('html', 'html{font-size:calc(.625em / 10);height:100%;touch-action:manipulation;-webkit-tap-highlight-color:transparent;scrollbar-face-color:#8a8a96;scrollbar-shadow-color:#8a8a96;scrollbar-highlight-color:#8a8a96;scrollbar-arrow-color:#8a8a96;scrollbar-track-color:#fff;scrollbar-3dlight-color:#fff;scrollbar-darkshadow-color:#fff;scrollbar-color:#8a8a96 #fff;--color-scheme-primary:#FF9933;--color-scheme-secondary:#EE7600;--color-scheme-tertiary:#BEC3CC;--color-scheme-complementary:#3780BF;--color-scheme-negative:#D94255;--color-scheme-neutral:#505050;--color-scheme-positive:#309054;--color-scheme-tickup:#309054;--color-scheme-tickdown:#D94255;--color-scheme-ticktext:#FFFFFF;--theme-name:\'elf-theme-solar\';--theme-version:\'4.0.77\'}html[movement-color-profile=asian1]{--color-scheme-negative:#309054;--color-scheme-neutral:#505050;--color-scheme-positive:#D94255;--color-scheme-tickup:#D94255;--color-scheme-tickdown:#309054}html[movement-color-profile=asian2],html[movement-color-profile=european]{--color-scheme-negative:#D94255;--color-scheme-neutral:#309054;--color-scheme-positive:#2FB4C8;--color-scheme-tickup:#309054;--color-scheme-tickdown:#D94255}::-moz-selection{color:#fff;background:#ee7600}::selection{color:#fff;background:#ee7600}::-webkit-scrollbar{width:13px;height:13px}::-webkit-scrollbar-button{background:0 0/1px 2px no-repeat #fff;height:12px;width:12px;display:block}::-webkit-scrollbar-thumb{background:#8a8a96;border-radius:7px;border:2px solid #fff}::-webkit-scrollbar-thumb:hover{background:#a9afba}::-webkit-scrollbar-thumb:active{background:#ee7600}::-webkit-scrollbar-track{background:#fff}::-webkit-scrollbar-corner{background:#fff}::-webkit-scrollbar-button:end:decrement,::-webkit-scrollbar-button:start:increment{display:none}::-webkit-scrollbar-button:horizontal{background-size:2px 1px}::-webkit-scrollbar-button:vertical:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:horizontal:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/input.js



elf.nativeStyles.define('input', 'input{display:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:0;font-weight:400;text-align:left}input::-webkit-clear-button,input::-webkit-inner-spin-button,input::-webkit-search-cancel-button,input::-webkit-search-decoration{-webkit-appearance:none}input[type=button],input[type=submit]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0;background-color:#fafbfc;color:#505050;border:1px solid #a9afba;height:23px;box-shadow:0 0 0 0 rgba(0,0,0,.3);padding:0 8px;outline:0;font-family:inherit;font-size:13rem;font-weight:400;min-width:23px;margin:1px 0;transition:70ms;text-align:center;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-flex;justify-content:center;align-items:center;vertical-align:bottom;position:relative;overflow:hidden;background-image:linear-gradient(rgba(0,0,0,0) 0,rgba(0,0,0,.1) 100%)}input[type=button][cta],input[type=submit][cta]{background-color:#ffb266;color:#505050;border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0;background-image:linear-gradient(rgba(255,255,255,.4) 0,rgba(255,255,255,0) 100%)}input[type=button][toggles],input[type=submit][toggles]{background-color:#fafbfc;color:#505050;border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0}input[type=button][toggles][active],input[type=submit][toggles][active]{border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0;color:#f93!important;background-color:#fff!important;background-image:linear-gradient(rgba(0,0,0,.1) 0,rgba(0,0,0,0) 100%)}@media all{input[type=button]:active,input[type=button][cta]:active,input[type=button][toggles]:active,input[type=submit]:active,input[type=submit][cta]:active,input[type=submit][toggles]:active{background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.3)}input[type=button]:active:not(:focus),input[type=button][cta]:active:not(:focus),input[type=button][toggles]:active:not(:focus),input[type=button][toggles][active]:active:not(:focus),input[type=submit]:active:not(:focus),input[type=submit][cta]:active:not(:focus),input[type=submit][toggles]:active:not(:focus),input[type=submit][toggles][active]:active:not(:focus){border-color:#a9afba;outline:0}input[type=button][disabled],input[type=button][toggles][disabled],input[type=submit][disabled],input[type=submit][toggles][disabled]{background-color:#fafbfc;color:#505050;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}input[type=button][cta][disabled],input[type=submit][cta][disabled]{background-color:#ffb266;color:#505050;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}input[type=button][toggles][active]:active,input[type=submit][toggles][active]:active{background-color:#fff;color:#c60;box-shadow:0 0 0 0 rgba(0,0,0,.3)}input[type=button][toggles][active][disabled],input[type=submit][toggles][active][disabled]{background-color:#fff;color:#f93;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}}input[type=button][cta]:active,input[type=submit][cta]:active{background-color:#ffb266;background-image:linear-gradient(rgba(255,255,255,0) 0,rgba(255,255,255,.4) 100%)}input[type=button][cta][disabled],input[type=button][disabled],input[type=submit][cta][disabled],input[type=submit][disabled]{opacity:.4}input[type=button]:active,input[type=submit]:active{background-image:none}@media (-ms-high-contrast:none),(pointer:fine){input[type=button]:focus:not([focused]),input[type=button][focused=visible],input[type=submit]:focus:not([focused]),input[type=submit][focused=visible]{background-color:#fafbfc;color:#505050;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0;border-style:dotted;box-shadow:inset 0 0 0 1px #a9afba}input[type=button]:hover,input[type=button][toggles]:hover,input[type=submit]:hover,input[type=submit][toggles]:hover{background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.6)}input[type=button]:hover:not(:focus),input[type=button][cta]:hover:not(:focus),input[type=button][toggles]:hover:not(:focus),input[type=button][toggles][active]:hover:not(:focus),input[type=submit]:hover:not(:focus),input[type=submit][cta]:hover:not(:focus),input[type=submit][toggles]:hover:not(:focus),input[type=submit][toggles][active]:hover:not(:focus){border-color:#a9afba;outline:0}input[type=button][cta]:focus:not([focused]),input[type=button][cta][focused=visible],input[type=submit][cta]:focus:not([focused]),input[type=submit][cta][focused=visible]{background-color:#ffb266;box-shadow:inset 0 0 0 1px #a9afba;outline:0;border-color:#a9afba;box-shadow:inset 0 0 0 1px #a9afba;color:#505050}input[type=button][cta]:hover,input[type=submit][cta]:hover{background-color:#ffc48a;box-shadow:0 0 0 0 rgba(0,0,0,.6);color:#505050}input[type=button][toggles]:focus:not([focused]),input[type=button][toggles][focused=visible],input[type=submit][toggles]:focus:not([focused]),input[type=submit][toggles][focused=visible]{background-color:#fafbfc;color:#505050;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}input[type=button][toggles][active]:focus:not([focused]),input[type=button][toggles][active][focused=visible],input[type=submit][toggles][active]:focus:not([focused]),input[type=submit][toggles][active][focused=visible]{background-color:#fff;color:#f93;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}input[type=button][toggles][active]:hover,input[type=submit][toggles][active]:hover{background-color:#fff;color:#c60;box-shadow:0 0 0 0 rgba(0,0,0,.6)}}input[type=file]::-webkit-file-upload-button{width:0;padding:0;margin:0;min-width:0;border:none;height:100%;font-family:inherit;font-size:13rem}input[type=checkbox],input[type=radio]{display:inline-block;width:13px;height:13px;border-radius:0;background-color:#fff;margin:1px 0;transition:box-shadow 150ms,border-color 150ms;vertical-align:middle;box-shadow:inset 0 0 0 rgba(0,0,0,.3);border:1px solid #a9afba}input[type=checkbox]+label:not(:empty),input[type=radio]+label:not(:empty){vertical-align:middle;margin:1px 7px 1px 4px;display:inline-block}input[type=checkbox]:not([tabindex="-1"]):focus,input[type=radio]:not([tabindex="-1"]):focus{border-color:#ffb266;box-shadow:0 0 0 #ffb266;border-style:dotted}input[type=radio]{border-radius:100%}input[type=radio]:checked{background-size:100%;background-image:radial-gradient(#ee7600 45%,transparent 50%)}input:not([type]),input[type=date],input[type=email],input[type=file],input[type=month],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=url],input[type=week]{font-family:inherit;max-width:100%;box-sizing:border-box;display:inline-flex;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:inherit;font-size:13rem;font-weight:400;height:23px;width:140px;max-width:100%;padding:0 5px;margin:1px 0;outline:0;box-sizing:border-box;display:inline-flex;align-items:center;position:relative;vertical-align:middle;color:#484848;border-radius:0;text-overflow:ellipsis;background-color:#fff;border:1px solid #a9afba;color:inherit}input:not([type])[type=number],input[type=date][type=number],input[type=email][type=number],input[type=file][type=number],input[type=month][type=number],input[type=number][type=number],input[type=password][type=number],input[type=search][type=number],input[type=tel][type=number],input[type=text][type=number],input[type=url][type=number],input[type=week][type=number]{padding-right:0}input:not([type])[error],input:not([type])[error][warning],input[type=date][error],input[type=date][error][warning],input[type=email][error],input[type=email][error][warning],input[type=file][error],input[type=file][error][warning],input[type=month][error],input[type=month][error][warning],input[type=number][error],input[type=number][error][warning],input[type=password][error],input[type=password][error][warning],input[type=search][error],input[type=search][error][warning],input[type=tel][error],input[type=tel][error][warning],input[type=text][error],input[type=text][error][warning],input[type=url][error],input[type=url][error][warning],input[type=week][error],input[type=week][error][warning]{border:1px solid #d94255}input:not([type])[error][disabled],input:not([type])[error][warning][disabled],input[type=date][error][disabled],input[type=date][error][warning][disabled],input[type=email][error][disabled],input[type=email][error][warning][disabled],input[type=file][error][disabled],input[type=file][error][warning][disabled],input[type=month][error][disabled],input[type=month][error][warning][disabled],input[type=number][error][disabled],input[type=number][error][warning][disabled],input[type=password][error][disabled],input[type=password][error][warning][disabled],input[type=search][error][disabled],input[type=search][error][warning][disabled],input[type=tel][error][disabled],input[type=tel][error][warning][disabled],input[type=text][error][disabled],input[type=text][error][warning][disabled],input[type=url][error][disabled],input[type=url][error][warning][disabled],input[type=week][error][disabled],input[type=week][error][warning][disabled]{color:rgba(72,72,72,.6);border:1px solid rgba(217,66,85,.6)}input:not([type]) ::-ms-clear,input[type=date] ::-ms-clear,input[type=email] ::-ms-clear,input[type=file] ::-ms-clear,input[type=month] ::-ms-clear,input[type=number] ::-ms-clear,input[type=password] ::-ms-clear,input[type=search] ::-ms-clear,input[type=tel] ::-ms-clear,input[type=text] ::-ms-clear,input[type=url] ::-ms-clear,input[type=week] ::-ms-clear{display:none}input:not([type])[disabled],input[type=date][disabled],input[type=email][disabled],input[type=file][disabled],input[type=month][disabled],input[type=number][disabled],input[type=password][disabled],input[type=search][disabled],input[type=tel][disabled],input[type=text][disabled],input[type=url][disabled],input[type=week][disabled]{border:1px solid rgba(169,175,186,.6);color:rgba(72,72,72,.6)}input:not([type])[highlight][readonly],input:not([type])[readonly],input[type=date][highlight][readonly],input[type=date][readonly],input[type=email][highlight][readonly],input[type=email][readonly],input[type=file][highlight][readonly],input[type=file][readonly],input[type=month][highlight][readonly],input[type=month][readonly],input[type=number][highlight][readonly],input[type=number][readonly],input[type=password][highlight][readonly],input[type=password][readonly],input[type=search][highlight][readonly],input[type=search][readonly],input[type=tel][highlight][readonly],input[type=tel][readonly],input[type=text][highlight][readonly],input[type=text][readonly],input[type=url][highlight][readonly],input[type=url][readonly],input[type=week][highlight][readonly],input[type=week][readonly]{border:1px solid rgba(169,175,186,.6)}input:not([type]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input:not([type])[highlight]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=date]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=date][highlight]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=email]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=email][highlight]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=file]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=file][highlight]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=month]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=month][highlight]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=number]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=number][highlight]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=password]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=password][highlight]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=search]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=search][highlight]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=tel]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=tel][highlight]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=text]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=text][highlight]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=url]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=url][highlight]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=week]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=week][highlight]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover{border:1px solid #bfc3cb}input:not([type])[warning],input[type=date][warning],input[type=email][warning],input[type=file][warning],input[type=month][warning],input[type=number][warning],input[type=password][warning],input[type=search][warning],input[type=tel][warning],input[type=text][warning],input[type=url][warning],input[type=week][warning]{background-color:#fff;border:1px solid #f93}input:not([type])[warning][disabled],input[type=date][warning][disabled],input[type=email][warning][disabled],input[type=file][warning][disabled],input[type=month][warning][disabled],input[type=number][warning][disabled],input[type=password][warning][disabled],input[type=search][warning][disabled],input[type=tel][warning][disabled],input[type=text][warning][disabled],input[type=url][warning][disabled],input[type=week][warning][disabled]{border:1px solid rgba(255,153,51,.6);color:rgba(72,72,72,.6)}input:not([type])[warning][readonly],input[type=date][warning][readonly],input[type=email][warning][readonly],input[type=file][warning][readonly],input[type=month][warning][readonly],input[type=number][warning][readonly],input[type=password][warning][readonly],input[type=search][warning][readonly],input[type=tel][warning][readonly],input[type=text][warning][readonly],input[type=url][warning][readonly],input[type=week][warning][readonly]{border:1px solid rgba(255,153,51,.6)}input:not([type])[warning]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=date][warning]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=email][warning]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=file][warning]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=month][warning]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=number][warning]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=password][warning]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=search][warning]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=tel][warning]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=text][warning]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=url][warning]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=week][warning]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover{border:1px solid #ffb366}input:not([type])[error],input:not([type])[error][warning]:not([focused]),input[type=date][error],input[type=date][error][warning]:not([focused]),input[type=email][error],input[type=email][error][warning]:not([focused]),input[type=file][error],input[type=file][error][warning]:not([focused]),input[type=month][error],input[type=month][error][warning]:not([focused]),input[type=number][error],input[type=number][error][warning]:not([focused]),input[type=password][error],input[type=password][error][warning]:not([focused]),input[type=search][error],input[type=search][error][warning]:not([focused]),input[type=tel][error],input[type=tel][error][warning]:not([focused]),input[type=text][error],input[type=text][error][warning]:not([focused]),input[type=url][error],input[type=url][error][warning]:not([focused]),input[type=week][error],input[type=week][error][warning]:not([focused]){background-color:#fff;border:1px solid #d94255}input:not([type])[error][disabled],input:not([type])[error][warning]:not([focused])[disabled],input[type=date][error][disabled],input[type=date][error][warning]:not([focused])[disabled],input[type=email][error][disabled],input[type=email][error][warning]:not([focused])[disabled],input[type=file][error][disabled],input[type=file][error][warning]:not([focused])[disabled],input[type=month][error][disabled],input[type=month][error][warning]:not([focused])[disabled],input[type=number][error][disabled],input[type=number][error][warning]:not([focused])[disabled],input[type=password][error][disabled],input[type=password][error][warning]:not([focused])[disabled],input[type=search][error][disabled],input[type=search][error][warning]:not([focused])[disabled],input[type=tel][error][disabled],input[type=tel][error][warning]:not([focused])[disabled],input[type=text][error][disabled],input[type=text][error][warning]:not([focused])[disabled],input[type=url][error][disabled],input[type=url][error][warning]:not([focused])[disabled],input[type=week][error][disabled],input[type=week][error][warning]:not([focused])[disabled]{border:1px solid rgba(217,66,85,.6);color:rgba(72,72,72,.6)}input:not([type])[error][readonly],input:not([type])[error][warning]:not([focused])[readonly],input[type=date][error][readonly],input[type=date][error][warning]:not([focused])[readonly],input[type=email][error][readonly],input[type=email][error][warning]:not([focused])[readonly],input[type=file][error][readonly],input[type=file][error][warning]:not([focused])[readonly],input[type=month][error][readonly],input[type=month][error][warning]:not([focused])[readonly],input[type=number][error][readonly],input[type=number][error][warning]:not([focused])[readonly],input[type=password][error][readonly],input[type=password][error][warning]:not([focused])[readonly],input[type=search][error][readonly],input[type=search][error][warning]:not([focused])[readonly],input[type=tel][error][readonly],input[type=tel][error][warning]:not([focused])[readonly],input[type=text][error][readonly],input[type=text][error][warning]:not([focused])[readonly],input[type=url][error][readonly],input[type=url][error][warning]:not([focused])[readonly],input[type=week][error][readonly],input[type=week][error][warning]:not([focused])[readonly]{border:1px solid rgba(217,66,85,.6)}input:not([type])[error]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input:not([type])[error][warning]:not([focused]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=date][error]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=date][error][warning]:not([focused]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=email][error]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=email][error][warning]:not([focused]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=file][error]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=file][error][warning]:not([focused]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=month][error]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=month][error][warning]:not([focused]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=number][error]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=number][error][warning]:not([focused]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=password][error]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=password][error][warning]:not([focused]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=search][error]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=search][error][warning]:not([focused]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=tel][error]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=tel][error][warning]:not([focused]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=text][error]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=text][error][warning]:not([focused]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=url][error]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=url][error][warning]:not([focused]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=week][error]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=week][error][warning]:not([focused]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover{border:1px solid #e37180}input:not([type])[highlight],input[type=date][highlight],input[type=email][highlight],input[type=file][highlight],input[type=month][highlight],input[type=number][highlight],input[type=password][highlight],input[type=search][highlight],input[type=tel][highlight],input[type=text][highlight],input[type=url][highlight],input[type=week][highlight]{background-color:#b0ffff;border:1px solid #a9afba}input:not([type])[highlight][disabled],input[type=date][highlight][disabled],input[type=email][highlight][disabled],input[type=file][highlight][disabled],input[type=month][highlight][disabled],input[type=number][highlight][disabled],input[type=password][highlight][disabled],input[type=search][highlight][disabled],input[type=tel][highlight][disabled],input[type=text][highlight][disabled],input[type=url][highlight][disabled],input[type=week][highlight][disabled]{border:1px solid rgba(169,175,186,.6);color:rgba(72,72,72,.6);background-color:rgba(176,255,255,.6)}input:not([type])[indirect],input[type=date][indirect],input[type=email][indirect],input[type=file][indirect],input[type=month][indirect],input[type=number][indirect],input[type=password][indirect],input[type=search][indirect],input[type=tel][indirect],input[type=text][indirect],input[type=url][indirect],input[type=week][indirect]{color:#009494;background-color:#effefe;border:1px solid #898623}input:not([type])[indirect][disabled],input[type=date][indirect][disabled],input[type=email][indirect][disabled],input[type=file][indirect][disabled],input[type=month][indirect][disabled],input[type=number][indirect][disabled],input[type=password][indirect][disabled],input[type=search][indirect][disabled],input[type=tel][indirect][disabled],input[type=text][indirect][disabled],input[type=url][indirect][disabled],input[type=week][indirect][disabled]{border:1px solid rgba(137,134,35,.6);color:rgba(0,148,148,.6)}input:not([type])[indirect][readonly],input[type=date][indirect][readonly],input[type=email][indirect][readonly],input[type=file][indirect][readonly],input[type=month][indirect][readonly],input[type=number][indirect][readonly],input[type=password][indirect][readonly],input[type=search][indirect][readonly],input[type=tel][indirect][readonly],input[type=text][indirect][readonly],input[type=url][indirect][readonly],input[type=week][indirect][readonly]{border:1px solid rgba(137,134,35,.6)}input:not([type])[indirect]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=date][indirect]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=email][indirect]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=file][indirect]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=month][indirect]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=number][indirect]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=password][indirect]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=search][indirect]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=tel][indirect]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=text][indirect]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=url][indirect]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover,input[type=week][indirect]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover{border:1px solid #a7a45a}input:not([type])[disabled]::-webkit-input-placeholder,input[type=date][disabled]::-webkit-input-placeholder,input[type=email][disabled]::-webkit-input-placeholder,input[type=file][disabled]::-webkit-input-placeholder,input[type=month][disabled]::-webkit-input-placeholder,input[type=number][disabled]::-webkit-input-placeholder,input[type=password][disabled]::-webkit-input-placeholder,input[type=search][disabled]::-webkit-input-placeholder,input[type=tel][disabled]::-webkit-input-placeholder,input[type=text][disabled]::-webkit-input-placeholder,input[type=url][disabled]::-webkit-input-placeholder,input[type=week][disabled]::-webkit-input-placeholder{color:rgba(102,101,112,.6)}input:not([type])[disabled]::-moz-placeholder,input[type=date][disabled]::-moz-placeholder,input[type=email][disabled]::-moz-placeholder,input[type=file][disabled]::-moz-placeholder,input[type=month][disabled]::-moz-placeholder,input[type=number][disabled]::-moz-placeholder,input[type=password][disabled]::-moz-placeholder,input[type=search][disabled]::-moz-placeholder,input[type=tel][disabled]::-moz-placeholder,input[type=text][disabled]::-moz-placeholder,input[type=url][disabled]::-moz-placeholder,input[type=week][disabled]::-moz-placeholder{color:rgba(102,101,112,.6)}input:not([type])[disabled]:-ms-input-placeholder,input[type=date][disabled]:-ms-input-placeholder,input[type=email][disabled]:-ms-input-placeholder,input[type=file][disabled]:-ms-input-placeholder,input[type=month][disabled]:-ms-input-placeholder,input[type=number][disabled]:-ms-input-placeholder,input[type=password][disabled]:-ms-input-placeholder,input[type=search][disabled]:-ms-input-placeholder,input[type=tel][disabled]:-ms-input-placeholder,input[type=text][disabled]:-ms-input-placeholder,input[type=url][disabled]:-ms-input-placeholder,input[type=week][disabled]:-ms-input-placeholder{color:rgba(102,101,112,.6)}input:not([type]):focus,input[type=date]:focus,input[type=email]:focus,input[type=file]:focus,input[type=month]:focus,input[type=number]:focus,input[type=password]:focus,input[type=search]:focus,input[type=tel]:focus,input[type=text]:focus,input[type=url]:focus,input[type=week]:focus{background-size:100% 2px,100% 1px!important;background-position:center bottom!important;border-color:#ffb266;border-style:dotted}input[type=checkbox]:checked{background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTFweCIgaGVpZ2h0PSI5cHgiIHZpZXdCb3g9IjAgMCAxMSA5IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iY2hlY2tlZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEuMDAwMDAwLCAtMi4wMDAwMDApIj4KICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgeD0iMCIgeT0iMCIgd2lkdGg9IjEzIiBoZWlnaHQ9IjEzIj48L3JlY3Q+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yLjU4NTU2NzQ3LDguMjg4NjkzNTIgTDUuMTY0ODUyNjEsOC4yODg2OTMzOSIgaWQ9IkxpbmUiIHN0cm9rZT0iI0VFNzYwMCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzLjk0OTk5MiwgOC43NzU5MDIpIHJvdGF0ZSg0MS4wMDAwMDApIHRyYW5zbGF0ZSgtMy45NDk5OTIsIC04Ljc3NTkwMikgIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjQ4MDg4NDI5LDIuNDk2MzE5MDUgTDcuNDgwODg0MjksOS42ODkxNzMzNiIgaWQ9IkxpbmUiIHN0cm9rZT0iI0VFNzYwMCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2Ljk4MDg4NCwgNi4zNzg4ODgpIHJvdGF0ZSg0MS4wMDAwMDApIHRyYW5zbGF0ZSgtNi45ODA4ODQsIC02LjM3ODg4OCkgIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=) center center no-repeat #fff}input[type=checkbox]:indeterminate{background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNXB4IiBoZWlnaHQ9IjVweCIgdmlld0JveD0iMCAwIDUgNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9ImluZGV0ZXJtaW5hdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00LjAwMDAwMCwgLTQuMDAwMDAwKSI+CiAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMyI+PC9yZWN0PgogICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjRUU3NjAwIiB4PSI0IiB5PSI0IiB3aWR0aD0iNSIgaGVpZ2h0PSI1Ij48L3JlY3Q+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=) center center no-repeat #fff}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/kbd.js



elf.nativeStyles.define('kbd', 'kbd{display:inline-flex;border-radius:2px;font-family:inherit;justify-content:center;align-items:center;vertical-align:middle;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 3px rgba(0,0,0,.3);color:#484848;min-width:1.33em;height:1.33em;padding:0 .3em;font-size:.76em}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/mark.js



elf.nativeStyles.define('mark', 'mark{color:#ee7600;background-color:transparent}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/ol.js



elf.nativeStyles.define('ol', '');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/p.js



elf.nativeStyles.define('p', 'p{line-height:1.5;margin:0 0 18px}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/select.js



elf.nativeStyles.define('select', 'select{-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:inherit;font-size:13rem;height:23px;width:140px;max-width:100%;padding:0 5px;margin:1px 0;outline:0;box-sizing:border-box;display:inline-block;position:relative;vertical-align:middle;background:#fff;color:#484848;border:1px solid #a9afba}select:focus{background-size:100% 2px,100% 1px!important;background-position:center bottom!important;border-color:#ffb266;border-style:dotted}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/table.js



elf.nativeStyles.define('table', 'table{font-size:inherit;font-weight:inherit;width:100%;border-collapse:collapse}tr{height:32px;color:#484848;background-color:#fff}th{height:32px;line-height:1em;text-align:left;padding:0 8px;box-sizing:border-box;color:#6e6e78;background-color:#e4e8ed;border:1px solid #d5d8db}td{text-align:left;border:1px solid #d5d8db;padding:0 8px}tr:hover td{color:#484848;background-color:rgba(242,243,247,.7)}tr[active]{color:#ee7600;background-color:rgba(255,240,224,.8);outline:#f93 dotted 1px}tr:focus,tr[focused]{outline:#f93 dotted 1px}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/textarea.js



elf.nativeStyles.define('textarea', 'textarea{display:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-align:left;font-family:inherit;font-size:13rem;font-weight:400;height:23px;width:140px;max-width:100%;padding:0 5px;margin:1px 0;outline:0;box-sizing:border-box;display:inline-flex;align-items:center;position:relative;vertical-align:middle;color:#484848;border-radius:0;background-color:#fff;text-overflow:ellipsis;border:1px solid #a9afba;resize:none;line-height:1.2;padding:calc((23px - 1px * 2 - 1em * 1.2)/ 2) 5px}textarea[disabled]{color:rgba(72,72,72,.6);border:1px solid rgba(169,175,186,.6)}textarea[type=number]{padding-right:0}textarea[warning]{border:1px solid #f93}textarea[warning][disabled]{color:rgba(72,72,72,.6);border:1px solid rgba(255,153,51,.6)}textarea[error],textarea[error][warning]{border:1px solid #d94255}textarea[error][disabled],textarea[error][warning][disabled]{color:rgba(72,72,72,.6);border:1px solid rgba(217,66,85,.6)}textarea ::-ms-clear{display:none}textarea[cols]{width:auto}textarea[rows]{height:auto}textarea:focus{background-size:100% 2px,100% 1px!important;background-position:center bottom!important;border-color:#ffb266;border-style:dotted}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/ul.js



elf.nativeStyles.define('ul', '');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/imports/native-elements.js





















// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/amber-loader.js



elf.customStyles.define('amber-loader', ':host{--parts:dot dot0,dot dot1,dot dot2;position:absolute;top:50%;left:50%;overflow:hidden;width:70px;height:20px;margin:-10px 0 0 -35px}:host([size=small]){width:30px;height:6px;margin:-3px 0 0 -15px}:host([size=small]) [part~=dot]{width:5px;height:5px}:host([size=medium]){width:42px;height:12px;margin:-6px 0 0 -21px}:host([size=medium]) [part~=dot]{width:10px;height:10px}:host [part=wrapper]{box-sizing:border-box;height:100%;width:100%;display:flex;align-items:center;justify-content:space-between}:host [part=wrapper]:after,:host [part=wrapper]:before{content:\'\'}:host [part~=dot]{box-sizing:border-box;width:17px;height:17px;border-radius:50%;-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;border:1px solid rgba(72,72,72,.4)}:host [part~=dot0]{-webkit-animation-name:pulse-1;animation-name:pulse-1}:host [part~=dot1]{-webkit-animation-name:pulse-2;animation-name:pulse-2}:host [part~=dot2]{-webkit-animation-name:pulse-3;animation-name:pulse-3}@-webkit-keyframes pulse-1{0%,100%,80%{background-color:transparent}25%{background-color:rgba(72,72,72,.4)}}@keyframes pulse-1{0%,100%,80%{background-color:transparent}25%{background-color:rgba(72,72,72,.4)}}@-webkit-keyframes pulse-2{0%,10%,100%,90%{background-color:transparent}50%{background-color:rgba(72,72,72,.8)}}@keyframes pulse-2{0%,10%,100%,90%{background-color:transparent}50%{background-color:rgba(72,72,72,.8)}}@-webkit-keyframes pulse-3{0%,100%,20%{background-color:transparent}75%{background-color:rgba(72,72,72,.8)}}@keyframes pulse-3{0%,100%,20%{background-color:transparent}75%{background-color:rgba(72,72,72,.8)}}');

// EXTERNAL MODULE: ./node_modules/@elf/coral-button/lib/coral-button.js
var coral_button = __webpack_require__(15);

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-icon.js



// elf.customStyles.define('coral-icon', ':host{--cdn-prefix:\'https://cdn.refinitiv.net/public/libs/elf/assets/elf-theme-halo/resources/icons/\';--cdn-prefix:\'https://cdn.refinitiv.net/public/libs/elf/assets/elf-theme-solar/resources/icons/\'}:host svg{pointer-events:none}:host circle[fill]:not([fill=none]),:host ellipse[fill]:not([fill=none]),:host g[fill]:not([fill=none]),:host line[fill]:not([fill=none]),:host path[fill]:not([fill=none]),:host polygon[fill]:not([fill=none]),:host polyline[fill]:not([fill=none]),:host rect[fill]:not([fill=none]){fill:currentColor}:host circle[stroke]:not([stroke=none]),:host ellipse[stroke]:not([stroke=none]),:host g[stroke]:not([stroke=none]),:host line[stroke]:not([stroke=none]),:host path[stroke]:not([stroke=none]),:host polygon[stroke]:not([stroke=none]),:host polyline[stroke]:not([stroke=none]),:host rect[stroke]:not([stroke=none]){stroke:currentColor}:host([icon=powerpoint]){color:#ff3535}:host([icon=excel]){color:#00a626}:host([icon=pdf]){color:#ff3535}:host([icon=word]){color:#0094c4}:host([icon=twitter]){color:#1da1f2}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-button.js



elf.customStyles.define('coral-button', ':host{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;box-shadow:0 0 0 0 rgba(0,0,0,.3);font-family:inherit;min-width:23px;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-flex;justify-content:center;align-items:center;touch-action:manipulation}:host [part=icon]{flex:none}:host(:not([empty])) [part=label]{white-space:inherit;overflow:inherit;text-overflow:inherit;min-width:0;flex:1 1 auto}:host([hover-icon]) #hover-icon{display:none}:host([empty][icon]){min-width:23px;padding:0}:host(:not([cta])[empty][icon][transparent]){background:0 0!important;box-shadow:none!important;border:none!important;color:#505050}:host(:not([cta])[empty][icon][transparent]:not(:focus)){border-color:transparent!important}:host(:not([cta])[empty][icon][transparent][toggles][active]){color:#fff}:host(:not([empty])[icon][textpos=before]) [part=icon]{order:1}:host(:not([empty])[icon][textpos=after]) [part=label]{padding-left:.3em}:host(:not([empty])[icon][textpos=before]) [part=label]{padding-right:.3em}:host{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0;background-color:#fafbfc;color:#505050;border:1px solid #a9afba;height:23px;box-shadow:0 0 0 0 rgba(0,0,0,.3);padding:0 8px;outline:0;font-family:inherit;font-size:13rem;font-weight:400;min-width:23px;margin:1px 0;transition:70ms;text-align:center;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-flex;justify-content:center;align-items:center;vertical-align:bottom;position:relative;overflow:hidden;background-image:linear-gradient(rgba(0,0,0,0) 0,rgba(0,0,0,.1) 100%)}:host([cta]){background-color:#ffb266;color:#505050;border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0;background-image:linear-gradient(rgba(255,255,255,.4) 0,rgba(255,255,255,0) 100%)}:host([toggles]){background-color:#fafbfc;color:#505050;border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0}:host([toggles][active]){border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0;color:#f93!important;background-color:#fff!important;background-image:linear-gradient(rgba(0,0,0,.1) 0,rgba(0,0,0,0) 100%)}@media all{:host(:not([cta])[empty][icon][transparent]:active){background-color:#fff;color:#bac8d6;box-shadow:0 0 0 0 rgba(0,0,0,.3)}:host(:not([cta])[empty][icon][transparent]:active:not(:focus)){border-color:#a9afba;outline:0}:host(:not([cta])[empty][icon][transparent][disabled]){background-color:transparent;color:#fafbfc;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}:host(:not([cta])[empty][icon][transparent][toggles][active]:active){background-color:#fff;color:#ccc;box-shadow:0 0 0 0 rgba(0,0,0,.3)}:host(:not([cta])[empty][icon][transparent][toggles][active]:active:not(:focus)){border-color:#a9afba;outline:0}:host(:not([cta])[empty][icon][transparent][toggles][active][disabled]){background-color:transparent;color:#fff;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}:host(:active){background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.3)}:host(:active:not(:focus)){border-color:#a9afba;outline:0}:host([disabled]){background-color:#fafbfc;color:#505050;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}:host([cta]:active){background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.3)}:host([cta]:active:not(:focus)){border-color:#a9afba;outline:0}:host([cta][disabled]){background-color:#ffb266;color:#505050;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}:host([toggles]:active){background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.3)}:host([toggles]:active:not(:focus)){border-color:#a9afba;outline:0}:host([toggles][disabled]){background-color:#fafbfc;color:#505050;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}:host([toggles][active]:active){background-color:#fff;color:#c60;box-shadow:0 0 0 0 rgba(0,0,0,.3)}:host([toggles][active]:active:not(:focus)){border-color:#a9afba;outline:0}:host([toggles][active][disabled]){background-color:#fff;color:#f93;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}}:host([cta]:active){background-color:#ffb266;background-image:linear-gradient(rgba(255,255,255,0) 0,rgba(255,255,255,.4) 100%)}:host([cta][disabled]){opacity:.4}:host([disabled]){opacity:.4;border-color:#a9afba}:host(:active){background-image:none}:host(:not([cta])[empty][icon][transparent][disabled]){color:#505050}@media (-ms-high-contrast:none),(pointer:fine){:host([hover-icon]:hover) #icon{display:none}:host([hover-icon]:hover) #hover-icon{display:block}:host(:not([cta])[empty][icon][transparent]:focus:not([focused])),:host(:not([cta])[empty][icon][transparent][focused=visible]){background-color:transparent;color:#fafbfc;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}:host(:not([cta])[empty][icon][transparent]:hover){background-color:rgba(18,18,18,0);box-shadow:0 0 0 0 rgba(0,0,0,.6);color:#1d1d1d}:host(:not([cta])[empty][icon][transparent]:hover:not(:focus)){border-color:#a9afba;outline:0}:host(:not([cta])[empty][icon][transparent][toggles][active]:focus:not([focused])),:host(:not([cta])[empty][icon][transparent][toggles][active][focused=visible]){background-color:transparent;color:#fff;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}:host(:not([cta])[empty][icon][transparent][toggles][active]:hover){background-color:rgba(18,18,18,0);color:#ccc;box-shadow:0 0 0 0 rgba(0,0,0,.6)}:host(:not([cta])[empty][icon][transparent][toggles][active]:hover:not(:focus)){border-color:#a9afba;outline:0}:host(:focus:not([focused])),:host([focused=visible]){background-color:#fafbfc;color:#505050;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0;border-style:dotted;box-shadow:inset 0 0 0 1px #a9afba}:host(:hover){background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.6)}:host(:hover:not(:focus)){border-color:#a9afba;outline:0}:host([cta]:focus:not([focused])),:host([cta][focused=visible]){background-color:#ffb266;box-shadow:inset 0 0 0 1px #a9afba;outline:0;border-color:#a9afba;box-shadow:inset 0 0 0 1px #a9afba;color:#505050}:host([cta]:hover){background-color:#ffc48a;box-shadow:0 0 0 0 rgba(0,0,0,.6);color:#505050}:host([cta]:hover:not(:focus)){border-color:#a9afba;outline:0}:host([toggles]:focus:not([focused])),:host([toggles][focused=visible]){background-color:#fafbfc;color:#505050;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}:host([toggles]:hover){background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.6)}:host([toggles]:hover:not(:focus)){border-color:#a9afba;outline:0}:host([toggles][active]:focus:not([focused])),:host([toggles][active][focused=visible]){background-color:#fff;color:#f93;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}:host([toggles][active]:hover){background-color:#fff;color:#c60;box-shadow:0 0 0 0 rgba(0,0,0,.6)}:host([toggles][active]:hover:not(:focus)){border-color:#a9afba;outline:0}}');

// EXTERNAL MODULE: ./node_modules/@elf/coral-checkbox/lib/coral-checkbox.js
var coral_checkbox = __webpack_require__(25);

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-popup-panel-backdrop.js



elf.customStyles.define('coral-popup-panel-backdrop', ':host{background-color:#000;opacity:.6;transition:opacity .2s}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-popup-panel.js



elf.customStyles.define('coral-popup-panel', ':host{background-color:var(--panel-background-color,#fff);scrollbar-face-color:#8a8a96;scrollbar-shadow-color:#8a8a96;scrollbar-highlight-color:#8a8a96;scrollbar-arrow-color:#8a8a96;scrollbar-track-color:#fff;scrollbar-3dlight-color:#fff;scrollbar-darkshadow-color:#fff;scrollbar-color:#8a8a96 #fff}:host([spacing]){padding:6px 10px}:host([transition-style]){-webkit-animation-duration:.2s;animation-duration:.2s}:host([with-shadow]){box-shadow:0 0 8px 0 rgba(0,0,0,.3)}::-webkit-scrollbar{width:13px;height:13px}::-webkit-scrollbar-button{background:0 0/1px 2px no-repeat #fff;height:12px;width:12px;display:block}::-webkit-scrollbar-thumb{background:#8a8a96;border-radius:7px;border:2px solid #fff}::-webkit-scrollbar-thumb:hover{background:#a9afba}::-webkit-scrollbar-thumb:active{background:#ee7600}::-webkit-scrollbar-track{background:#fff}::-webkit-scrollbar-corner{background:#fff}::-webkit-scrollbar-button:end:decrement,::-webkit-scrollbar-button:start:increment{display:none}::-webkit-scrollbar-button:horizontal{background-size:2px 1px}::-webkit-scrollbar-button:vertical:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:horizontal:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-tooltip.js



elf.customStyles.define('coral-tooltip', ':host [part=tooltip]{--panel-background-color:#FFFFFF;pointer-events:none;border:1px solid #a9afba;padding:5px 8px;background-color:#fff;border-radius:0;overflow:hidden;max-width:250px;overflow-wrap:break-word;word-wrap:break-word;margin:7px}:host(:not([position])) [part=tooltip],:host([position=auto]) [part=tooltip]{margin-top:20px;margin-left:0}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-checkbox.js




elf.customStyles.define('coral-checkbox', ':host{margin:1px 0;vertical-align:middle;display:inline-flex;align-items:center;flex-wrap:nowrap;font-size:inherit;font-weight:inherit;touch-action:manipulation}:host(:focus){outline:0}:host [part=container]{-webkit-appearance:none;-moz-appearance:none;appearance:none;display:inline-flex;align-items:center;justify-content:center;flex:0 0 auto;border-radius:0;background-color:#fff;transition:box-shadow 150ms,border-color 150ms;box-shadow:inset 0 0 0 rgba(0,0,0,.3);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;border:1px solid #a9afba;height:11px;width:11px}:host [part=check]{display:flex;justify-content:center;align-items:center;box-sizing:border-box;color:var(--check-color,#ee7600);border-width:0 2px 2px 0;width:95%;height:95%}:host [part=label]{cursor:default;margin:0 4px}:host([indeterminate]) [part=check]{border:none;background-color:currentColor;transform:none;border-radius:1px;margin:0;width:5px;height:5px}:host([disabled]) [part=check],:host([readonly]) [part=check]{color:var(--check-color,#acafb5)}:host([disabled]) [part=check]{opacity:.5}:host([disabled][checked]) [part=check]{opacity:.5}:host([disabled]) [part=label]{opacity:.65;color:rgba(72,72,72,.6)}:host([disabled][checked]) [part=check],:host([disabled][indeterminate]) [part=check]{color:#a9afba}:host([readonly][checked]) [part=check],:host([readonly][indeterminate]) [part=check]{color:rgba(169,175,186,.5)}:host([disabled]) [part=container],:host([readonly]) [part=container]{color:rgba(72,72,72,.6);border-color:rgba(169,175,186,.6);background-color:rgba(255,255,255,.6)}@media (-ms-high-contrast:none),(pointer:fine){:host(:focus) [part=container]{box-shadow:0 0 0 #ffb266;border:1px dotted #ffb266}}');

// EXTERNAL MODULE: ./node_modules/@elf/coral-collapse/lib/coral-collapse.js
var coral_collapse = __webpack_require__(45);

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-panel.js



elf.customStyles.define('coral-panel', ':host{background-color:var(--panel-background-color,#fff)}:host([spacing]){padding:6px 10px}:host(:not([transparent])::after){content:\'\';position:absolute;top:0;right:0;bottom:0;left:0;border:1px solid rgba(255,255,255,.5);pointer-events:none}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-header.js



elf.customStyles.define('coral-header', ':host{padding:0 0 0 5px;height:27px;font-size:14rem;font-family:inherit;white-space:nowrap;box-sizing:border-box;display:flex;align-items:center;overflow:hidden;position:relative;color:#505050;background-color:#d0d4db}:host [part=spacer]{flex:none;width:5px}:host [part=label]{flex:1 1 auto;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:10px;font-weight:600;text-transform:uppercase}:host ::slotted(coral-button[transparent]){color:inherit!important}:host([level="3"]) [part=label]{text-transform:none}:host([level="1"]){color:#484848;background-color:#bec3cc;background-image:linear-gradient(rgba(255,255,255,.18) 0,rgba(255,255,255,0) 100%)}:host([level="3"]){color:#6e6e78;background-color:#e4e8ed}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-collapse.js





elf.customStyles.define('coral-collapse', ':host [part=toggle]{transition:.2s;opacity:.5;flex-shrink:0;margin:0 7px 0 5px}:host([expanded]) [part=toggle]{transform:rotate(90deg)}:host [part=header]{touch-action:manipulation}@-webkit-keyframes expand{from{height:0}to{height:var(--target-height)}}@keyframes expand{from{height:0}to{height:var(--target-height)}}@-webkit-keyframes collapse{from{height:var(--target-height)}to{height:0}}@keyframes collapse{from{height:var(--target-height)}to{height:0}}:host [part=content]{-webkit-animation-duration:.2s;animation-duration:.2s;-webkit-animation-timing-function:ease;animation-timing-function:ease}:host(:not([expanded])) [part=content]{height:0;-webkit-animation-name:collapse;animation-name:collapse}:host(:not([expanded])) [part=toggle]{transform:rotate(0)}:host([expanded]) [part=content]{-webkit-animation-name:expand;animation-name:expand}:host [part=content] coral-panel:not([spacing]){padding:var(--panel-padding)}');

// EXTERNAL MODULE: ./node_modules/@elf/utils/lib/utils.js + 23 modules
var utils = __webpack_require__(1);

// EXTERNAL MODULE: ./node_modules/@elf/coral-icon/lib/coral-icon.js + 1 modules
var coral_icon = __webpack_require__(7);

// EXTERNAL MODULE: ./node_modules/@elf/coral-popup-panel/lib/index.js + 9 modules
var coral_popup_panel_lib = __webpack_require__(18);

// EXTERNAL MODULE: ./node_modules/@elf/coral-list/lib/coral-list.js + 1 modules
var coral_list = __webpack_require__(23);

// CONCATENATED MODULE: ./node_modules/@elf/coral-counter/lib/utils.js
const THOUSAND = { value: 1000, notation: 'K' };
const MILLION = { value: 1e6, notation: 'M' };
const BILLION = { value: 1e9, notation: 'B' };
const TRILLION = { value: 1e12, notation: 'T' };
/**
 * Truncate decimal value
 * @param value A decimal value, either string or number
 * @returns {number} Integer value as number
 */
const truncateDecimal = (value) => {
    // stringify the number
    value = typeof value === 'number' ? value.toString() : value;
    // Truncate decimal e.g. '9.9' -> '9'
    return parseInt(value, 10);
};
/**
 * Compute a decimal place of number that will be prefix of the notation
 * @param value A decimal value as number
 * @returns {string} A computed string, either integer or decimal value
 */
const computeDecimalPlace = (value) => {
    // If value is less than 10 and the number after decimal is not 0 e.g. 1.45, return 1 decimal place
    // Else, if the value is greater than 10 or value is less than 10 and the number after decimal is 0 e.g. 1.01, return integer
    if (value < 10 && value % 1 >= 0.1) {
        const splittedNumbers = value.toString().split('.');
        return `${splittedNumbers[0]}.${splittedNumbers[1].substring(0, 1)}`;
    }
    else {
        return truncateDecimal(value).toString();
    }
};
/**
 * Convert a large number to abbreviate numbers if value greater than 999
 * @param value An integer or decimal value as number
 * @returns {string} Formatted value if greater than 999, otherwise return string value
 */
const convertToCompactNotation = (value) => {
    if (value >= TRILLION.value) {
        return `${computeDecimalPlace(value / TRILLION.value)}${TRILLION.notation}`;
    }
    if (value >= BILLION.value) {
        return `${computeDecimalPlace(value / BILLION.value)}${BILLION.notation}`;
    }
    if (value >= MILLION.value) {
        return `${computeDecimalPlace(value / MILLION.value)}${MILLION.notation}`;
    }
    if (value >= THOUSAND.value) {
        return `${computeDecimalPlace(value / THOUSAND.value)}${THOUSAND.notation}`;
    }
    return value.toString();
};

//# sourceMappingURL=utils.js.map
// CONCATENATED MODULE: ./node_modules/@elf/coral-counter/lib/coral-counter.js
var coral_counter_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


/**
 * coral-counter is an item count badge,
 * support maximun display number and notation of large numbers.
 */
let coral_counter_CoralCounter = class CoralCounter extends lib_elf["a" /* BasicElement */] {
    constructor() {
        super(...arguments);
        /**
         * Internal value of the element.
         */
        this._value = '';
        /**
        * Internal max of the element.
        */
        this._max = '';
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.6.8';
    }
    /**
     * The value of counter as string number
     * @param value counter value
     */
    set value(value) {
        value = this.validateValue(value, 'value');
        const oldValue = this._value;
        if (oldValue !== value) {
            this._value = value;
            this.requestUpdate('value', oldValue);
        }
    }
    /**
    * The value of counter as string number
    * @returns {string} counter value
    */
    get value() {
        return this._value;
    }
    /**
     * Set maximum counter value.
     * This value will be displayed with suffix `+` if count value is larger than max.
     * @param value counter value
     */
    set max(value) {
        value = this.validateValue(value, 'max');
        const oldValue = this._max;
        if (oldValue !== value) {
            this._max = value;
            this.requestUpdate('max', oldValue);
        }
    }
    /**
     * Set maximum counter value.
     * This value will be displayed with suffix `+` if count value is larger than max.
     * @returns {string} max value
     */
    get max() {
        return this._max;
    }
    /**
     * Cast and validate value to string
     * @param value Value that is not string which may be set by app developer, e.g. number or invalid string or null or undefined
     * @param propName name of property that being validate
     * @returns string representation of the value or return empty string if value is invalid string number
     */
    validateValue(value, propName = '') {
        // Has a number been passed?
        if (typeof value === 'number') {
            value = value.toString(); // stringify the number
        }
        // Do we have a valid number string?
        if (typeof value === 'string' && this.isValidNumber(value)) {
            return value;
        }
        new lib_elf["g" /* WarningNotice */](`${this.localName} : The specified value "${value}" of ${propName} property is not valid. Default value will be used instead.`).show();
        return '';
    }
    /**
     * Check if passed value is a valid number
     * @param value Value to check
     * @returns {boolean} false if value is invalid
     */
    isValidNumber(value) {
        const number = Number(value);
        return !isNaN(number) && isFinite(number) && number >= 0;
    }
    /**
     * Format display counter value
     * @param value value to format
     * @returns {string} formatted value
     */
    formatValue(value) {
        if (value === '') {
            return '0';
        }
        // Truncate decimal to integer.
        const countValue = truncateDecimal(value);
        const maxValue = this.max ? truncateDecimal(this.max) : Infinity;
        // Format value if value greater than max
        // If max is null, it will show the value
        return countValue > maxValue ? `${convertToCompactNotation(maxValue)}+` : convertToCompactNotation(countValue);
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @returns CSS template
     */
    static get styles() {
        return lib_elf["h" /* css */] `
      :host {
        display: inline-block;
        position: relative;
      }
      [part="number"] {
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
      }
    `;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return lib_elf["k" /* html */] `<span part="number">${this.formatValue(this.value)}</span>`;
    }
};
coral_counter_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], coral_counter_CoralCounter.prototype, "value", null);
coral_counter_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], coral_counter_CoralCounter.prototype, "max", null);
coral_counter_CoralCounter = coral_counter_decorate([
    Object(lib_elf["i" /* customElement */])('coral-counter')
], coral_counter_CoralCounter);

//# sourceMappingURL=coral-counter.js.map
// EXTERNAL MODULE: ./node_modules/@elf/coral-text-field/lib/coral-text-field.js
var coral_text_field = __webpack_require__(27);

// EXTERNAL MODULE: ./node_modules/@elf/coral-tooltip/lib/coral-tooltip.js + 5 modules
var coral_tooltip = __webpack_require__(14);

// CONCATENATED MODULE: ./node_modules/@elf/coral-combo-box/lib/default-filter.js
/**
 * Default filter used by combo box
 * @param el ComboBox instance to filter
 * @returns Filter accepting an item
 */
const defaultFilter = (el) => {
    // reference query string for validating queryRegExp cache state
    let query = '';
    // cache RegExp
    let queryRegExp;
    // Get current RegExp, or renew if out of date
    // this is fetched on demand by filter/renderer
    // only created once per query
    const getRegularExpressionOfQuery = () => {
        if (el.query !== query || !queryRegExp) {
            query = el.query || '';
            queryRegExp = new RegExp(query.replace(/(\W)/g, '\\$1'), 'i');
        }
        return queryRegExp;
    };
    // return scoped custom filter
    return (item) => {
        const regex = getRegularExpressionOfQuery();
        const result = regex.test(item.label);
        // this example uses global scope, so the index needs resetting
        regex.lastIndex = 0;
        return result;
    };
};

// EXTERNAL MODULE: ./node_modules/@elf/elf-translate/lib/elf-translate.js
var elf_translate = __webpack_require__(6);

// EXTERNAL MODULE: ./node_modules/@elf/core-phrasebook/lib/locale/en/shared.js
var en_shared = __webpack_require__(33);

// CONCATENATED MODULE: ./node_modules/@elf/core-phrasebook/lib/locale/en/coral-combo-box.js


const coral_combo_box_translations = {
    NO_OPTIONS: 'No results found.'
};
lib["a" /* Phrasebook */].define('en', 'coral-combo-box', coral_combo_box_translations);
/* harmony default export */ var coral_combo_box = (coral_combo_box_translations);

// CONCATENATED MODULE: ./node_modules/@elf/coral-combo-box/lib/keyboard-event.js
/**
 * A helper class to propagate KeyBoard event to the list
 * Done is this way to cover IE11
 */
class CustomKeyboardEvent extends Event {
    /**
     * Create custom keyboard event
     * @param type Event type
     * @param eventInitDict Keyboard event init object
     */
    constructor(type, eventInitDict = {}) {
        super(type, eventInitDict);
        this.key = eventInitDict.key;
        this.shiftKey = eventInitDict.shiftKey;
        this.altKey = eventInitDict.altKey;
        this.ctrlKey = eventInitDict.ctrlKey;
        this.metaKey = eventInitDict.metaKey;
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/coral-combo-box/lib/coral-combo-box.js
var coral_combo_box_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};














const QUERY_DEBOUNCE_RATE = 0;
// Maximum number of characters to display in multiple mode
const MULTIPLE_LABEL_MAX_SIZE = 250;
// Separator for labels in multiple mode
// Double space is expected
const MULTIPLE_LABEL_SEPARATOR = ';  ';
const POPUP_POSITION = ['bottom-start', 'top-start'];
const valueFormatWarning = new lib_elf["g" /* WarningNotice */]('The specified \'values\' format does not conform to the required format.');
const freeTextMultipleWarning = new lib_elf["g" /* WarningNotice */]('"free-text" mode is not compatible with "multiple" mode');
/**
 * coral-combo-box combines a popup with a filterable selection list
 *
 * @attr {boolean} readonly - Set readonly state
 * @prop {boolean} [readonly=false] - Set readonly state
 *
 * @attr {boolean} disabled - Set disabled state
 * @prop {boolean} [disabled=false] - Set disabled state
 *
 * @attr {string} name - Set name of the element
 * @prop {string} [name=''] - Set name of the element
 *
 * @fires value-changed - Dispatched when value changes
 * @fires query-changed - Dispatched when query changes
 * @fires opened-changed - Dispatched when opened state changes
 */
let coral_combo_box_CoralComboBox = class CoralComboBox extends lib_elf["b" /* ControlElement */] {
    constructor() {
        super(...arguments);
        /**
         * Custom filter for static data
         * Set this to null when data is filtered externally, eg XHR
         */
        this.filter = defaultFilter(this);
        /**
         * Renderer used to render list item elements
         */
        this.renderer = new coral_list["b" /* DefaultRenderer */](this);
        this._multiple = false;
        /**
         * Track opened state of popup
         */
        this.opened = false;
        /**
         * Placeholder for input field
         */
        this.placeholder = '';
        /**
         * Show clears button
         */
        this.clears = false;
        this._freeText = false;
        /**
         * Set state to error
         */
        this.error = false;
        /**
         * Set state to warning
         */
        this.warning = false;
        // Internal reference to debounce rate
        this._queryDebounceRate = QUERY_DEBOUNCE_RATE;
        // Debounces the query using queryDebounceRate
        this.queryDebouncer = new utils["g" /* TimeoutTaskRunner */](this._queryDebounceRate);
        this._data = []; // Local data object set through data setter
        /**
         * `value` always initialised before `data`, so it cannot query and select items when using attribute.
         * This variable is to store value for selecting a data item after data has been initialised.
         */
        this.cachedValue = '';
        this._query = null; // Internally set and store query value
        /**
         * Composer used to query and modify item state.
         */
        this.composer = new utils["d" /* CollectionComposer */]([]);
        /**
         * Initiate one time popup rendering
         */
        this.lazyRendered = false;
        /**
         * Throttle popup resizing
         */
        this.resizeThrottler = new utils["b" /* AnimationTaskRunner */]();
        /**
         * Input text to display in text field while typing
         * Use because of query debouncer to avoid input to be not in sync with query
         */
        this.inputText = '';
        /**
         * Used to store free text value
         * If freeText mode is defined
         */
        this.freeTextValue = '';
        /**
         * Hold popup styling applied on open
         */
        this.popupDynamicStyles = {};
        /**
         * Use to call request update when CC changes its value
         * @returns {void}
         */
        this.modificationHandler = () => this.modificationUpdate();
        this._resolvedData = [];
        this.dataPromiseCounter = 0; // A counter to detect that the promise resolved is the last promise set
        /**
         * Mark combobox with loading flag
         * Used in conjunction with data promise
         */
        this.loading = false;
        this.shouldOpenOnFocus = false;
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.6.28';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return lib_elf["h" /* css */] `
      :host {
        display: inline-flex;
        flex-flow: row nowrap;
        user-select: none;
        outline: none;
      }
      [part=input-wrapper] {
        cursor: pointer;
      }
      [part=input] {
        cursor: text;
      }
      [part=input]::-ms-clear {
        display: none;
      }
      [hidden] {
        display: none !important;
      }
    `;
    }
    /**
     * Multiple selection mode
     * @param multiple true to set multiple mode
     */
    set multiple(multiple) {
        if (multiple && this.freeText) {
            freeTextMultipleWarning.show();
            multiple = false;
        }
        const oldMultiple = this._multiple;
        this._multiple = multiple;
        void this.requestUpdate('multiple', oldMultiple);
    }
    get multiple() {
        return this._multiple;
    }
    /**
     * Allow to enter any value
     * @param freeText true to set freeText mode
     */
    set freeText(freeText) {
        if (this.multiple && freeText) {
            freeTextMultipleWarning.show();
            freeText = false;
        }
        if (!freeText) {
            this.freeTextValue = '';
        }
        const oldFreeText = this._freeText;
        this._freeText = freeText;
        void this.requestUpdate('freeText', oldFreeText);
    }
    get freeText() {
        return this._freeText;
    }
    /**
     * Control query rate, defaults to 0
     */
    get queryDebounceRate() {
        return this._queryDebounceRate;
    }
    set queryDebounceRate(value) {
        const oldValue = this._queryDebounceRate;
        if (value !== oldValue) {
            this._queryDebounceRate = value;
            this.queryDebouncer = new utils["g" /* TimeoutTaskRunner */](this._queryDebounceRate);
            // no need to update as this is called for input changes
        }
    }
    /**
     * Data array to be displayed
     * @type {CoralItemData[] | Promise<T[]>}
     */
    get data() {
        return this._data;
    }
    set data(value) {
        this._data = value;
        void this.resolveDataPromise(value);
    }
    /**
     * Returns the first selected item value.
     * Use `values` when multiple selection mode is enabled.
     */
    get value() {
        return this.values[0] || '';
    }
    set value(value) {
        /**
         * Set the value if the data is ready,
         * otherwise cache it for later.
         */
        if (this.composer.size) {
            this.values = [value];
        }
        else {
            this.cachedValue = value;
        }
    }
    /**
     * Returns a values collection of the currently
     * selected item values
     */
    get values() {
        // In free text mode, compare selected to values
        return this.freeTextValue ? [this.freeTextValue] : this.composerValues;
    }
    set values(values) {
        if (!Array.isArray(values)) {
            valueFormatWarning.show();
            this.values = [];
        }
        else {
            // Clone value arrays
            const newValues = values.slice(0, this.multiple ? values.length : 1);
            const oldValues = this.composerValues.slice();
            // Create comparison strings to check for differences
            const newComparison = newValues.sort().toString();
            const oldComparison = oldValues.sort().toString();
            // Should we update the selection state?
            if (newComparison !== oldComparison) {
                this.updateComposerValues(newValues);
                void this.requestUpdate('values', oldValues);
            }
        }
    }
    /**
     * Update composer values.
     * @param newValues new values
     * @returns {void}
     */
    updateComposerValues(newValues) {
        this.queryItems((item, composer) => {
            if (newValues.includes(composer.getItemPropertyValue(item, 'value'))) {
                composer.setItemPropertyValue(item, 'selected', true);
                return true;
            }
            composer.setItemPropertyValue(item, 'selected', false);
            return false;
        });
    }
    /**
     * Query string applied to combo-box
     * Set via internal text-field input
     * @readonly
     */
    get query() {
        return this._query;
    }
    set query(query) {
        const oldVal = this._query;
        this._query = query;
        this.queryDebouncer.cancel();
        if (oldVal !== this._query) {
            this.clearHighlighted();
            this.filterItems();
            this.requestUpdate('query', oldVal);
        }
    }
    /**
     * Label of selected value
     * @returns Label to use, defaults to empty string
     * @readonly
     */
    get label() {
        const labels = this.selectedLabels;
        if (labels.length <= 1) {
            return labels[0] || '';
        }
        // multiple mode, do according to UX specs
        const output = labels.join(MULTIPLE_LABEL_SEPARATOR);
        return output.length > MULTIPLE_LABEL_MAX_SIZE ? `${output.slice(0, MULTIPLE_LABEL_MAX_SIZE - 3)}...` : output;
    }
    /**
     * Get resolved data (if possible)
     */
    get resolvedData() {
        return this._resolvedData;
    }
    /**
     * Set resolved data
     * @param value resolved data
     */
    set resolvedData(value) {
        const oldValue = this._resolvedData;
        if (value !== oldValue) {
            if (Array.isArray(value)) {
                this.composer = new utils["d" /* CollectionComposer */](value);
            }
            else {
                this.composer = new utils["d" /* CollectionComposer */]([]);
            }
            this.listenToComposer();
            this._resolvedData = value;
            /**
             * Select using initialised the value once from attribute/property,
             * only when there is no existing selections.
             */
            if (this.cachedValue && this.selection.length === 0) {
                this.value = this.cachedValue;
                this.cachedValue = ''; // Reset as it's only needed for initialisation
            }
            void this.requestUpdate('data', oldValue);
        }
    }
    /**
     * Used to resolve data when set as a promise
     * @param data Data promise
     * @returns Promise<void>
     */
    async resolveDataPromise(data) {
        const dataPromiseCounter = this.dataPromiseCounter += 1;
        let resolvedData;
        if (data instanceof Promise) {
            this.loading = true;
            try {
                resolvedData = await data;
            }
            catch (error) {
                resolvedData = [];
            }
        }
        else {
            resolvedData = data;
        }
        if (dataPromiseCounter === this.dataPromiseCounter) {
            this.resolvedData = resolvedData;
            this.loading = false;
        }
    }
    /**
     * The the values from composer ignoring freeTextValue
     */
    get composerValues() {
        return this.queryItemsByPropertyValue('selected', true)
            .map(item => this.getItemPropertyValue(item, 'value'));
    }
    /**
     * Return currently selected items
     * This is distinct from values as for controls with persistence features
     * it can be used to show current selection count and get the selection labels
     * @returns List of selected items
     */
    get selection() {
        return this.queryItemsByPropertyValue('selected', true).slice();
    }
    /**
     * Count of selected items
     * @returns Has selection
     */
    get selectionCount() {
        return this.selection.length;
    }
    /**
     * Determine if list has visible items
     * @returns List has visible items or not
     */
    get listHasVisibleItems() {
        return this.resolvedData.some(item => !this.getItemPropertyValue(item, 'hidden'));
    }
    /**
     * Selected item
     * @returns Has selection
     */
    get selectedItem() {
        return this.queryItemsByPropertyValue('selected', true)[0];
    }
    /**
     * Get a list of selected item labels
     * @returns Has selection
     */
    get selectedLabels() {
        return this.selection.map(selected => this.getItemPropertyValue(selected, 'label') || '');
    }
    /**
     * Utility method  - ensures correct composer is being listened to
     * @returns {void}
     */
    listenToComposer() {
        this.composer.on('modification', // Listen for modifications
        this.modificationHandler // Update the template
        );
    }
    /**
     * Updates the element
     * @param changedProperties Properties that has changed
     * @returns {void}
     */
    update(changedProperties) {
        const focusedChanged = changedProperties.has(lib_elf["e" /* FocusedPropertyKey */]);
        // the opened logic is bound to focus state
        if (focusedChanged) {
            // When focus changes the popup can open only on tapstart
            if (this.focused && this.shouldOpenOnFocus) {
                this.setOpened(true);
            }
            else if (!this.focused) {
                this.setOpened(false);
            }
            this.shouldOpenOnFocus = false;
        }
        /*
        * data can be visible and opened changed = open
        * or, opened is true and data; and contains visible data = open
        * queries local properties first to short circuit querying map iteration
        */
        if (changedProperties.has('opened')) {
            if (this.opened) {
                // fulfil any queries if opened is changed
                // this is the case if keyboard navigation is used
                this.queryDebouncer.fulfil();
                this.opening();
            }
            else {
                this.clearHighlighted();
            }
        }
        // combo-box may be opened programmatically (via opened attribute)
        // make sure that the element correctly reacts on this change
        if ((changedProperties.has('data') && this.opened && !this.focused) || focusedChanged) {
            this.resetInput();
        }
        // If label is defined it means that there is an actual value
        // Select input text to simplify clearing the value
        if (focusedChanged && this.focused && this.label) {
            this.inputEl.focus();
            this.inputEl.select();
        }
        // Make sure that the first item is always highlighted
        if (this.opened && (changedProperties.has('opened') || changedProperties.has('data') || changedProperties.has('query'))) {
            this.highlightFirstItem();
        }
        // If data is set asynchronously while popup is opened
        // coral-list might not trigger popup update
        if (changedProperties.has('data') && this.opened) {
            this.forcePopupLayout();
        }
        super.update(changedProperties);
    }
    /**
     * Called after the component is first rendered
     * @param changedProperties Properties which have changed
     * @returns {void}
     */
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        this.addEventListener('keydown', event => this.onKeyDown(event));
        this.addEventListener('tapstart', event => this.onTapStart(event));
    }
    /**
     * Sets opened state and fires event
     * Use this to set opened state when user interacts to the component
     * @param opened True if opened
     * @returns {void}
     */
    setOpened(opened) {
        if (this.opened !== opened && this.notifyPropertyChange('opened', opened, true)) {
            this.opened = opened;
        }
    }
    /**
     * Requests an update after a composer modification.
     * @returns {void}
     */
    modificationUpdate() {
        void this.requestUpdate();
    }
    /**
     * Queries the composer for data items
     * @param engine Composer query engine
     * @returns Collection of matched items
     */
    queryItems(engine) {
        return this.composer.queryItems(engine);
    }
    /**
     * Queries the composer for data items,
     * matching by property value.
     * @param property Property name to query
     * @param value Property value to match against
     * @returns Collection of matched items
     */
    queryItemsByPropertyValue(property, value) {
        return this.composer.queryItemsByPropertyValue(property, value, 0);
    }
    /**
     * Gets the property value of an item
     * @param item Original data item
     * @param property Property name to get the value of
     * @returns Value of the property
     */
    getItemPropertyValue(item, property) {
        return this.composer.getItemPropertyValue(item, property);
    }
    /**
     * Sets the property value of an item
     * @param item Original data item
     * @param property Property name to set the value of
     * @param value New value of the property
     * @returns {void}
     */
    setItemPropertyValue(item, property, value) {
        this.composer.setItemPropertyValue(item, property, value);
    }
    /**
     * Set width on popup using parent and --list-max-width if set
     * @returns {void}
     */
    opening() {
        this.lazyRendered = true;
        this.restrictPopupWidth();
    }
    /**
     * Scrolls to the currently selected item
     * @returns {void}
     */
    scrollToSelected() {
        var _a;
        const item = this.selectedItem;
        if (item) {
            (_a = this.listEl) === null || _a === void 0 ? void 0 : _a.scrollToItem(item);
        }
    }
    /**
     * Highlights the item
     * @param item data item to highlight
     * @returns {void}
     */
    highlightItem(item) {
        this.clearHighlighted();
        this.setItemPropertyValue(item, 'highlighted', true);
    }
    /**
     * Clears any highlighted items
     * @returns {void}
     */
    clearHighlighted() {
        this.queryItemsByPropertyValue('highlighted', true)
            .forEach(item => this.setItemPropertyValue(item, 'highlighted', false));
    }
    /**
     * Popup has to use max width if --list-max-width specified
     * otherwise, popup should have same width as control or wider
     * @returns {void}
     */
    restrictPopupWidth() {
        /* istanbul ignore next */
        if (this.offsetWidth === 0) {
            // this code might happen only when opened has been set during initialisation
            // or when display is set to none
            this.resizeThrottler.schedule(() => {
                if (this.offsetWidth) { /* must be here to avoid infinitive loop */
                    this.restrictPopupWidth();
                    void this.requestUpdate();
                }
            });
            return;
        }
        const maxWidth = parseFloat(this.getComputedVariable('--list-max-width', 'none'));
        let minWidth = this.offsetWidth;
        // reset min-width if max-width less than min-width, otherwise browser won't apply max-width
        if (maxWidth < minWidth) {
            minWidth = 0;
        }
        this.popupDynamicStyles.minWidth = `${minWidth}px`;
    }
    /**
     * Set the query string and run `query-change` event
     * @param query query
     * @returns void
     */
    setQuery(query) {
        const oldQuery = this.query;
        this.query = query; // reset debouncer here
        if (oldQuery !== query) {
            this.notifyPropertyChange('query', this.query);
        }
    }
    /**
     * Reset the input text to match label
     * @returns {void}
     */
    resetInput() {
        this.setQuery('');
        this.inputText = this.multiple ? '' : (this.freeTextValue || this.label);
    }
    /**
     * Filter the internal items by query
     * Changes items' hidden state
     * @returns {void}
     */
    filterItems() {
        // if filter is null, it is off and external app is responsible
        if (this.filter) {
            // we do not produce a new list as it will loose all association with this composer
            // unless we spent time re-applying this composer to a new list/composer
            // instead we change the hidden state
            // by coral-list applying a queryItems itself and does not render hidden items
            // filter declared here to avoid the possibility of being null if used directly in the callback
            const filter = this.filter;
            let groupHeaderItem = null;
            this.queryItems((item, composer) => {
                // do not filter hidden items
                if (item.hidden) {
                    return false;
                }
                let result = false;
                // support groups
                if (composer.getItemPropertyValue(item, 'type') === 'header') {
                    groupHeaderItem = item;
                }
                else {
                    result = filter(item);
                }
                composer.setItemPropertyValue(item, 'hidden', !result);
                composer.updateItemTimestamp(item);
                if (result && groupHeaderItem && composer.getItemParent(groupHeaderItem) === composer.getItemParent(item)) {
                    composer.setItemPropertyValue(groupHeaderItem, 'hidden', false);
                    composer.updateItemTimestamp(groupHeaderItem);
                    groupHeaderItem = null;
                }
                return result;
            });
        }
        this.forcePopupLayout();
    }
    /**
     * Highlight the selected item or the first available item
     * @returns {void}
     */
    highlightFirstItem() {
        let selectedItem = null;
        const highlightItem = this.queryItems((item, composer) => {
            if (selectedItem || !this.canHighlightItem(item, composer)) {
                return false;
            }
            if (composer.getItemPropertyValue(item, 'selected') === true) {
                selectedItem = item;
            }
            return true;
        })[0];
        (selectedItem || highlightItem) && this.highlightItem(selectedItem || highlightItem);
    }
    /**
     * Check if an item can be highlighted
     * @param item Collection composer item
     * @param composer Collection composer
     * @returns can highlight
     */
    canHighlightItem(item, composer) {
        let canHighlight = !(composer.getItemPropertyValue(item, 'hidden') === true
            || (composer.getItemPropertyValue(item, 'type') || 'text') !== 'text'
            || composer.getItemPropertyValue(item, 'disabled') === true
            || composer.isItemLocked(item) === true);
        // check ancestors
        if (canHighlight) {
            const parent = composer.getItemParent(item);
            canHighlight = !parent || this.canHighlightItem(parent, composer);
        }
        return canHighlight;
    }
    /**
     * https://github.com/juggle/resize-observer/issues/42
     *
     * This event ensures that ResizeObserver picks up resize events
     * when popup is deeply nested inside shadow root.
     * TODO: remove this workaround once ResizeObserver handles shadow root scenario
     * @returns {void}
    */
    forcePopupLayout() {
        window.dispatchEvent(new Event('animationiteration'));
    }
    /**
     * Shift focus back to input.
     * This method is required to prevent popup from focusing
     * @returns {void}
     */
    shiftFocus() {
        this.focus({
            preventScroll: true
        });
    }
    /**
     * Handle text value change from text-field
     * @param event Custom Event fired from coral-text-field
     * @returns {void}
     */
    onInputValueChanged(event) {
        const inputText = event.detail.value;
        /**
         * Query is used to track if there is a query
         * We always use it so the absence of it can be used to reapply the
         * selected item's label, if applicable
         */
        this.queryDebouncer.schedule(() => {
            this.setQuery(inputText);
        });
        // Reset text when clearing the value
        if (!this.multiple && !inputText) {
            this.setValueAndNotify('');
        }
        // always ensure that internal val matches input val
        this.inputText = inputText;
        // Used for free input. Never set it unless in free text mode
        if (this.freeText) {
            this.value = ''; // make sure that composer does not have selected
            this.freeTextValue = inputText;
            this.notifyPropertyChange('value', inputText);
        }
        this.setOpened(true);
    }
    /**
     * Handle list value changed
     * @returns {void}
     */
    onListValueChanged() {
        // cascade value changed event
        this.notifyPropertyChange('value', this.value);
        this.onListInteraction();
    }
    /**
     * Handle popup opened event
     *
     * Scrolls the current selection into view
     * @returns {void}
     */
    onPopupOpened() {
        this.scrollToSelected();
    }
    /**
     * Handle popup closed event
     *
     * Ensures that popup state equals combo box opened prop
     * @returns {void}
     */
    onPopupClosed() {
        this.setOpened(false);
    }
    /**
     * Run when input-wrapper is tapped
     * @param event Tap event
     * @returns {void}
     */
    onTapStart(event) {
        // do nothing if disabled or readonly
        if (this.readonly || this.disabled) {
            return;
        }
        const path = event.composedPath();
        if (this.clearsButtonEl && path.includes(this.clearsButtonEl)) {
            this.onClearsButtonTap();
            return;
        }
        if (path.includes(this.toggleButtonEl)) {
            this.onToggleButtonTap();
            return;
        }
        this.onInputWrapperTap();
    }
    /**
     * Run when tap event happens on toggle button
     * @returns {void}
     */
    onToggleButtonTap() {
        if (this.opened) {
            this.setOpened(false);
        }
        else {
            this.openOnFocus();
        }
    }
    /**
     * Run when tap event happens on clears button
     * @returns {void}
     */
    onClearsButtonTap() {
        this.freeTextValue = '';
        this.inputText = '';
        this.setQuery('');
        this.setValueAndNotify('');
        this.openOnFocus();
    }
    /**
     * Run when tap event happens on input wrapper
     * excluding clears and toggles buttons
     * @returns {void}
     */
    onInputWrapperTap() {
        this.openOnFocus();
    }
    /**
     * This flag is required to remove the frame gap
     * between tap start and opening the popup
     * @returns {void}
     */
    openOnFocus() {
        if (this.opened) {
            return;
        }
        if (this.focused) {
            this.setOpened(true);
            return;
        }
        this.shouldOpenOnFocus = true;
    }
    /**
     * Handles key input
     * @param event Key down event object
     * @returns {void}
     */
    onKeyDown(event) {
        // Check if the event is already handle by coral-list
        if (event.defaultPrevented) {
            return;
        }
        switch (event.key) {
            case 'Enter':
                this.enter(event);
                break;
            case 'Up':
            case 'ArrowUp':
                this.up(event);
                break;
            case 'Down':
            case 'ArrowDown':
                this.down(event);
                break;
            default:
                return;
        }
        event.preventDefault();
    }
    /**
     * Run when tap event or enter
     * happened on the list
     * @returns {void}
     */
    onListInteraction() {
        this.freeTextValue = ''; // when the item has been selected, reset the freeText
        if (!this.multiple) {
            this.resetInput();
            const label = this.label;
            this.setOpened(false);
            // make sure that focus is kept withing an element
            // and the cursor is positioned at the end of input
            // Wait before the update cycle completes
            this.updateComplete.then(() => {
                this.inputEl.focus();
                this.inputEl.setSelectionRange(label.length, label.length);
            });
        }
    }
    /**
     * Handles action keys, either opening the list,
     * or, selecting a highlighted item.
     * @param event keyboard event
     * @returns {void}
     */
    enter(event) {
        if (this.opened && this.listEl) {
            this.reTargetEvent(event, this.listEl);
            this.onListInteraction();
        }
        else {
            this.setOpened(true);
        }
    }
    /**
     * Navigates up the list.
     * Opens the list if closed.
     * @param event keyboard event
     * @returns {void}
     */
    up(event) {
        if (this.opened && this.listEl) {
            this.reTargetEvent(event, this.listEl);
        }
        else {
            this.setOpened(true);
        }
    }
    /**
     * Navigates down the list.
     * Opens the list if closed.
     * @param event keyboard event
     * @returns {void}
     */
    down(event) {
        if (this.opened && this.listEl) {
            this.reTargetEvent(event, this.listEl);
        }
        else {
            this.setOpened(true);
        }
    }
    /**
     * Retarget event to target element
     * @param event keyboard event
     * @param target new target element
     * @returns re-targeted event or the passed event if target is invalid
     */
    reTargetEvent(event, target) {
        const path = event.composedPath();
        /* istanbul ignore next */
        if (path[0] === target) {
            // this must not happen, but keep it here to avoid infinitive loop
            return event;
        }
        const keyboardEvent = new CustomKeyboardEvent(event.type, event);
        target.dispatchEvent(keyboardEvent);
        if (keyboardEvent.defaultPrevented) {
            event.preventDefault();
        }
        return keyboardEvent;
    }
    /**
     * Template for clear button
     * Rendered when `clears` attribute is set
     * @returns Popup template or undefined
     */
    get clearButtonTemplate() {
        if (this.clears) {
            return lib_elf["k" /* html */] `
        <div
          id="clears-button"
          part="button button-clear"
          ?hidden=${!this.label && !this.query && !this.freeTextValue && !this.inputText}><coral-icon part="icon icon-clear" icon="cross"></coral-icon>
        </div>
      `;
        }
    }
    /**
     * Template for selection badge in multiple mode
     * @returns Selection badge template or undefined
     */
    get selectionBadgeTemplate() {
        if (this.multiple) {
            const selectionLength = this.selectionCount;
            // TODO Make this a short format number using i18n which has specific support for this +
            // benefit of being localised too
            if (this.focused || selectionLength > 1) {
                return lib_elf["k" /* html */] `
        <coral-counter part="selection-badge" tabindex="-1" .value=${selectionLength} title=${Object(lib_elf["l" /* ifDefined */])(selectionLength > 999 ? selectionLength.toLocaleString() : undefined)} max="999"></coral-counter>
      `;
            }
        }
    }
    /**
     * Returns a list template
     */
    get listTemplate() {
        return lib_elf["k" /* html */] `
      <coral-list
        id="internal-list"
        @value-changed="${this.onListValueChanged}"
        .data="${this.composer}"
        .multiple="${this.multiple}"
        .renderer="${this.renderer}"
        ></coral-list>
    `;
    }
    /**
     * Returns a template showing no options text
     * Called when freeText mode is off and all items are filtered out
     */
    get noItemsTemplate() {
        if (!this.freeText) {
            return lib_elf["k" /* html */] `<coral-item disabled>${this.t('NO_OPTIONS')}</coral-item>`;
        }
    }
    /**
     * Returns template for popup
     * Lazy loads the popup
     * @returns Popup template or undefined
     */
    get popupTemplate() {
        if (this.lazyRendered) {
            const hasVisibleItems = this.listHasVisibleItems;
            return lib_elf["k" /* html */] `<coral-popup-panel
        part="list"
        style="${Object(lib_elf["p" /* styleMap */])(this.popupDynamicStyles)}"
        @opened="${this.onPopupOpened}"
        @closed="${this.onPopupClosed}"
        .focusBoundary="${this}"
        .opened="${this.opened && (hasVisibleItems || !this.freeText)}"
        .positionTarget="${this}"
        .position="${POPUP_POSITION}"
        with-shadow
        no-overlap
        no-focus-management
        no-autofocus
        @focusin="${this.shiftFocus}"
      >${hasVisibleItems ? this.listTemplate : this.noItemsTemplate}</coral-popup-panel>`;
        }
    }
    /**
     * Returns a template for input field
     * @returns Input template
     */
    get inputTemplate() {
        const inputValue = this.focused ? this.inputText : this.freeTextValue || this.label;
        return lib_elf["k" /* html */] `<div part="input-wrapper">
      <coral-text-field
        part="input"
        transparent
        .placeholder="${this.placeholder}"
        .readonly="${this.readonly}"
        .value="${inputValue}"
        @value-changed="${this.onInputValueChanged}"></coral-text-field>
      ${this.selectionBadgeTemplate}
      ${this.clearButtonTemplate}
      <div id="toggle-button" part="button button-toggle">
        <coral-icon part="icon icon-toggle" icon="down"></coral-icon>
      </div>
    </div>`;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @returns Render template
     */
    render() {
        return lib_elf["k" /* html */] `
      ${this.inputTemplate}
      ${this.popupTemplate}
    `;
    }
};
coral_combo_box_decorate([
    Object(lib_elf["n" /* property */])({ type: Function, attribute: false })
], coral_combo_box_CoralComboBox.prototype, "filter", void 0);
coral_combo_box_decorate([
    Object(lib_elf["n" /* property */])({ type: Function, attribute: false })
], coral_combo_box_CoralComboBox.prototype, "renderer", void 0);
coral_combo_box_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean })
], coral_combo_box_CoralComboBox.prototype, "multiple", null);
coral_combo_box_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_combo_box_CoralComboBox.prototype, "opened", void 0);
coral_combo_box_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], coral_combo_box_CoralComboBox.prototype, "placeholder", void 0);
coral_combo_box_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean })
], coral_combo_box_CoralComboBox.prototype, "clears", void 0);
coral_combo_box_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, attribute: 'free-text' })
], coral_combo_box_CoralComboBox.prototype, "freeText", null);
coral_combo_box_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_combo_box_CoralComboBox.prototype, "error", void 0);
coral_combo_box_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_combo_box_CoralComboBox.prototype, "warning", void 0);
coral_combo_box_decorate([
    Object(lib_elf["n" /* property */])({ type: Number, attribute: 'query-debounce-rate' })
], coral_combo_box_CoralComboBox.prototype, "queryDebounceRate", null);
coral_combo_box_decorate([
    Object(lib_elf["n" /* property */])({ attribute: false })
], coral_combo_box_CoralComboBox.prototype, "data", null);
coral_combo_box_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], coral_combo_box_CoralComboBox.prototype, "value", null);
coral_combo_box_decorate([
    Object(lib_elf["n" /* property */])({ type: Array, attribute: false })
], coral_combo_box_CoralComboBox.prototype, "values", null);
coral_combo_box_decorate([
    Object(lib_elf["n" /* property */])({ type: String, attribute: false })
], coral_combo_box_CoralComboBox.prototype, "query", null);
coral_combo_box_decorate([
    Object(lib_elf["o" /* query */])('[part=input]')
], coral_combo_box_CoralComboBox.prototype, "inputEl", void 0);
coral_combo_box_decorate([
    Object(lib_elf["o" /* query */])('#internal-list')
], coral_combo_box_CoralComboBox.prototype, "listEl", void 0);
coral_combo_box_decorate([
    Object(lib_elf["o" /* query */])('#toggle-button')
], coral_combo_box_CoralComboBox.prototype, "toggleButtonEl", void 0);
coral_combo_box_decorate([
    Object(lib_elf["o" /* query */])('#clears-button')
], coral_combo_box_CoralComboBox.prototype, "clearsButtonEl", void 0);
coral_combo_box_decorate([
    Object(lib_elf["n" /* property */])({ type: String, reflect: true })
], coral_combo_box_CoralComboBox.prototype, "loading", void 0);
coral_combo_box_decorate([
    Object(elf_translate["c" /* translate */])({ scope: 'coral-combo-box' })
], coral_combo_box_CoralComboBox.prototype, "t", void 0);
coral_combo_box_decorate([
    Object(lib_elf["j" /* eventOptions */])({ capture: true })
], coral_combo_box_CoralComboBox.prototype, "shiftFocus", null);
coral_combo_box_CoralComboBox = coral_combo_box_decorate([
    Object(lib_elf["i" /* customElement */])('coral-combo-box')
], coral_combo_box_CoralComboBox);


// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-item.js




elf.customStyles.define('coral-item', ':host{outline:0;cursor:pointer;padding:0 7px;min-height:22px;box-sizing:border-box;touch-action:manipulation}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){:host(:after){content:\'\';min-height:inherit;font-size:0}}:host([selected]){color:#ee7600}:host([readonly]){cursor:default}:host([focused]),:host([highlighted]){background-color:rgba(0,0,0,.08)}:host([focused]:not([selected])),:host([highlighted]:not([selected])){color:#000}:host [part=center],:host [part=sub-label]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}:host([disabled]){color:rgba(72,72,72,.5)}:host([type=divider]),:host([type=header]){pointer-events:none;min-height:auto}:host([type=divider]) [part=sub-label],:host([type=header]) [part=sub-label]{display:none}:host([type=header]){color:#484848;background-color:#f2f3f7;font-size:100%;font-weight:400;border:1px solid #d5d8db;height:22px;align-items:flex-end;margin:0;min-height:0;text-transform:uppercase;border:none;border-top:1px solid #d5d8db;border-bottom:1px solid transparent;text-transform:none;align-items:center}:host([type=divider]){border:none;padding:0;margin:0;height:5px;background:linear-gradient(#a9afba,#a9afba) 0 center/calc(100% - (0px * 2)) 1px no-repeat}:host [part=checkbox],:host [part=icon],:host [part=left] ::slotted(*){margin:0 .5em 0 0}:host [part=sub-label]{font-size:80%}:host [part=icon],:host [part=left] ::slotted(*){margin-right:.33em}:host [part=right] ::slotted(*){margin-left:.33em}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-list.js



elf.customStyles.define('coral-list', ':host{--item-indent:7px;--item-height:22px;color:#484848;background-color:transparent;touch-action:manipulation;scrollbar-face-color:#8a8a96;scrollbar-shadow-color:#8a8a96;scrollbar-highlight-color:#8a8a96;scrollbar-arrow-color:#8a8a96;scrollbar-track-color:#fff;scrollbar-3dlight-color:#fff;scrollbar-darkshadow-color:#fff;scrollbar-color:#8a8a96 #fff}:host(:focus){outline:0}:host([readonly]) [part=list-item]{cursor:default}::-webkit-scrollbar{width:13px;height:13px}::-webkit-scrollbar-button{background:0 0/1px 2px no-repeat #fff;height:12px;width:12px;display:block}::-webkit-scrollbar-thumb{background:#8a8a96;border-radius:7px;border:2px solid #fff}::-webkit-scrollbar-thumb:hover{background:#a9afba}::-webkit-scrollbar-thumb:active{background:#ee7600}::-webkit-scrollbar-track{background:#fff}::-webkit-scrollbar-corner{background:#fff}::-webkit-scrollbar-button:end:decrement,::-webkit-scrollbar-button:start:increment{display:none}::-webkit-scrollbar-button:horizontal{background-size:2px 1px}::-webkit-scrollbar-button:vertical:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:horizontal:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-counter.js



elf.customStyles.define('coral-counter', ':host{touch-action:manipulation;background:#a9afba;border-radius:2px;transition:70ms;margin:3px 3px 0 0;font-family:inherit;font-size:13rem;font-weight:400;padding:0 4px;min-width:22px;max-width:180px;outline:0;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;vertical-align:middle;position:relative;overflow:hidden;color:#fff;height:17px;max-width:120px}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-text-field.js



elf.customStyles.define('coral-text-field', ':host{display:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-align:left;font-family:inherit;font-size:13rem;font-weight:400;height:23px;width:140px;max-width:100%;padding:0 5px;margin:1px 0;outline:0;box-sizing:border-box;display:inline-flex;align-items:center;position:relative;vertical-align:middle;color:#484848;border-radius:0;text-overflow:ellipsis;background-color:#fff;border:1px solid #a9afba}:host([type=number]){padding-right:0}:host([error]),:host([error][warning]){border:1px solid #d94255}:host([error][disabled]),:host([error][warning][disabled]){color:rgba(72,72,72,.6);border:1px solid rgba(217,66,85,.6)}:host ::-ms-clear{display:none}:host [part=input]{color:inherit;padding:0;margin:0;flex:1 1 auto;min-width:0;width:100%;height:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-overflow:ellipsis;touch-action:manipulation}:host [part=input]::-webkit-clear-button,:host [part=input]::-webkit-inner-spin-button,:host [part=input]::-webkit-search-cancel-button,:host [part=input]::-webkit-search-decoration{-webkit-appearance:none}:host [part=input]:invalid{box-shadow:none}:host [part=icon]{color:#acafb5;min-width:1em}:host([disabled]) [part=input]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host([disabled]){border:1px solid rgba(169,175,186,.6);color:rgba(72,72,72,.6)}:host([readonly]){border:1px solid rgba(169,175,186,.6)}:host(:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #bfc3cb}:host([warning]){background-color:#fff;border:1px solid #f93}:host([warning][disabled]){border:1px solid rgba(255,153,51,.6);color:rgba(72,72,72,.6)}:host([warning][readonly]){border:1px solid rgba(255,153,51,.6)}:host([warning]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #ffb366}:host([error]),:host([error][warning]:not([focused])){background-color:#fff;border:1px solid #d94255}:host([error][disabled]),:host([error][warning]:not([focused])[disabled]){border:1px solid rgba(217,66,85,.6);color:rgba(72,72,72,.6)}:host([error][readonly]),:host([error][warning]:not([focused])[readonly]){border:1px solid rgba(217,66,85,.6)}:host([error]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover),:host([error][warning]:not([focused]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #e37180}:host([highlight]){background-color:#b0ffff;border:1px solid #a9afba}:host([highlight][disabled]){border:1px solid rgba(169,175,186,.6);color:rgba(72,72,72,.6);background-color:rgba(176,255,255,.6)}:host([highlight][readonly]){border:1px solid rgba(169,175,186,.6)}:host([highlight]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #bfc3cb}:host([indirect]){color:#009494;background-color:#effefe;border:1px solid #898623}:host([indirect][disabled]){border:1px solid rgba(137,134,35,.6);color:rgba(0,148,148,.6)}:host([indirect][readonly]){border:1px solid rgba(137,134,35,.6)}:host([indirect]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #a7a45a}:host([focused]){background-size:100% 2px,100% 1px!important;background-position:center bottom!important;border-color:#ffb266;border-style:dotted}:host([disabled]) [part=input]::-webkit-input-placeholder{color:rgba(102,101,112,.6)}:host([disabled]) [part=input]::-moz-placeholder{color:rgba(102,101,112,.6)}:host([disabled]) [part=input]:-ms-input-placeholder{color:rgba(102,101,112,.6)}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-combo-box.js









elf.customStyles.define('coral-combo-box', ':host{display:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-align:left;font-family:inherit;font-size:13rem;font-weight:400;height:23px;width:140px;max-width:100%;margin:1px 0;outline:0;box-sizing:border-box;display:inline-flex;align-items:center;position:relative;vertical-align:middle;color:#484848;border-radius:0;background-color:#fff;text-overflow:ellipsis;border:1px solid #a9afba;cursor:pointer;scrollbar-face-color:#8a8a96;scrollbar-shadow-color:#8a8a96;scrollbar-highlight-color:#8a8a96;scrollbar-arrow-color:#8a8a96;scrollbar-track-color:#fff;scrollbar-3dlight-color:#fff;scrollbar-darkshadow-color:#fff;scrollbar-color:#8a8a96 #fff;padding:0;scrollbar-face-color:#8a8a96;scrollbar-shadow-color:#8a8a96;scrollbar-highlight-color:#8a8a96;scrollbar-arrow-color:#8a8a96;scrollbar-track-color:#fff;scrollbar-3dlight-color:#fff;scrollbar-darkshadow-color:#fff;scrollbar-color:#8a8a96 #fff;--panel-background-color:#FAFBFC}:host([disabled]){color:rgba(72,72,72,.6);border:1px solid rgba(169,175,186,.6)}:host([warning]){border:1px solid #f93}:host([warning][disabled]){color:rgba(72,72,72,.6);border:1px solid rgba(255,153,51,.6)}:host([error]),:host([error][warning]){border:1px solid #d94255}:host([error][disabled]),:host([error][warning][disabled]){color:rgba(72,72,72,.6);border:1px solid rgba(217,66,85,.6)}:host(:not([readonly])[focused]){background-size:100% 2px,100% 1px!important;background-position:center bottom!important;border-color:#ffb266}:host([readonly]){cursor:default}:host [part=placeholder]{opacity:.5}:host [part=label],:host [part=placeholder]{margin-right:3px}:host [part~=icon]{color:#484848;opacity:.7}:host(:not([readonly]):hover) [part~=icon],:host(:not([readonly])[focused]) [part~=icon]{opacity:1}:host(:not([readonly])[focused]) [part~=icon]{color:#f93}:host([disabled]) [part~=icon]{color:rgba(169,175,186,.6)}:host [part=input-wrapper]{touch-action:manipulation;display:flex;align-items:center;width:100%;height:100%}:host [part=input]{width:100%}:host [part~=button]{height:28px;display:flex;justify-content:center;align-items:center;flex:none}:host [part=list]{max-width:var(--list-max-width,300px);max-height:var(--list-max-height);display:flex;flex-flow:column nowrap}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){:host [part=list] ::slotted(coral-list){max-height:inherit}}:host [part=selection-badge]{min-width:22px;flex-shrink:0}::-webkit-scrollbar{width:13px;height:13px}::-webkit-scrollbar-button{background:0 0/1px 2px no-repeat #fff;height:12px;width:12px;display:block}::-webkit-scrollbar-thumb{background:#8a8a96;border-radius:7px;border:2px solid #fff}::-webkit-scrollbar-thumb:hover{background:#a9afba}::-webkit-scrollbar-thumb:active{background:#ee7600}::-webkit-scrollbar-track{background:#fff}::-webkit-scrollbar-corner{background:#fff}::-webkit-scrollbar-button:end:decrement,::-webkit-scrollbar-button:start:increment{display:none}::-webkit-scrollbar-button:horizontal{background-size:2px 1px}::-webkit-scrollbar-button:vertical:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:horizontal:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}:host [part~=button-toggle]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0;background-color:#fafbfc;color:#505050;border:1px solid #a9afba;height:23px;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0;font-family:inherit;font-size:13rem;font-weight:400;min-width:23px;margin:1px 1px 1px 0;transition:70ms;text-align:center;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-flex;justify-content:center;align-items:center;vertical-align:bottom;position:relative;overflow:hidden;background-image:linear-gradient(rgba(0,0,0,0) 0,rgba(0,0,0,.1) 100%);min-width:0;min-height:0;padding:0}@media (-ms-high-contrast:none),(pointer:fine){:host [part~=button-toggle]:focus:not([focused]),:host [part~=button-toggle][focused=visible]{background-color:#fafbfc;color:#505050;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}:host [part~=button-toggle]:hover{background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.6)}:host [part~=button-toggle]:hover:not(:focus){border-color:#a9afba;outline:0}}@media all{:host [part~=button-toggle]:active{background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.3)}:host [part~=button-toggle]:active:not(:focus){border-color:#a9afba;outline:0}:host [part~=button-toggle][disabled]{background-color:#fafbfc;color:#505050;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}}:host [part~=button-toggle][cta]{background-color:#ffb266;color:#505050;border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0;background-image:linear-gradient(rgba(255,255,255,.4) 0,rgba(255,255,255,0) 100%)}@media (-ms-high-contrast:none),(pointer:fine){:host [part~=button-toggle][cta]:focus:not([focused]),:host [part~=button-toggle][cta][focused=visible]{background-color:#ffb266;color:#505050;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}:host [part~=button-toggle][cta]:hover{background-color:#ffc48a;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.6)}:host [part~=button-toggle][cta]:hover:not(:focus){border-color:#a9afba;outline:0}}@media all{:host [part~=button-toggle][cta]:active{background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.3)}:host [part~=button-toggle][cta]:active:not(:focus){border-color:#a9afba;outline:0}:host [part~=button-toggle][cta][disabled]{background-color:#ffb266;color:#505050;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}}:host [part~=button-toggle][toggles]{background-color:#fafbfc;color:#505050;border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0}@media (-ms-high-contrast:none),(pointer:fine){:host [part~=button-toggle][toggles]:focus:not([focused]),:host [part~=button-toggle][toggles][focused=visible]{background-color:#fafbfc;color:#505050;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}:host [part~=button-toggle][toggles]:hover{background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.6)}:host [part~=button-toggle][toggles]:hover:not(:focus){border-color:#a9afba;outline:0}}@media all{:host [part~=button-toggle][toggles]:active{background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.3)}:host [part~=button-toggle][toggles]:active:not(:focus){border-color:#a9afba;outline:0}:host [part~=button-toggle][toggles][disabled]{background-color:#fafbfc;color:#505050;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}}:host [part~=button-toggle][toggles][active]{border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0}@media (-ms-high-contrast:none),(pointer:fine){:host [part~=button-toggle][toggles][active]:focus:not([focused]),:host [part~=button-toggle][toggles][active][focused=visible]{background-color:#fff;color:#f93;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}:host [part~=button-toggle][toggles][active]:hover{background-color:#fff;color:#c60;box-shadow:0 0 0 0 rgba(0,0,0,.6)}:host [part~=button-toggle][toggles][active]:hover:not(:focus){border-color:#a9afba;outline:0}}@media all{:host [part~=button-toggle][toggles][active]:active{background-color:#fff;color:#c60;box-shadow:0 0 0 0 rgba(0,0,0,.3)}:host [part~=button-toggle][toggles][active]:active:not(:focus){border-color:#a9afba;outline:0}:host [part~=button-toggle][toggles][active][disabled]{background-color:#fff;color:#f93;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}}@media (-ms-high-contrast:none),(pointer:fine){:host [part~=button-toggle][cta]:hover{color:#505050}:host [part~=button-toggle][cta]:focus:not([focused]),:host [part~=button-toggle][cta][focused=visible]{border-color:#a9afba;box-shadow:inset 0 0 0 1px #a9afba;color:#505050}:host [part~=button-toggle]:focus:not([focused]),:host [part~=button-toggle][focused=visible]{border-style:dotted;box-shadow:inset 0 0 0 1px #a9afba}}:host [part~=button-toggle][cta]:active{background-color:#ffb266;background-image:linear-gradient(rgba(255,255,255,0) 0,rgba(255,255,255,.4) 100%)}:host [part~=button-toggle][cta][disabled]{opacity:.4}:host [part~=button-toggle][disabled]{opacity:.4}:host [part~=button-toggle][toggles][active]{color:#f93!important;background-color:#fff!important;background-image:linear-gradient(rgba(0,0,0,.1) 0,rgba(0,0,0,0) 100%)}:host [part~=button-toggle]:active{background-image:none}:host [part~=button]{height:calc(100% - 2px);width:19px}:host [part=selection-badge]{height:17px;min-width:17px;margin-top:0}');

// EXTERNAL MODULE: ./node_modules/@elf/coral-dialog/lib/coral-dialog.js + 1 modules
var lib_coral_dialog = __webpack_require__(28);

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-dialog.js







elf.customStyles.define('coral-dialog', ':host{scrollbar-face-color:#8a8a96;scrollbar-shadow-color:#8a8a96;scrollbar-highlight-color:#8a8a96;scrollbar-arrow-color:#8a8a96;scrollbar-track-color:#fff;scrollbar-3dlight-color:#fff;scrollbar-darkshadow-color:#fff;scrollbar-color:#8a8a96 #fff}:host([full-screen]){width:100%}:host [part=close]{touch-action:manipulation;position:relative;opacity:.8;transition:70ms;opacity:1;right:0;width:16px;height:16px;padding:6px;background:#d94255;color:#fff}:host [part=close]:hover{opacity:1;background:#db4b5e}:host [part=close]:active{opacity:.6;background:#c33b4d}:host [part=default-button]{touch-action:manipulation;width:83px;margin:10px 10px 10px 3px}:host [part=default-button]:first-child{margin-right:0}:host [part=footer]{border-top:1px solid #d5d8db;background:#f2f3f7;border-left:2px solid #d0d4db;border-right:2px solid #d0d4db;border-bottom:2px solid #d0d4db}::-webkit-scrollbar{width:13px;height:13px}::-webkit-scrollbar-button{background:0 0/1px 2px no-repeat #fff;height:12px;width:12px;display:block}::-webkit-scrollbar-thumb{background:#8a8a96;border-radius:7px;border:2px solid #fff}::-webkit-scrollbar-thumb:hover{background:#a9afba}::-webkit-scrollbar-thumb:active{background:#ee7600}::-webkit-scrollbar-track{background:#fff}::-webkit-scrollbar-corner{background:#fff}::-webkit-scrollbar-button:end:decrement,::-webkit-scrollbar-button:start:increment{display:none}::-webkit-scrollbar-button:horizontal{background-size:2px 1px}::-webkit-scrollbar-button:vertical:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:horizontal:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}:host [part=header]{border:2px solid #d0d4db;border-bottom:1px solid #d0d4db}:host [part=content]{border-left:2px solid #d0d4db;border-right:2px solid #d0d4db}:host [part=default-button]:first-of-type{margin-right:3px}');

// EXTERNAL MODULE: ./node_modules/@elf/coral-header/lib/coral-header.js
var coral_header = __webpack_require__(38);

// EXTERNAL MODULE: ./node_modules/@elf/coral-number-field/lib/coral-number-field.js
var coral_number_field = __webpack_require__(34);

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-number-field.js



elf.customStyles.define('coral-number-field', ':host{display:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-align:left;font-family:inherit;font-size:13rem;font-weight:400;height:23px;width:140px;max-width:100%;padding:0 5px;margin:1px 0;outline:0;box-sizing:border-box;display:inline-flex;align-items:center;position:relative;vertical-align:middle;color:#484848;border-radius:0;text-overflow:ellipsis;background-color:#fff;border:1px solid #a9afba}:host([type=number]){padding-right:0}:host([error]),:host([error][warning]){border:1px solid #d94255}:host([error][disabled]),:host([error][warning][disabled]){color:rgba(72,72,72,.6);border:1px solid rgba(217,66,85,.6)}:host ::-ms-clear{display:none}:host [part=input]{color:inherit;padding:0;margin:0;flex:1 1 auto;min-width:0;width:100%;height:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-overflow:ellipsis;touch-action:manipulation}:host [part=input]::-webkit-clear-button,:host [part=input]::-webkit-inner-spin-button,:host [part=input]::-webkit-search-cancel-button,:host [part=input]::-webkit-search-decoration{-webkit-appearance:none}:host [part=input]:invalid{box-shadow:none}:host [part=icon]{color:#acafb5;min-width:1em}:host([disabled]) [part=input]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host([disabled]){border:1px solid rgba(169,175,186,.6);color:rgba(72,72,72,.6)}:host([readonly]){border:1px solid rgba(169,175,186,.6)}:host(:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #bfc3cb}:host([warning]){background-color:#fff;border:1px solid #f93}:host([warning][disabled]){border:1px solid rgba(255,153,51,.6);color:rgba(72,72,72,.6)}:host([warning][readonly]){border:1px solid rgba(255,153,51,.6)}:host([warning]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #ffb366}:host([error]),:host([error][warning]:not([focused])){background-color:#fff;border:1px solid #d94255}:host([error][disabled]),:host([error][warning]:not([focused])[disabled]){border:1px solid rgba(217,66,85,.6);color:rgba(72,72,72,.6)}:host([error][readonly]),:host([error][warning]:not([focused])[readonly]){border:1px solid rgba(217,66,85,.6)}:host([error]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover),:host([error][warning]:not([focused]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #e37180}:host([highlight]){background-color:#b0ffff;border:1px solid #a9afba}:host([highlight][disabled]){border:1px solid rgba(169,175,186,.6);color:rgba(72,72,72,.6);background-color:rgba(176,255,255,.6)}:host([highlight][readonly]){border:1px solid rgba(169,175,186,.6)}:host([highlight]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #bfc3cb}:host([indirect]){color:#009494;background-color:#effefe;border:1px solid #898623}:host([indirect][disabled]){border:1px solid rgba(137,134,35,.6);color:rgba(0,148,148,.6)}:host([indirect][readonly]){border:1px solid rgba(137,134,35,.6)}:host([indirect]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #a7a45a}:host([focused]){background-size:100% 2px,100% 1px!important;background-position:center bottom!important;border-color:#ffb266;border-style:dotted}:host([disabled]) [part=input]::-webkit-input-placeholder{color:rgba(102,101,112,.6)}:host([disabled]) [part=input]::-moz-placeholder{color:rgba(102,101,112,.6)}:host([disabled]) [part=input]:-ms-input-placeholder{color:rgba(102,101,112,.6)}button{background-image:linear-gradient(rgba(0,0,0,0) 0,rgba(0,0,0,.1) 100%);-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0;background-color:#fafbfc;color:#505050;border:1px solid #a9afba;height:23px;box-shadow:0 0 0 0 rgba(0,0,0,.3);padding:0 8px;outline:0;font-family:inherit;font-size:13rem;font-weight:400;min-width:23px;margin:1px 0;transition:70ms;text-align:center;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-flex;justify-content:center;align-items:center;vertical-align:bottom;position:relative;overflow:hidden}button[cta]{background-image:linear-gradient(rgba(255,255,255,.4) 0,rgba(255,255,255,0) 100%);background-color:#ffb266;color:#505050;border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0}button[cta]:active{background-color:#ffb266;background-image:linear-gradient(rgba(255,255,255,0) 0,rgba(255,255,255,.4) 100%)}button[cta][disabled],button[disabled]{opacity:.4}button[toggles][active]{color:#f93!important;background-color:#fff!important;background-image:linear-gradient(rgba(0,0,0,.1) 0,rgba(0,0,0,0) 100%);border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0}button:active{background-image:none}button[toggles]{background-color:#fafbfc;color:#505050;border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0}:host [part=input]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}:host [part=spinner]{line-height:0;height:100%;max-width:23px;margin:0 1px 0 5px}:host(:not([no-spinner])){padding:0 0 0 5px}:host [part=spinner-down],:host [part=spinner-up]{background-image:linear-gradient(rgba(0,0,0,0) 0,rgba(0,0,0,.1) 100%);-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0;background-color:#fafbfc;color:#505050;border:1px solid #a9afba;height:23px;box-shadow:0 0 0 0 rgba(0,0,0,.3);padding:0;outline:0;font-family:inherit;font-size:13rem;font-weight:400;min-width:23px;margin:1px 0;transition:70ms;text-align:center;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-flex;justify-content:center;align-items:center;vertical-align:bottom;position:relative;overflow:hidden;border:none;min-height:9px}:host [part=spinner-down][cta],:host [part=spinner-up][cta]{background-image:linear-gradient(rgba(255,255,255,.4) 0,rgba(255,255,255,0) 100%);background-color:#ffb266;color:#505050;border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0}:host [part=spinner-down][cta]:active,:host [part=spinner-up][cta]:active{background-color:#ffb266;background-image:linear-gradient(rgba(255,255,255,0) 0,rgba(255,255,255,.4) 100%)}:host [part=spinner-down][cta][disabled],:host [part=spinner-up][cta][disabled]{opacity:.4}:host [part=spinner-down][disabled],:host [part=spinner-up][disabled]{opacity:.4}:host [part=spinner-down][toggles][active],:host [part=spinner-up][toggles][active]{color:#f93!important;background-color:#fff!important;background-image:linear-gradient(rgba(0,0,0,.1) 0,rgba(0,0,0,0) 100%);border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0}:host [part=spinner-down]:active,:host [part=spinner-up]:active{background-image:none}:host [part=spinner-down][toggles],:host [part=spinner-up][toggles]{background-color:#fafbfc;color:#505050;border-color:#a9afba;box-shadow:0 0 0 0 rgba(0,0,0,.3);outline:0}@media (-ms-high-contrast:none),(pointer:fine){button[cta]:focus:not([focused]),button[cta][focused=visible]{box-shadow:inset 0 0 0 1px #a9afba;background-color:#ffb266;color:#505050;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}button:focus:not([focused]),button[focused=visible]{border-style:dotted;box-shadow:inset 0 0 0 1px #a9afba;background-color:#fafbfc;color:#505050;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}button:hover,button[toggles]:hover{background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.6)}button:hover:not(:focus),button[cta]:hover:not(:focus),button[toggles]:hover:not(:focus),button[toggles][active]:hover:not(:focus){border-color:#a9afba;outline:0}button[cta]:hover{background-color:#ffc48a;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.6)}button[toggles]:focus:not([focused]),button[toggles][focused=visible]{background-color:#fafbfc;color:#505050;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}button[toggles][active]:focus:not([focused]),button[toggles][active][focused=visible]{background-color:#fff;color:#f93;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}button[toggles][active]:hover{background-color:#fff;color:#c60;box-shadow:0 0 0 0 rgba(0,0,0,.6)}:host [part=spinner-down][cta]:focus:not([focused]),:host [part=spinner-down][cta][focused=visible],:host [part=spinner-up][cta]:focus:not([focused]),:host [part=spinner-up][cta][focused=visible]{box-shadow:inset 0 0 0 1px #a9afba;background-color:#ffb266;color:#505050;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}:host [part=spinner-down]:focus:not([focused]),:host [part=spinner-down][focused=visible],:host [part=spinner-up]:focus:not([focused]),:host [part=spinner-up][focused=visible]{border-style:dotted;box-shadow:inset 0 0 0 1px #a9afba;background-color:#fafbfc;color:#505050;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}:host [part=spinner-down]:hover,:host [part=spinner-up]:hover{background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.6)}:host [part=spinner-down]:hover:not(:focus),:host [part=spinner-up]:hover:not(:focus){border-color:#a9afba;outline:0}:host [part=spinner-down][cta]:hover,:host [part=spinner-up][cta]:hover{background-color:#ffc48a;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.6)}:host [part=spinner-down][cta]:hover:not(:focus),:host [part=spinner-up][cta]:hover:not(:focus){border-color:#a9afba;outline:0}:host [part=spinner-down][toggles]:focus:not([focused]),:host [part=spinner-down][toggles][focused=visible],:host [part=spinner-up][toggles]:focus:not([focused]),:host [part=spinner-up][toggles][focused=visible]{background-color:#fafbfc;color:#505050;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}:host [part=spinner-down][toggles]:hover,:host [part=spinner-up][toggles]:hover{background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.6)}:host [part=spinner-down][toggles]:hover:not(:focus),:host [part=spinner-up][toggles]:hover:not(:focus){border-color:#a9afba;outline:0}:host [part=spinner-down][toggles][active]:focus:not([focused]),:host [part=spinner-down][toggles][active][focused=visible],:host [part=spinner-up][toggles][active]:focus:not([focused]),:host [part=spinner-up][toggles][active][focused=visible]{background-color:#fff;color:#f93;box-shadow:inset 0 0 0 1px #a9afba;border-color:#ee7600;outline:0}:host [part=spinner-down][toggles][active]:hover,:host [part=spinner-up][toggles][active]:hover{background-color:#fff;color:#c60;box-shadow:0 0 0 0 rgba(0,0,0,.6)}:host [part=spinner-down][toggles][active]:hover:not(:focus),:host [part=spinner-up][toggles][active]:hover:not(:focus){border-color:#a9afba;outline:0}}@media all{button:active,button[cta]:active,button[toggles]:active{background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.3)}button:active:not(:focus),button[cta]:active:not(:focus),button[toggles]:active:not(:focus),button[toggles][active]:active:not(:focus){border-color:#a9afba;outline:0}button[disabled],button[toggles][disabled]{background-color:#fafbfc;color:#505050;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}button[cta][disabled]{background-color:#ffb266;color:#505050;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}button[toggles][active]:active{background-color:#fff;color:#c60;box-shadow:0 0 0 0 rgba(0,0,0,.3)}button[toggles][active][disabled]{background-color:#fff;color:#f93;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}:host [part=spinner-down]:active,:host [part=spinner-up]:active{background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.3)}:host [part=spinner-down]:active:not(:focus),:host [part=spinner-up]:active:not(:focus){border-color:#a9afba;outline:0}:host [part=spinner-down][disabled],:host [part=spinner-up][disabled]{background-color:#fafbfc;color:#505050;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}:host [part=spinner-down][cta]:active,:host [part=spinner-up][cta]:active{background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.3)}:host [part=spinner-down][cta]:active:not(:focus),:host [part=spinner-up][cta]:active:not(:focus){border-color:#a9afba;outline:0}:host [part=spinner-down][cta][disabled],:host [part=spinner-up][cta][disabled]{background-color:#ffb266;color:#505050;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}:host [part=spinner-down][toggles]:active,:host [part=spinner-up][toggles]:active{background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.3)}:host [part=spinner-down][toggles]:active:not(:focus),:host [part=spinner-up][toggles]:active:not(:focus){border-color:#a9afba;outline:0}:host [part=spinner-down][toggles][disabled],:host [part=spinner-up][toggles][disabled]{background-color:#fafbfc;color:#505050;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}:host [part=spinner-down][toggles][active]:active,:host [part=spinner-up][toggles][active]:active{background-color:#fff;color:#c60;box-shadow:0 0 0 0 rgba(0,0,0,.3)}:host [part=spinner-down][toggles][active]:active:not(:focus),:host [part=spinner-up][toggles][active]:active:not(:focus){border-color:#a9afba;outline:0}:host [part=spinner-down][toggles][active][disabled],:host [part=spinner-up][toggles][active][disabled]{background-color:#fff;color:#f93;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}}:host [part=spinner-down]{margin-top:0}:host([readonly]) [part=spinner-down]:hover,:host([readonly]) [part=spinner-up]:hover{color:#505050;background-color:#fafbfc}');

// CONCATENATED MODULE: ./node_modules/@elf/coral-pill/lib/coral-pill.js
var coral_pill_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


/**
 * @description coral-pill is a small button style component
 * which is used to show one or multiple selected item.
 * It is rarely used in the UI but inside other components to visualize multiple item selection item.
 * @attr {string} value - Value of pill
 * @prop {string} value - Value of pill
 *
 * @attr {boolean} readonly - Set readonly state
 * @prop {boolean} [readonly=false] - Set readonly state
 *
 * @attr {boolean} disabled - Set disabled state
 * @prop {boolean} [disabled=false] - Set disabled state
 */
let coral_pill_CoralPill = class CoralPill extends lib_elf["b" /* ControlElement */] {
    constructor() {
        super();
        /**
         * Set pill to clearable
         */
        this.clears = false;
        /**
         * Set pill to toggle mode
         */
        this.toggles = false;
        /**
         * Add to pill for active state
         */
        this.active = false;
        /**
         * Set property pressed true on tap start and false on tap end
         */
        this.pressed = false;
        /** @ignore */
        this.onTapHandler = this.onTapHandler.bind(this);
        /** @ignore */
        this.onStartPress = this.onStartPress.bind(this);
        /** @ignore */
        this.onEndPress = this.onEndPress.bind(this);
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.28';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return lib_elf["h" /* css */] `
    :host {
      display: inline-block;
      position: relative;
    }
    [part=content] {
      text-overflow: ellipsis;
      white-space: nowrap;
      overflow: hidden;
    }
    `;
    }
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        this.addEventListener('tap', this.onTapHandler);
        this.addEventListener('tapstart', this.onStartPress);
        this.addEventListener('tapend', this.onEndPress);
        this.addEventListener('mouseleave', this.onEndPress);
    }
    get closeTemplate() {
        return this.clears && !this.readonly ? lib_elf["k" /* html */] `<coral-icon part="close" icon="cross" @tap="${this.clear}"></coral-icon>` : null;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return lib_elf["k" /* html */] `
      <div part="content">
        <slot>...</slot>
      </div>
      ${this.closeTemplate}
    `;
    }
    /**
     * change state of `pressed` property to be true if there is no close icon or pill is pressed directly
     * @param event tapstart event
     * @returns {void}
     */
    onStartPress(event) {
        if (this.couldBePressed(event)) {
            this.pressed = true;
        }
    }
    /**
     * @param event tapstart
     * @returns true if element property pressed could be set
     */
    couldBePressed(event) {
        const element = this.closeElement;
        return !this.readonly && (!element || !event.composedPath().includes(element));
    }
    /**
     * change state of `pressed` property to be false if mouse leave pill or tap is end on pill
     * @returns {void}
     */
    onEndPress() {
        if (this.pressed) {
            this.pressed = false;
        }
    }
    /**
     * handle when `clears` icon is tapped
     * @returns {void}
     */
    onTapHandler() {
        if (this.toggles && !this.readonly) {
            this.active = !this.active;
        }
    }
    /**
     * @param event event from close button
     * @returns {void}
     */
    clear(event) {
        event.stopPropagation();
        /**
         * Fires when click on cross occurs. `detail.value` provides value of pill if defined. `detail.active` provides current selected state.
         * @param detail.value - value stored on the coral-pill, not set if undefined
         * @param detail.active - current selected state, always present
         */
        this.dispatchEvent(new CustomEvent('clear', {
            detail: {
                value: this.value,
                active: this.active
            }
        }));
    }
};
coral_pill_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_pill_CoralPill.prototype, "clears", void 0);
coral_pill_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_pill_CoralPill.prototype, "toggles", void 0);
coral_pill_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_pill_CoralPill.prototype, "active", void 0);
coral_pill_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_pill_CoralPill.prototype, "pressed", void 0);
coral_pill_decorate([
    Object(lib_elf["o" /* query */])('[part=close]')
], coral_pill_CoralPill.prototype, "closeElement", void 0);
coral_pill_CoralPill = coral_pill_decorate([
    Object(lib_elf["i" /* customElement */])('coral-pill')
], coral_pill_CoralPill);


// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-pill.js



elf.customStyles.define('coral-pill', ':host{touch-action:manipulation;transition:70ms;font-family:inherit;font-size:13rem;font-weight:400;min-width:22px;max-width:180px;outline:0;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;vertical-align:middle;position:relative;overflow:hidden}:host [part=close]{touch-action:manipulation;border-radius:100%;position:relative;display:flex;margin-left:4px;flex:none;box-sizing:border-box;cursor:pointer;background-clip:content-box;width:11px;height:11px;color:#a9afba;background-color:#fff}:host [part=close]:active{border:1px solid transparent}:host([clears]:hover) [part=close]{display:flex}:host{background:#a9afba;border-radius:2px;padding:0 4px;color:#fff;height:17px;margin:3px 3px 0 0}:host [part=close]:active{border:none}:host([readonly]){background:#a9afba}:host([toggles][active]){background:#ee7600;color:#fff}:host([toggles][active]) [part=close]{color:#ee7600}@media (-ms-high-contrast:none),(pointer:fine){:host(:hover){background:#8a8a96}:host([toggles][active]:hover){background:#ee7600}}');

// EXTERNAL MODULE: ./node_modules/@elf/coral-radio-button/lib/coral-radio-button.js + 1 modules
var coral_radio_button = __webpack_require__(40);

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-radio-button.js



elf.customStyles.define('coral-radio-button', ':host{margin:1px 0;vertical-align:middle;display:inline-flex;align-items:center;flex-wrap:nowrap;font-size:inherit;font-weight:inherit;touch-action:manipulation}:host(:focus){outline:0}:host [part=container]{-webkit-appearance:none;-moz-appearance:none;appearance:none;display:inline-flex;align-items:center;justify-content:center;flex:0 0 auto;border-radius:100%;background-color:#fff;transition:box-shadow 150ms,border-color 150ms;box-shadow:inset 0 0 0 rgba(0,0,0,.3);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;border:1px solid #a9afba;height:11px;width:11px}:host [part=check]{display:flex;justify-content:center;align-items:center;box-sizing:border-box;color:var(--check-color,#ee7600);border:none;background-color:currentColor;transform:none;border-radius:100%;margin:0;width:7px;height:7px}:host [part=label]{cursor:default;margin:0 4px}:host([disabled]) [part=check],:host([readonly]) [part=check]{color:var(--check-color,#acafb5)}:host([disabled]) [part=check]{opacity:.5}:host([disabled][checked]) [part=check]{opacity:.5}:host([disabled]) [part=label]{opacity:.65;opacity:rgba(72,72,72,.6)}:host([checked][disabled]) [part=check]{color:#a9afba}:host([checked][readonly]) [part=check]{color:rgba(169,175,186,.5)}:host([disabled]) [part=container],:host([readonly]) [part=container]{color:rgba(72,72,72,.6);border-color:rgba(169,175,186,.6);background-color:rgba(255,255,255,.6)}@media (-ms-high-contrast:none),(pointer:fine){:host(:focus) [part=container]{box-shadow:0 0 0 #ffb266;border:1px dotted #ffb266}}');

// CONCATENATED MODULE: ./node_modules/@elf/coral-search-field/lib/coral-search-field.js
var coral_search_field_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


const hasChanged = (newVal, oldVal) => oldVal === undefined ? false : newVal !== oldVal;
const isIE = (/Trident/g).test(navigator.userAgent);
/**
 * coral-search-field - form control to get a search input from users.
 *
 * @fires value-changed - Dispatched when value changes
 * @fires error-changed - Dispatched when error state changes
 *
 * @attr {string} value - Input's value
 * @prop {string} [value=] - Input's value
 *
 * @attr {boolean} readonly - Set readonly state
 * @prop {boolean} [readonly=false] - Set readonly state
 *
 * @attr {boolean} disabled - Set disabled state
 * @prop {boolean} [disabled=false] - Set disabled state
 */
let coral_search_field_CoralSearchField = class CoralSearchField extends lib_elf["b" /* ControlElement */] {
    constructor() {
        super(...arguments);
        /**
         * Set regular expression for input validation
         */
        this.pattern = '';
        /**
         * Set place holder text
         */
        this.placeholder = '';
        /**
         * Set state to error
         */
        this.error = false;
        /**
         * Set state to warning
         */
        this.warning = false;
        /**
         * Disables all other states and border/background styles.
         * Use with advanced composite elements requiring e.g. multi selection in
         * coral-combo-box when parent container handles element states.
         */
        this.transparent = false;
        /**
         * Set character max limit
         */
        this.maxLength = null;
        /**
         * Set character min limit
         */
        this.minLength = null;
        /**
         * Specify when icon need to be clickable
         */
        this.iconHasAction = false;
        /**
         * Detect `enter` and `space` keydown and fire
         * @param event keydown event
         * @returns {void}
         */
        this.handleKeyDown = (event) => {
            if (event.key === 'Spacebar' || event.key === ' ' || event.key === 'Enter') {
                this.notifyIcon();
            }
        };
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.27';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return lib_elf["h" /* css */] `
      :host {
        display: inline-block;
      }
      :host(:focus), :host input:focus {
        outline: none;
      }
      [part=input] {
        font: inherit;
        background: none;
        color: currentColor;
        border: none;
        text-align: inherit;
      }
      :host [part=icon]{
        display: flex;
        outline: none;
      }
      :host([transparent]) {
        background: none !important;
        border: none !important;
      }
      :host([icon-has-action]) [part=icon] {
        cursor: pointer;
      }
    `;
    }
    /**
     * Select the contents of input
     * @returns void
     */
    select() {
        if (!this.disabled && !this.readonly) {
            this.inputElement.select();
        }
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return lib_elf["k" /* html */] `
      <input
        type="search"
        part="input"
        ?readonly="${this.readonly}"
        ?disabled="${this.disabled}"
        placeholder="${Object(lib_elf["l" /* ifDefined */])(this.placeholder || undefined)}"
        maxlength="${Object(lib_elf["l" /* ifDefined */])(this.maxLength || undefined)}"
        minlength="${Object(lib_elf["l" /* ifDefined */])(this.minLength || undefined)}"
        @input="${this.onPossibleValueChange}"
        @change="${this.onPossibleValueChange}"
        pattern="${Object(lib_elf["l" /* ifDefined */])(this.pattern || undefined)}"
        autocomplete="off"
      />
      <coral-icon
        part="icon"
        icon="search"
        ?readonly="${this.readonly}"
        ?disabled="${this.disabled}"
        @tap="${this.notifyIcon}"
        @keydown="${this.handleKeyDown}"
        tabindex="${Object(lib_elf["l" /* ifDefined */])(this.iconHasAction ? '0' : undefined)}"
      ></coral-icon>
    `;
    }
    /**
     * Called when the elements DOM has been updated and rendered
     * @param changedProperties Properties that has changed
     * @returns {void}
     */
    updated(changedProperties) {
        super.updated(changedProperties);
        if (this.inputElement.value !== this.value) {
            this.inputElement.value = this.value;
        }
        if (this.shouldValidateInput(changedProperties)) {
            this.validateInput();
        }
    }
    /**
     * Check if input should be re-validated
     * @param changedProperties Properties that has changed
     * @returns True if input should be re-validated
     */
    shouldValidateInput(changedProperties) {
        return (changedProperties.has('pattern') || !!(this.pattern && changedProperties.has('value')))
            || (changedProperties.has('minLength') || !!(this.minLength && changedProperties.has('value')));
    }
    /**
     * validate input according `pattern`, `minLength` and `maxLength` properties
     * change state of `error` property according pattern validation
     * @returns {void}
     */
    validateInput() {
        let error = !this.inputElement.checkValidity();
        if (this.shouldValidateForMinLength(error)) {
            error = !!this.minLength && (this.minLength > this.value.length);
        }
        if (this.error !== error) {
            this.error = error;
            this.notifyPropertyChange('error', this.error);
        }
    }
    /**
     * @param error existing state of error
     * @returns true if there is no error and browser is IE11 and minLength more than 0 and value exists
     */
    shouldValidateForMinLength(error) {
        return !!(!error && isIE && this.minLength && !!this.value);
    }
    /**
     * Check if value is changed
     * @returns {void}
     */
    onPossibleValueChange() {
        const value = this.inputElement.value;
        this.setValueAndNotify(value);
    }
    /**
     * Fire event on icon click
     * @returns {void}
     */
    notifyIcon() {
        if (this.iconHasAction) {
            /**
             * Dispatched only when element has icon-has-action attribute and icon is clicked
             */
            this.dispatchEvent(new CustomEvent('icon-click', { bubbles: false }));
        }
    }
};
coral_search_field_decorate([
    Object(lib_elf["n" /* property */])({ type: String, hasChanged })
], coral_search_field_CoralSearchField.prototype, "pattern", void 0);
coral_search_field_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], coral_search_field_CoralSearchField.prototype, "placeholder", void 0);
coral_search_field_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_search_field_CoralSearchField.prototype, "error", void 0);
coral_search_field_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_search_field_CoralSearchField.prototype, "warning", void 0);
coral_search_field_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_search_field_CoralSearchField.prototype, "transparent", void 0);
coral_search_field_decorate([
    Object(lib_elf["n" /* property */])({ type: Number, attribute: 'maxlength', reflect: true })
], coral_search_field_CoralSearchField.prototype, "maxLength", void 0);
coral_search_field_decorate([
    Object(lib_elf["n" /* property */])({ type: Number, attribute: 'minlength', reflect: true, hasChanged })
], coral_search_field_CoralSearchField.prototype, "minLength", void 0);
coral_search_field_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true, attribute: 'icon-has-action' })
], coral_search_field_CoralSearchField.prototype, "iconHasAction", void 0);
coral_search_field_decorate([
    Object(lib_elf["o" /* query */])('[part="input"]')
], coral_search_field_CoralSearchField.prototype, "inputElement", void 0);
coral_search_field_CoralSearchField = coral_search_field_decorate([
    Object(lib_elf["i" /* customElement */])('coral-search-field')
], coral_search_field_CoralSearchField);


// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-search-field.js



elf.customStyles.define('coral-search-field', ':host{display:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-align:left;font-family:inherit;font-size:13rem;font-weight:400;height:23px;width:140px;max-width:100%;padding:0 5px;margin:1px 0;outline:0;box-sizing:border-box;display:inline-flex;align-items:center;position:relative;vertical-align:middle;color:#484848;border-radius:0;text-overflow:ellipsis;background-color:#fff;border:1px solid #a9afba}:host([type=number]){padding-right:0}:host([error]),:host([error][warning]){border:1px solid #d94255}:host([error][disabled]),:host([error][warning][disabled]){color:rgba(72,72,72,.6);border:1px solid rgba(217,66,85,.6)}:host ::-ms-clear{display:none}:host [part=input]{color:inherit;padding:0;margin:0;flex:1 1 auto;min-width:0;width:100%;height:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-overflow:ellipsis;touch-action:manipulation}:host [part=input]::-webkit-clear-button,:host [part=input]::-webkit-inner-spin-button,:host [part=input]::-webkit-search-cancel-button,:host [part=input]::-webkit-search-decoration{-webkit-appearance:none}:host [part=input]:invalid{box-shadow:none}:host [part=icon]{color:#acafb5;min-width:1em}:host([disabled]) [part=input]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host([disabled]){border:1px solid rgba(169,175,186,.6);color:rgba(72,72,72,.6)}:host([readonly]){border:1px solid rgba(169,175,186,.6)}:host(:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #bfc3cb}:host([warning]){background-color:#fff;border:1px solid #f93}:host([warning][disabled]){border:1px solid rgba(255,153,51,.6);color:rgba(72,72,72,.6)}:host([warning][readonly]){border:1px solid rgba(255,153,51,.6)}:host([warning]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #ffb366}:host([error]),:host([error][warning]:not([focused])){background-color:#fff;border:1px solid #d94255}:host([error][disabled]),:host([error][warning]:not([focused])[disabled]){border:1px solid rgba(217,66,85,.6);color:rgba(72,72,72,.6)}:host([error][readonly]),:host([error][warning]:not([focused])[readonly]){border:1px solid rgba(217,66,85,.6)}:host([error]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover),:host([error][warning]:not([focused]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #e37180}:host([highlight]){background-color:#b0ffff;border:1px solid #a9afba}:host([highlight][disabled]){border:1px solid rgba(169,175,186,.6);color:rgba(72,72,72,.6);background-color:rgba(176,255,255,.6)}:host([highlight][readonly]){border:1px solid rgba(169,175,186,.6)}:host([highlight]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #bfc3cb}:host([indirect]){color:#009494;background-color:#effefe;border:1px solid #898623}:host([indirect][disabled]){border:1px solid rgba(137,134,35,.6);color:rgba(0,148,148,.6)}:host([indirect][readonly]){border:1px solid rgba(137,134,35,.6)}:host([indirect]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #a7a45a}:host([focused]){background-size:100% 2px,100% 1px!important;background-position:center bottom!important;border-color:#ffb266;border-style:dotted}:host([disabled]) [part=input]::-webkit-input-placeholder{color:rgba(102,101,112,.6)}:host([disabled]) [part=input]::-moz-placeholder{color:rgba(102,101,112,.6)}:host([disabled]) [part=input]:-ms-input-placeholder{color:rgba(102,101,112,.6)}');

// EXTERNAL MODULE: ./node_modules/@elf/coral-select/lib/coral-select.js
var coral_select = __webpack_require__(47);

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-select.js





elf.customStyles.define('coral-select', ':host{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;box-shadow:0 0 0 0 rgba(0,0,0,.3);font-family:inherit;min-width:23px;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-flex;justify-content:center;align-items:center;touch-action:manipulation;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0;background-color:#fafbfc;color:#505050;border:1px solid #a9afba;height:23px;box-shadow:0 0 0 0 rgba(0,0,0,.3);padding:0 8px;outline:0;font-family:inherit;font-size:13rem;font-weight:400;min-width:23px;margin:1px 0;transition:70ms;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-flex;justify-content:center;align-items:center;vertical-align:bottom;position:relative;overflow:hidden;background-image:linear-gradient(rgba(0,0,0,0) 0,rgba(0,0,0,.1) 100%);width:175px;text-align:left;scrollbar-face-color:#8a8a96;scrollbar-shadow-color:#8a8a96;scrollbar-highlight-color:#8a8a96;scrollbar-arrow-color:#8a8a96;scrollbar-track-color:#fff;scrollbar-3dlight-color:#fff;scrollbar-darkshadow-color:#fff;scrollbar-color:#8a8a96 #fff}@media (-ms-high-contrast:none),(pointer:fine){:host(:not([readonly]):hover){background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.6)}}@media all{:host(:not([readonly]):active),:host(:not([readonly])[focused]){background-color:#fff;color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.3)}:host([disabled]){background-color:#fafbfc;color:#505050;border-color:#babfc8;box-shadow:none;outline:0;pointer-events:none}}:host([disabled]){opacity:.4;border-color:#a9afba}:host(:not([readonly]):active),:host(:not([readonly])[focused]){background-image:none}:host(:not([disabled])[focused]){border:1px dotted #ee7600!important;box-shadow:inset 0 0 0 1px #a9afba}:host(:not([disabled])[focused]:hover){box-shadow:inset 0 0 0 1px #a9afba}:host([warning]){border-color:#f93!important}:host([error]){border-color:#d94255!important}:host [part=list]{max-width:var(--list-max-width,300px);max-height:var(--list-max-height);margin:1px 0;border:1px solid #fff;background-color:#fafbfc}::-webkit-scrollbar{width:13px;height:13px}::-webkit-scrollbar-button{background:0 0/1px 2px no-repeat #fff;height:12px;width:12px;display:block}::-webkit-scrollbar-thumb{background:#8a8a96;border-radius:7px;border:2px solid #fff}::-webkit-scrollbar-thumb:hover{background:#a9afba}::-webkit-scrollbar-thumb:active{background:#ee7600}::-webkit-scrollbar-track{background:#fff}::-webkit-scrollbar-corner{background:#fff}::-webkit-scrollbar-button:end:decrement,::-webkit-scrollbar-button:start:increment{display:none}::-webkit-scrollbar-button:horizontal{background-size:2px 1px}::-webkit-scrollbar-button:vertical:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:horizontal:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}');

// EXTERNAL MODULE: ./node_modules/@elf/coral-split-button/lib/coral-split-button.js
var coral_split_button = __webpack_require__(35);

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-split-button.js



elf.customStyles.define('coral-split-button', ':host{display:inline-flex;vertical-align:bottom;margin:1px 0;border-radius:0;box-shadow:0 0 0 0 rgba(0,0,0,.3);touch-action:manipulation;background:0 0}::slotted(coral-button:not(:hover):not(:focus)){box-shadow:0 0 1px rgba(0,0,0,.3)}:host ::slotted(coral-button:not(:first-child)),:host ::slotted(coral-split-button:not(:first-child)){margin-left:-1px}:host ::slotted(coral-button){box-shadow:none}');

// CONCATENATED MODULE: ./node_modules/@elf/coral-time-picker/lib/coral-time-picker.js
var coral_time_picker_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var TimeSegment;
(function (TimeSegment) {
    TimeSegment["HOURS"] = "hours";
    TimeSegment["MINUTES"] = "minutes";
    TimeSegment["SECONDS"] = "seconds";
})(TimeSegment || (TimeSegment = {}));
const MIN_UNIT = 0;
const MAX_HOURS = 23;
const MAX_MINUTES = 59;
const MAX_SECONDS = 59;
const HOURS_IN_DAY = 24;
const HOURS_OF_NOON = 12;
const VALUE_REGEXP = /^([0-1][0-9]|2[0-3])\:([0-5][0-9])(\:([0-5][0-9]))?$/;
const TimeFormat = { HHMM: 'hh:mm', HHMMSS: 'hh:mm:ss' };
const Placeholder = {
    HOURS: '--',
    MINUTES: '--',
    SECONDS: '--'
};
/**
 * Check if passed value is a valid time string.
 * For instance: 10:00; 23:59:59
 * @param value Value to check
 * @returns value is valid.
 */
const isValidValue = function (value) {
    return VALUE_REGEXP.test(value);
};
/**
 * coral-time-picker component used
 * to control the time input
 * @event value-changed - Dispatched when value changes
 *
 * @attr {boolean} readonly - Set readonly state
 * @prop {boolean} [readonly=false] - Set readonly state
 *
 * @attr {boolean} disabled - Set disabled state
 * @prop {boolean} [disabled=false] - Set disabled state
 */
let coral_time_picker_CoralTimePicker = class CoralTimePicker extends lib_elf["b" /* ControlElement */] {
    constructor() {
        super(...arguments);
        this.isMobile = false;
        /**
         * Internal hours value, used only in value getters and setters
         */
        this._hours = null;
        /**
         * Internal minutes value, used only in value getters and setters
         */
        this._minutes = null;
        /**
         * Internal seconds value, used only in value getters and setters
         */
        this._seconds = null;
        /**
         * If external value is set with seconds, this flag is true.
         * The flag is not relevant when withSecond is forced to be true
         */
        this.valueWithSeconds = false;
        /**
         * Toggles 12hr time display
         */
        this.amPm = false;
        /**
         * Flag to show seconds time segment in display.
         * Seconds are automatically shown when `hh:mm:ss` time format is provided as a value.
         */
        this.showSeconds = false;
        /**
         * Handles the blur event of any inputs
         *
         * @param event Event Object
         * @returns {void}
         */
        this.onBlur = (event) => {
            if (this.readonly) {
                return;
            }
            const target = event.target;
            const value = target.value;
            let segment;
            if (target === this.hoursInput) {
                segment = TimeSegment.HOURS;
            }
            else if (target === this.minutesInput) {
                segment = TimeSegment.MINUTES;
            }
            else if (target === this.secondsInput) {
                segment = TimeSegment.SECONDS;
            }
            /* istanbul ignore next */
            if (!segment) {
                return;
            }
            if (value) {
                this.updateTimeSegmentTo(segment, Number(value));
            }
            this.updateSegmentValue(segment);
        };
        /**
         * Handles the focus event of any inputs
         *
         * @param event Event Object
         * @returns {void}
         */
        this.onFocus = (event) => {
            if (this.readonly) {
                return;
            }
            event.target.value = '';
        };
        /**
         * Handles any keydown events
         * Used for control keys
         *
         * @param event Event Object
         * @returns {void}
         */
        this.onKeydown = (event) => {
            this.manageControlKeys(event);
        };
        /**
         * Handles any keypress events
         * Used for user input
         *
         * @param event Event Object
         * @returns {void}
         */
        this.onKeypress = (event) => {
            this.validateNumberInput(event);
        };
    }
    /**
    * Element version number
    */
    static get version() {
        return '4.5.28';
    }
    /**
     * Hours time segment in 24hr format
     * @param hours hours value
     * @returns {void}
     */
    set hours(hours) {
        const oldHours = this.hours;
        if ((hours !== null && isNaN(hours)) || oldHours === hours) {
            return;
        }
        this._hours = this.validUnit(hours, MIN_UNIT, MAX_HOURS, oldHours);
        if (this._hours !== oldHours) {
            this.requestUpdate('hours', oldHours);
        }
    }
    /**
     * Get hours value
     * @returns hours
     */
    get hours() {
        return this._hours;
    }
    /**
     * Minutes time segment
     * @param minutes minutes value
     * @returns {void}
     */
    set minutes(minutes) {
        const oldMinutes = this.minutes;
        if ((minutes !== null && isNaN(minutes)) || oldMinutes === minutes) {
            return;
        }
        this._minutes = this.validUnit(minutes, MIN_UNIT, MAX_MINUTES, oldMinutes);
        if (this._minutes !== oldMinutes) {
            this.requestUpdate('minutes', oldMinutes);
        }
    }
    /**
     * Get minutes value
     * @returns hours
     */
    get minutes() {
        return this._minutes;
    }
    /**
     * Seconds time segment
     * @param seconds seconds value
     * @returns {void}
     */
    set seconds(seconds) {
        const oldSeconds = this.seconds;
        if ((seconds !== null && isNaN(seconds)) || oldSeconds === seconds) {
            return;
        }
        this._seconds = this.validUnit(seconds, MIN_UNIT, MAX_SECONDS, oldSeconds);
        if (this._seconds !== oldSeconds) {
            this.requestUpdate('seconds', oldSeconds);
        }
    }
    /**
     * Get seconds value
     * @returns seconds
     */
    get seconds() {
        return this._seconds;
    }
    /**
    * Value of the element
    * @default -
    * @param value Element value
    */
    set value(value) {
        const oldValue = this.value;
        value = this.castValue(value);
        if (!this.isValidValue(value)) {
            this.warnInvalidValue(value);
            // it does not make sense to clear value here, as the value is always defined
            return;
        }
        /* special case to reset hours, minutes and seconds */
        if (value === '' && (this.hours || this.minutes || this.seconds)) {
            this.hours = null;
            this.minutes = null;
            this.seconds = null;
            return;
        }
        if (oldValue !== value) { /** never store actual value, instead operate with hours/minutes/seconds */
            const info = this.timeStringInfo(value);
            this.valueWithSeconds = info.format === TimeFormat.HHMMSS;
            this.hours = info.hours;
            this.minutes = info.minutes;
            this.seconds = info.seconds;
        }
    }
    get value() {
        return this.currentTimeString;
    }
    /**
     * Return the current time string, based on the current hours, minutes and seconds.
     * Used internally to set the value string after updates.
     *
     * @readonly
     */
    get currentTimeString() {
        return this.timeSegmentsToTimeString({
            hours: this.hours,
            minutes: this.minutes,
            seconds: this.seconds,
            valid: true,
            format: this.isShowSeconds ? TimeFormat.HHMMSS : TimeFormat.HHMM
        });
    }
    /**
     * Seconds are automatically shown when `hh:mm:ss` time format is provided as a value.
     *
     * @readonly
     */
    get isShowSeconds() {
        return this.showSeconds || this.valueWithSeconds;
    }
    /**
     * Formats the hours value
     *
     * @readonly
     */
    get formattedHours() {
        const _hours = this.hours;
        let hours = _hours;
        if (_hours !== null) {
            hours = this.amPm && _hours > HOURS_OF_NOON
                ? _hours - HOURS_OF_NOON : this.amPm && !_hours ? HOURS_OF_NOON : _hours;
        }
        return this.formattedUnit(hours);
    }
    /**
     * Formats the minutes value
     *
     * @readonly
     */
    get formattedMinutes() {
        return this.formattedUnit(this.minutes);
    }
    /**
     * Formats the seconds value
     *
     * @readonly
     * @returns Formatted number
     */
    get formattedSeconds() {
        return this.formattedUnit(this.seconds);
    }
    /**
     * On first updated life-cycle
     *
     * @param changedProperties changed properties
     * @returns {void}
     */
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        // add events
        this.renderRoot.addEventListener('blur', this.onBlur, true);
        this.renderRoot.addEventListener('focus', this.onFocus, true);
        this.renderRoot.addEventListener('keydown', this.onKeydown, true);
        this.renderRoot.addEventListener('keypress', this.onKeypress, true);
    }
    /**
     * On updated life-cycle
     *
     * @param changedProperties changed properties
     * @returns {void}
     */
    updated(changedProperties) {
        super.updated(changedProperties);
        /* istanbul ignore next */
        if (this.hasTimeChanged(changedProperties) && this.isMobile) {
            this.updateMobileTimePickerValue();
        }
    }
    /**
     * Overwrite validation method for value
     *
     * @param value value
     * @returns {boolean} result
     */
    isValidValue(value) {
        return value === '' || isValidValue(value);
    }
    /**
     * On *user-interaction* set the value and notify.
     * @param value New value
     * @returns {void}
     */
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    setValueAndNotify(value) {
        // there is no setter or getter for value
        // instead setSegmentAndNotify must be used
    }
    /**
     * Set time segment value in consistent way
     * @param segment Time segment
     * @param value Value to check
     * @returns {void}
     */
    setSegmentAndNotify(segment, value) {
        const oldValue = this.value;
        switch (segment) {
            case TimeSegment.HOURS:
                this.hours = value;
                break;
            case TimeSegment.MINUTES:
                this.minutes = value;
                break;
            case TimeSegment.SECONDS:
                this.seconds = value;
                break;
            // no default
        }
        // Pre-populate empty segments
        if (value !== null) {
            if (segment === TimeSegment.HOURS && this.minutes === null) {
                this.minutes = 0;
            }
            if (this.isShowSeconds && this.seconds === null && (segment === TimeSegment.HOURS || segment === TimeSegment.MINUTES)) {
                this.seconds = 0;
            }
        }
        // verify value again, as time segment validation
        // might fail in setter and previous value returned
        if (oldValue !== this.value) {
            this.notifyPropertyChange('value', this.value);
        }
    }
    /**
     * True if time segment has changed
     * @param changedProperties changed properties
     * @returns True if changed
     */
    hasTimeChanged(changedProperties) {
        return changedProperties.has('hours')
            || changedProperties.has('minutes')
            || changedProperties.has('seconds');
    }
    /**
     * Validates a given unit against a min and max value, returning a fallback if invalid.
     *
     * @param unit Unit to validate
     * @param min Minimum allowed
     * @param max Maximum allowed
     * @param fallback Fallback value to use, if unit is invalid
     * @returns unit or fallback or 0 value
     */
    validUnit(unit, min, max, fallback) {
        if (unit === null) {
            return null;
        }
        if (isNaN(unit) || unit < min || unit > max) {
            return fallback;
        }
        return unit;
    }
    /**
     * Validates user input into the time segment elements
     *
     * @param event Keyboard Event Object
     * @returns {void}
     */
    validateNumberInput(event) {
        const isNumber = (/\d/).test(event.key);
        if (!isNumber || event.target.value.length >= 2) {
            event.preventDefault();
        }
    }
    /**
     * Handles value change from native time picker on mobile devices
     *
     * @param event Event Object
     * @returns {void}
     */
    /* istanbul ignore next */
    onMobileTimeChange(event) {
        this.value = event.target.value;
    }
    /**
     * Helper, used to update the mobile time picker value
     *
     * @returns {void}
     */
    /* istanbul ignore next */
    updateMobileTimePickerValue() {
        if (this.mtpInput) {
            this.mtpInput.value = this.value;
        }
    }
    /**
     * Converts hours, minutes and seconds into a valid time string, based on a time format
     *
     * @param segments Object containing hours, minutes and seconds
     * @param timeFormat Time format to use, either `hh:mm` or 'hh:mm:ss`
     * @returns Time string e.g. 00:00, or empty string if no value
     */
    timeSegmentsToTimeString(segments) {
        const hh = this.formattedUnit(segments.hours);
        const mm = this.formattedUnit(segments.minutes);
        const ss = this.formattedUnit(segments.seconds);
        if (!hh || !mm || (segments.format === TimeFormat.HHMMSS && !ss)) {
            return '';
        }
        return segments.format === TimeFormat.HHMMSS ? `${hh}:${mm}:${ss}` : `${hh}:${mm}`;
    }
    /**
     * Gets information of a time string
     *
     * @param timeString Time string to parse
     * @returns Result containing information about the time string
     */
    timeStringInfo(timeString) {
        const segments = (timeString || '').split(':');
        return {
            valid: VALUE_REGEXP.test(timeString),
            format: this.showSeconds || segments.length === 3 ? TimeFormat.HHMMSS : TimeFormat.HHMM,
            hours: Number(segments.shift()) || 0,
            minutes: Number(segments.shift()) || 0,
            seconds: Number(segments.shift()) || 0
        };
    }
    /**
     * Updates a time segment to the provided value
     *
     * @param segment Segment id
     * @param value Unit to change to
     * @returns {void}
     */
    updateTimeSegmentTo(segment, value) {
        if (segment === TimeSegment.HOURS) {
            value = this.getHoursSegment(value);
        }
        this.setSegmentAndNotify(segment, value);
    }
    /**
     * Updates the value of a time segment (element)
     *
     * @param segment Segment's name
     * @returns {void}
     */
    updateSegmentValue(segment) {
        switch (segment) {
            case TimeSegment.HOURS:
                this.updateHoursSegmentValue();
                break;
            case TimeSegment.MINUTES:
                this.updateMinutesSegmentValue();
                break;
            case TimeSegment.SECONDS:
                this.updateSecondsSegmentValue();
                break;
            // no default
        }
    }
    /**
     * Handle valid control keys and execute their corresponding commands
     * Will stop when readonly is set
     *
     * @param event Event Object
     * @returns {void}
     */
    manageControlKeys(event) {
        if (this.readonly || this.disabled) {
            return;
        }
        switch (event.key) {
            case 'Up': // IE
            case 'ArrowUp':
                this.handleUpKey(event);
                break;
            case 'Down': // IE
            case 'ArrowDown':
                this.handleDownKey(event);
                break;
            case 'Enter':
            case 'Spacebar':
            case ' ':
                this.handleEnterKey(event);
                break;
            case 'Backspace':
                this.handleBackspaceKey(event);
                return;
            default:
                return;
        }
        event.preventDefault();
    }
    /**
     * Handles ENTER key press
     *
     * @param event Event Object
     * @returns {void}
     */
    handleEnterKey(event) {
        event.target.blur();
    }
    /**
     * Handles UP key press
     *
     * @param event Event Object
     * @returns {void}
     */
    handleUpKey(event) {
        this.toggleOrModify(1, event.target);
    }
    /**
     * Handle DOWN key press
     *
     * @param event Event Object
     * @returns {void}
     */
    handleDownKey(event) {
        this.toggleOrModify(-1, event.target);
    }
    /**
     * Handle Backspace key press
     *
     * @param event Event Object
     * @returns {void}
     */
    handleBackspaceKey(event) {
        const target = event.target;
        if (target === this.hoursInput) {
            this.setSegmentAndNotify(TimeSegment.HOURS, null);
        }
        else if (target === this.minutesInput) {
            this.setSegmentAndNotify(TimeSegment.MINUTES, null);
        }
        else if (target === this.secondsInput) {
            this.setSegmentAndNotify(TimeSegment.SECONDS, null);
        }
    }
    /**
     * Toggles the amPm flag or updates the time segment value.
     * Essentially a handler for user inputs on the control.
     *
     * @param amount to change value by
     * @param target Segment id
     * @returns {void}
     */
    toggleOrModify(amount, target) {
        if (target === this.toggleEl) {
            this.toggle();
        }
        else if (target === this.hoursInput) {
            this.changeValueBy(amount, TimeSegment.HOURS);
        }
        else if (target === this.minutesInput) {
            this.changeValueBy(amount, TimeSegment.MINUTES);
        }
        else if (target === this.secondsInput) {
            this.changeValueBy(amount, TimeSegment.SECONDS);
        }
    }
    /**
     * Changes a time segment value by a specified amount.
     * Also updates parent values when rolling through cycles.
     *
     * @param amount Amount to change by
     * @param segment Segment id
     * @returns {void}
     */
    changeValueBy(amount, segment) {
        switch (segment) {
            case TimeSegment.HOURS:
                const hours = this.hours === null ? 0 : this.hours + amount;
                this.setSegmentAndNotify(segment, hours < MIN_UNIT ? MAX_HOURS : hours > MAX_HOURS ? MIN_UNIT : hours);
                break;
            case TimeSegment.MINUTES:
                const minutes = this.minutes === null ? 0 : this.minutes + amount;
                if (minutes < MIN_UNIT || minutes > MAX_MINUTES) {
                    this.changeValueBy(amount, TimeSegment.HOURS);
                }
                this.setSegmentAndNotify(segment, minutes < MIN_UNIT ? MAX_MINUTES : minutes > MAX_MINUTES ? MIN_UNIT : minutes);
                break;
            case TimeSegment.SECONDS:
                const seconds = this.seconds === null ? 0 : this.seconds + amount;
                if (seconds < MIN_UNIT || seconds > MAX_SECONDS) {
                    this.changeValueBy(amount, TimeSegment.MINUTES);
                }
                this.setSegmentAndNotify(segment, seconds < MIN_UNIT ? MAX_SECONDS : seconds > MAX_SECONDS ? MIN_UNIT : seconds);
                break;
            // no default
        }
    }
    /**
     * Gets the hours segment of the provided value
     * as there is extra logic required for 12hr support
     *
     * @param value Unit to change to
     * @returns updated value
     */
    getHoursSegment(value) {
        if (this.amPm) {
            if (value === HOURS_OF_NOON && this.isAM()) {
                value = 0;
            }
            if (this.isPM() && value < HOURS_OF_NOON) {
                value += HOURS_OF_NOON;
            }
        }
        return value;
    }
    /**
     * Updates the value of the hours element
     *
     * @returns {void}
     */
    updateHoursSegmentValue() {
        if (this.hoursInput) {
            this.hoursInput.value = this.formattedHours;
        }
    }
    /**
     * Updated the value of the minutes element
     *
     * @returns {void}
     */
    updateMinutesSegmentValue() {
        if (this.minutesInput) {
            this.minutesInput.value = this.formattedMinutes;
        }
    }
    /**
     * Updates the value of the seconds element
     *
     * @returns {void}
     */
    updateSecondsSegmentValue() {
        if (this.secondsInput) {
            this.secondsInput.value = this.formattedSeconds;
        }
    }
    /**
     * Formats a given number and prefixes a 0 on numbers lower than 10
     *
     * @param n Number to format
     * @returns Formatted number
     */
    formattedUnit(n) {
        return n === null ? '' : !n ? '00' : n >= 10 ? `${n}` : `0${n}`;
    }
    /**
     * Returns `true` or `false` depending on whether the hours are before, or, after noon
     *
     * @returns Result
     */
    isAM() {
        return this.hours === null ? true : this.hours < HOURS_IN_DAY / 2;
    }
    /**
     * Returns opposite of isAM
     *
     * @returns Result
     */
    isPM() {
        return !this.isAM();
    }
    /**
     * Toggles the AM/PM state
     *
     * @returns {void}
     */
    toggle() {
        if (this.amPm) {
            const hours = this.hours === null ? new Date().getHours() : (this.hours + HOURS_IN_DAY / 2) % HOURS_IN_DAY;
            this.setSegmentAndNotify(TimeSegment.HOURS, hours);
        }
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @returns CSS template
     */
    static get styles() {
        return lib_elf["h" /* css */] `
      :host {
        display: inline-flex;
        flex-flow: row nowrap;
        align-items: center;
        justify-content: center;
        user-select:none;
        position: relative;
      }
      input {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
      }
    `;
    }
    /**
     * Template for Seconds Segment
     *
     * @returns Seconds segment
     */
    getSecondsHtml() {
        return this.isShowSeconds ? lib_elf["k" /* html */] `
      <span part="divider"></span>
      <coral-number-field
        id="seconds"
        part="input"
        no-spinner
        min="${MIN_UNIT}"
        max="${MAX_SECONDS}"
        .value="${this.formattedSeconds}"
        placeholder="${this.formattedSeconds || Placeholder.SECONDS}"
        ?readonly="${this.readonly}"
        ?disabled="${this.disabled}"
        transparent></coral-number-field>
    ` : null;
    }
    /**
     * Template for AmPm Segment
     *
     * @returns Am/Pm segment
     */
    getAmPmHtml() {
        const hasHours = this.hours !== null;
        return this.amPm ? lib_elf["k" /* html */] `
      <div id="toggle" part="toggle" @tap=${this.toggle} tabindex="0">
        <div part="toggle-item" ?active=${hasHours && this.isAM()}>AM</div>
        <div part="toggle-item" ?active=${hasHours && this.isPM()}>PM</div>
      </div>
    ` : null;
    }
    /**
     * Native input's template for mobile
     *
     * @returns input
     */
    getNativeInputForMobile() {
        return this.isMobile ? lib_elf["k" /* html */] `<input id="mtp" type="time" @change=${this.onMobileTimeChange}>` : null;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @returns Render template
     */
    render() {
        return lib_elf["k" /* html */] `
      <coral-number-field
        id="hours"
        part="input"
        no-spinner
        transparent
        min="${this.amPm ? 1 : MIN_UNIT}"
        max="${this.amPm ? HOURS_OF_NOON : MAX_HOURS}"
        .value="${this.formattedHours}"
        placeholder="${this.formattedHours || Placeholder.HOURS}"
        ?disabled="${this.disabled}"
        ?readonly="${this.readonly}"></coral-number-field>
      <span part="divider"></span>
      <coral-number-field
        id="minutes"
        part="input"
        no-spinner
        min="${MIN_UNIT}"
        max="${MAX_MINUTES}"
        .value="${this.formattedMinutes}"
        placeholder="${this.formattedMinutes || Placeholder.MINUTES}"
        ?readonly="${this.readonly}"
        ?disabled="${this.disabled}"
        transparent></coral-number-field>
      ${this.getSecondsHtml()}
      ${this.getAmPmHtml()}
      ${this.getNativeInputForMobile()}
    `;
    }
};
coral_time_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Number })
], coral_time_picker_CoralTimePicker.prototype, "hours", null);
coral_time_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Number })
], coral_time_picker_CoralTimePicker.prototype, "minutes", null);
coral_time_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Number })
], coral_time_picker_CoralTimePicker.prototype, "seconds", null);
coral_time_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, attribute: 'am-pm', reflect: true })
], coral_time_picker_CoralTimePicker.prototype, "amPm", void 0);
coral_time_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, attribute: 'show-seconds', reflect: true })
], coral_time_picker_CoralTimePicker.prototype, "showSeconds", void 0);
coral_time_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], coral_time_picker_CoralTimePicker.prototype, "value", null);
coral_time_picker_decorate([
    Object(lib_elf["o" /* query */])('#mtp')
], coral_time_picker_CoralTimePicker.prototype, "mtpInput", void 0);
coral_time_picker_decorate([
    Object(lib_elf["o" /* query */])('#hours')
], coral_time_picker_CoralTimePicker.prototype, "hoursInput", void 0);
coral_time_picker_decorate([
    Object(lib_elf["o" /* query */])('#minutes')
], coral_time_picker_CoralTimePicker.prototype, "minutesInput", void 0);
coral_time_picker_decorate([
    Object(lib_elf["o" /* query */])('#seconds')
], coral_time_picker_CoralTimePicker.prototype, "secondsInput", void 0);
coral_time_picker_decorate([
    Object(lib_elf["o" /* query */])('#toggle')
], coral_time_picker_CoralTimePicker.prototype, "toggleEl", void 0);
coral_time_picker_CoralTimePicker = coral_time_picker_decorate([
    Object(lib_elf["i" /* customElement */])('coral-time-picker')
], coral_time_picker_CoralTimePicker);


// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-time-picker.js




elf.customStyles.define('coral-time-picker', ':host{display:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-align:left;font-family:inherit;font-size:13rem;font-weight:400;height:23px;max-width:100%;margin:1px 0;outline:0;box-sizing:border-box;display:inline-flex;align-items:center;position:relative;vertical-align:middle;color:#484848;border-radius:0;text-overflow:ellipsis;width:auto;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;background-color:#fff;border:1px solid #a9afba;padding:0}:host([focused]){background-size:100% 2px,100% 1px!important;background-position:center bottom!important;border-color:#ffb266;border-style:dotted}:host [part=input]{margin:0;text-align:center;padding:0;color:inherit;width:25px}:host [part=divider]::before{content:\':\'}:host [part=toggle]{width:20px;display:flex;flex-flow:column nowrap;align-items:center;justify-content:center;outline:0;cursor:pointer;touch-action:manipulation;font-size:70%;line-height:1}:host [part=input],:host [part=toggle]{height:100%;position:relative}:host [part=input]:focus::after,:host [part=input][focused]::after,:host [part=toggle]:focus::after,:host [part=toggle][focused]::after{content:\'\';border-right:8px solid transparent;border-bottom:4px solid #ffb266;border-left:8px solid transparent;position:absolute;content:\'\';border:none;left:calc(50% - 7px);bottom:-1px;width:14px;height:1px;background:#ffb266}:host [part=toggle-item]{opacity:.5}:host [part=toggle-item][active]{opacity:1}:host([disabled]){border:1px solid rgba(169,175,186,.6);color:rgba(72,72,72,.6)}:host([readonly]){border:1px solid rgba(169,175,186,.6)}:host(:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #bfc3cb}:host([warning]){background-color:#fff;border:1px solid #f93}:host([warning][disabled]){border:1px solid rgba(255,153,51,.6);color:rgba(72,72,72,.6)}:host([warning][readonly]){border:1px solid rgba(255,153,51,.6)}:host([warning]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #ffb366}:host([error]),:host([error][warning]:not([focused])){background-color:#fff;border:1px solid #d94255}:host([error][disabled]),:host([error][warning]:not([focused])[disabled]){border:1px solid rgba(217,66,85,.6);color:rgba(72,72,72,.6)}:host([error][readonly]),:host([error][warning]:not([focused])[readonly]){border:1px solid rgba(217,66,85,.6)}:host([error]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover),:host([error][warning]:not([focused]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #e37180}:host([highlight]){background-color:#b0ffff;border:1px solid #a9afba}:host([highlight][disabled]){border:1px solid rgba(169,175,186,.6);color:rgba(72,72,72,.6);background-color:rgba(176,255,255,.6)}:host([highlight][readonly]){border:1px solid rgba(169,175,186,.6)}:host([highlight]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #bfc3cb}:host([indirect]){color:#009494;background-color:#effefe;border:1px solid #898623}:host([indirect][disabled]){border:1px solid rgba(137,134,35,.6);color:rgba(0,148,148,.6)}:host([indirect][readonly]){border:1px solid rgba(137,134,35,.6)}:host([indirect]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #a7a45a}');

// CONCATENATED MODULE: ./node_modules/@elf/coral-toggle/lib/coral-toggle.js
var coral_toggle_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

/**
 * Return the attribute that converted from the property
 * Prevent empty string that reflected to attribute
 * @private
 * @param value value from the property
 * @returns string converted to attribute
 */
const emptyStringToNull = function (value) {
    return value || null;
};
/**
 * coral-toggle - form control that can toggle between 2 states
 *
 * @attr {boolean} readonly - Set readonly state
 * @prop {boolean} [readonly=false] - Set readonly state
 *
 * @attr {boolean} disabled - Set disabled state
 * @prop {boolean} [disabled=false] - Set disabled state
 *
 * @fires checked-changed - Fired when the `checked` property changes.
 */
let coral_toggle_CoralToggle = class CoralToggle extends lib_elf["b" /* ControlElement */] {
    constructor() {
        super(...arguments);
        /**
         * Label of toggle checked
         */
        this.checkedLabel = '';
        /**
         * Label of toggle
         */
        this.label = '';
        /**
         * Value of toggle
         */
        this.checked = false;
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.25';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @returns CSS template
     */
    static get styles() {
        return lib_elf["h" /* css */] `
      :host {
        display: inline-block;
      }
    `;
    }
    /**
     * Invoked when the element is first updated. Implement to perform one time
     * work on the element after update.
     * @param changedProperties Map of changed properties with old values
     * @returns {void}
     */
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        this.addEventListener('tap', this.handleCheckedChange);
        this.addEventListener('keydown', this.handleKeyDown);
    }
    /**
     * Called when checked value changes and dispatch the event
     * @returns {void}
     */
    handleCheckedChange() {
        if (this.disabled || this.readonly) {
            return;
        }
        this.checked = !this.checked;
        this.notifyPropertyChange('checked', this.checked);
    }
    /**
     * Handle keyboard event for toggle action
     * @param event Keyboard event
     * @returns {void}
     */
    handleKeyDown(event) {
        if (event.key === 'Enter' || event.key === ' ' || event.key === 'Spacebar') {
            this.handleCheckedChange();
        }
        else if (event.keyCode && event.keyCode === 13 || event.keyCode === 32) { // For older browsers
            this.handleCheckedChange();
        }
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return lib_elf["k" /* html */] `
    <div part="toggle">${this.checked && this.checkedLabel ? this.checkedLabel : this.label}</div>`;
    }
};
coral_toggle_decorate([
    Object(lib_elf["n" /* property */])({
        type: String,
        attribute: 'checked-label',
        reflect: true,
        converter: { toAttribute: emptyStringToNull }
    })
], coral_toggle_CoralToggle.prototype, "checkedLabel", void 0);
coral_toggle_decorate([
    Object(lib_elf["n" /* property */])({
        type: String,
        reflect: true,
        converter: { toAttribute: emptyStringToNull }
    })
], coral_toggle_CoralToggle.prototype, "label", void 0);
coral_toggle_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_toggle_CoralToggle.prototype, "checked", void 0);
coral_toggle_CoralToggle = coral_toggle_decorate([
    Object(lib_elf["i" /* customElement */])('coral-toggle')
], coral_toggle_CoralToggle);


// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-toggle.js



elf.customStyles.define('coral-toggle', ':host{touch-action:manipulation;font-size:13rem;text-align:center;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;outline:0;border-radius:0;box-shadow:inset 0 0 0 rgba(0,0,0,.3);transition:box-shadow .2s,border-color .2s;width:44px;height:24px;color:#484848;background-color:#fff;line-height:18px}:host [part=toggle]{cursor:pointer;display:block;position:relative;width:100%;height:100%;box-sizing:border-box;border:1px solid #a9afba;border-radius:inherit;text-overflow:inherit;overflow:inherit;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host [part=toggle]::after{content:\'\';position:absolute;top:1px;left:1px;width:calc(50% - 1px);height:calc(100% - (1px * 2));background-color:#d4d7dd;box-sizing:border-box;border-radius:inherit}:host([checked-label]),:host([label]){width:67.6px;min-width:52px;min-width:44px}:host([readonly]) [part=toggle]{cursor:default}:host([disabled]) [part=toggle]{opacity:.5}:host([checked]) [part=toggle]::after{right:1px;left:auto;border-color:#f93;background-color:#f93}:host(:hover:not([readonly])),:host([focused=visible]){box-shadow:0 0 0 #ffb266}:host(:hover:not([readonly])) [part=toggle],:host([focused=visible]) [part=toggle]{border-color:#ffb266;border-style:dotted}:host [part=toggle] ::after{top:1px;left:1px;width:calc(50% - 1px);height:calc(100% - (1px * 2));background-image:linear-gradient(rgba(0,0,0,0) 0,rgba(0,0,0,.1) 100%)}:host([checked-label][checked]) [part=toggle],:host([label][checked]) [part=toggle]{padding-right:24px;padding-left:3px}:host([checked-label]) [part=toggle],:host([label]) [part=toggle]{padding:3px 3px 3px 24px}:host([checked-label]) [part=toggle]::after,:host([label]) [part=toggle]::after{width:20px}:host([checked]) [part=toggle] ::after{right:1px}');

// CONCATENATED MODULE: ./node_modules/@elf/quartz-label/lib/quartz-label.js
var quartz_label_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


/**
 * Configuration object
 * for mutations observers
 */
const observerOptions = {
    subtree: true,
    childList: true,
    characterData: true
};
/**
 * Reusable SPACE
 */
const _ = ' ';
/**
 * Helper to check if the browser is IE
 * @returns True if the browser is IE
 */
const quartz_label_isIE = () => !!navigator.userAgent.match(/Trident/g) || !!navigator.userAgent.match(/MSIE/g);
/**
 * Determines if the browser is legacy or modern.
 */
/* istanbul ignore next */
const browserType = quartz_label_isIE() ? 'legacy' : 'modern';
/**
 * Deprecation notices
 */
const maxLineDeprecation = new lib_elf["c" /* DeprecationNotice */]('Property `maxLine` is deprecated, use `lineClamp` instead.');
const truncateDeprecation = new lib_elf["c" /* DeprecationNotice */]('Property `truncate` is deprecated, use `lineClamp` instead. `line-clamp=0` is middle ellipsis. `line-clamp=1` is normal truncate.');
/**
 * quartz-label displays a text with alternative truncation
 */
let quartz_label_QuartzLabel = class QuartzLabel extends lib_elf["a" /* BasicElement */] {
    constructor() {
        super(...arguments);
        /**
         * Limit the number of lines before truncating
         */
        this.lineClamp = 0;
        /**
         * Set state to error
         */
        this.error = false;
        /**
         * Set state to warning
         */
        this.warning = false;
        /**
         * Trimmed chunks of textual content
         */
        this.chunks = [];
        /**
         * Mutation Observer used to detect changes in the Light DOM
         */
        this.mutationObserver = new MutationObserver(() => this.recalculate(true));
        /**
         * Render used to display the tooltip
         * @returns Tooltip text
         */
        this.tooltipRenderer = () => this.text;
        /**
         * Condition used to display the tooltip
         * @param target Tooltip target
         * @returns Whether the tooltip should be shown or not.
         */
        this.tooltipCondition = (target) => this.shouldShowTooltip(target);
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.28';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @returns CSS template
     */
    static get styles() {
        return lib_elf["h" /* css */] `
      :host {
        display: inline-flex;
        max-width: 100%;
      }
      .split {
        height: 1.2em;
        line-height: 1.2em;
        margin-top: -0.1em;
        flex: 0 1 auto;
        min-width: 0;
        overflow: hidden;
        white-space: nowrap;
      }
      .left.modern {
        word-break: break-all;
        white-space: normal;
      }
      .left.legacy {
        text-overflow: ellipsis;
      }
      .center {
        flex: 0 100 auto;
      }
      .right.modern {
        direction: rtl;
        text-overflow: ellipsis;
      }
      .right.legacy span {
        float: right;
      }
      .clamp {
        overflow: hidden;
        -webkit-box-orient: vertical;
        display: -webkit-inline-box;
        text-overflow: ellipsis;
        position: relative;
        overflow-wrap: break-word;
      }
    `;
    }
    /**
     * Enable shortening the label
     * @deprecated
     * @ignore
     */
    get truncate() {
        return String(this.lineClamp);
    }
    /**
     * @ignore
     * @param {string} value - Set truncate to shorten or middle ellipsis
    */
    set truncate(value) {
        truncateDeprecation.once();
        if (value === 'center') {
            this.lineClamp = 0;
        }
        if (value === '') {
            this.lineClamp = 1;
        }
    }
    /**
     * Limit the number of lines before truncating
     * @deprecated
     * @ignore
     */
    get maxLine() {
        return this.lineClamp;
    }
    /**
     * @ignore
     * @param {number} value - Set number of lines
    */
    set maxLine(value) {
        maxLineDeprecation.once();
        this.lineClamp = value;
    }
    /**
     * @override
     */
    connectedCallback() {
        super.connectedCallback();
        Object(coral_tooltip["a" /* addTooltipCondition */])(this.tooltipCondition, this.tooltipRenderer);
        this.mutationObserver.observe(this, observerOptions);
        !quartz_label_isIE() && this.recalculate(); // In IE the mutation will trigger
    }
    /**
     * @override
     */
    disconnectedCallback() {
        super.disconnectedCallback();
        Object(coral_tooltip["c" /* removeTooltipCondition */])(this.tooltipCondition);
        this.mutationObserver.disconnect();
    }
    /**
     * Decides whether the tooltip should b shown
     * @param tooltipTarget Target element passed by the tooltip condition
     * @returns True if the tooltip should be shown
     */
    shouldShowTooltip(tooltipTarget) {
        const targetMatches = tooltipTarget === this;
        const part = this.renderRoot.firstElementChild;
        if (targetMatches && part) {
            return part.clientHeight !== part.scrollHeight || part.clientWidth !== part.scrollWidth;
        }
        return false;
    }
    /**
     * Handles any modifications to the internal HTML
     * @param [mutation=false] is the request from a mutation event?
     * @returns {void}
     */
    recalculate(mutation = false) {
        mutation; // keeping here for future use
        const oldValue = this.text;
        const raw = this.textContent || '';
        this.chunks = raw.split(_).map(chunk => chunk.trim()).filter(chunk => chunk);
        const newValue = this.text;
        if (oldValue !== newValue) {
            void this.requestUpdate('text', oldValue);
        }
    }
    /**
     * Returns cleaned version of `this.textContent`.
     */
    get text() {
        return this.chunks.join(_);
    }
    /**
     * Default template
     */
    get truncateTemplate() {
        const words = this.chunks;
        const left = [];
        const right = [];
        const isSingleWord = words.length === 1;
        if (isSingleWord) {
            const word = words[0];
            const split = Math.round(word.length / 2);
            left.push(word.substr(0, split));
            right.push(word.substr(split));
        }
        else {
            const split = Math.round(words.length / 2);
            for (let i = 0; i < words.length; i += 1) {
                (i < split ? left : right).push(words[i]);
            }
        }
        const leftPart = lib_elf["k" /* html */] `<div class="split left ${browserType}">${left.join(_)}</div>`;
        const centerPart = isSingleWord ? undefined : lib_elf["k" /* html */] `<div class="split center">&nbsp;</div>`;
        const rightPart = right.length ? lib_elf["k" /* html */] `<div class="split right ${browserType}"><span dir="ltr">${right.join(_)}</span></div>` : undefined;
        return lib_elf["k" /* html */] `${leftPart}${centerPart}${rightPart}`;
    }
    /**
     * Template for when line clamp is set
     */
    get clampTemplate() {
        const styles = {
            maxHeight: '',
            whiteSpace: '',
            lineClamp: `${this.lineClamp}`,
            '-webkit-line-clamp': `${this.lineClamp}`
        };
        /* istanbul ignore if */
        if (browserType === 'legacy') {
            const cs = getComputedStyle(this);
            const lineHeight = parseFloat(cs.lineHeight) || 1.2 /* css default */;
            styles.maxHeight = `calc(1em * ${lineHeight} * ${this.lineClamp})`; // faux clamp in legacy browsers
            styles.whiteSpace = this.lineClamp === 1 ? 'nowrap' : ''; // show ellipsis in legacy browsers
        }
        return lib_elf["k" /* html */] `
      <span class="clamp ${browserType}" style="${Object(lib_elf["p" /* styleMap */])(styles)}">${this.text}</span>
    `;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        const template = this.lineClamp ? this.clampTemplate : this.truncateTemplate;
        /* istanbul ignore if */
        if (browserType === 'legacy') {
            // Mutation observer does not fire in IE11 if slot is not present
            return lib_elf["k" /* html */] `${template}<span style="display: none !important;"><slot></slot></span>`;
        }
        return template;
    }
};
quartz_label_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], quartz_label_QuartzLabel.prototype, "truncate", null);
quartz_label_decorate([
    Object(lib_elf["n" /* property */])({ type: Number, attribute: 'max-line' })
], quartz_label_QuartzLabel.prototype, "maxLine", null);
quartz_label_decorate([
    Object(lib_elf["n" /* property */])({ type: Number, attribute: 'line-clamp' })
], quartz_label_QuartzLabel.prototype, "lineClamp", void 0);
quartz_label_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], quartz_label_QuartzLabel.prototype, "error", void 0);
quartz_label_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], quartz_label_QuartzLabel.prototype, "warning", void 0);
quartz_label_QuartzLabel = quartz_label_decorate([
    Object(lib_elf["i" /* customElement */])('quartz-label')
], quartz_label_QuartzLabel);


// CONCATENATED MODULE: ./node_modules/@elf/coral-tab/lib/coral-tab.js
var coral_tab_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



const isAllWhitespaceTextNode = (node) => {
    var _a;
    return node.nodeType === document.TEXT_NODE
        && !((_a = node.textContent) === null || _a === void 0 ? void 0 : _a.trim());
};
/**
 * Deprecation notices
  */
const coral_tab_maxLineDeprecation = new lib_elf["c" /* DeprecationNotice */]('Property `maxLine` is deprecated, use `lineClamp` instead.');
const coral_tab_truncateDeprecation = new lib_elf["c" /* DeprecationNotice */]('Property `truncate` is deprecated, use `lineClamp` instead. `line-clamp=0` is middle ellipsis. `line-clamp=1` is normal truncate.');
/**
 * coral-tab - a building block for individual tab
 *
 * @attr {boolean} disabled - Set disabled state
 * @prop {boolean} [disabled=false] - Set disabled state
 */
let coral_tab_CoralTab = class CoralTab extends lib_elf["b" /* ControlElement */] {
    constructor() {
        super(...arguments);
        /**
         * Specify icon name to display in tab
         */
        this.icon = '';
        /**
         * Specify tab's label text
         */
        this.label = '';
        /**
         * Specify tab's sub-label text
         */
        this.subLabel = '';
        /**
         * Specify tab's active status
         */
        this.active = false;
        /**
         * Set tab to clearable
         */
        this.clears = false;
        /**
        * Limit the number of lines before truncating
        */
        this.lineClamp = 1;
        /**
         * Set tab to clearable on hover
         */
        this.clearsOnHover = false;
        /**
         * Use level styling from theme
         * @ignore
         */
        this.level = '1';
        /**
         * True, if there is slotted content
         */
        this.isSlotHasChildren = true;
        /**
         * Checks slotted children nodes and updates component to refresh label and sub-label templates.
         * @param event slotchange
         * @returns {void}
         */
        this.checkSlotChildren = (event) => {
            const slot = event.target;
            this.isSlotHasChildren = !slot.assignedNodes().filter(node => !this.isIgnorable(node)).length;
            this.requestUpdate();
        };
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.31';
    }
    /**
     * Enable shortening the label
     * @deprecated
     * @ignore
     */
    get truncate() {
        return String(this.lineClamp);
    }
    /**
     * @ignore
     * @param {string} value - Set truncate to shorten or middle ellipsis
    */
    set truncate(value) {
        coral_tab_truncateDeprecation.once();
        if (value === 'center') {
            this.lineClamp = 0;
        }
        if (value === '') {
            this.lineClamp = 1;
        }
    }
    /**
     * Limit the number of lines before truncating
     * @deprecated
     * @ignore
     */
    get maxLine() {
        return this.lineClamp;
    }
    /**
     * @ignore
     * @param {number} value - Set number of lines
    */
    set maxLine(value) {
        coral_tab_maxLineDeprecation.once();
        this.lineClamp = value;
    }
    /**
     * @param node that should be checked
     * @returns whether node can be ignored.
     */
    isIgnorable(node) {
        return node.nodeType === document.COMMENT_NODE
            || isAllWhitespaceTextNode(node);
    }
    /**
     * Omitted lineClamp if subLabel is provided
     * @returns line Clamp value
     */
    getLineClamp() {
        return !this.lineClamp ? 0 : this.subLabel ? 1 : this.lineClamp;
    }
    /**
     * @param event event from close button
     * @returns {void}
     */
    handleClickClear(event) {
        event.stopPropagation();
        /**
         * Fires when click on cross occurs. `detail.label` provides label of coral-tab if defined. `detail.active` provides current active state.
         * @param detail.label - label stored on the coral-tab
         * @param detail.active - current active state, always present
         */
        this.dispatchEvent(new CustomEvent('clear', {
            detail: {
                label: this.label,
                active: this.active
            }
        }));
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @returns CSS template
     */
    static get styles() {
        return lib_elf["h" /* css */] `
      :host {
        display: inline-flex;
        flex-shrink: 0;
      }
    `;
    }
    /**
     * Show Close Button if allow clears
     * @returns close button template
     */
    get CloseTemplate() {
        return this.clears || this.clearsOnHover ? lib_elf["k" /* html */] `
        <div part="close-container">
          <coral-icon part="close" icon="cross" @tap="${this.handleClickClear}"></coral-icon>
        </div>
      ` : null;
    }
    /**
     * Create quartz-label with label
     * @returns Label template
     */
    get LabelTemplate() {
        if (!this.label || !this.isSlotHasChildren) {
            return null;
        }
        return lib_elf["k" /* html */] `
      <quartz-label
        part="label"
        .lineClamp=${this.getLineClamp()}>
        ${this.label}
      </quartz-label>
    `;
    }
    /**
     * Create quartz-label with subLabel
     * @returns SubLabel template
     */
    get SubLabelTemplate() {
        if (!this.subLabel || !this.isSlotHasChildren) {
            return null;
        }
        return lib_elf["k" /* html */] `
      <quartz-label
        part="sub-label"
        .lineClamp=${this.getLineClamp()}>
        ${this.subLabel}
      </quartz-label>
    `;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return lib_elf["k" /* html */] `
      ${this.icon ? lib_elf["k" /* html */] `<coral-icon icon=${this.icon} part="icon"></coral-icon>` : null}
        <div part="label-container">
          ${this.LabelTemplate}
          ${this.SubLabelTemplate}
          <slot @slotchange="${this.checkSlotChildren}">
          </slot>
        </div>
      ${this.CloseTemplate}
    `;
    }
};
coral_tab_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], coral_tab_CoralTab.prototype, "icon", void 0);
coral_tab_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], coral_tab_CoralTab.prototype, "label", void 0);
coral_tab_decorate([
    Object(lib_elf["n" /* property */])({ type: String, attribute: 'sub-label' })
], coral_tab_CoralTab.prototype, "subLabel", void 0);
coral_tab_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_tab_CoralTab.prototype, "active", void 0);
coral_tab_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_tab_CoralTab.prototype, "clears", void 0);
coral_tab_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], coral_tab_CoralTab.prototype, "truncate", null);
coral_tab_decorate([
    Object(lib_elf["n" /* property */])({ type: Number, attribute: 'max-line' })
], coral_tab_CoralTab.prototype, "maxLine", null);
coral_tab_decorate([
    Object(lib_elf["n" /* property */])({ type: Number, reflect: true, attribute: 'line-clamp' })
], coral_tab_CoralTab.prototype, "lineClamp", void 0);
coral_tab_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true, attribute: 'clears-on-hover' })
], coral_tab_CoralTab.prototype, "clearsOnHover", void 0);
coral_tab_decorate([
    Object(lib_elf["n" /* property */])({ type: String, reflect: true })
], coral_tab_CoralTab.prototype, "level", void 0);
coral_tab_CoralTab = coral_tab_decorate([
    Object(lib_elf["i" /* customElement */])('coral-tab')
], coral_tab_CoralTab);


// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/quartz-label.js



elf.customStyles.define('quartz-label', ':host([warning]){color:#f93}:host([error]),:host([error][warning]){color:#d94255}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-tab.js




elf.customStyles.define('coral-tab', ':host{cursor:pointer;background-color:#fafbfc;color:#505050;height:23px;padding:7px 15px;outline:0;font-size:13rem;font-weight:500;transition:70ms;position:relative;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;align-items:center;justify-content:center;touch-action:manipulation;border:1px solid #a9afba;border-left:none}:host [part=label-container]{display:flex;align-items:flex-start;flex-direction:column;width:100%;min-width:0}:host(:not([sub-label])) [part=label-container]{align-items:center}:host([icon]) [part=label-container]{padding-left:.3em}:host [part=sub-label]{font-weight:400;font-size:.875em}:host(:not([active]):not(:active):not(:hover)) [part=sub-label]{opacity:.7}:host([sub-label]){height:33px}:host([sub-label]) [part=close]{font-size:1.25em}:host([sub-label][clears]){padding-right:2.5em}:host([line-clamp="2"]),:host([line-clamp="3"]){height:33px}:host([icon][sub-label]) [part=label-container]{padding-left:.5em}:host([clears]){padding-right:2em}:host [part=close-container]{position:absolute;top:0;right:0;bottom:0;display:flex;justify-content:center;align-items:center}:host [part=close]{margin-right:.5em;min-width:1em;font-size:1em}:host([clears-on-hover]) [part=close]{color:#1d1d1d}:host([clears-on-hover]) [part=close-container]{width:2em;opacity:0;transition:70ms;background:#fafbfc;box-shadow:-1em 0 .75em -.5em #fafbfc}:host([active]){color:#505050;background-color:#ffb266}:host([active]:hover[clears-on-hover]) [part=close-container]{background-color:#ffb771;box-shadow:-1em 0 .75em -.5em #ffb771}:host([active]:active){background-color:#eda65f}:host([active]:active[clears-on-hover]) [part=close-container]{background-color:#eda65f;box-shadow:-1em 0 .75em -.5em #eda65f}:host([active][disabled]){color:#a8896a;background-color:#ffc185}:host([disabled]){pointer-events:none;color:#505050;background-color:#fbfcfd}:host(:focus:not([focused])),:host([focused=visible]){box-shadow:none;background-color:#ffb771}:host(:focus:not([focused]):not([active]):not(:hover)),:host([focused=visible]:not([active]):not(:hover)){color:#1d1d1d;background-color:#fafbfc}:host(:hover){color:#1d1d1d;box-shadow:0 0 0 0 rgba(0,0,0,.6);background-color:#fafbfc}:host(:hover[clears-on-hover]) [part=close-container]{opacity:1}:host(:active){color:#505050;background-color:#e8e9ea}:host(:active[clears-on-hover]) [part=close-container]{background-color:#e8e9ea;box-shadow:-1em 0 .75em -.5em #e8e9ea}:host [part=icon]{min-width:1em;font-size:1em}:host([sub-label]) [part=icon]{font-size:1.2em}:host([active]:hover){color:#505050;background-color:#fc9}');

// CONCATENATED MODULE: ./node_modules/@elf/coral-tab-bar/lib/helpers/animate.js
const ANIMATION_DURATION = 100; // specifies the length of time an animation should take to complete
const DEFAULT_EASING = 'easeOutQuad';
/**
 * Common easing equations from https://easings.net
 * @param name type of easing
 * @returns easing function
 */
const functionEasings = {
    /**
     * Decelerating to zero velocity
     * @param time current time or position
     * @returns easing value
     */
    easeOutQuad: (time) => {
        return time * (2 - time);
    }
};
/**
 * Common easing equations from https://easings.net
 * @param configs animate config
 * @returns {void}
 */
const tweenAnimate = (configs) => {
    let animate;
    const { target, startPosition, endPosition, duration = ANIMATION_DURATION, easing = DEFAULT_EASING, complete } = configs;
    if (!target) {
        throw new TypeError('No target argument passed');
    }
    const startTime = 'now' in window.performance ? performance.now() : new Date().getTime();
    const delta = endPosition - startPosition;
    const tweenLoop = () => {
        const currentTime = 'now' in window.performance ? performance.now() : new Date().getTime();
        const step = Math.min(1, ((currentTime - startTime) / duration));
        const factor = functionEasings[easing](step); // factor can be a decimal
        configs.target.scrollLeft = startPosition + delta * factor;
        if (step < 1 && configs.target.scrollLeft !== endPosition) {
            animate = requestAnimationFrame(tweenLoop);
        }
        else {
            cancelAnimationFrame(animate);
            if (typeof complete === 'function') {
                complete();
            }
            return;
        }
    };
    tweenLoop();
};


// CONCATENATED MODULE: ./node_modules/@elf/coral-tab-bar/lib/coral-tab-bar.js
var coral_tab_bar_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



const BAR_TRAVEL_DISTANCE = 150; // scroll distance
/**
 * coral-tab-bar - coral-tab's container
 */
let coral_tab_bar_CoralTabBar = class CoralTabBar extends lib_elf["f" /* ResponsiveElement */] {
    constructor() {
        super(...arguments);
        /**
         * Specify coral-tab's horizontal alignment
         */
        this.alignment = 'left';
        /**
         * Use level styling from theme
         */
        this.level = '1';
        /**
         * Use to switch from horizontal to vertical layout.
         */
        this.vertical = false;
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.35';
    }
    /**
     * Called after the elements DOM has been updated the first time.
     * register scroll event on content element to toggle scroll button
     * @param changedProperties Properties that has changed
     * @returns {void}
     */
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        this.content.addEventListener('scroll', () => {
            // Clear our timeout throughout the scroll
            clearTimeout(this.isScrolling);
            // Set a timeout to run after scrolling ends
            this.isScrolling = setTimeout(() => {
                this.toggleScrollButton(this.content.clientWidth);
            }, 66); // equal 15 fps for compatibility
        });
    }
    /**
     * Called when the elements DOM has been updated and rendered
     * @param changedProperties Properties that has changed
     * @returns {void}
     */
    updated(changedProperties) {
        /* istanbul ignore else */
        if (changedProperties.has('level')) {
            this.setLevel();
        }
        if (changedProperties.has('vertical')) {
            // if tab bar changed from horizontal to vertical
            if (this.vertical) {
                this.hideScrollButtons();
            }
        }
        super.updated(changedProperties);
    }
    /**
     * private method but can't override
     * access modifiers in typescript.
     * @ignore
     * @param size element dimensions
     * @returns {void}
     */
    resizedCallback(size) {
        if (!this.vertical) {
            this.toggleScrollButton(size.width);
        }
        /**
         * Resize fired when the element's size changes.
         */
        this.dispatchEvent(new CustomEvent('resize', {
            bubbles: false,
            cancelable: false,
            detail: size
        }));
    }
    /**
     * Hide all scroll buttons
     * @returns {void}
     */
    hideScrollButtons() {
        this.leftBtn.style.setProperty('display', 'none');
        this.rightBtn.style.setProperty('display', 'none');
    }
    /**
     * Hide/Show scroll button when element is overflow.
     * @param elementWidth width of element
     * @returns {void}
     */
    toggleScrollButton(elementWidth) {
        const { scrollLeft, scrollWidth } = this.content;
        if (this.vertical) {
            return;
        }
        // handle left button
        if (scrollLeft > 0) {
            this.leftBtn.style.setProperty('display', 'flex');
        }
        else {
            this.leftBtn.style.setProperty('display', 'none');
        }
        // handle right button
        if (Math.floor(scrollWidth - scrollLeft) > Math.round(elementWidth)) {
            this.rightBtn.style.setProperty('display', 'flex');
        }
        else {
            this.rightBtn.style.setProperty('display', 'none');
        }
    }
    /**
     * Set coral-tab level attribute accordingly
     * @returns {void}
     */
    setLevel() {
        const tabList = this.querySelectorAll('coral-tab');
        tabList.forEach((tab) => {
            tab.level = this.level;
        });
    }
    /**
     * Detects when slot changes
     * @returns {void}
     */
    onSlotChange() {
        this.setLevel();
    }
    /**
     * Update scroll position when clicked on left button
     * @returns {void}
     */
    handleScrollLeft() {
        const { scrollLeft } = this.content;
        const availableScrollLeft = scrollLeft;
        let endPosition = scrollLeft - BAR_TRAVEL_DISTANCE;
        // If the space available is less than one half lots of our desired distance, just move to the leftest
        if (availableScrollLeft < BAR_TRAVEL_DISTANCE * 1.5) {
            endPosition = 0;
        }
        tweenAnimate({ target: this.content, startPosition: scrollLeft, endPosition });
    }
    /**
     * Update scroll position when clicked on right button
     * @returns {void}
     */
    handleScrollRight() {
        const { scrollLeft, scrollWidth, clientWidth } = this.content;
        const availableScrollRight = scrollWidth - (scrollLeft + clientWidth);
        let endPosition = scrollLeft + BAR_TRAVEL_DISTANCE;
        // If the space available is less than one half lots of our desired distance, just move the whole amount
        if (availableScrollRight < BAR_TRAVEL_DISTANCE * 1.5) {
            endPosition = scrollLeft + availableScrollRight;
        }
        tweenAnimate({ target: this.content, startPosition: scrollLeft, endPosition });
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @returns CSS template
     */
    static get styles() {
        return lib_elf["h" /* css */] `
      :host {
        display: flex;
      }
      :host([alignment=center]) {
        justify-content: center;
      }
      :host([alignment=right]) {
        justify-content: flex-end;
      }
    `;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return lib_elf["k" /* html */] `
    <coral-button icon="left" part="left-btn" @tap=${this.handleScrollLeft}></coral-button>
      <div part="content">
        <slot @slotchange=${this.onSlotChange}></slot>
      </div>
    <coral-button icon="right" part="right-btn" @tap=${this.handleScrollRight}></coral-button>
    `;
    }
};
coral_tab_bar_decorate([
    Object(lib_elf["o" /* query */])('[part="content"')
], coral_tab_bar_CoralTabBar.prototype, "content", void 0);
coral_tab_bar_decorate([
    Object(lib_elf["o" /* query */])('[part="left-btn"]')
], coral_tab_bar_CoralTabBar.prototype, "leftBtn", void 0);
coral_tab_bar_decorate([
    Object(lib_elf["o" /* query */])('[part="right-btn"]')
], coral_tab_bar_CoralTabBar.prototype, "rightBtn", void 0);
coral_tab_bar_decorate([
    Object(lib_elf["n" /* property */])({ type: String, reflect: true })
], coral_tab_bar_CoralTabBar.prototype, "alignment", void 0);
coral_tab_bar_decorate([
    Object(lib_elf["n" /* property */])({ type: String, reflect: true })
], coral_tab_bar_CoralTabBar.prototype, "level", void 0);
coral_tab_bar_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_tab_bar_CoralTabBar.prototype, "vertical", void 0);
coral_tab_bar_CoralTabBar = coral_tab_bar_decorate([
    Object(lib_elf["i" /* customElement */])('coral-tab-bar')
], coral_tab_bar_CoralTabBar);


// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-tab-bar.js




elf.customStyles.define('coral-tab-bar', ':host{position:relative;background-color:#c2c2c2}:host [part=content]{display:flex;overflow:hidden}:host [part=left-btn],:host [part=right-btn]{display:none;position:absolute;height:auto;margin:auto;z-index:2;top:0;bottom:0;background-color:#fafbfc}:host [part=left-btn]:hover,:host [part=right-btn]:hover{background-color:#fafbfc}:host [part=left-btn]:active,:host [part=right-btn]:active{background-color:#e8e9ea}:host [part=left-btn]:focus:not([focused]),:host [part=left-btn][focused=visible],:host [part=right-btn]:focus:not([focused]),:host [part=right-btn][focused=visible]{background-color:#ffb771}:host [part=left-btn]:focus:not([focused]):not([active]):not(:hover),:host [part=left-btn][focused=visible]:not([active]):not(:hover),:host [part=right-btn]:focus:not([focused]):not([active]):not(:hover),:host [part=right-btn][focused=visible]:not([active]):not(:hover){color:#1d1d1d;background-color:#fafbfc}:host [part=left-btn]{left:0}:host [part=right-btn]{right:0}:host([vertical]){width:180px;flex-shrink:0}:host([vertical]) [part=content]{flex-direction:column}:host([vertical]) [part=content] ::slotted(coral-tab){justify-content:flex-start;border:none;border-bottom:1px solid #a9afba}:host(:not([vertical])) [part=content] ::slotted(coral-tab:first-of-type){border-left:1px solid #a9afba}');

// EXTERNAL MODULE: ./node_modules/@elf/coral-item/lib/coral-item.js
var coral_item = __webpack_require__(9);

// EXTERNAL MODULE: ./node_modules/@elf/coral-panel/lib/coral-panel.js
var coral_panel = __webpack_require__(31);

// CONCATENATED MODULE: ./node_modules/@elf/coral-tree/lib/tree-manager.js
var CheckedState;
(function (CheckedState) {
    CheckedState[CheckedState["CHECKED"] = 1] = "CHECKED";
    CheckedState[CheckedState["UNCHECKED"] = 0] = "UNCHECKED";
    CheckedState[CheckedState["INDETERMINATE"] = -1] = "INDETERMINATE";
})(CheckedState || (CheckedState = {}));
var TreeManagerMode;
(function (TreeManagerMode) {
    /**
     * Maintains relationship states across children and parents.
     */
    TreeManagerMode[TreeManagerMode["RELATIONAL"] = 1] = "RELATIONAL";
    /**
     * Items are independent of each other and do not maintain relationship states.
     */
    TreeManagerMode[TreeManagerMode["INDEPENDENT"] = 0] = "INDEPENDENT";
})(TreeManagerMode || (TreeManagerMode = {}));
class TreeManager {
    constructor(composer, mode = TreeManagerMode.RELATIONAL) {
        /**
         * Mode (algorithm) the tree manage is using
         */
        this.mode = TreeManagerMode.RELATIONAL;
        this.composer = composer;
        this.mode = mode;
    }
    /**
     * Is the manager maintaining parent/child relationships
     */
    get manageRelationships() {
        return this.mode === TreeManagerMode.RELATIONAL;
    }
    /**
     * Returns all items in the tree
     */
    get items() {
        return this.composer.queryItems(() => true, Infinity);
    }
    /**
     * Return all items which have children
     */
    get parentItems() {
        return this.items.filter(item => this.isItemParent(item));
    }
    /**
     * Returns all checked items.
     * When managing relationships, this excludes groups/parents from the result.
     */
    get checkedItems() {
        return this.composer.queryItems((item) => {
            return this.isItemChecked(item) && (!this.manageRelationships || !this.getItemChildren(item).length);
        }, Infinity);
    }
    /**
     * Items which should be visibly displayed.
     * This can be used to render items.
     */
    get editableItems() {
        const topLevel = this.composer.queryItems(() => true, 0);
        return this.getEditableItems(topLevel);
    }
    /**
     * Internal query for getting visible items/nodes
     * @param items Data item collection
     * @param result Resulting array of visible items
     * @returns Collection of visible items
     */
    getEditableItems(items, result = []) {
        for (const item of items) {
            if (this.isItemCheckable(item)) {
                result.push(item);
                const children = this.getItemChildren(item);
                children.length && this.getEditableItems(children, result);
            }
        }
        return result;
    }
    /**
     * Items which should be visibly displayed.
     * This can be used to render items.
     */
    get visibleItems() {
        const topLevel = this.composer.queryItems(() => true, 0);
        return this.getVisibleItems(topLevel);
    }
    /**
     * Internal query for getting visible items/nodes
     * @param items Data item collection
     * @param result Resulting array of visible items
     * @returns Collection of visible items
     */
    getVisibleItems(items, result = []) {
        for (const item of items) {
            if (!this.isItemHidden(item) && result.push(item) && this.isItemExpanded(item)) {
                const children = this.getItemChildren(item);
                children.length && this.getVisibleItems(children, result);
            }
        }
        return result;
    }
    /**
     * Is the item hidden?
     * @param item Original data item
     * @returns `True` if the item is hidden
     */
    isItemHidden(item) {
        return this.composer.getItemPropertyValue(item, 'hidden') === true;
    }
    /**
     * Is the item checked?
     * @param item Original data item
     * @returns `True` if the item is checked
     */
    isItemChecked(item) {
        return this.composer.getItemPropertyValue(item, 'selected') === true;
    }
    /**
     * Makes an item visible
     * @param item Original data item
     * @returns {void}
     */
    showItem(item) {
        this.composer.setItemPropertyValue(item, 'hidden', false);
        this.updateItem(item); // Make sure the item is updated
    }
    /**
     * Hides an item from the visible collection
     * @param item Original data item
     * @returns {void}
     */
    hideItem(item) {
        this.composer.setItemPropertyValue(item, 'hidden', true);
    }
    /**
     * Forces a modification event, so that the renderer can update.
     * @param item Item of which to find ancestors
     * @returns {void}
     */
    forceUpdateOnAncestors(item) {
        this.composer.getItemAncestors(item).forEach(ancestor => {
            const allSelected = !this.getItemChildren(ancestor).some(child => this.isItemCheckable(child) && !this.isItemChecked(child));
            this.composer.setItemPropertyValue(ancestor, 'selected', allSelected);
            this.updateItem(ancestor);
        });
    }
    /**
     * Sets the mode (algorithm) the manager should use
     * @param mode Tree manager mode
     * @returns {void}
     */
    setMode(mode) {
        this.mode = mode;
        // Force update of all visible parent items, making sure any indeterminate states are remove.
        this.parentItems.forEach(item => this.updateItem(item));
    }
    /**
     * Updates the data item, forcing a render
     * @param item Original data item
     * @returns {void}
     */
    updateItem(item) {
        this.composer.updateItemTimestamp(item);
    }
    /**
     * Includes an item as part of the tree.
     * @param item Item to include
     * @returns `True` if the item is newly included
     */
    includeItem(item) {
        const result = this.composer.unlockItem(item);
        this.showItem(item); // Item must be unlocked first
        return result;
    }
    /**
     * Excludes an item as part of the tree.
     * @param item Item to exclude
     * @returns `True` if the item is newly excluded
     */
    excludeItem(item) {
        this.hideItem(item);
        return this.composer.lockItem(item);
    }
    /**
     * Is the item checkable?
     * @param item Original data item
     * @returns `True` if the item is not disabled or readonly
     */
    isItemCheckable(item) {
        return !this.composer.isItemLocked(item)
            && this.composer.getItemPropertyValue(item, 'disabled') !== true
            && this.composer.getItemPropertyValue(item, 'readonly') !== true;
    }
    /**
     * Is the item expanded?
     * @param item Original data item
     * @returns `True` if the item is expanded and its children should be visible
     */
    isItemExpanded(item) {
        return this.isItemParent(item)
            && this.composer.getItemPropertyValue(item, 'expanded') === true;
    }
    /**
     * Is the item a parent?
     * @param item Original data item
     * @returns `True` if the item has children
     */
    isItemParent(item) {
        return this.composer.isItemParent(item);
    }
    /**
     * Is the item a child?
     * @param item Original data item
     * @returns `True` if the item has a parent
     */
    isItemChild(item) {
        return this.composer.isItemChild(item);
    }
    /**
     * Calculates the checked stated of the item
     * @param item Original data item
     * @returns Checked state of the item
     */
    getItemCheckedState(item) {
        const descendants = this.getItemDescendants(item).filter(descendant => !this.composer.isItemLocked(descendant));
        const isParent = descendants.length > 0;
        if (isParent && this.manageRelationships) {
            const checkedCount = descendants.reduce((count, item) => {
                return count + (this.isItemChecked(item) === true ? 1 : 0);
            }, 0);
            return !checkedCount ? CheckedState.UNCHECKED
                : checkedCount === descendants.length ? CheckedState.CHECKED : CheckedState.INDETERMINATE;
        }
        return this.isItemChecked(item) === true ? CheckedState.CHECKED : CheckedState.UNCHECKED;
    }
    /**
     * Gets an item's ancestors
     * @param item Original data item
     * @returns A list of ancestors
     */
    getItemAncestors(item) {
        return this.composer.getItemAncestors(item);
    }
    /**
     * Gets an item's descendants
     * @param item Original data item
     * @param depth Depth to retrieve
     * @returns A list of descendants
     */
    getItemDescendants(item, depth) {
        return this.composer.getItemDescendants(item, depth);
    }
    /**
     * Gets an item's parent, if it has one.
     * @param item Original data item
     * @returns Item parent or `null`
     */
    getItemParent(item) {
        return this.composer.getItemParent(item);
    }
    /**
     * Gets an item's child collection
     * @param item Original data item
     * @returns A list of children
     */
    getItemChildren(item) {
        return this.composer.getItemChildren(item);
    }
    /**
     * Expand an item to show its children
     * @param item Original data item
     * @returns {void}
     */
    expandItem(item) {
        if (this.isItemParent(item)) {
            this.composer.setItemPropertyValue(item, 'expanded', true);
        }
    }
    /**
     * Collapse an item to hide its children
     * @param item Original data item
     * @returns {void}
     */
    collapseItem(item) {
        if (this.isItemParent(item)) {
            this.composer.setItemPropertyValue(item, 'expanded', false);
        }
    }
    /**
     * Expands all items in the tree
     * @returns {void}
     */
    expandAllItems() {
        this.parentItems.forEach(item => this.expandItem(item));
    }
    /**
     * Collapses all items in the tree
     * @returns {void}
     */
    collapseAllItems() {
        this.parentItems.forEach(item => this.collapseItem(item));
    }
    /**
     * Checks the item
     * @param item Original data item
     * @returns `True` if the item is modified
     */
    checkItem(item) {
        return this._checkItem(item);
    }
    _checkItem(item, manageRelationships = this.manageRelationships) {
        if (this.isItemCheckable(item) && !this.isItemChecked(item)) {
            this.composer.setItemPropertyValue(item, 'selected', true);
            if (manageRelationships) {
                this.forceUpdateOnAncestors(item);
                this.getItemDescendants(item).forEach(descendant => this._checkItem(descendant, false));
            }
            return true;
        }
        if (this.isItemParent(item)) {
            this.updateItem(item); // update parent checked state
        }
        return false;
    }
    /**
     * Unchecks the item
     * @param item Original data item
     * @returns `True` if the item is modified
     */
    uncheckItem(item) {
        return this._uncheckItem(item);
    }
    _uncheckItem(item, manageRelationships = this.manageRelationships) {
        if (this.isItemCheckable(item) && this.isItemChecked(item)) {
            this.composer.setItemPropertyValue(item, 'selected', false);
            if (manageRelationships) {
                this.forceUpdateOnAncestors(item);
                this.getItemDescendants(item).forEach(descendant => this._uncheckItem(descendant, false));
            }
            return true;
        }
        if (this.isItemParent(item)) {
            this.updateItem(item); // update parent checked state
        }
        return false;
    }
    /**
     * Toggles the item checked state
     * @param item Original data item
     * @returns `True` if the item is modified
     */
    toggleItem(item) {
        return this.isItemChecked(item) ? this.uncheckItem(item) : this.checkItem(item);
    }
    /**
     * Checks all items
     * @returns {void}
     */
    checkAllItems() {
        this.editableItems.forEach(item => this.checkItem(item));
    }
    /**
     * Unchecks all items
     * @returns {void}
     */
    uncheckAllItems() {
        this.editableItems.forEach(item => this.uncheckItem(item));
    }
}

// EXTERNAL MODULE: ./node_modules/@elf/coral-list/lib/renderer.js + 1 modules
var renderer = __webpack_require__(37);

// CONCATENATED MODULE: ./node_modules/@elf/coral-tree/lib/coral-tree-item.js
var coral_tree_item_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





Object(coral_icon["a" /* preload */])('right');
const emptyTemplate = lib_elf["k" /* html */] ``;
/**
 * Displays a tree list item.
 * Groups display expansion arrows.
 */
let coral_tree_item_CoralTreeItem = class CoralTreeItem extends lib_elf["b" /* ControlElement */] {
    constructor() {
        super(...arguments);
        /**
         * Checked state of the item
         */
        this.checkedState = CheckedState.UNCHECKED;
        /**
         * Is the item a parent and should it show an expansion toggle?
         */
        this.parent = false;
        /**
         * Display in multiple selection mode
         */
        this.multiple = false;
        /**
         * Expanded state of the item
         */
        this.expanded = false;
        /**
         * Depth of the item
         */
        this.depth = 0;
        /**
         * Label of the item
         */
        this.label = '';
        /**
         * Icon of the item
         */
        this.icon = '';
        /**
         * Highlighted state of the item.
         * This is for showing which item is currently being interacted with.
         */
        this.highlighted = false;
    }
    /**
     * Template for rendering the indentation element
     */
    get indentTemplate() {
        return this.depth ? lib_elf["k" /* html */] `<div part="indent" style="width:${this.depth}em"></div>` : emptyTemplate;
    }
    /**
     * Template for rendering the toggle
     *
     * ! expand-toggle is required for automatically toggling expanded state
     */
    get toggleTemplate() {
        return lib_elf["k" /* html */] `
    <div
    expand-toggle
    part="toggle"
    style="pointer-events:all;visibility:${this.parent ? 'visible' : 'hidden'}">
      <coral-icon part="toggle-icon${this.expanded ? ' toggle-icon-expanded' : ''}" icon="right"></coral-icon>
    </div>
    `;
    }
    /**
     * Template for rendering the checkbox
     */
    get checkboxTemplate() {
        if (!this.multiple) {
            return emptyTemplate;
        }
        return lib_elf["k" /* html */] `
    <coral-checkbox
    part="checkbox"
    tabindex="-1"
    .disabled="${this.disabled}"
    .readonly="${this.readonly}"
    .indeterminate="${this.indeterminate}"
    .checked="${this.checked}"
    style="pointer-events:none"></coral-checkbox>
    `;
    }
    /**
     * Template for rendering the icon
     */
    get iconTemplate() {
        if (typeof this.icon === 'undefined') {
            return emptyTemplate;
        }
        return lib_elf["k" /* html */] `<coral-icon part="label-icon" icon="${this.icon}"></coral-icon>`;
    }
    /**
     * Is the item fully checked?
     */
    get checked() {
        return this.checkedState === CheckedState.CHECKED;
    }
    /**
     * Is the checked state indeterminate?
     */
    get indeterminate() {
        return this.checkedState === CheckedState.INDETERMINATE;
    }
    update(changedProperties) {
        super.update(changedProperties);
        if (changedProperties.has('checkedState')) {
            switch (this.checkedState) {
                case CheckedState.CHECKED:
                    this.setAttribute('selected', '');
                    break;
                case CheckedState.INDETERMINATE:
                    this.setAttribute('selected', 'indeterminate');
                    break;
                default:
                    this.removeAttribute('selected');
            }
        }
    }
    render() {
        return lib_elf["k" /* html */] `
      ${this.indentTemplate}
      ${this.toggleTemplate}
      ${this.checkboxTemplate}
      ${this.iconTemplate}
      <div part="label">
        <slot>${this.label}</slot>
      </div>
  `;
    }
};
coral_tree_item_decorate([
    Object(lib_elf["n" /* property */])({ attribute: false })
], coral_tree_item_CoralTreeItem.prototype, "checkedState", void 0);
coral_tree_item_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true, attribute: 'group' })
], coral_tree_item_CoralTreeItem.prototype, "parent", void 0);
coral_tree_item_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_tree_item_CoralTreeItem.prototype, "multiple", void 0);
coral_tree_item_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean })
], coral_tree_item_CoralTreeItem.prototype, "expanded", void 0);
coral_tree_item_decorate([
    Object(lib_elf["n" /* property */])({ reflect: true, type: Number })
], coral_tree_item_CoralTreeItem.prototype, "depth", void 0);
coral_tree_item_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], coral_tree_item_CoralTreeItem.prototype, "label", void 0);
coral_tree_item_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], coral_tree_item_CoralTreeItem.prototype, "icon", void 0);
coral_tree_item_decorate([
    Object(lib_elf["n" /* property */])({ attribute: false })
], coral_tree_item_CoralTreeItem.prototype, "item", void 0);
coral_tree_item_decorate([
    Object(lib_elf["n" /* property */])({ reflect: true, type: Boolean })
], coral_tree_item_CoralTreeItem.prototype, "highlighted", void 0);
coral_tree_item_CoralTreeItem = coral_tree_item_decorate([
    Object(lib_elf["i" /* customElement */])('coral-tree-item')
], coral_tree_item_CoralTreeItem);


// CONCATENATED MODULE: ./node_modules/@elf/coral-tree/lib/default-renderer.js



class default_renderer_DefaultRenderer extends renderer["a" /* Renderer */] {
    constructor(scope) {
        let manager;
        let currentMode;
        let currentComposer;
        super((item, composer, element = document.createElement('coral-tree-item')) => {
            const el = element;
            const multiple = !!scope && scope.multiple === true;
            const noRelation = !!scope && scope.noRelation === true;
            const mode = !multiple || !noRelation ? TreeManagerMode.RELATIONAL : TreeManagerMode.INDEPENDENT;
            if (currentComposer !== composer || currentMode !== mode) {
                currentMode = mode;
                currentComposer = composer;
                manager = new TreeManager(composer, mode);
            }
            el.multiple = multiple;
            el.item = item;
            el.depth = composer.getItemDepth(item);
            el.parent = composer.getItemChildren(item).length > 0;
            el.expanded = manager.isItemExpanded(item);
            el.checkedState = !multiple && el.parent ? CheckedState.UNCHECKED : manager.getItemCheckedState(item);
            el.icon = composer.getItemPropertyValue(item, 'icon');
            el.label = composer.getItemPropertyValue(item, 'label');
            el.disabled = composer.getItemPropertyValue(item, 'disabled') === true;
            el.readonly = composer.getItemPropertyValue(item, 'readonly') === true;
            el.highlighted = composer.getItemPropertyValue(item, 'highlighted') === true;
            return el;
        });
    }
}

// CONCATENATED MODULE: ./node_modules/@elf/coral-tree/lib/default-filter.js
/**
 * Default filter used by combo box
 * @param el ComboBox instance to filter
 * @returns Filter accepting an item
 */
const default_filter_defaultFilter = (el) => {
    // reference query string for validating queryRegExp cache state
    let query = '';
    // cache RegExp
    let queryRegExp;
    // Get current RegExp, or renew if out of date
    // this is fetched on demand by filter/renderer
    // only created once per query
    const getRegularExpressionOfQuery = () => {
        if (el.query !== query || !queryRegExp) {
            query = el.query || '';
            queryRegExp = new RegExp(query.replace(/(\W)/g, '\\$1'), 'i');
        }
        return queryRegExp;
    };
    // return scoped custom filter
    return (item) => {
        const label = item.label;
        if (!label) {
            return false;
        }
        const regex = getRegularExpressionOfQuery();
        const result = regex.test(label);
        // this regex uses global scope, so the index needs resetting
        regex.lastIndex = 0;
        return result;
    };
};

// CONCATENATED MODULE: ./node_modules/@elf/coral-tree/lib/coral-tree.js
var coral_tree_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






const EXPAND_TOGGLE_ATTR = 'expand-toggle';
const selectAllDeprecation = new lib_elf["c" /* DeprecationNotice */]('selectAll is deprecated, use checkAll instead.');
const deselectAllDeprecation = new lib_elf["c" /* DeprecationNotice */]('deselectAll is deprecated, use uncheckAll instead.');
/**
 * Displays a tree structure
 * to be used for menus and group selections
 *
 * @fires value-changed - Fired when the users changed selection item.
 * @fires expanded-changed - Fired when an item's expanded state has changed.
 *
 * @attr {boolean} [stateless=false] - Disable selections
 * @prop {boolean} [stateless=false] - Disable selections
 *
 */
let coral_tree_CoralTree = class CoralTree extends coral_list["a" /* CoralList */] {
    constructor() {
        super(...arguments);
        /**
         * Tree manager used for manipulation
         */
        this.manager = new TreeManager(this.composer);
        /**
         * Allows multiple items to be selected
         */
        this.multiple = false;
        /**
         * Breaks the relationship when multiple
         * selection mode is enabled
         */
        this.noRelation = false;
        /**
         * Query string applied to tree
         */
        this.query = '';
        /**
         * Custom filter for static data
         * @type {TreeFilter<T> | null}
         * @ignore set to protected for now and need to discuss before set to public API
         */
        this.filter = default_filter_defaultFilter(this);
        /**
         * Renderer used for generating tree items
         * @default
         */
        this.renderer = new default_renderer_DefaultRenderer(this);
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.8.3';
    }
    /**
     * Expands all groups
     * @returns {void}
     */
    expandAll() {
        this.manager.expandAllItems();
    }
    /**
     * Collapses all groups
     * @returns {void}
     */
    collapseAll() {
        this.manager.collapseAllItems();
    }
    /**
     * Checks all editable items
     * @returns {void}
     */
    checkAll() {
        if (!this.multiple) {
            throw new RangeError('You cannot check all items in single selection mode');
        }
        this.manager.checkAllItems();
    }
    /**
     * Checks all editable items
     * @returns {void}
     * @deprecated
     * @ignore
     */
    selectAll() {
        selectAllDeprecation.once();
        this.checkAll();
    }
    /**
     * Unchecks all editable items
     * @returns {void}
     */
    uncheckAll() {
        this.manager.uncheckAllItems();
    }
    /**
     * Unchecks all editable items
     * @returns {void}
     * @deprecated
     * @ignore
     */
    deselectAll() {
        deselectAllDeprecation.once();
        this.uncheckAll();
    }
    /**
     * @override
     * @ignore
     */
    selectItem(item) {
        // Stateless tree
        if (this.stateless) {
            return false;
        }
        // Multiple selection
        if (this.multiple) {
            return this.manager.toggleItem(item);
        }
        // Single selection - expand/collapse group (parent)
        if (this.manager.isItemParent(item)) {
            this.toggleExpandedState(item);
            return false;
        }
        // Single selection - check item
        if (this.manager.checkItem(item)) {
            this.manager.checkedItems.forEach(checkedItem => {
                checkedItem !== item && this.manager.uncheckItem(checkedItem);
            });
            return true;
        }
        return false;
    }
    /**
     * Dispatches an event, detailing which item has recently changed it's expanded state.
     * @param item Data item of which the expanded property changed
     * @returns {void}
     */
    dispatchExpandedChangedEvent(item) {
        /**
        * Property `detail.value` is the current expanded state.
        * Property `detail.item` is the original data item of which the property has been modified.
        */
        const event = new CustomEvent('expanded-changed', {
            bubbles: false,
            cancelable: false,
            composed: true,
            detail: {
                value: this.manager.isItemExpanded(item),
                item
            }
        });
        this.dispatchEvent(event);
    }
    /**
     * Handles tap event when composed path contains
     * an element with an `expand-toggle` attribute.
     * @param event Tap event to try and handle
     * @returns True or False depending if the event was handled
     */
    handleExpandCollapse(event) {
        const containsToggle = event.composedPath().some((target) => target instanceof HTMLElement && target.hasAttribute(EXPAND_TOGGLE_ATTR));
        const itemElement = containsToggle && this.findItemElementFromTarget(event.target);
        const item = itemElement && this.itemFromElement(itemElement);
        if (item) {
            this.toggleExpandedState(item);
            return true;
        }
        return false;
    }
    /**
     * @override
     */
    onTap(event) {
        if (this.handleExpandCollapse(event)) {
            return;
        }
        super.onTap(event);
    }
    /**
     * @override
     */
    onKeyDown(event) {
        switch (event.key) {
            case 'Left':
            case 'ArrowLeft':
                this.left();
                break;
            case 'Right':
            case 'ArrowRight':
                this.right();
                break;
            default:
                return super.onKeyDown(event);
        }
        event.preventDefault();
    }
    /**
     * Performs left arrow keyboard action,
     * collapsing a group item if possible.
     * @returns {void}
     */
    left() {
        const item = this.highlightElement && this.itemFromElement(this.highlightElement);
        if (item && this.manager.isItemExpanded(item)) {
            this.manager.collapseItem(item);
            this.dispatchExpandedChangedEvent(item);
        }
    }
    /**
     * Performs right arrow keyboard action,
     * expanding a group item if possible.
     * @returns {void}
     */
    right() {
        const item = this.highlightElement && this.itemFromElement(this.highlightElement);
        if (item && !this.manager.isItemExpanded(item)) {
            this.manager.expandItem(item);
            this.dispatchExpandedChangedEvent(item);
        }
    }
    /**
     * Toggles the expanded state of an item.
     * Executed when a user taps on an item to expand/collapse the group.
     * @param item Original data item
     * @returns {void}
     */
    toggleExpandedState(item) {
        if (this.manager.isItemExpanded(item)) {
            this.manager.collapseItem(item);
        }
        else {
            this.manager.expandItem(item);
        }
        this.dispatchExpandedChangedEvent(item);
    }
    /**
     * @override
     */
    queryItems(engine) {
        return this.composer.queryItems(engine, Infinity);
    }
    /**
     * @override
     */
    queryItemsByPropertyValue(property, value) {
        return this.composer.queryItemsByPropertyValue(property, value, Infinity);
    }
    /**
     * @override
     */
    update(changedProperties) {
        if (changedProperties.has('noRelation') || changedProperties.has('multiple')) {
            this.manager.setMode(this.mode);
        }
        if (changedProperties.has('query') || changedProperties.has('data')) {
            this.filterItems();
        }
        super.update(changedProperties);
    }
    /**
     * Filter the internal items by query changes items' hidden state
     * @returns {void}
     */
    filterItems() {
        // if filter is null, it is off and external app is responsible
        if (this.filter) {
            const filter = this.filter;
            const items = this.queryItems((item) => {
                // Do not filter hidden items
                if (item.hidden) {
                    return false;
                }
                const result = filter(item);
                if (result) {
                    this.manager.includeItem(item);
                }
                else {
                    this.manager.excludeItem(item);
                }
                return result;
            }).slice();
            // Do not expand tree if there is no filter applied
            if (this.query) {
                /**
                 * Add all descendants of item list to make the descendants
                 * are accessible which user can navigate into the nested data
                 */
                this.addItemDescendantsToRender(items);
                /**
                 * Add all parents of item list which they must be shown
                 * when some descendant is shown.
                 */
                this.addExpandedAncestorsToRender(items);
            }
        }
    }
    /**
     * Utility method
     * Adds descendants for each item passed
     * @param items List of child items
     * @returns {void}
     */
    addItemDescendantsToRender(items) {
        items.forEach((item) => {
            /**
             * Collapse an item to prevent tree show too many nested expanded
             */
            if (this.manager.isItemExpanded(item)) {
                this.manager.collapseItem(item);
            }
            /**
             * show all descendants of items to make them all are selectable
             * and user can navigate into nested data
             */
            const children = this.composer.getItemChildren(item);
            if (children.length) {
                this.addNestedItemsToRender(children, items, false);
            }
        });
    }
    /**
     * Utility method
     * Add nested children of item list
     * @param items List of items
     * @param excludeItems List of exclude items
     * @param [includeHidden=false] Include hidden items
     * @returns {void}
     */
    addNestedItemsToRender(items, excludeItems, includeHidden = false) {
        items.forEach(item => {
            // Skip hidden and exclude item
            if (!item.hidden && !excludeItems.includes(item)) {
                // Add item and nested children
                this.manager.includeItem(item);
                const children = this.manager.getItemChildren(item);
                if (children.length) {
                    this.addNestedItemsToRender(children, excludeItems, includeHidden);
                }
            }
        });
    }
    /**
     * Utility method
     * Adds ancestors for each item passed and expand
     * @param items List of child items
     * @returns {void}
     */
    addExpandedAncestorsToRender(items) {
        // Establish unique ancestors set
        const ancestors = new Set();
        // we iterate each item match so as to find ancestors
        items.forEach((item) => {
            // Get the ancestors
            const parent = this.manager.getItemParent(item);
            if (parent && !ancestors.has(parent)) {
                this.manager.getItemAncestors(item).forEach((ancestor) => {
                    ancestors.add(ancestor); // track ancestors
                    this.addExpandedAncestorToRender(ancestor);
                });
            }
        });
    }
    /**
     * Utility method
     * Adds parent and expands
     * @param ancestor parent item
     * @returns {void}
     */
    addExpandedAncestorToRender(ancestor) {
        this.manager.includeItem(ancestor);
        this.manager.expandItem(ancestor);
    }
    /**
     * Selected items in tree
     * @override
     * @type {string[]}
     */
    get values() {
        return this.manager.checkedItems.map(item => {
            return this.composer.getItemPropertyValue(item, 'value') || '';
        });
    }
    set values(value) {
        super.values = value;
    }
    /**
     * Data object to be used for creating tree
     * @override
     * @type {CoralTreeItemData[]}
     */
    get data() {
        return super.data;
    }
    set data(data) {
        super.data = data;
        this.manager = new TreeManager(this.composer, this.mode);
    }
    /**
     * @override
     */
    get renderItems() {
        return this.manager.visibleItems;
    }
    /**
     * Mode to use in the tree manager
     */
    get mode() {
        return !this.multiple || !this.noRelation
            ? TreeManagerMode.RELATIONAL : TreeManagerMode.INDEPENDENT;
    }
};
coral_tree_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean })
], coral_tree_CoralTree.prototype, "multiple", void 0);
coral_tree_decorate([
    Object(lib_elf["n" /* property */])({ attribute: 'no-relation', type: Boolean })
], coral_tree_CoralTree.prototype, "noRelation", void 0);
coral_tree_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], coral_tree_CoralTree.prototype, "query", void 0);
coral_tree_decorate([
    Object(lib_elf["n" /* property */])({ attribute: false })
], coral_tree_CoralTree.prototype, "renderer", void 0);
coral_tree_CoralTree = coral_tree_decorate([
    Object(lib_elf["i" /* customElement */])('coral-tree')
], coral_tree_CoralTree);


// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-tree-item.js




elf.customStyles.define('coral-tree-item', '@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){:host(:after){content:\'\';min-height:inherit;font-size:0}}:host([selected]){color:#ee7600}:host([readonly]){cursor:default}:host([focused]),:host([highlighted]){background-color:rgba(0,0,0,.08)}:host([focused]:not([selected])),:host([highlighted]:not([selected])){color:#000}:host [part=center],:host [part=sub-label]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}:host([disabled]){color:rgba(72,72,72,.5)}:host([type=divider]),:host([type=header]){pointer-events:none;min-height:auto}:host([type=divider]) [part=sub-label],:host([type=header]) [part=sub-label]{display:none}:host([type=header]){color:#484848;background-color:#f2f3f7;font-size:100%;font-weight:400;border:1px solid #d5d8db;height:22px;align-items:flex-end;margin:0;min-height:0;text-transform:uppercase}:host([type=divider]){border:none;padding:0;margin:0;height:5px;background:linear-gradient(#a9afba,#a9afba) 0 center/calc(100% - (0px * 2)) 1px no-repeat}:host [part=checkbox],:host [part=icon],:host [part=left] ::slotted(*){margin:0 .5em 0 0}:host [part=right] ::slotted(*){margin-left:.5em}:host [part=sub-label]{font-size:80%}:host{outline:0;cursor:pointer;padding:0 7px;min-height:22px;box-sizing:border-box;touch-action:manipulation;min-width:300px;display:flex;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;min-height:29px;background-color:#fafbfc;border-bottom:1px solid #d5d8db}:host(:after){content:\'\';min-height:inherit;font-size:0}:host [part=indent]{height:0;width:0;flex:none;font-size:22px}:host [part=toggle]{width:22px;height:22px;margin-top:0;margin-bottom:0;margin-left:0;max-height:100%;display:flex;align-items:center;justify-content:center;flex:none}:host [part~=toggle-icon]{transition:transform .2s}:host [part~=toggle-icon-expanded]{transform:rotate(90deg)}:host [part=checkbox]{margin:0 5px 0 0;flex:none}:host [part=label-icon]{flex-shrink:0}:host [part=label]{padding:4px 5px;word-break:break-word}:host([depth="0"]){background-color:#f2f3f7}:host([highlighted]){background-color:#e4e8ed}:host([focused=visible]){outline:#f93 dotted 1px;outline-offset:-1px;border-color:transparent}:host(:last-of-type){border-color:transparent}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-tree.js




elf.customStyles.define('coral-tree', ':host{--item-indent:7px;--item-height:22px;color:#484848;background-color:transparent;touch-action:manipulation;scrollbar-face-color:#8a8a96;scrollbar-shadow-color:#8a8a96;scrollbar-highlight-color:#8a8a96;scrollbar-arrow-color:#8a8a96;scrollbar-track-color:#fff;scrollbar-3dlight-color:#fff;scrollbar-darkshadow-color:#fff;scrollbar-color:#8a8a96 #fff;overflow-x:auto}:host(:focus){outline:0}:host([readonly]) [part=list-item]{cursor:default}::-webkit-scrollbar{width:13px;height:13px}::-webkit-scrollbar-button{background:0 0/1px 2px no-repeat #fff;height:12px;width:12px;display:block}::-webkit-scrollbar-thumb{background:#8a8a96;border-radius:7px;border:2px solid #fff}::-webkit-scrollbar-thumb:hover{background:#a9afba}::-webkit-scrollbar-thumb:active{background:#ee7600}::-webkit-scrollbar-track{background:#fff}::-webkit-scrollbar-corner{background:#fff}::-webkit-scrollbar-button:end:decrement,::-webkit-scrollbar-button:start:increment{display:none}::-webkit-scrollbar-button:horizontal{background-size:2px 1px}::-webkit-scrollbar-button:vertical:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:horizontal:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}');

// EXTERNAL MODULE: ./node_modules/@elf/emerald-color-dialog/lib/emerald-color-dialog.js + 6 modules
var emerald_color_dialog = __webpack_require__(49);

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/emerald-color-dialog.js







elf.customStyles.define('emerald-color-dialog', ':host [part=content-section]{display:flex;min-width:0;padding:5px 0}:host [part=inputs-container]{display:flex;flex-direction:column;align-items:flex-end;padding-left:15px}:host [part=inputs-container]>*{display:flex;align-items:center;margin-bottom:5px}:host [part=color-input],:host [part=preview-color]{touch-action:manipulation;box-sizing:border-box;width:60px;margin:0 0 0 5px}:host [part=preview-color]{border:1px solid #a9afba;height:30px;margin-bottom:15px}:host [part=palettes-container]{width:100%}:host [part=color-palettes]{width:100%;height:calc(100% - 23px)}:host [part=color-palettes],:host [part=grayscale-palettes]{touch-action:manipulation}:host [part=footer]{display:flex;justify-content:flex-end;align-items:center}:host [part=button]{touch-action:manipulation;margin:10px 10px 10px 3px}:host{width:300px}:host [part=grayscale-palettes]{height:18px;width:140px;margin:5px 0 0 23px}:host [part=button]:first-child{margin-right:3px}');

// CONCATENATED MODULE: ./node_modules/@elf/coral-calendar/lib/utils.js
const VIEW_REGEX = /^-?\d{1,}-(0[1-9]|1[0-2])$/;
const VALUE_REGEX = /^-?\d{1,}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/; // validate number of days separately via the table
/**
 * Pad a number with 0
 * @param number Number to pad
 * @param size Size of end string
 * @returns padded string
 */
const pad = (number, size) => {
    let s = `${Math.abs(number)}`;
    while (s.length < size) {
        s = '0' + s;
    }
    return `${number < 0 ? '-' : ''}${s}`;
};
const padYear = (year) => pad(year, year >= 0 ? 4 : 6);
const padMonth = (month) => pad(month + 1, 2);
const padDate = (date) => pad(date, 2);
/**
 * Get values segments of value string
 * @param value Valid value, in a format 2019-12 or 2019-12-31
 * @returns Date segment
 */
const segmentFromString = (value) => {
    const split = value.split('-');
    if (value.startsWith('-')) { /* must be negative */
        split.shift();
        split[0] = '-' + split[0];
    }
    return {
        year: parseInt(split[0], 10),
        month: parseInt(split[1], 10) - 1,
        date: parseInt(split[2], 10) || 1
    };
};
/**
 * Get Local/UTC values segments of Date object
 * @param value Valid date
 * @param [isUTC=false] True to get UTC values, false to get Local values
 * @returns Date segment
 */
const segmentFromDate = (value, isUTC = false) => {
    const year = isUTC ? value.getUTCFullYear() : value.getFullYear();
    const month = isUTC ? value.getUTCMonth() : value.getMonth();
    const date = isUTC ? value.getUTCDate() : value.getDate();
    return { year, month, date: date };
};
/**
 * Format Date or DateSegment object to Local/UTC date string: yyyy-MM-dd. E.g. 2020-06-30.
 * @param value A valid Date or DateSegment object
 * @param [isUTC=false] True to format Date value as UTC date string, false as Local date string
 * @returns A formatted date
 */
const formatToValue = (value, isUTC = false) => {
    const segment = value instanceof Date ? segmentFromDate(value, isUTC) : value;
    return `${padYear(segment.year)}-${padMonth(segment.month)}-${padDate(segment.date)}`;
};
/**
 * Format Date or DateSegment object to UTC date string: yyyy-MM-dd. E.g. 2020-06-30.
 * @param value A valid Date or DateSegment object
 * @returns A formatted date
 */
const utcFormatToValue = (value) => formatToValue(value, true);
/**
 * Format Date or DateSegment object to Local/UTC date string: yyyy-MM. E.g. 2020-06.
 * @param value A valid Date or DateSegment object
 * @param [isUTC=false] True to format Date value as UTC view string, false as Local view string
 * @returns A formatted date
 */
const formatToView = (value, isUTC = false) => {
    const segment = value instanceof Date ? segmentFromDate(value, isUTC) : value;
    return `${padYear(segment.year)}-${padMonth(segment.month)}`;
};
/**
 * Format Date or DateSegment object to UTC date string: yyyy-MM. E.g. 2020-06.
 * @param value A valid Date or DateSegment object
 * @returns A formatted date
 */
const utcFormatToView = (value) => formatToView(value, true);
/**
 * Get Local/UTC Date object from segment
 * @param segment Segment
 * @param [isUTC=false] True to format segment into UTC date, false into Local date
 * @returns parsed date
 */
const dateFromSegment = (segment, isUTC = false) => {
    let date;
    if (isUTC) {
        date = new Date(0);
        date.setUTCFullYear(segment.year, segment.month, segment.date);
        date.setUTCHours(0, 0, 0, 0);
    }
    else {
        // the code for Local Dates is inconsistent across different browsers
        date = new Date();
        date.setFullYear(segment.year, segment.month, segment.date);
        date.setHours(0, 0, 0, 0);
    }
    return date;
};
/**
 * Get UTC Date object from segment
 * @param segment Segment
 * @returns parsed date
 */
const utcDateFromSegment = (segment) => dateFromSegment(segment, true);
/**
 * Get number of day in a month
 * @param year A year to check
 * @param month A month to check
 * @returns the number of days in month
 */
const getDaysInMonth = (year, month) => {
    const lastDayOfMonth = utcDateFromSegment({ year, month: month + 1, date: 0 });
    return lastDayOfMonth.getUTCDate();
};
/**
 * Get Local/UTC Date object from value string
 * @param value Valid value to parse
 * @param [isUTC=false] True to parse value as UTC, false as Local
 * @returns parsed date
 */
const dateFromString = (value, isUTC = false) => {
    const segment = segmentFromString(value);
    return dateFromSegment(segment, isUTC);
};
/**
 * Get UTC Date object from value string
 * @param value Valid value to parse
 * @returns parsed date
 */
const utcDateFromString = (value) => dateFromString(value, true);
/**
 * Return true if value confirms a format of 2019-12
 * @param value Value to check
 * @returns true if value format is correct
 */
const isValidView = (value) => {
    return VIEW_REGEX.test(value);
};
/**
 * Return true if value confirms a format of 2019-12-31
 * @param value Value to check
 * @returns true if value format is correct
 */
const utils_isValidValue = (value) => {
    const res = VALUE_REGEX.test(value);
    if (res) { // number of days
        const segment = segmentFromString(value);
        return segment.date <= getDaysInMonth(segment.year, segment.month);
    }
    return res;
};
/**
 * Are the given dates in the same day?
 * @param value the first date to check
 * @param compare the second date to check
 * @returns the dates are in the same day
 */
const isSameDay = (value, compare) => {
    const valueSegment = segmentFromString(value);
    const compareSegment = segmentFromString(compare);
    return valueSegment.year === compareSegment.year && valueSegment.month === compareSegment.month && valueSegment.date === compareSegment.date;
};
/**
 * Are the given dates in the same month?
 * @param value the first date to check
 * @param compare the second date to check
 * @returns the dates are in the same month
 */
const isSameMonth = (value, compare) => {
    const valueSegment = segmentFromString(value);
    const compareSegment = segmentFromString(compare);
    return valueSegment.year === compareSegment.year && valueSegment.month === compareSegment.month;
};
/**
 * Are the given dates in the same year?
 * @param value the first date to check
 * @param compare the second date to check
 * @returns the dates are in the same year
 */
const isSameYear = (value, compare) => {
    const valueSegment = segmentFromString(value);
    const compareSegment = segmentFromString(compare);
    return valueSegment.year === compareSegment.year;
};
/**
 * Is the given date today?
 * @param value the date to check
 * @returns the date is today
 */
const isToday = (value) => {
    const today = formatToValue(new Date()); // must be local time
    return isSameDay(value, today);
};
/**
 * Is the given date this month?
 * @param value the date to check
 * @returns the date is this month
 */
const isThisMonth = (value) => {
    const today = formatToValue(new Date()); // must be local time
    return isSameMonth(value, today);
};
/**
 * Is the given date this year?
 * @param value the date to check
 * @returns the date is this year
 */
const isThisYear = (value) => {
    const today = formatToValue(new Date()); // must be local time
    return isSameYear(value, today);
};
/**
 * Add the specified number of months to the given date
 * @param value the date to be changed
 * @param amount the amount of months to be added
 * @returns the new date with the months added
 */
const addMonths = (value, amount) => {
    if (!amount) {
        return value;
    }
    const date = utcDateFromString(value);
    const dayOfMonth = date.getUTCDate();
    const endOfDesiredMonth = new Date(date.getTime());
    endOfDesiredMonth.setUTCMonth(date.getUTCMonth() + amount + 1, 0);
    const daysInMonth = endOfDesiredMonth.getUTCDate();
    if (dayOfMonth >= daysInMonth) {
        return utcFormatToValue(endOfDesiredMonth);
    }
    else {
        date.setUTCFullYear(endOfDesiredMonth.getUTCFullYear(), endOfDesiredMonth.getUTCMonth(), dayOfMonth);
        return utcFormatToValue(date);
    }
};
/**
 * Subtract the specified number of months to the given date
 * @param value the date to be changed
 * @param amount the amount of months to be subtracted
 * @returns the new date with the months subtracted
 */
const subMonths = (value, amount) => {
    return addMonths(value, -amount);
};
/**
 * Does the given date fall on a weekend?
 * @param value the date to check
 * @returns the date falls on a weekend
 */
const isWeekend = (value) => {
    const date = utcDateFromString(value);
    const day = date.getUTCDay();
    return day === 0 || day === 6;
};
/**
 * Is the first date after the second one?
 * @param value the date that should be after the other one to return true
 * @param compare the date to compare with
 * @returns the first date is after the second date
 */
const isAfter = (value, compare) => {
    const date = utcDateFromString(value);
    const compareDate = utcDateFromString(compare);
    return date.getTime() > compareDate.getTime();
};
/**
 * Is the first date before the second one?
 * @param value the date that should be before the other one to return true
 * @param compare the date to compare with
 * @returns the first date is before the second date
 */
const isBefore = (value, compare) => {
    const date = utcDateFromString(value);
    const compareDate = utcDateFromString(compare);
    return date.getTime() < compareDate.getTime();
};
/**
 * Get information about number of days, month number and year from date object
 * @param value Date string
 * @returns Month information object
 */
const monthInfo = (value) => {
    const segment = segmentFromString(value);
    const year = segment.year;
    const month = segment.month;
    return {
        days: getDaysInMonth(year, month),
        month,
        year
    };
};
/**
 * Format Local/UTC Date object to date string.
 * Supported formats: "yyyy-MM-dd" (e.g. 2020-06-30, 0030-04-30, -0002-12-31) or "yyyy-MM" (e.g. 2020-06, 0030-04, -0002-12).
 * @param date A valid date object
 * @param [includeDate=true] True if date should be included
 * @param [isUTC=false] True to format date as UTC, false as Local
 * @returns A formatted date
 */
const format = (date, includeDate = true, isUTC = false) => includeDate ? formatToValue(date, isUTC) : formatToView(date, isUTC);
/**
 * Format UTC Date object to date string.
 * Supported formats: "yyyy-MM-dd" (e.g. 2020-06-30, 0030-04-30, -0002-12-31) or "yyyy-MM" (e.g. 2020-06, 0030-04, -0002-12).
 * @param date A valid date object
 * @param [includeDate=true] True if date should be included
 * @returns A formatted date
 */
const utcFormat = (date, includeDate = true) => format(date, includeDate, true);
/**
 * Get Local/UTC Date object from value string.
 * Supported formats: "yyyy-MM-dd" or "yyyy-MM".
 * @param value Value to parse
 * @param [isUTC=false] True to parse string into UTC date, false into Local date
 * @returns parsed date or invalid date
 */
const parse = (value, isUTC = false) => {
    const isValid = utils_isValidValue(value) || isValidView(value);
    if (!isValid) {
        return new Date(NaN);
    }
    return dateFromString(value, isUTC);
};
/**
 * Get UTC Date object from value string.
 * Supported formats: "yyyy-MM-dd" or "yyyy-MM".
 * @param value Value to parse
 * @returns parsed date or invalid date
 */
const utcParse = (value) => parse(value, true);


// EXTERNAL MODULE: ./node_modules/@elf/elf-i18n/lib/index.js + 18 modules
var elf_i18n_lib = __webpack_require__(16);

// CONCATENATED MODULE: ./node_modules/@elf/coral-calendar/lib/locales.js



// While Intl can support literally all world languages
// for safety still limit the number of locales, for the following reasons
// 1) different browsers and OS support different locales, and the result might be different.
// 2) first day of week is different. Currently it is not possible to get this info out of Intl object
const globals = {
    VIEW_FORMAT: '{includeMonth, select, true {{includeEra, select, true {{ date, date, calendarMonthEra }} false {{ date, date, calendarMonth }}}} false {{ includeEra, select, true {{ date, date, calendarYearEra }} false {{ date, date, calendarYear }}}}}',
    FIRST_DAY_OF_WEEK: '1'
};
const en = globals;
const enUS = Object.assign(Object.assign({}, en), { FIRST_DAY_OF_WEEK: '0' });
const enCA = enUS;
const de = globals;
const es = globals;
const fr = globals;
const frCA = Object.assign(Object.assign({}, fr), { FIRST_DAY_OF_WEEK: '0' });
const it = globals;
const ja = globals;
const ko = Object.assign(Object.assign({}, globals), { FIRST_DAY_OF_WEEK: '0' });
const pl = globals;
const ru = globals;
const th = Object.assign(Object.assign({}, globals), { FIRST_DAY_OF_WEEK: '0' });
const zh = globals;
const ar = Object.assign(Object.assign({}, globals), { FIRST_DAY_OF_WEEK: '6' });
const locales_scope = 'coral-calendar';
lib["a" /* Phrasebook */].define('en', locales_scope, en);
lib["a" /* Phrasebook */].define('en-CA', locales_scope, enCA);
lib["a" /* Phrasebook */].define('en-US', locales_scope, enUS);
lib["a" /* Phrasebook */].define('de', locales_scope, de);
lib["a" /* Phrasebook */].define('es', locales_scope, es);
lib["a" /* Phrasebook */].define('fr', locales_scope, fr);
lib["a" /* Phrasebook */].define('fr-CA', locales_scope, frCA);
lib["a" /* Phrasebook */].define('it', locales_scope, it);
lib["a" /* Phrasebook */].define('ja', locales_scope, ja);
lib["a" /* Phrasebook */].define('ko', locales_scope, ko);
lib["a" /* Phrasebook */].define('pl', locales_scope, pl);
lib["a" /* Phrasebook */].define('ru', locales_scope, ru);
lib["a" /* Phrasebook */].define('th', locales_scope, th);
lib["a" /* Phrasebook */].define('zh', locales_scope, zh);
lib["a" /* Phrasebook */].define('ar', locales_scope, ar);
const calendar = {
    // calendar property is not part of TypeScript Intl.DateTimeFormatOptions,
    // but is supported by all modern browsers and is required by Intl.DateTimeFormat polyfill
    calendar: 'gregory',
    timeZone: 'UTC'
};
/**
 * Custom formats for date formatting
 */
const DateMessageFormats = {
    date: {
        calendarMonthEra: Object.assign(Object.assign({}, calendar), { month: 'long', year: 'numeric', era: 'short' }),
        calendarMonth: Object.assign(Object.assign({}, calendar), { month: 'long', year: 'numeric' }),
        calendarYearEra: Object.assign(Object.assign({}, calendar), { year: 'numeric', era: 'short' }),
        calendarYear: Object.assign(Object.assign({}, calendar), { year: 'numeric' })
    }
};
/**
 * Used to format views
 */
const ViewFormatTranslateParams = {
    unicodeExtensions: {
        // while latest Chrome, FF and Intl.DateTimeFormat polyfill support
        // calendar option to format date,
        // older browsers as Safari and IE11 need this to be provided as
        // unicode extension, e.g. lang="th-u-ca-gregory"
        ca: 'gregory'
    },
    formats: DateMessageFormats
};
/**
 * Get locale based on provided locale and Phrasebook available locales
 * @param locale locale tag
 * @returns resolved locale
 */
const getLocale = (locale) => {
    return Object(elf_i18n_lib["c" /* resolveLocale */])(locales_scope, locale) || elf_i18n_lib["a" /* DEFAULT_LOCALE */];
};
/**
 * Get a list of weekday abbreviations based on locale
 * @param locale Locale
 * @param [width='short'] Day width
 * @returns The list of weekdays starting from Sunday
 */
const weekdaysNames = (locale, width = 'narrow') => {
    locale = getLocale(locale);
    // we know that Jan 04 1970 is Sunday
    let day = 4;
    const date = utcDateFromSegment({
        year: 1970,
        month: 0,
        date: day
    });
    const weekdays = [];
    while (day < 11) {
        weekdays.push(date.toLocaleDateString(locale, { weekday: width, timeZone: 'UTC' }));
        day += 1;
        date.setUTCDate(day);
    }
    return weekdays;
};
/**
 * Get a list of months based on locale
 * @param locale Locale
 * @param [width='short'] Month width
 * @returns The list of months starting from January
 */
const locales_monthsNames = (locale, width = 'short') => {
    locale = getLocale(locale);
    let month = 0;
    const date = utcDateFromSegment({
        year: 1970,
        month,
        date: 1
    });
    const months = [];
    while (month < 12) {
        months.push(date.toLocaleDateString(locale, { month: width, timeZone: 'UTC' }));
        month += 1;
        date.setUTCMonth(month);
    }
    return months;
};
/**
 * @deprecated
 * Some old browsers (as IE11) do not support formatting of old dates before BC
 * Instead simply convert the date manually to match Translate function
 * @param date Date
 * @param locale locale
 * @param [includeMonth=false] true to include month
 * @param [includeEra=false] tru to include era descriptor
 * @returns formatted dates
 */
const formatDate = (date, locale, includeMonth = false, includeEra = false) => {
    const monthNames = locales_monthsNames(locale, 'long');
    locale = getLocale(locale);
    const year = date.getUTCFullYear();
    const month = date.getUTCMonth();
    // BC flags are not supported. Always use English
    return `${includeMonth ? `${monthNames[month]} ` : ''} ${year > 0 ? year : year === 0 ? '1' : Math.abs(year - 1)}${includeEra ? year <= 0 ? ' BC' : ' AD' : ''}`;
};


// CONCATENATED MODULE: ./node_modules/@elf/coral-calendar/lib/types.js
var RenderView;
(function (RenderView) {
    RenderView["DAY"] = "day";
    RenderView["MONTH"] = "month";
    RenderView["YEAR"] = "year";
})(RenderView || (RenderView = {}));

// CONCATENATED MODULE: ./node_modules/@elf/coral-calendar/lib/coral-calendar.js
var coral_calendar_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








const coral_calendar_isIE = (/Trident/g).test(navigator.userAgent) || (/MSIE/g).test(navigator.userAgent);
const FIRST_DAY_OF_WEEK = 0; // 0 for Sunday
const YEARS_PER_YEAR_VIEW = 16; /* must be a square number */
const DAY_VIEW = {
    rowCount: 6,
    columnCount: 7,
    totalCount: 6 * 7
};
const YEAR_VIEW = {
    rowCount: 4,
    columnCount: 4,
    totalCount: 4 * 4
};
const MONTH_VIEW = {
    rowCount: 4,
    columnCount: 4,
    totalCount: 4 * 4
};
/**
 * Standard calendar element
 * @fires value-changed - Fired when the `value` changes.
 * @fires view-changed - Fired when the `view` changes.
 *
 * @attr {boolean} readonly - Set readonly state
 * @prop {boolean} [readonly=false] - Set readonly state
 *
 * @attr {boolean} disabled - Set disabled state
 * @prop {boolean} [disabled=false] - Set disabled state
 *
 * @slot footer - Adds slotted content into the footer of the calendar control
 */
let coral_calendar_CoralCalendar = class CoralCalendar extends lib_elf["b" /* ControlElement */] {
    constructor() {
        super(...arguments);
        this._min = '';
        this._max = '';
        /**
        * Only enable weekdays
        */
        this.weekdaysOnly = false;
        /**
        * Only enable weekends
        */
        this.weekendsOnly = false;
        /**
        * Custom filter, used for enabling/disabling certain dates
        * @type {Filter | null}
        */
        this.filter = null;
        this._view = '';
        this.localFirstDayOfWeek = FIRST_DAY_OF_WEEK; // used from locales. 0 stands for Sunday
        this._firstDayOfWeek = null; // used from setter
        /**
        * Set to switch to range select mode
        */
        this.range = false;
        /**
        * Set to switch to multiple select mode
        */
        this.multiple = false;
        this._values = [];
        /**
         * Fill head and tail cell dates
         */
        this.fillCells = false;
        /**
         * Used for internal navigation between render views
         */
        this.renderView = RenderView.DAY;
        this.isDateAvailable = null; /* a constructed filter based on multiple local filters */
    }
    /**
    * Element version number
    */
    static get version() {
        return '4.5.38';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return lib_elf["h" /* css */] `
      :host {
        display: inline-block;
      }
      [part=navigation], [part=navigation] section {
        display: flex;
        flex-flow: row nowrap;
      }
      [part=navigation] {
        justify-content: space-between;
      }
      [part=navigation] > div {
        display: flex;
        flex: 1;
        justify-content: center;
      }
      [part~=cell-content] {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        pointer-events: none;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      [part=navigation] [part] {
        flex: none;
      }
      [part=table] {
        width: 100%;
      }
      [part~=row] {
        display: flex;
        width: 100%;
      }
      [part~=cell] {
        position: relative;
      }
      [part~=cell][part~=year] {
        width: calc(100% / ${YEAR_VIEW.columnCount});
        padding-top: calc(100% / ${YEAR_VIEW.columnCount});
      }
      [part~=cell][part~=month] {
        width: calc(100% / ${MONTH_VIEW.columnCount});
        padding-top: calc(100% / ${MONTH_VIEW.columnCount});
      }
      [part~=cell][part~=day], [part~=cell][part~=day-name] {
        width: calc(100% / ${DAY_VIEW.columnCount});
        padding-top: calc(100% / ${DAY_VIEW.columnCount});
      }
      [part~=cell][tabindex] {
        cursor: pointer;
      }
    `;
    }
    /**
    * Set minimum date
    * @param min min date
    * @default -
    */
    set min(min) {
        const oldMin = this._min;
        if (!this.isValidValue(min)) {
            this.warnInvalidValue(min);
            min = '';
        }
        if (oldMin !== min) {
            this._min = min;
            this.requestUpdate('min', oldMin);
        }
    }
    get min() {
        return this._min;
    }
    /**
    * Set maximum date
    * @param max max date
    * @default -
    */
    set max(max) {
        const oldMax = this._max;
        if (!this.isValidValue(max)) {
            this.warnInvalidValue(max);
            max = '';
        }
        if (oldMax !== max) {
            this._max = max;
            this.requestUpdate('max', oldMax);
        }
    }
    get max() {
        return this._max;
    }
    /**
    * Current calendar view date
    * @param view view date
    * @default -
    */
    set view(view) {
        if (view && !isValidView(view)) {
            this.warnInvalidView(view);
            view = '';
        }
        const oldView = this._view;
        if (oldView !== view) {
            this._view = view;
            this.requestUpdate('view', oldView);
        }
    }
    get view() {
        /* as soon as user interaction has happened, always rely on view */
        return this._view || (this.value ? utcFormatToView(segmentFromString(this.value)) : format(new Date(), false));
    }
    /**
     * Set the first day of the week.
     * 0 - for Sunday, 6 - for Saturday
     * @param firstDayOfWeek The first day of the week
     * @type {number | null}
     */
    set firstDayOfWeek(firstDayOfWeek) {
        firstDayOfWeek %= 7;
        const oldFirstDayOfWeek = this._firstDayOfWeek;
        if (oldFirstDayOfWeek !== firstDayOfWeek) {
            this._firstDayOfWeek = firstDayOfWeek;
            this.requestUpdate('firstDayOfWeek', oldFirstDayOfWeek);
        }
    }
    get firstDayOfWeek() {
        return this._firstDayOfWeek === null ? this.localFirstDayOfWeek : this._firstDayOfWeek;
    }
    /**
    * Current date time value
    * @param value Calendar value
    * @default -
    */
    set value(value) {
        this.values = [value];
    }
    get value() {
        return this.values[0] || '';
    }
    /**
     * Set multiple selected values
     * @param values Values to set
     * @type {array}
     */
    set values(values) {
        const oldValues = this._values;
        const newValues = this.filterAndWarnInvalidValues(values);
        if (oldValues.toString() !== newValues.toString()) {
            this._values = newValues;
            this.requestUpdate('values', oldValues);
        }
    }
    get values() {
        return this._values.concat();
    }
    /**
     * Get weekday numbers.
     * Sort the list based on first day of the week
     */
    get weekdaysNames() {
        const firstDayOfWeek = this.firstDayOfWeek;
        const localWeekdaysNames = this.localWeekdaysNames;
        return localWeekdaysNames.slice(firstDayOfWeek).concat(localWeekdaysNames.slice(0, firstDayOfWeek));
    }
    /**
     * Get localised month names from January to December
     */
    get monthsNames() {
        return this.localMonthsNames;
    }
    /**
     * Perform asynchronous update
     * @returns promise
     */
    async performUpdate() {
        const localFirstDayOfWeek = Number(await this.tPromise('FIRST_DAY_OF_WEEK'));
        this.localFirstDayOfWeek = isNaN(localFirstDayOfWeek) ? FIRST_DAY_OF_WEEK : (localFirstDayOfWeek % 7);
        super.performUpdate();
    }
    /**
    * Updates the element
    * @param changedProperties Properties that has changed
    * @returns {void}
    */
    update(changedProperties) {
        if (!this.localMonthsNames || changedProperties.has(elf_translate["a" /* TranslatePropertyKey */])) {
            this.localMonthsNames = locales_monthsNames(Object(elf_translate["b" /* getLocale */])(this));
        }
        if (!this.localWeekdaysNames || changedProperties.has(elf_translate["a" /* TranslatePropertyKey */])) {
            this.localWeekdaysNames = weekdaysNames(Object(elf_translate["b" /* getLocale */])(this));
        }
        this.shouldConstructFilters(changedProperties) && this.constructFilters();
        super.update(changedProperties);
    }
    /**
     * Run when an element has been first updated
     * @param changedProperties properties that was changed on first update
     * @returns {void}
     */
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        this.renderRoot.addEventListener('keydown', event => this.onTableKeyDown(event));
    }
    /**
     * Show invalid view message
     * @param value Invalid value
     * @returns {void}
     */
    warnInvalidView(value) {
        new lib_elf["g" /* WarningNotice */](`The specified value "${value}" does not conform to the required format. The format is "yyyy-MM".`).once();
    }
    /**
     * Show invalid value message
     * @param value Invalid value
     * @returns {void}
     */
    warnInvalidValue(value) {
        new lib_elf["g" /* WarningNotice */](`The specified value "${value}" does not conform to the required format. The format is "yyyy-MM-dd".`).once();
    }
    /**
    * Validate that the value confirms the control type
    * @param value Value to check
    * @returns false if value is invalid
    */
    isValidValue(value) {
        return value === '' || utils_isValidValue(value);
    }
    /**
     * A helper method to make sure that only valid values are passed
     * Warn if passed value is invalid
     * @param values Values to check
     * @returns Filtered collection of values
     */
    filterAndWarnInvalidValues(values) {
        const filtered = [];
        values.forEach(value => {
            if (this.isValidValue(value)) {
                value && filtered.push(value);
            }
            else {
                this.warnInvalidValue(value);
            }
        });
        return filtered;
    }
    /**
     * Check if there is a need to reconstruct filters
     * @param changedProperties properties that was changed on first update
     * @returns true if filter needs to be constructed
     */
    shouldConstructFilters(changedProperties) {
        return changedProperties.has('min')
            || changedProperties.has('max')
            || changedProperties.has('weekdaysOnly')
            || changedProperties.has('weekendsOnly')
            || changedProperties.has('filter');
    }
    /**
     * Construct and store a collection of filters
     * First always comes default filters and last custom filters
     * @returns {void}
     */
    constructFilters() {
        const filters = [];
        this.min && filters.push(date => isSameDay(date, this.min) || isAfter(date, this.min));
        this.max && filters.push(date => isSameDay(date, this.max) || isBefore(date, this.max));
        if (this.weekdaysOnly) {
            filters.push(date => !isWeekend(date));
        }
        if (this.weekendsOnly) {
            filters.push(date => isWeekend(date));
        }
        if (this.filter) {
            filters.push(this.filter);
        }
        const filtersLength = filters.length;
        if (filtersLength) {
            this.isDateAvailable = (value) => {
                for (let i = 0; i < filtersLength; i += 1) {
                    if (!filters[i](value)) {
                        return false;
                    }
                }
                return true;
            };
        }
        else {
            this.isDateAvailable = null;
        }
    }
    /**
     * Check if date cell is selected
     * @param value A value to compare
     * @param comparator A comparator to check for selection. Can be day, month or year
     * @returns true if cell is selected
     */
    isDateCellSelected(value, comparator) {
        const values = this._values;
        const valuesLength = values.length;
        for (let i = 0; i < valuesLength; i += 1) {
            if (comparator(value, values[i])) {
                return true;
            }
        }
        return false;
    }
    /**
     * Get cell selection model, which is used to bind values and ranges
     * to cell styles
     * @param value A value to compare
     * @param comparator A comparator to check for selection. Can be day, month or year
     * @returns cell selection model
     */
    getCellSelection(value, comparator) {
        const values = this._values;
        const selected = this.isDateCellSelected(value, comparator);
        const from = values[0];
        const to = values[1];
        if (!this.range || !from || !to) {
            return {
                selected
            };
        }
        const rangeFrom = comparator(value, from);
        const rangeTo = comparator(value, to);
        const range = !rangeFrom && !rangeTo && isAfter(value, from) && isBefore(value, to);
        return {
            selected,
            range,
            rangeFrom,
            rangeTo
        };
    }
    /**
     * Run when next button is tapped.
     * Change current view to next view
     * @returns {void}
     */
    onNextTap() {
        let viewSegment = segmentFromString(this.view);
        switch (this.renderView) {
            case RenderView.DAY:
                viewSegment = segmentFromString(addMonths(this.view, 1));
                break;
            case RenderView.MONTH:
                viewSegment.year += 1;
                break;
            case RenderView.YEAR:
                viewSegment.year += YEARS_PER_YEAR_VIEW;
                break;
            // no default
        }
        this.notifyViewChange(viewSegment);
    }
    /**
     * Run when previous button is tapped.
     * Change current view to previous view
     * @returns {void}
     */
    onPreviousTap() {
        let viewSegment = segmentFromString(this.view);
        switch (this.renderView) {
            case RenderView.DAY:
                viewSegment = segmentFromString(subMonths(this.view, 1));
                break;
            case RenderView.MONTH:
                viewSegment.year -= 1;
                break;
            case RenderView.YEAR:
                viewSegment.year -= YEARS_PER_YEAR_VIEW;
                break;
            // no default
        }
        this.notifyViewChange(viewSegment);
    }
    /**
     * Run when change view button is tapped.
     * Switch between views
     * @returns {void}
     */
    onRenderViewTap() {
        this.renderView = this.renderView === RenderView.DAY ? RenderView.YEAR : RenderView.DAY;
    }
    /**
     * Run when key down event happens on calendar
     * @param event Keyboard event
     * @returns {void}
     */
    onTableKeyDown(event) {
        switch (event.key) {
            case ' ':
            case 'Enter':
            case 'Spacebar':
                event.preventDefault();
                this.onTableTap(event);
                break;
            case 'Esc':
            case 'Escape':
                if (this.renderView === RenderView.YEAR || this.renderView === RenderView.MONTH) {
                    event.preventDefault();
                    this.renderView = RenderView.DAY;
                }
                break;
            // no default
        }
    }
    /**
     * Run when tap event happens ot table.
     * Select the values or switch the view
     * @param event Tap event
     * @returns {void}
     */
    onTableTap(event) {
        const cell = event.target; /* here we just emulate interface */
        if (!cell || !cell.value) {
            return;
        }
        const cellSegment = segmentFromString(cell.value);
        const viewSegment = segmentFromString(this.view);
        if (this.renderView === RenderView.YEAR) { /* YEAR -> MONTH */
            viewSegment.year = cellSegment.year;
            if (this.notifyViewChange(viewSegment)) {
                this.renderView = RenderView.MONTH;
            }
            return;
        }
        if (this.renderView === RenderView.MONTH) { /* MONTH -> DAY */
            viewSegment.year = cellSegment.year;
            viewSegment.month = cellSegment.month;
            if (this.notifyViewChange(viewSegment)) {
                this.renderView = RenderView.DAY;
            }
            return;
        }
        this.onTapSelectValue(cell.value);
    }
    /**
     * Run when tap event happened on DAY view and the cell has the values
     * Try to select/deselect cell value
     * @param value Date string
     * @returns {void}
     */
    onTapSelectValue(value) {
        if (this.readonly || this.disabled) {
            return;
        }
        let values;
        if (this.multiple) {
            values = this.values.filter(oldValue => {
                return oldValue !== value;
            });
            if (this.values.length === values.length) {
                values.push(value);
            }
        }
        else if (this.range) {
            if (!this.values.length) {
                values = [value];
            }
            else if (this.values.length === 1) { /* from is populated */
                const from = this.values[0];
                const to = value;
                if (isAfter(to, from) || isSameDay(to, from)) {
                    values = [this.values[0], value];
                }
                else {
                    values = [value];
                }
            }
            else {
                values = [value];
            }
        }
        else {
            values = [value];
        }
        this.notifyValuesChange(values);
    }
    /**
     * Notify that values array has been changed
     * @param values A collection of string dates
     * @returns {void}
     */
    notifyValuesChange(values) {
        if (this.values.toString() !== values.toString()) {
            this.values = values;
            this.notifyPropertyChange('value', this.value);
        }
    }
    /**
     * Notify that view has been changed
     * @param view Date
     * @returns {void}
     */
    notifyViewChange(view) {
        const viewString = utcFormatToView(view);
        const res = this.notifyPropertyChange('view', viewString, true);
        if (res) {
            this.view = viewString;
        }
        return res;
    }
    /**
     * Localised format for render view
     * @param segment Segment object
     * @param includeMonth True to include a month
     * @returns template result
     */
    viewFormattedDate(segment, includeMonth = false) {
        const year = segment.year;
        const isBC = year <= 0;
        const includeEra = isBC;
        const date = utcDateFromSegment(segment);
        // Unfortunately IE11 does not support date formatting for year <= 0
        // Do manual conversion instead
        if (coral_calendar_isIE && isBC) {
            return lib_elf["k" /* html */] `${formatDate(date, Object(elf_translate["b" /* getLocale */])(this), includeMonth, includeEra)}`;
        }
        return lib_elf["k" /* html */] `${this.t('VIEW_FORMAT', {
            date,
            includeMonth,
            includeEra
        }, ViewFormatTranslateParams)}`;
    }
    /**
     * Get a string representation of current view
     * @returns template result
     */
    get formattedViewRender() {
        const segment = segmentFromString(this.view);
        switch (this.renderView) {
            case RenderView.MONTH:
                return this.viewFormattedDate(segment);
            case RenderView.YEAR:
                const month = segment.month;
                const date = segment.date;
                const fromYear = Math.floor(segment.year / YEARS_PER_YEAR_VIEW) * YEARS_PER_YEAR_VIEW;
                const toYear = fromYear + YEARS_PER_YEAR_VIEW - 1;
                return lib_elf["k" /* html */] `${this.viewFormattedDate({ year: fromYear, month, date })} - ${this.viewFormattedDate({ year: toYear, month, date })}`;
            case RenderView.DAY:
            default:
                return this.viewFormattedDate(segment, true);
        }
    }
    /**
     * Render cell content template.
     * If the cell is selectable (aka has value) add selection part
     * @param text Text to render
     * @param selectable True if cell may be selected
     * @returns template result
     */
    renderContentBox(text = '', selectable = false) {
        return lib_elf["k" /* html */] `<div part="cell-content${selectable ? ' selection' : ''}">${text}</div>`;
    }
    /**
     * Get year view template
     */
    get yearView() {
        const view = RenderView.YEAR;
        const currentYear = segmentFromString(this.view).year;
        const startIdx = Math.floor(currentYear / YEARS_PER_YEAR_VIEW) * YEARS_PER_YEAR_VIEW;
        const years = [];
        const rows = [];
        let cells = [];
        let cell;
        for (let i = 0; i < YEAR_VIEW.totalCount; i += 1) {
            if (i % YEAR_VIEW.columnCount === 0) {
                cells = [];
                rows.push({
                    cells
                });
            }
            const year = startIdx + i;
            const value = utcFormatToValue({ year, month: 0, date: 1 });
            cell = Object.assign({ view, text: year > 0 ? `${year}` : year === 0 ? '1' : `${Math.abs(year - 1)}`, value: `${year}`, now: isThisYear(value) }, this.getCellSelection(value, isSameYear));
            cells.push(cell);
            years.push(cell);
        }
        years[0].firstDate = true;
        years[years.length - 1].lastDate = true;
        return lib_elf["k" /* html */] `${this.renderRows(rows)}`;
    }
    /**
     * Get month view template
     */
    get monthView() {
        const view = RenderView.MONTH;
        const currentYear = segmentFromString(this.view).year;
        const columnCount = MONTH_VIEW.columnCount;
        const monthCount = 12;
        const totalCount = MONTH_VIEW.totalCount;
        const monthsNames = this.monthsNames;
        const before = (totalCount - monthCount) / 2;
        const startIdx = monthCount - before % monthCount;
        const after = before + monthCount;
        const months = [];
        const rows = [];
        let cell;
        let cells = [];
        for (let i = 0; i < totalCount; i += 1) {
            if (i % columnCount === 0) {
                cells = [];
                rows.push({
                    cells
                });
            }
            const month = (startIdx + i) % monthCount; /* 0 for Jan, 11 for Dev */
            const year = currentYear + Math.floor((i - before) / monthCount);
            const segment = { year, month, date: 1 };
            const value = utcFormatToValue(segment);
            const idle = i < before || i >= after;
            cell = Object.assign({ view, text: monthsNames[month], value: utcFormatToView(segment), idle, now: isThisMonth(value) }, this.getCellSelection(value, isSameMonth));
            cells.push(cell);
            months.push(cell);
        }
        months[0].firstDate = true;
        months[months.length - 1].lastDate = true;
        return lib_elf["k" /* html */] `${this.renderRows(rows)}`;
    }
    /**
     * Get day view template
     */
    get dayView() {
        const view = RenderView.DAY;
        const firstDayOfWeek = this.firstDayOfWeek;
        const padding = (7 + utcDateFromString(this.view).getUTCDay() - firstDayOfWeek) % 7;
        const viewMonth = monthInfo(this.view);
        const prevMonth = monthInfo(subMonths(this.view, 1));
        const nextMonth = monthInfo(addMonths(this.view, 1));
        const days = [];
        const rows = [];
        let cells = [];
        let date;
        let month;
        let year;
        // Generate new cells.
        for (let i = 0; i < DAY_VIEW.totalCount; i += 1) {
            if (i % DAY_VIEW.columnCount === 0) {
                cells = [];
                rows.push({
                    cells
                });
            }
            const datePadding = i - padding + 1;
            if (datePadding <= 0) {
                if (!this.fillCells) {
                    cells.push({
                        view
                    });
                    continue;
                }
                date = prevMonth.days + datePadding;
                month = prevMonth.month;
                year = prevMonth.year;
            }
            else if (datePadding > viewMonth.days) {
                if (!this.fillCells) {
                    cells.push({
                        view
                    });
                    continue;
                }
                date = datePadding - viewMonth.days;
                month = nextMonth.month;
                year = nextMonth.year;
            }
            else {
                date = datePadding;
                month = viewMonth.month;
                year = viewMonth.year;
            }
            const value = utcFormatToValue({ year, month, date });
            const disabled = this.isDateAvailable ? !this.isDateAvailable(value) : false;
            const dayCell = Object.assign({ view, text: date.toString(), value,
                disabled, idle: month !== viewMonth.month || year !== viewMonth.year, now: isToday(value) }, this.getCellSelection(value, isSameDay));
            cells.push(dayCell);
            days.push(dayCell);
        }
        days[0].firstDate = true;
        days[days.length - 1].lastDate = true;
        return lib_elf["k" /* html */] `
      ${this.renderWeekdayNames}
      ${this.renderRows(rows)}
    `;
    }
    /**
     * Get weekday names template
     */
    get renderWeekdayNames() {
        return lib_elf["k" /* html */] `
      <div part="row day-name-row">${this.weekdaysNames.map(day => lib_elf["k" /* html */] `<div part="cell day-name">${this.renderContentBox(day)}</div>`)}</div>
    `;
    }
    /**
     * Render a view based on the current render view
     */
    get viewRender() {
        switch (this.renderView) {
            case RenderView.MONTH:
                return this.monthView;
            case RenderView.YEAR:
                return this.yearView;
            case RenderView.DAY:
            default:
                return this.dayView;
        }
    }
    /**
     * Render cell template. Cell can be a day, month or year
     * @param cell Cell object
     * @returns template result
     */
    renderCell(cell) {
        return lib_elf["k" /* html */] `<div
      part="cell ${cell.view}"
      ?disabled=${cell.disabled}
      .value=${cell.value}
      ?idle=${cell.idle}
      ?today=${cell.now}
      ?first-date=${cell.firstDate}
      ?last-date=${cell.lastDate}
      ?selected=${cell.selected}
      ?range=${cell.range}
      ?range-from=${cell.rangeFrom}
      ?range-to=${cell.rangeTo}
      tabindex=${Object(lib_elf["l" /* ifDefined */])(cell.value !== undefined && !cell.disabled ? 0 : undefined)}
     >${this.renderContentBox(cell.text, cell.value !== undefined)}</div>`;
    }
    /**
     * Render view rows
     * @param rows A collection of rows with cells
     * @returns template result
     */
    renderRows(rows) {
        return rows.map(row => lib_elf["k" /* html */] `<div part="row">${row.cells.map(cell => this.renderCell(cell))}</div>`);
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return lib_elf["k" /* html */] `
      <div part="navigation">
        <coral-button
          part="btn-prev"
          icon="left"
          @tap=${this.onPreviousTap}></coral-button>
        <coral-button
          part="btn-view"
          textpos="before"
          .icon="${this.renderView === RenderView.DAY ? 'down' : 'up'}"
          @tap="${this.onRenderViewTap}">${this.formattedViewRender}</coral-button>
        <coral-button
          part="btn-next"
          icon="right"
          @tap=${this.onNextTap}></coral-button>
      </div>
      <div part="table"
        @tap=${this.onTableTap}>${this.viewRender}</div>
      <div part="footer"><slot name="footer"></slot></div>
    `;
    }
};
coral_calendar_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], coral_calendar_CoralCalendar.prototype, "min", null);
coral_calendar_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], coral_calendar_CoralCalendar.prototype, "max", null);
coral_calendar_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, attribute: 'weekdays-only' })
], coral_calendar_CoralCalendar.prototype, "weekdaysOnly", void 0);
coral_calendar_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, attribute: 'weekends-only' })
], coral_calendar_CoralCalendar.prototype, "weekendsOnly", void 0);
coral_calendar_decorate([
    Object(lib_elf["n" /* property */])({ attribute: false })
], coral_calendar_CoralCalendar.prototype, "filter", void 0);
coral_calendar_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], coral_calendar_CoralCalendar.prototype, "view", null);
coral_calendar_decorate([
    Object(lib_elf["n" /* property */])({ type: Number, attribute: 'first-day-of-week' })
], coral_calendar_CoralCalendar.prototype, "firstDayOfWeek", null);
coral_calendar_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_calendar_CoralCalendar.prototype, "range", void 0);
coral_calendar_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], coral_calendar_CoralCalendar.prototype, "multiple", void 0);
coral_calendar_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], coral_calendar_CoralCalendar.prototype, "value", null);
coral_calendar_decorate([
    Object(lib_elf["n" /* property */])({
        converter: {
            fromAttribute: function (value) {
                return value.split(',');
            }
        }
    })
], coral_calendar_CoralCalendar.prototype, "values", null);
coral_calendar_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, attribute: 'fill-cells' })
], coral_calendar_CoralCalendar.prototype, "fillCells", void 0);
coral_calendar_decorate([
    Object(elf_translate["c" /* translate */])({ mode: 'directive', scope: 'coral-calendar' })
], coral_calendar_CoralCalendar.prototype, "t", void 0);
coral_calendar_decorate([
    Object(elf_translate["c" /* translate */])({ mode: 'promise', scope: 'coral-calendar' })
], coral_calendar_CoralCalendar.prototype, "tPromise", void 0);
coral_calendar_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], coral_calendar_CoralCalendar.prototype, "renderView", void 0);
coral_calendar_CoralCalendar = coral_calendar_decorate([
    Object(lib_elf["i" /* customElement */])('coral-calendar')
], coral_calendar_CoralCalendar);


// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/en-US/_lib/formatDistance/index.js
var formatDistanceLocale = {
  lessThanXSeconds: {
    one: 'less than a second',
    other: 'less than {{count}} seconds'
  },
  xSeconds: {
    one: '1 second',
    other: '{{count}} seconds'
  },
  halfAMinute: 'half a minute',
  lessThanXMinutes: {
    one: 'less than a minute',
    other: 'less than {{count}} minutes'
  },
  xMinutes: {
    one: '1 minute',
    other: '{{count}} minutes'
  },
  aboutXHours: {
    one: 'about 1 hour',
    other: 'about {{count}} hours'
  },
  xHours: {
    one: '1 hour',
    other: '{{count}} hours'
  },
  xDays: {
    one: '1 day',
    other: '{{count}} days'
  },
  aboutXWeeks: {
    one: 'about 1 week',
    other: 'about {{count}} weeks'
  },
  xWeeks: {
    one: '1 week',
    other: '{{count}} weeks'
  },
  aboutXMonths: {
    one: 'about 1 month',
    other: 'about {{count}} months'
  },
  xMonths: {
    one: '1 month',
    other: '{{count}} months'
  },
  aboutXYears: {
    one: 'about 1 year',
    other: 'about {{count}} years'
  },
  xYears: {
    one: '1 year',
    other: '{{count}} years'
  },
  overXYears: {
    one: 'over 1 year',
    other: 'over {{count}} years'
  },
  almostXYears: {
    one: 'almost 1 year',
    other: 'almost {{count}} years'
  }
};

var formatDistance = function (token, count, options) {
  var result;
  var tokenValue = formatDistanceLocale[token];

  if (typeof tokenValue === 'string') {
    result = tokenValue;
  } else if (count === 1) {
    result = tokenValue.one;
  } else {
    result = tokenValue.other.replace('{{count}}', count.toString());
  }

  if (options !== null && options !== void 0 && options.addSuffix) {
    if (options.comparison && options.comparison > 0) {
      return 'in ' + result;
    } else {
      return result + ' ago';
    }
  }

  return result;
};

/* harmony default export */ var _lib_formatDistance = (formatDistance);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js
function buildFormatLongFn(args) {
  return function () {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    // TODO: Remove String()
    var width = options.width ? String(options.width) : args.defaultWidth;
    var format = args.formats[width] || args.formats[args.defaultWidth];
    return format;
  };
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/en-US/_lib/formatLong/index.js

var dateFormats = {
  full: 'EEEE, MMMM do, y',
  long: 'MMMM do, y',
  medium: 'MMM d, y',
  short: 'MM/dd/yyyy'
};
var timeFormats = {
  full: 'h:mm:ss a zzzz',
  long: 'h:mm:ss a z',
  medium: 'h:mm:ss a',
  short: 'h:mm a'
};
var dateTimeFormats = {
  full: "{{date}} 'at' {{time}}",
  long: "{{date}} 'at' {{time}}",
  medium: '{{date}}, {{time}}',
  short: '{{date}}, {{time}}'
};
var formatLong = {
  date: buildFormatLongFn({
    formats: dateFormats,
    defaultWidth: 'full'
  }),
  time: buildFormatLongFn({
    formats: timeFormats,
    defaultWidth: 'full'
  }),
  dateTime: buildFormatLongFn({
    formats: dateTimeFormats,
    defaultWidth: 'full'
  })
};
/* harmony default export */ var _lib_formatLong = (formatLong);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/en-US/_lib/formatRelative/index.js
var formatRelativeLocale = {
  lastWeek: "'last' eeee 'at' p",
  yesterday: "'yesterday at' p",
  today: "'today at' p",
  tomorrow: "'tomorrow at' p",
  nextWeek: "eeee 'at' p",
  other: 'P'
};

var formatRelative = function (token, _date, _baseDate, _options) {
  return formatRelativeLocale[token];
};

/* harmony default export */ var _lib_formatRelative = (formatRelative);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js
function buildLocalizeFn(args) {
  return function (dirtyIndex, dirtyOptions) {
    var options = dirtyOptions || {};
    var context = options.context ? String(options.context) : 'standalone';
    var valuesArray;

    if (context === 'formatting' && args.formattingValues) {
      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;
      var width = options.width ? String(options.width) : defaultWidth;
      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];
    } else {
      var _defaultWidth = args.defaultWidth;

      var _width = options.width ? String(options.width) : args.defaultWidth;

      valuesArray = args.values[_width] || args.values[_defaultWidth];
    }

    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex; // @ts-ignore: For some reason TypeScript just don't want to match it, no matter how hard we try. I challange you to try to remove it!

    return valuesArray[index];
  };
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/en-US/_lib/localize/index.js

var eraValues = {
  narrow: ['B', 'A'],
  abbreviated: ['BC', 'AD'],
  wide: ['Before Christ', 'Anno Domini']
};
var quarterValues = {
  narrow: ['1', '2', '3', '4'],
  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],
  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter']
}; // Note: in English, the names of days of the week and months are capitalized.
// If you are making a new locale based on this one, check if the same is true for the language you're working on.
// Generally, formatted dates should look like they are in the middle of a sentence,
// e.g. in Spanish language the weekdays and months should be in the lowercase.

var monthValues = {
  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],
  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']
};
var dayValues = {
  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],
  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']
};
var dayPeriodValues = {
  narrow: {
    am: 'a',
    pm: 'p',
    midnight: 'mi',
    noon: 'n',
    morning: 'morning',
    afternoon: 'afternoon',
    evening: 'evening',
    night: 'night'
  },
  abbreviated: {
    am: 'AM',
    pm: 'PM',
    midnight: 'midnight',
    noon: 'noon',
    morning: 'morning',
    afternoon: 'afternoon',
    evening: 'evening',
    night: 'night'
  },
  wide: {
    am: 'a.m.',
    pm: 'p.m.',
    midnight: 'midnight',
    noon: 'noon',
    morning: 'morning',
    afternoon: 'afternoon',
    evening: 'evening',
    night: 'night'
  }
};
var formattingDayPeriodValues = {
  narrow: {
    am: 'a',
    pm: 'p',
    midnight: 'mi',
    noon: 'n',
    morning: 'in the morning',
    afternoon: 'in the afternoon',
    evening: 'in the evening',
    night: 'at night'
  },
  abbreviated: {
    am: 'AM',
    pm: 'PM',
    midnight: 'midnight',
    noon: 'noon',
    morning: 'in the morning',
    afternoon: 'in the afternoon',
    evening: 'in the evening',
    night: 'at night'
  },
  wide: {
    am: 'a.m.',
    pm: 'p.m.',
    midnight: 'midnight',
    noon: 'noon',
    morning: 'in the morning',
    afternoon: 'in the afternoon',
    evening: 'in the evening',
    night: 'at night'
  }
};

var ordinalNumber = function (dirtyNumber, _options) {
  var number = Number(dirtyNumber); // If ordinal numbers depend on context, for example,
  // if they are different for different grammatical genders,
  // use `options.unit`.
  //
  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',
  // 'day', 'hour', 'minute', 'second'.

  var rem100 = number % 100;

  if (rem100 > 20 || rem100 < 10) {
    switch (rem100 % 10) {
      case 1:
        return number + 'st';

      case 2:
        return number + 'nd';

      case 3:
        return number + 'rd';
    }
  }

  return number + 'th';
};

var localize_localize = {
  ordinalNumber: ordinalNumber,
  era: buildLocalizeFn({
    values: eraValues,
    defaultWidth: 'wide'
  }),
  quarter: buildLocalizeFn({
    values: quarterValues,
    defaultWidth: 'wide',
    argumentCallback: function (quarter) {
      return quarter - 1;
    }
  }),
  month: buildLocalizeFn({
    values: monthValues,
    defaultWidth: 'wide'
  }),
  day: buildLocalizeFn({
    values: dayValues,
    defaultWidth: 'wide'
  }),
  dayPeriod: buildLocalizeFn({
    values: dayPeriodValues,
    defaultWidth: 'wide',
    formattingValues: formattingDayPeriodValues,
    defaultFormattingWidth: 'wide'
  })
};
/* harmony default export */ var _lib_localize = (localize_localize);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js
function buildMatchFn(args) {
  return function (string) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var width = options.width;
    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];
    var matchResult = string.match(matchPattern);

    if (!matchResult) {
      return null;
    }

    var matchedString = matchResult[0];
    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];
    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function (pattern) {
      return pattern.test(matchedString);
    }) : findKey(parsePatterns, function (pattern) {
      return pattern.test(matchedString);
    });
    var value;
    value = args.valueCallback ? args.valueCallback(key) : key;
    value = options.valueCallback ? options.valueCallback(value) : value;
    var rest = string.slice(matchedString.length);
    return {
      value: value,
      rest: rest
    };
  };
}

function findKey(object, predicate) {
  for (var key in object) {
    if (object.hasOwnProperty(key) && predicate(object[key])) {
      return key;
    }
  }

  return undefined;
}

function findIndex(array, predicate) {
  for (var key = 0; key < array.length; key++) {
    if (predicate(array[key])) {
      return key;
    }
  }

  return undefined;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js
function buildMatchPatternFn(args) {
  return function (string) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var matchResult = string.match(args.matchPattern);
    if (!matchResult) return null;
    var matchedString = matchResult[0];
    var parseResult = string.match(args.parsePattern);
    if (!parseResult) return null;
    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];
    value = options.valueCallback ? options.valueCallback(value) : value;
    var rest = string.slice(matchedString.length);
    return {
      value: value,
      rest: rest
    };
  };
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/en-US/_lib/match/index.js


var matchOrdinalNumberPattern = /^(\d+)(th|st|nd|rd)?/i;
var parseOrdinalNumberPattern = /\d+/i;
var matchEraPatterns = {
  narrow: /^(b|a)/i,
  abbreviated: /^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,
  wide: /^(before christ|before common era|anno domini|common era)/i
};
var parseEraPatterns = {
  any: [/^b/i, /^(a|c)/i]
};
var matchQuarterPatterns = {
  narrow: /^[1234]/i,
  abbreviated: /^q[1234]/i,
  wide: /^[1234](th|st|nd|rd)? quarter/i
};
var parseQuarterPatterns = {
  any: [/1/i, /2/i, /3/i, /4/i]
};
var matchMonthPatterns = {
  narrow: /^[jfmasond]/i,
  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,
  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i
};
var parseMonthPatterns = {
  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],
  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]
};
var matchDayPatterns = {
  narrow: /^[smtwf]/i,
  short: /^(su|mo|tu|we|th|fr|sa)/i,
  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,
  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i
};
var parseDayPatterns = {
  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],
  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]
};
var matchDayPeriodPatterns = {
  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,
  any: /^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i
};
var parseDayPeriodPatterns = {
  any: {
    am: /^a/i,
    pm: /^p/i,
    midnight: /^mi/i,
    noon: /^no/i,
    morning: /morning/i,
    afternoon: /afternoon/i,
    evening: /evening/i,
    night: /night/i
  }
};
var match = {
  ordinalNumber: buildMatchPatternFn({
    matchPattern: matchOrdinalNumberPattern,
    parsePattern: parseOrdinalNumberPattern,
    valueCallback: function (value) {
      return parseInt(value, 10);
    }
  }),
  era: buildMatchFn({
    matchPatterns: matchEraPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: parseEraPatterns,
    defaultParseWidth: 'any'
  }),
  quarter: buildMatchFn({
    matchPatterns: matchQuarterPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: parseQuarterPatterns,
    defaultParseWidth: 'any',
    valueCallback: function (index) {
      return index + 1;
    }
  }),
  month: buildMatchFn({
    matchPatterns: matchMonthPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: parseMonthPatterns,
    defaultParseWidth: 'any'
  }),
  day: buildMatchFn({
    matchPatterns: matchDayPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: parseDayPatterns,
    defaultParseWidth: 'any'
  }),
  dayPeriod: buildMatchFn({
    matchPatterns: matchDayPeriodPatterns,
    defaultMatchWidth: 'any',
    parsePatterns: parseDayPeriodPatterns,
    defaultParseWidth: 'any'
  })
};
/* harmony default export */ var _lib_match = (match);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/en-US/index.js






/**
 * @type {Locale}
 * @category Locales
 * @summary English locale (United States).
 * @language English
 * @iso-639-2 eng
 * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}
 * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}
 */
var en_US_locale = {
  code: 'en-US',
  formatDistance: _lib_formatDistance,
  formatLong: _lib_formatLong,
  formatRelative: _lib_formatRelative,
  localize: _lib_localize,
  match: _lib_match,
  options: {
    weekStartsOn: 0
    /* Sunday */
    ,
    firstWeekContainsDate: 1
  }
};
/* harmony default export */ var en_US = (en_US_locale);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/en-GB/_lib/formatLong/index.js

var formatLong_dateFormats = {
  full: 'EEEE, d MMMM yyyy',
  long: 'd MMMM yyyy',
  medium: 'd MMM yyyy',
  short: 'dd/MM/yyyy'
};
var formatLong_timeFormats = {
  full: 'HH:mm:ss zzzz',
  long: 'HH:mm:ss z',
  medium: 'HH:mm:ss',
  short: 'HH:mm'
};
var formatLong_dateTimeFormats = {
  full: "{{date}} 'at' {{time}}",
  long: "{{date}} 'at' {{time}}",
  medium: '{{date}}, {{time}}',
  short: '{{date}}, {{time}}'
};
var formatLong_formatLong = {
  date: buildFormatLongFn({
    formats: formatLong_dateFormats,
    defaultWidth: 'full'
  }),
  time: buildFormatLongFn({
    formats: formatLong_timeFormats,
    defaultWidth: 'full'
  }),
  dateTime: buildFormatLongFn({
    formats: formatLong_dateTimeFormats,
    defaultWidth: 'full'
  })
};
/* harmony default export */ var en_GB_lib_formatLong = (formatLong_formatLong);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/en-GB/index.js





/**
 * @type {Locale}
 * @category Locales
 * @summary English locale (United Kingdom).
 * @language English
 * @iso-639-2 eng
 * @author Alex [@glintik]{@link https://github.com/glintik}
 */

var en_GB_locale = {
  code: 'en-GB',
  formatDistance: _lib_formatDistance,
  formatLong: en_GB_lib_formatLong,
  formatRelative: _lib_formatRelative,
  localize: _lib_localize,
  match: _lib_match,
  options: {
    weekStartsOn: 1
    /* Monday */
    ,
    firstWeekContainsDate: 4
  }
};
/* harmony default export */ var en_GB = (en_GB_locale);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/de/_lib/formatDistance/index.js
var formatDistance_formatDistanceLocale = {
  lessThanXSeconds: {
    standalone: {
      one: 'weniger als 1 Sekunde',
      other: 'weniger als {{count}} Sekunden'
    },
    withPreposition: {
      one: 'weniger als 1 Sekunde',
      other: 'weniger als {{count}} Sekunden'
    }
  },
  xSeconds: {
    standalone: {
      one: '1 Sekunde',
      other: '{{count}} Sekunden'
    },
    withPreposition: {
      one: '1 Sekunde',
      other: '{{count}} Sekunden'
    }
  },
  halfAMinute: {
    standalone: 'halbe Minute',
    withPreposition: 'halben Minute'
  },
  lessThanXMinutes: {
    standalone: {
      one: 'weniger als 1 Minute',
      other: 'weniger als {{count}} Minuten'
    },
    withPreposition: {
      one: 'weniger als 1 Minute',
      other: 'weniger als {{count}} Minuten'
    }
  },
  xMinutes: {
    standalone: {
      one: '1 Minute',
      other: '{{count}} Minuten'
    },
    withPreposition: {
      one: '1 Minute',
      other: '{{count}} Minuten'
    }
  },
  aboutXHours: {
    standalone: {
      one: 'etwa 1 Stunde',
      other: 'etwa {{count}} Stunden'
    },
    withPreposition: {
      one: 'etwa 1 Stunde',
      other: 'etwa {{count}} Stunden'
    }
  },
  xHours: {
    standalone: {
      one: '1 Stunde',
      other: '{{count}} Stunden'
    },
    withPreposition: {
      one: '1 Stunde',
      other: '{{count}} Stunden'
    }
  },
  xDays: {
    standalone: {
      one: '1 Tag',
      other: '{{count}} Tage'
    },
    withPreposition: {
      one: '1 Tag',
      other: '{{count}} Tagen'
    }
  },
  aboutXWeeks: {
    standalone: {
      one: 'etwa 1 Woche',
      other: 'etwa {{count}} Wochen'
    },
    withPreposition: {
      one: 'etwa 1 Woche',
      other: 'etwa {{count}} Wochen'
    }
  },
  xWeeks: {
    standalone: {
      one: '1 Woche',
      other: '{{count}} Wochen'
    },
    withPreposition: {
      one: '1 Woche',
      other: '{{count}} Wochen'
    }
  },
  aboutXMonths: {
    standalone: {
      one: 'etwa 1 Monat',
      other: 'etwa {{count}} Monate'
    },
    withPreposition: {
      one: 'etwa 1 Monat',
      other: 'etwa {{count}} Monaten'
    }
  },
  xMonths: {
    standalone: {
      one: '1 Monat',
      other: '{{count}} Monate'
    },
    withPreposition: {
      one: '1 Monat',
      other: '{{count}} Monaten'
    }
  },
  aboutXYears: {
    standalone: {
      one: 'etwa 1 Jahr',
      other: 'etwa {{count}} Jahre'
    },
    withPreposition: {
      one: 'etwa 1 Jahr',
      other: 'etwa {{count}} Jahren'
    }
  },
  xYears: {
    standalone: {
      one: '1 Jahr',
      other: '{{count}} Jahre'
    },
    withPreposition: {
      one: '1 Jahr',
      other: '{{count}} Jahren'
    }
  },
  overXYears: {
    standalone: {
      one: 'mehr als 1 Jahr',
      other: 'mehr als {{count}} Jahre'
    },
    withPreposition: {
      one: 'mehr als 1 Jahr',
      other: 'mehr als {{count}} Jahren'
    }
  },
  almostXYears: {
    standalone: {
      one: 'fast 1 Jahr',
      other: 'fast {{count}} Jahre'
    },
    withPreposition: {
      one: 'fast 1 Jahr',
      other: 'fast {{count}} Jahren'
    }
  }
};

var formatDistance_formatDistance = function (token, count, options) {
  var result;
  var tokenValue = options !== null && options !== void 0 && options.addSuffix ? formatDistance_formatDistanceLocale[token].withPreposition : formatDistance_formatDistanceLocale[token].standalone;

  if (typeof tokenValue === 'string') {
    result = tokenValue;
  } else if (count === 1) {
    result = tokenValue.one;
  } else {
    result = tokenValue.other.replace('{{count}}', String(count));
  }

  if (options !== null && options !== void 0 && options.addSuffix) {
    if (options.comparison && options.comparison > 0) {
      return 'in ' + result;
    } else {
      return 'vor ' + result;
    }
  }

  return result;
};

/* harmony default export */ var de_lib_formatDistance = (formatDistance_formatDistance);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/de/_lib/formatLong/index.js

// DIN 5008: https://de.wikipedia.org/wiki/Datumsformat#DIN_5008
var _lib_formatLong_dateFormats = {
  full: 'EEEE, do MMMM y',
  // Montag, 7. Januar 2018
  long: 'do MMMM y',
  // 7. Januar 2018
  medium: 'do MMM y',
  // 7. Jan. 2018
  short: 'dd.MM.y' // 07.01.2018

};
var _lib_formatLong_timeFormats = {
  full: 'HH:mm:ss zzzz',
  long: 'HH:mm:ss z',
  medium: 'HH:mm:ss',
  short: 'HH:mm'
};
var _lib_formatLong_dateTimeFormats = {
  full: "{{date}} 'um' {{time}}",
  long: "{{date}} 'um' {{time}}",
  medium: '{{date}} {{time}}',
  short: '{{date}} {{time}}'
};
var _lib_formatLong_formatLong = {
  date: buildFormatLongFn({
    formats: _lib_formatLong_dateFormats,
    defaultWidth: 'full'
  }),
  time: buildFormatLongFn({
    formats: _lib_formatLong_timeFormats,
    defaultWidth: 'full'
  }),
  dateTime: buildFormatLongFn({
    formats: _lib_formatLong_dateTimeFormats,
    defaultWidth: 'full'
  })
};
/* harmony default export */ var de_lib_formatLong = (_lib_formatLong_formatLong);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/de/_lib/formatRelative/index.js
var formatRelative_formatRelativeLocale = {
  lastWeek: "'letzten' eeee 'um' p",
  yesterday: "'gestern um' p",
  today: "'heute um' p",
  tomorrow: "'morgen um' p",
  nextWeek: "eeee 'um' p",
  other: 'P'
};

var formatRelative_formatRelative = function (token, _date, _baseDate, _options) {
  return formatRelative_formatRelativeLocale[token];
};

/* harmony default export */ var de_lib_formatRelative = (formatRelative_formatRelative);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/de/_lib/localize/index.js

var localize_eraValues = {
  narrow: ['v.Chr.', 'n.Chr.'],
  abbreviated: ['v.Chr.', 'n.Chr.'],
  wide: ['vor Christus', 'nach Christus']
};
var localize_quarterValues = {
  narrow: ['1', '2', '3', '4'],
  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],
  wide: ['1. Quartal', '2. Quartal', '3. Quartal', '4. Quartal']
}; // Note: in German, the names of days of the week and months are capitalized.
// If you are making a new locale based on this one, check if the same is true for the language you're working on.
// Generally, formatted dates should look like they are in the middle of a sentence,
// e.g. in Spanish language the weekdays and months should be in the lowercase.

var localize_monthValues = {
  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],
  abbreviated: ['Jan', 'Feb', 'Mr', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],
  wide: ['Januar', 'Februar', 'Mrz', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember']
}; // https://st.unicode.org/cldr-apps/v#/de/Gregorian/

var formattingMonthValues = {
  narrow: localize_monthValues.narrow,
  abbreviated: ['Jan.', 'Feb.', 'Mrz', 'Apr.', 'Mai', 'Juni', 'Juli', 'Aug.', 'Sep.', 'Okt.', 'Nov.', 'Dez.'],
  wide: localize_monthValues.wide
};
var localize_dayValues = {
  narrow: ['S', 'M', 'D', 'M', 'D', 'F', 'S'],
  short: ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
  abbreviated: ['So.', 'Mo.', 'Di.', 'Mi.', 'Do.', 'Fr.', 'Sa.'],
  wide: ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag']
}; // https://www.unicode.org/cldr/charts/32/summary/de.html#1881

var localize_dayPeriodValues = {
  narrow: {
    am: 'vm.',
    pm: 'nm.',
    midnight: 'Mitternacht',
    noon: 'Mittag',
    morning: 'Morgen',
    afternoon: 'Nachm.',
    evening: 'Abend',
    night: 'Nacht'
  },
  abbreviated: {
    am: 'vorm.',
    pm: 'nachm.',
    midnight: 'Mitternacht',
    noon: 'Mittag',
    morning: 'Morgen',
    afternoon: 'Nachmittag',
    evening: 'Abend',
    night: 'Nacht'
  },
  wide: {
    am: 'vormittags',
    pm: 'nachmittags',
    midnight: 'Mitternacht',
    noon: 'Mittag',
    morning: 'Morgen',
    afternoon: 'Nachmittag',
    evening: 'Abend',
    night: 'Nacht'
  }
};
var localize_formattingDayPeriodValues = {
  narrow: {
    am: 'vm.',
    pm: 'nm.',
    midnight: 'Mitternacht',
    noon: 'Mittag',
    morning: 'morgens',
    afternoon: 'nachm.',
    evening: 'abends',
    night: 'nachts'
  },
  abbreviated: {
    am: 'vorm.',
    pm: 'nachm.',
    midnight: 'Mitternacht',
    noon: 'Mittag',
    morning: 'morgens',
    afternoon: 'nachmittags',
    evening: 'abends',
    night: 'nachts'
  },
  wide: {
    am: 'vormittags',
    pm: 'nachmittags',
    midnight: 'Mitternacht',
    noon: 'Mittag',
    morning: 'morgens',
    afternoon: 'nachmittags',
    evening: 'abends',
    night: 'nachts'
  }
};

var localize_ordinalNumber = function (dirtyNumber) {
  var number = Number(dirtyNumber);
  return number + '.';
};

var _lib_localize_localize = {
  ordinalNumber: localize_ordinalNumber,
  era: buildLocalizeFn({
    values: localize_eraValues,
    defaultWidth: 'wide'
  }),
  quarter: buildLocalizeFn({
    values: localize_quarterValues,
    defaultWidth: 'wide',
    argumentCallback: function (quarter) {
      return quarter - 1;
    }
  }),
  month: buildLocalizeFn({
    values: localize_monthValues,
    formattingValues: formattingMonthValues,
    defaultWidth: 'wide'
  }),
  day: buildLocalizeFn({
    values: localize_dayValues,
    defaultWidth: 'wide'
  }),
  dayPeriod: buildLocalizeFn({
    values: localize_dayPeriodValues,
    defaultWidth: 'wide',
    formattingValues: localize_formattingDayPeriodValues,
    defaultFormattingWidth: 'wide'
  })
};
/* harmony default export */ var de_lib_localize = (_lib_localize_localize);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/de/_lib/match/index.js


var match_matchOrdinalNumberPattern = /^(\d+)(\.)?/i;
var match_parseOrdinalNumberPattern = /\d+/i;
var match_matchEraPatterns = {
  narrow: /^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,
  abbreviated: /^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,
  wide: /^(vor Christus|vor unserer Zeitrechnung|nach Christus|unserer Zeitrechnung)/i
};
var match_parseEraPatterns = {
  any: [/^v/i, /^n/i]
};
var match_matchQuarterPatterns = {
  narrow: /^[1234]/i,
  abbreviated: /^q[1234]/i,
  wide: /^[1234](\.)? Quartal/i
};
var match_parseQuarterPatterns = {
  any: [/1/i, /2/i, /3/i, /4/i]
};
var match_matchMonthPatterns = {
  narrow: /^[jfmasond]/i,
  abbreviated: /^(j[a]n|feb|mr[z]?|apr|mai|jun[i]?|jul[i]?|aug|sep|okt|nov|dez)\.?/i,
  wide: /^(januar|februar|mrz|april|mai|juni|juli|august|september|oktober|november|dezember)/i
};
var match_parseMonthPatterns = {
  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],
  any: [/^j[a]/i, /^f/i, /^mr/i, /^ap/i, /^mai/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]
};
var match_matchDayPatterns = {
  narrow: /^[smdmf]/i,
  short: /^(so|mo|di|mi|do|fr|sa)/i,
  abbreviated: /^(son?|mon?|die?|mit?|don?|fre?|sam?)\.?/i,
  wide: /^(sonntag|montag|dienstag|mittwoch|donnerstag|freitag|samstag)/i
};
var match_parseDayPatterns = {
  any: [/^so/i, /^mo/i, /^di/i, /^mi/i, /^do/i, /^f/i, /^sa/i]
};
var match_matchDayPeriodPatterns = {
  narrow: /^(vm\.?|nm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,
  abbreviated: /^(vorm\.?|nachm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,
  wide: /^(vormittags|nachmittags|Mitternacht|Mittag|morgens|nachmittags|abends|nachts)/i
};
var match_parseDayPeriodPatterns = {
  any: {
    am: /^v/i,
    pm: /^n/i,
    midnight: /^Mitte/i,
    noon: /^Mitta/i,
    morning: /morgens/i,
    afternoon: /nachmittags/i,
    // will never be matched. Afternoon is matched by `pm`
    evening: /abends/i,
    night: /nachts/i // will never be matched. Night is matched by `pm`

  }
};
var match_match = {
  ordinalNumber: buildMatchPatternFn({
    matchPattern: match_matchOrdinalNumberPattern,
    parsePattern: match_parseOrdinalNumberPattern,
    valueCallback: function (value) {
      return parseInt(value);
    }
  }),
  era: buildMatchFn({
    matchPatterns: match_matchEraPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: match_parseEraPatterns,
    defaultParseWidth: 'any'
  }),
  quarter: buildMatchFn({
    matchPatterns: match_matchQuarterPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: match_parseQuarterPatterns,
    defaultParseWidth: 'any',
    valueCallback: function (index) {
      return index + 1;
    }
  }),
  month: buildMatchFn({
    matchPatterns: match_matchMonthPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: match_parseMonthPatterns,
    defaultParseWidth: 'any'
  }),
  day: buildMatchFn({
    matchPatterns: match_matchDayPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: match_parseDayPatterns,
    defaultParseWidth: 'any'
  }),
  dayPeriod: buildMatchFn({
    matchPatterns: match_matchDayPeriodPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: match_parseDayPeriodPatterns,
    defaultParseWidth: 'any'
  })
};
/* harmony default export */ var de_lib_match = (match_match);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/de/index.js






/**
 * @type {Locale}
 * @category Locales
 * @summary German locale.
 * @language German
 * @iso-639-2 deu
 * @author Thomas Eilmsteiner [@DeMuu]{@link https://github.com/DeMuu}
 * @author Asia [@asia-t]{@link https://github.com/asia-t}
 * @author Van Vuong Ngo [@vanvuongngo]{@link https://github.com/vanvuongngo}
 * @author RomanErnst [@pex]{@link https://github.com/pex}
 * @author Philipp Keck [@Philipp91]{@link https://github.com/Philipp91}
 */
var de_locale = {
  code: 'de',
  formatDistance: de_lib_formatDistance,
  formatLong: de_lib_formatLong,
  formatRelative: de_lib_formatRelative,
  localize: de_lib_localize,
  match: de_lib_match,
  options: {
    weekStartsOn: 1
    /* Monday */
    ,
    firstWeekContainsDate: 4
  }
};
/* harmony default export */ var locale_de = (de_locale);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/es/_lib/formatDistance/index.js
var _lib_formatDistance_formatDistanceLocale = {
  lessThanXSeconds: {
    one: 'menos de un segundo',
    other: 'menos de {{count}} segundos'
  },
  xSeconds: {
    one: '1 segundo',
    other: '{{count}} segundos'
  },
  halfAMinute: 'medio minuto',
  lessThanXMinutes: {
    one: 'menos de un minuto',
    other: 'menos de {{count}} minutos'
  },
  xMinutes: {
    one: '1 minuto',
    other: '{{count}} minutos'
  },
  aboutXHours: {
    one: 'alrededor de 1 hora',
    other: 'alrededor de {{count}} horas'
  },
  xHours: {
    one: '1 hora',
    other: '{{count}} horas'
  },
  xDays: {
    one: '1 da',
    other: '{{count}} das'
  },
  aboutXWeeks: {
    one: 'alrededor de 1 semana',
    other: 'alrededor de {{count}} semanas'
  },
  xWeeks: {
    one: '1 semana',
    other: '{{count}} semanas'
  },
  aboutXMonths: {
    one: 'alrededor de 1 mes',
    other: 'alrededor de {{count}} meses'
  },
  xMonths: {
    one: '1 mes',
    other: '{{count}} meses'
  },
  aboutXYears: {
    one: 'alrededor de 1 ao',
    other: 'alrededor de {{count}} aos'
  },
  xYears: {
    one: '1 ao',
    other: '{{count}} aos'
  },
  overXYears: {
    one: 'ms de 1 ao',
    other: 'ms de {{count}} aos'
  },
  almostXYears: {
    one: 'casi 1 ao',
    other: 'casi {{count}} aos'
  }
};
function _lib_formatDistance_formatDistance(token, count, options) {
  options = options || {};
  var result;

  if (typeof _lib_formatDistance_formatDistanceLocale[token] === 'string') {
    result = _lib_formatDistance_formatDistanceLocale[token];
  } else if (count === 1) {
    result = _lib_formatDistance_formatDistanceLocale[token].one;
  } else {
    result = _lib_formatDistance_formatDistanceLocale[token].other.replace('{{count}}', count);
  }

  if (options.addSuffix) {
    if (options.comparison > 0) {
      return 'en ' + result;
    } else {
      return 'hace ' + result;
    }
  }

  return result;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/es/_lib/formatLong/index.js

var es_lib_formatLong_dateFormats = {
  full: "EEEE, d 'de' MMMM 'de' y",
  long: "d 'de' MMMM 'de' y",
  medium: 'd MMM y',
  short: 'dd/MM/y'
};
var es_lib_formatLong_timeFormats = {
  full: 'HH:mm:ss zzzz',
  long: 'HH:mm:ss z',
  medium: 'HH:mm:ss',
  short: 'HH:mm'
};
var es_lib_formatLong_dateTimeFormats = {
  full: "{{date}} 'a las' {{time}}",
  long: "{{date}} 'a las' {{time}}",
  medium: '{{date}}, {{time}}',
  short: '{{date}}, {{time}}'
};
var es_lib_formatLong_formatLong = {
  date: buildFormatLongFn({
    formats: es_lib_formatLong_dateFormats,
    defaultWidth: 'full'
  }),
  time: buildFormatLongFn({
    formats: es_lib_formatLong_timeFormats,
    defaultWidth: 'full'
  }),
  dateTime: buildFormatLongFn({
    formats: es_lib_formatLong_dateTimeFormats,
    defaultWidth: 'full'
  })
};
/* harmony default export */ var es_lib_formatLong = (es_lib_formatLong_formatLong);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/es/_lib/formatRelative/index.js
var _lib_formatRelative_formatRelativeLocale = {
  lastWeek: "'el' eeee 'pasado a la' LT",
  yesterday: "'ayer a la' p",
  today: "'hoy a la' p",
  tomorrow: "'maana a la' p",
  nextWeek: "eeee 'a la' p",
  other: 'P'
};
var formatRelativeLocalePlural = {
  lastWeek: "'el' eeee 'pasado a las' p",
  yesterday: "'ayer a las' p",
  today: "'hoy a las' p",
  tomorrow: "'maana a las' p",
  nextWeek: "eeee 'a las' p",
  other: 'P'
};
function _lib_formatRelative_formatRelative(token, date, _baseDate, _options) {
  if (date.getUTCHours() !== 1) {
    return formatRelativeLocalePlural[token];
  }

  return _lib_formatRelative_formatRelativeLocale[token];
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/es/_lib/localize/index.js

var _lib_localize_eraValues = {
  narrow: ['AC', 'DC'],
  abbreviated: ['AC', 'DC'],
  wide: ['antes de cristo', 'despus de cristo']
};
var _lib_localize_quarterValues = {
  narrow: ['1', '2', '3', '4'],
  abbreviated: ['T1', 'T2', 'T3', 'T4'],
  wide: ['1 trimestre', '2 trimestre', '3 trimestre', '4 trimestre']
};
var _lib_localize_monthValues = {
  narrow: ['e', 'f', 'm', 'a', 'm', 'j', 'j', 'a', 's', 'o', 'n', 'd'],
  abbreviated: ['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic'],
  wide: ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre']
};
var _lib_localize_dayValues = {
  narrow: ['d', 'l', 'm', 'm', 'j', 'v', 's'],
  short: ['do', 'lu', 'ma', 'mi', 'ju', 'vi', 'sa'],
  abbreviated: ['dom', 'lun', 'mar', 'mi', 'jue', 'vie', 'sb'],
  wide: ['domingo', 'lunes', 'martes', 'mircoles', 'jueves', 'viernes', 'sbado']
};
var _lib_localize_dayPeriodValues = {
  narrow: {
    am: 'a',
    pm: 'p',
    midnight: 'mn',
    noon: 'md',
    morning: 'maana',
    afternoon: 'tarde',
    evening: 'tarde',
    night: 'noche'
  },
  abbreviated: {
    am: 'AM',
    pm: 'PM',
    midnight: 'medianoche',
    noon: 'mediodia',
    morning: 'maana',
    afternoon: 'tarde',
    evening: 'tarde',
    night: 'noche'
  },
  wide: {
    am: 'a.m.',
    pm: 'p.m.',
    midnight: 'medianoche',
    noon: 'mediodia',
    morning: 'maana',
    afternoon: 'tarde',
    evening: 'tarde',
    night: 'noche'
  }
};
var _lib_localize_formattingDayPeriodValues = {
  narrow: {
    am: 'a',
    pm: 'p',
    midnight: 'mn',
    noon: 'md',
    morning: 'de la maana',
    afternoon: 'de la tarde',
    evening: 'de la tarde',
    night: 'de la noche'
  },
  abbreviated: {
    am: 'AM',
    pm: 'PM',
    midnight: 'medianoche',
    noon: 'mediodia',
    morning: 'de la maana',
    afternoon: 'de la tarde',
    evening: 'de la tarde',
    night: 'de la noche'
  },
  wide: {
    am: 'a.m.',
    pm: 'p.m.',
    midnight: 'medianoche',
    noon: 'mediodia',
    morning: 'de la maana',
    afternoon: 'de la tarde',
    evening: 'de la tarde',
    night: 'de la noche'
  }
};

function _lib_localize_ordinalNumber(dirtyNumber) {
  var number = Number(dirtyNumber);
  return number + '';
}

var es_lib_localize_localize = {
  ordinalNumber: _lib_localize_ordinalNumber,
  era: buildLocalizeFn({
    values: _lib_localize_eraValues,
    defaultWidth: 'wide'
  }),
  quarter: buildLocalizeFn({
    values: _lib_localize_quarterValues,
    defaultWidth: 'wide',
    argumentCallback: function (quarter) {
      return Number(quarter) - 1;
    }
  }),
  month: buildLocalizeFn({
    values: _lib_localize_monthValues,
    defaultWidth: 'wide'
  }),
  day: buildLocalizeFn({
    values: _lib_localize_dayValues,
    defaultWidth: 'wide'
  }),
  dayPeriod: buildLocalizeFn({
    values: _lib_localize_dayPeriodValues,
    defaultWidth: 'wide',
    formattingValues: _lib_localize_formattingDayPeriodValues,
    defaultFormattingWidth: 'wide'
  })
};
/* harmony default export */ var es_lib_localize = (es_lib_localize_localize);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/es/_lib/match/index.js


var _lib_match_matchOrdinalNumberPattern = /^(\d+)()?/i;
var _lib_match_parseOrdinalNumberPattern = /\d+/i;
var _lib_match_matchEraPatterns = {
  narrow: /^(ac|dc|a|d)/i,
  abbreviated: /^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,
  wide: /^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i
};
var _lib_match_parseEraPatterns = {
  any: [/^ac/i, /^dc/i],
  wide: [/^(antes de cristo|antes de la era com[u]n)/i, /^(despu[e]s de cristo|era com[u]n)/i]
};
var _lib_match_matchQuarterPatterns = {
  narrow: /^[1234]/i,
  abbreviated: /^T[1234]/i,
  wide: /^[1234]()? trimestre/i
};
var _lib_match_parseQuarterPatterns = {
  any: [/1/i, /2/i, /3/i, /4/i]
};
var _lib_match_matchMonthPatterns = {
  narrow: /^[efmajsond]/i,
  abbreviated: /^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,
  wide: /^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i
};
var _lib_match_parseMonthPatterns = {
  narrow: [/^e/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],
  any: [/^en/i, /^feb/i, /^mar/i, /^abr/i, /^may/i, /^jun/i, /^jul/i, /^ago/i, /^sep/i, /^oct/i, /^nov/i, /^dic/i]
};
var _lib_match_matchDayPatterns = {
  narrow: /^[dlmjvs]/i,
  short: /^(do|lu|ma|mi|ju|vi|sa)/i,
  abbreviated: /^(dom|lun|mar|mie|jue|vie|sab)/i,
  wide: /^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i
};
var _lib_match_parseDayPatterns = {
  narrow: [/^d/i, /^l/i, /^m/i, /^m/i, /^j/i, /^v/i, /^s/i],
  any: [/^do/i, /^lu/i, /^ma/i, /^mi/i, /^ju/i, /^vi/i, /^sa/i]
};
var _lib_match_matchDayPeriodPatterns = {
  narrow: /^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,
  any: /^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i
};
var _lib_match_parseDayPeriodPatterns = {
  any: {
    am: /^a/i,
    pm: /^p/i,
    midnight: /^mn/i,
    noon: /^md/i,
    morning: /maana/i,
    afternoon: /tarde/i,
    evening: /tarde/i,
    night: /noche/i
  }
};
var _lib_match_match = {
  ordinalNumber: buildMatchPatternFn({
    matchPattern: _lib_match_matchOrdinalNumberPattern,
    parsePattern: _lib_match_parseOrdinalNumberPattern,
    valueCallback: function (value) {
      return parseInt(value, 10);
    }
  }),
  era: buildMatchFn({
    matchPatterns: _lib_match_matchEraPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: _lib_match_parseEraPatterns,
    defaultParseWidth: 'any'
  }),
  quarter: buildMatchFn({
    matchPatterns: _lib_match_matchQuarterPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: _lib_match_parseQuarterPatterns,
    defaultParseWidth: 'any',
    valueCallback: function (index) {
      return index + 1;
    }
  }),
  month: buildMatchFn({
    matchPatterns: _lib_match_matchMonthPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: _lib_match_parseMonthPatterns,
    defaultParseWidth: 'any'
  }),
  day: buildMatchFn({
    matchPatterns: _lib_match_matchDayPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: _lib_match_parseDayPatterns,
    defaultParseWidth: 'any'
  }),
  dayPeriod: buildMatchFn({
    matchPatterns: _lib_match_matchDayPeriodPatterns,
    defaultMatchWidth: 'any',
    parsePatterns: _lib_match_parseDayPeriodPatterns,
    defaultParseWidth: 'any'
  })
};
/* harmony default export */ var es_lib_match = (_lib_match_match);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/es/index.js





/**
 * @type {Locale}
 * @category Locales
 * @summary Spanish locale.
 * @language Spanish
 * @iso-639-2 spa
 * @author Juan Angosto [@juanangosto]{@link https://github.com/juanangosto}
 * @author Guillermo Grau [@guigrpa]{@link https://github.com/guigrpa}
 * @author Fernando Agero [@fjaguero]{@link https://github.com/fjaguero}
 * @author Gastn Haro [@harogaston]{@link https://github.com/harogaston}
 * @author Yago Carballo [@YagoCarballo]{@link https://github.com/YagoCarballo}
 */

var es_locale = {
  code: 'es',
  formatDistance: _lib_formatDistance_formatDistance,
  formatLong: es_lib_formatLong,
  formatRelative: _lib_formatRelative_formatRelative,
  localize: es_lib_localize,
  match: es_lib_match,
  options: {
    weekStartsOn: 1
    /* Monday */
    ,
    firstWeekContainsDate: 1
  }
};
/* harmony default export */ var locale_es = (es_locale);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/fr/_lib/formatDistance/index.js
var fr_lib_formatDistance_formatDistanceLocale = {
  lessThanXSeconds: {
    one: 'moins dune seconde',
    other: 'moins de {{count}} secondes'
  },
  xSeconds: {
    one: '1 seconde',
    other: '{{count}} secondes'
  },
  halfAMinute: '30 secondes',
  lessThanXMinutes: {
    one: 'moins dune minute',
    other: 'moins de {{count}} minutes'
  },
  xMinutes: {
    one: '1 minute',
    other: '{{count}} minutes'
  },
  aboutXHours: {
    one: 'environ 1 heure',
    other: 'environ {{count}} heures'
  },
  xHours: {
    one: '1 heure',
    other: '{{count}} heures'
  },
  xDays: {
    one: '1 jour',
    other: '{{count}} jours'
  },
  aboutXWeeks: {
    one: 'environ 1 semaine',
    other: 'environ {{count}} semaines'
  },
  xWeeks: {
    one: '1 semaine',
    other: '{{count}} semaines'
  },
  aboutXMonths: {
    one: 'environ 1 mois',
    other: 'environ {{count}} mois'
  },
  xMonths: {
    one: '1 mois',
    other: '{{count}} mois'
  },
  aboutXYears: {
    one: 'environ 1 an',
    other: 'environ {{count}} ans'
  },
  xYears: {
    one: '1 an',
    other: '{{count}} ans'
  },
  overXYears: {
    one: 'plus dun an',
    other: 'plus de {{count}} ans'
  },
  almostXYears: {
    one: 'presquun an',
    other: 'presque {{count}} ans'
  }
};
function fr_lib_formatDistance_formatDistance(token, count, options) {
  options = options || {};
  var result;

  if (typeof fr_lib_formatDistance_formatDistanceLocale[token] === 'string') {
    result = fr_lib_formatDistance_formatDistanceLocale[token];
  } else if (count === 1) {
    result = fr_lib_formatDistance_formatDistanceLocale[token].one;
  } else {
    result = fr_lib_formatDistance_formatDistanceLocale[token].other.replace('{{count}}', count);
  }

  if (options.addSuffix) {
    if (options.comparison > 0) {
      return 'dans ' + result;
    } else {
      return 'il y a ' + result;
    }
  }

  return result;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/fr/_lib/formatLong/index.js

var fr_lib_formatLong_dateFormats = {
  full: 'EEEE d MMMM y',
  long: 'd MMMM y',
  medium: 'd MMM y',
  short: 'dd/MM/y'
};
var fr_lib_formatLong_timeFormats = {
  full: 'HH:mm:ss zzzz',
  long: 'HH:mm:ss z',
  medium: 'HH:mm:ss',
  short: 'HH:mm'
};
var fr_lib_formatLong_dateTimeFormats = {
  full: "{{date}} '' {{time}}",
  long: "{{date}} '' {{time}}",
  medium: '{{date}}, {{time}}',
  short: '{{date}}, {{time}}'
};
var fr_lib_formatLong_formatLong = {
  date: buildFormatLongFn({
    formats: fr_lib_formatLong_dateFormats,
    defaultWidth: 'full'
  }),
  time: buildFormatLongFn({
    formats: fr_lib_formatLong_timeFormats,
    defaultWidth: 'full'
  }),
  dateTime: buildFormatLongFn({
    formats: fr_lib_formatLong_dateTimeFormats,
    defaultWidth: 'full'
  })
};
/* harmony default export */ var fr_lib_formatLong = (fr_lib_formatLong_formatLong);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/fr/_lib/formatRelative/index.js
var fr_lib_formatRelative_formatRelativeLocale = {
  lastWeek: "eeee 'dernier ' p",
  yesterday: "'hier ' p",
  today: "'aujourdhui ' p",
  tomorrow: "'demain ' p'",
  nextWeek: "eeee 'prochain ' p",
  other: 'P'
};
function fr_lib_formatRelative_formatRelative(token, _date, _baseDate, _options) {
  return fr_lib_formatRelative_formatRelativeLocale[token];
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/fr/_lib/localize/index.js

var fr_lib_localize_eraValues = {
  narrow: ['av. J.-C', 'ap. J.-C'],
  abbreviated: ['av. J.-C', 'ap. J.-C'],
  wide: ['avant Jsus-Christ', 'aprs Jsus-Christ']
};
var fr_lib_localize_quarterValues = {
  narrow: ['T1', 'T2', 'T3', 'T4'],
  abbreviated: ['1er trim.', '2me trim.', '3me trim.', '4me trim.'],
  wide: ['1er trimestre', '2me trimestre', '3me trimestre', '4me trimestre']
};
var fr_lib_localize_monthValues = {
  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],
  abbreviated: ['janv.', 'fvr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'aot', 'sept.', 'oct.', 'nov.', 'dc.'],
  wide: ['janvier', 'fvrier', 'mars', 'avril', 'mai', 'juin', 'juillet', 'aot', 'septembre', 'octobre', 'novembre', 'dcembre']
};
var fr_lib_localize_dayValues = {
  narrow: ['D', 'L', 'M', 'M', 'J', 'V', 'S'],
  short: ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
  abbreviated: ['dim.', 'lun.', 'mar.', 'mer.', 'jeu.', 'ven.', 'sam.'],
  wide: ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi']
};
var fr_lib_localize_dayPeriodValues = {
  narrow: {
    am: 'AM',
    pm: 'PM',
    midnight: 'minuit',
    noon: 'midi',
    morning: 'mat.',
    afternoon: 'ap.m.',
    evening: 'soir',
    night: 'mat.'
  },
  abbreviated: {
    am: 'AM',
    pm: 'PM',
    midnight: 'minuit',
    noon: 'midi',
    morning: 'matin',
    afternoon: 'aprs-midi',
    evening: 'soir',
    night: 'matin'
  },
  wide: {
    am: 'AM',
    pm: 'PM',
    midnight: 'minuit',
    noon: 'midi',
    morning: 'du matin',
    afternoon: 'de laprs-midi',
    evening: 'du soir',
    night: 'du matin'
  }
};

function fr_lib_localize_ordinalNumber(dirtyNumber, dirtyOptions) {
  var number = Number(dirtyNumber);
  var options = dirtyOptions || {};
  var unit = String(options.unit);
  var suffix;

  if (number === 0) {
    return number;
  }

  if (unit === 'year' || unit === 'hour' || unit === 'week') {
    if (number === 1) {
      suffix = 're';
    } else {
      suffix = 'me';
    }
  } else {
    if (number === 1) {
      suffix = 'er';
    } else {
      suffix = 'me';
    }
  }

  return number + suffix;
}

var fr_lib_localize_localize = {
  ordinalNumber: fr_lib_localize_ordinalNumber,
  era: buildLocalizeFn({
    values: fr_lib_localize_eraValues,
    defaultWidth: 'wide'
  }),
  quarter: buildLocalizeFn({
    values: fr_lib_localize_quarterValues,
    defaultWidth: 'wide',
    argumentCallback: function (quarter) {
      return Number(quarter) - 1;
    }
  }),
  month: buildLocalizeFn({
    values: fr_lib_localize_monthValues,
    defaultWidth: 'wide'
  }),
  day: buildLocalizeFn({
    values: fr_lib_localize_dayValues,
    defaultWidth: 'wide'
  }),
  dayPeriod: buildLocalizeFn({
    values: fr_lib_localize_dayPeriodValues,
    defaultWidth: 'wide'
  })
};
/* harmony default export */ var fr_lib_localize = (fr_lib_localize_localize);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/fr/_lib/match/index.js


var fr_lib_match_matchOrdinalNumberPattern = /^(\d+)(ime|re|me|er|e)?/i;
var fr_lib_match_parseOrdinalNumberPattern = /\d+/i;
var fr_lib_match_matchEraPatterns = {
  narrow: /^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,
  abbreviated: /^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,
  wide: /^(avant Jsus-Christ|aprs Jsus-Christ)/i
};
var fr_lib_match_parseEraPatterns = {
  any: [/^av/i, /^ap/i]
};
var fr_lib_match_matchQuarterPatterns = {
  narrow: /^[1234]/i,
  abbreviated: /^t[1234]/i,
  wide: /^[1234](er|me|e)? trimestre/i
};
var fr_lib_match_parseQuarterPatterns = {
  any: [/1/i, /2/i, /3/i, /4/i]
};
var fr_lib_match_matchMonthPatterns = {
  narrow: /^[jfmasond]/i,
  abbreviated: /^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,
  wide: /^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i
};
var fr_lib_match_parseMonthPatterns = {
  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],
  any: [/^ja/i, /^f/i, /^mar/i, /^av/i, /^ma/i, /^juin/i, /^juil/i, /^ao/i, /^s/i, /^o/i, /^n/i, /^d/i]
};
var fr_lib_match_matchDayPatterns = {
  narrow: /^[lmjvsd]/i,
  short: /^(di|lu|ma|me|je|ve|sa)/i,
  abbreviated: /^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,
  wide: /^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i
};
var fr_lib_match_parseDayPatterns = {
  narrow: [/^d/i, /^l/i, /^m/i, /^m/i, /^j/i, /^v/i, /^s/i],
  any: [/^di/i, /^lu/i, /^ma/i, /^me/i, /^je/i, /^ve/i, /^sa/i]
};
var fr_lib_match_matchDayPeriodPatterns = {
  narrow: /^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,
  any: /^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i
};
var fr_lib_match_parseDayPeriodPatterns = {
  any: {
    am: /^a/i,
    pm: /^p/i,
    midnight: /^min/i,
    noon: /^mid/i,
    morning: /mat/i,
    afternoon: /ap/i,
    evening: /soir/i,
    night: /nuit/i
  }
};
var fr_lib_match_match = {
  ordinalNumber: buildMatchPatternFn({
    matchPattern: fr_lib_match_matchOrdinalNumberPattern,
    parsePattern: fr_lib_match_parseOrdinalNumberPattern,
    valueCallback: function (value) {
      return parseInt(value, 10);
    }
  }),
  era: buildMatchFn({
    matchPatterns: fr_lib_match_matchEraPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: fr_lib_match_parseEraPatterns,
    defaultParseWidth: 'any'
  }),
  quarter: buildMatchFn({
    matchPatterns: fr_lib_match_matchQuarterPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: fr_lib_match_parseQuarterPatterns,
    defaultParseWidth: 'any',
    valueCallback: function (index) {
      return index + 1;
    }
  }),
  month: buildMatchFn({
    matchPatterns: fr_lib_match_matchMonthPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: fr_lib_match_parseMonthPatterns,
    defaultParseWidth: 'any'
  }),
  day: buildMatchFn({
    matchPatterns: fr_lib_match_matchDayPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: fr_lib_match_parseDayPatterns,
    defaultParseWidth: 'any'
  }),
  dayPeriod: buildMatchFn({
    matchPatterns: fr_lib_match_matchDayPeriodPatterns,
    defaultMatchWidth: 'any',
    parsePatterns: fr_lib_match_parseDayPeriodPatterns,
    defaultParseWidth: 'any'
  })
};
/* harmony default export */ var fr_lib_match = (fr_lib_match_match);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/fr/index.js





/**
 * @type {Locale}
 * @category Locales
 * @summary French locale.
 * @language French
 * @iso-639-2 fra
 * @author Jean Dupouy [@izeau]{@link https://github.com/izeau}
 * @author Franois B [@fbonzon]{@link https://github.com/fbonzon}
 */

var fr_locale = {
  code: 'fr',
  formatDistance: fr_lib_formatDistance_formatDistance,
  formatLong: fr_lib_formatLong,
  formatRelative: fr_lib_formatRelative_formatRelative,
  localize: fr_lib_localize,
  match: fr_lib_match,
  options: {
    weekStartsOn: 1
    /* Monday */
    ,
    firstWeekContainsDate: 4
  }
};
/* harmony default export */ var locale_fr = (fr_locale);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/it/_lib/formatDistance/index.js
var it_lib_formatDistance_formatDistanceLocale = {
  lessThanXSeconds: {
    one: 'meno di un secondo',
    other: 'meno di {{count}} secondi'
  },
  xSeconds: {
    one: 'un secondo',
    other: '{{count}} secondi'
  },
  halfAMinute: 'alcuni secondi',
  lessThanXMinutes: {
    one: 'meno di un minuto',
    other: 'meno di {{count}} minuti'
  },
  xMinutes: {
    one: 'un minuto',
    other: '{{count}} minuti'
  },
  aboutXHours: {
    one: "circa un'ora",
    other: 'circa {{count}} ore'
  },
  xHours: {
    one: "un'ora",
    other: '{{count}} ore'
  },
  xDays: {
    one: 'un giorno',
    other: '{{count}} giorni'
  },
  aboutXWeeks: {
    one: 'circa una settimana',
    other: 'circa {{count}} settimane'
  },
  xWeeks: {
    one: 'una settimana',
    other: '{{count}} settimane'
  },
  aboutXMonths: {
    one: 'circa un mese',
    other: 'circa {{count}} mesi'
  },
  xMonths: {
    one: 'un mese',
    other: '{{count}} mesi'
  },
  aboutXYears: {
    one: 'circa un anno',
    other: 'circa {{count}} anni'
  },
  xYears: {
    one: 'un anno',
    other: '{{count}} anni'
  },
  overXYears: {
    one: 'pi di un anno',
    other: 'pi di {{count}} anni'
  },
  almostXYears: {
    one: 'quasi un anno',
    other: 'quasi {{count}} anni'
  }
};
function it_lib_formatDistance_formatDistance(token, count, options) {
  options = options || {};
  var result;

  if (typeof it_lib_formatDistance_formatDistanceLocale[token] === 'string') {
    result = it_lib_formatDistance_formatDistanceLocale[token];
  } else if (count === 1) {
    result = it_lib_formatDistance_formatDistanceLocale[token].one;
  } else {
    result = it_lib_formatDistance_formatDistanceLocale[token].other.replace('{{count}}', count);
  }

  if (options.addSuffix) {
    if (options.comparison > 0) {
      return 'tra ' + result;
    } else {
      return result + ' fa';
    }
  }

  return result;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/it/_lib/formatLong/index.js

var it_lib_formatLong_dateFormats = {
  full: 'EEEE d MMMM y',
  long: 'd MMMM y',
  medium: 'd MMM y',
  short: 'dd/MM/y'
};
var it_lib_formatLong_timeFormats = {
  full: 'HH:mm:ss zzzz',
  long: 'HH:mm:ss z',
  medium: 'HH:mm:ss',
  short: 'HH:mm'
};
var it_lib_formatLong_dateTimeFormats = {
  full: '{{date}} {{time}}',
  long: '{{date}} {{time}}',
  medium: '{{date}} {{time}}',
  short: '{{date}} {{time}}'
};
var it_lib_formatLong_formatLong = {
  date: buildFormatLongFn({
    formats: it_lib_formatLong_dateFormats,
    defaultWidth: 'full'
  }),
  time: buildFormatLongFn({
    formats: it_lib_formatLong_timeFormats,
    defaultWidth: 'full'
  }),
  dateTime: buildFormatLongFn({
    formats: it_lib_formatLong_dateTimeFormats,
    defaultWidth: 'full'
  })
};
/* harmony default export */ var it_lib_formatLong = (it_lib_formatLong_formatLong);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/toInteger/index.js
function toInteger(dirtyNumber) {
  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {
    return NaN;
  }

  var number = Number(dirtyNumber);

  if (isNaN(number)) {
    return number;
  }

  return number < 0 ? Math.ceil(number) : Math.floor(number);
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/requiredArgs/index.js
function requiredArgs(required, args) {
  if (args.length < required) {
    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');
  }
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/toDate/index.js

/**
 * @name toDate
 * @category Common Helpers
 * @summary Convert the given argument to an instance of Date.
 *
 * @description
 * Convert the given argument to an instance of Date.
 *
 * If the argument is an instance of Date, the function returns its clone.
 *
 * If the argument is a number, it is treated as a timestamp.
 *
 * If the argument is none of the above, the function returns Invalid Date.
 *
 * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.
 *
 * @param {Date|Number} argument - the value to convert
 * @returns {Date} the parsed date in the local time zone
 * @throws {TypeError} 1 argument required
 *
 * @example
 * // Clone the date:
 * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))
 * //=> Tue Feb 11 2014 11:30:30
 *
 * @example
 * // Convert the timestamp to date:
 * const result = toDate(1392098430000)
 * //=> Tue Feb 11 2014 11:30:30
 */

function toDate(argument) {
  requiredArgs(1, arguments);
  var argStr = Object.prototype.toString.call(argument); // Clone the date

  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {
    // Prevent the date to lose the milliseconds when passed to new Date() in IE10
    return new Date(argument.getTime());
  } else if (typeof argument === 'number' || argStr === '[object Number]') {
    return new Date(argument);
  } else {
    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {
      // eslint-disable-next-line no-console
      console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"); // eslint-disable-next-line no-console

      console.warn(new Error().stack);
    }

    return new Date(NaN);
  }
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/startOfUTCWeek/index.js


 // This function will be a part of public API when UTC function will be implemented.
// See issue: https://github.com/date-fns/date-fns/issues/376

function startOfUTCWeek(dirtyDate, dirtyOptions) {
  requiredArgs(1, arguments);
  var options = dirtyOptions || {};
  var locale = options.locale;
  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;
  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);
  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN

  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {
    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');
  }

  var date = toDate(dirtyDate);
  var day = date.getUTCDay();
  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;
  date.setUTCDate(date.getUTCDate() - diff);
  date.setUTCHours(0, 0, 0, 0);
  return date;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/isSameUTCWeek/index.js

 // This function will be a part of public API when UTC function will be implemented.
// See issue: https://github.com/date-fns/date-fns/issues/376

function isSameUTCWeek(dirtyDateLeft, dirtyDateRight, options) {
  requiredArgs(2, arguments);
  var dateLeftStartOfWeek = startOfUTCWeek(dirtyDateLeft, options);
  var dateRightStartOfWeek = startOfUTCWeek(dirtyDateRight, options);
  return dateLeftStartOfWeek.getTime() === dateRightStartOfWeek.getTime();
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/it/_lib/formatRelative/index.js

var formatRelative_weekdays = ['domenica', 'luned', 'marted', 'mercoled', 'gioved', 'venerd', 'sabato'];

function lastWeek(day) {
  switch (day) {
    case 0:
      return "'domenica scorsa alle' p";

    default:
      return "'" + formatRelative_weekdays[day] + " scorso alle' p";
  }
}

function thisWeek(day) {
  return "'" + formatRelative_weekdays[day] + " alle' p";
}

function nextWeek(day) {
  switch (day) {
    case 0:
      return "'domenica prossima alle' p";

    default:
      return "'" + formatRelative_weekdays[day] + " prossimo alle' p";
  }
}

var it_lib_formatRelative_formatRelativeLocale = {
  lastWeek: function (date, baseDate, options) {
    var day = date.getUTCDay();

    if (isSameUTCWeek(date, baseDate, options)) {
      return thisWeek(day);
    } else {
      return lastWeek(day);
    }
  },
  yesterday: "'ieri alle' p",
  today: "'oggi alle' p",
  tomorrow: "'domani alle' p",
  nextWeek: function (date, baseDate, options) {
    var day = date.getUTCDay();

    if (isSameUTCWeek(date, baseDate, options)) {
      return thisWeek(day);
    } else {
      return nextWeek(day);
    }
  },
  other: 'P'
};
function it_lib_formatRelative_formatRelative(token, date, baseDate, options) {
  var format = it_lib_formatRelative_formatRelativeLocale[token];

  if (typeof format === 'function') {
    return format(date, baseDate, options);
  }

  return format;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/it/_lib/localize/index.js

var it_lib_localize_eraValues = {
  narrow: ['aC', 'dC'],
  abbreviated: ['a.C.', 'd.C.'],
  wide: ['avanti Cristo', 'dopo Cristo']
};
var it_lib_localize_quarterValues = {
  narrow: ['1', '2', '3', '4'],
  abbreviated: ['T1', 'T2', 'T3', 'T4'],
  wide: ['1 trimestre', '2 trimestre', '3 trimestre', '4 trimestre']
};
var it_lib_localize_monthValues = {
  narrow: ['G', 'F', 'M', 'A', 'M', 'G', 'L', 'A', 'S', 'O', 'N', 'D'],
  abbreviated: ['gen', 'feb', 'mar', 'apr', 'mag', 'giu', 'lug', 'ago', 'set', 'ott', 'nov', 'dic'],
  wide: ['gennaio', 'febbraio', 'marzo', 'aprile', 'maggio', 'giugno', 'luglio', 'agosto', 'settembre', 'ottobre', 'novembre', 'dicembre']
};
var it_lib_localize_dayValues = {
  narrow: ['D', 'L', 'M', 'M', 'G', 'V', 'S'],
  short: ['dom', 'lun', 'mar', 'mer', 'gio', 'ven', 'sab'],
  abbreviated: ['dom', 'lun', 'mar', 'mer', 'gio', 'ven', 'sab'],
  wide: ['domenica', 'luned', 'marted', 'mercoled', 'gioved', 'venerd', 'sabato']
};
var it_lib_localize_dayPeriodValues = {
  narrow: {
    am: 'm.',
    pm: 'p.',
    midnight: 'mezzanotte',
    noon: 'mezzogiorno',
    morning: 'mattina',
    afternoon: 'pomeriggio',
    evening: 'sera',
    night: 'notte'
  },
  abbreviated: {
    am: 'AM',
    pm: 'PM',
    midnight: 'mezzanotte',
    noon: 'mezzogiorno',
    morning: 'mattina',
    afternoon: 'pomeriggio',
    evening: 'sera',
    night: 'notte'
  },
  wide: {
    am: 'AM',
    pm: 'PM',
    midnight: 'mezzanotte',
    noon: 'mezzogiorno',
    morning: 'mattina',
    afternoon: 'pomeriggio',
    evening: 'sera',
    night: 'notte'
  }
};
var it_lib_localize_formattingDayPeriodValues = {
  narrow: {
    am: 'm.',
    pm: 'p.',
    midnight: 'mezzanotte',
    noon: 'mezzogiorno',
    morning: 'di mattina',
    afternoon: 'del pomeriggio',
    evening: 'di sera',
    night: 'di notte'
  },
  abbreviated: {
    am: 'AM',
    pm: 'PM',
    midnight: 'mezzanotte',
    noon: 'mezzogiorno',
    morning: 'di mattina',
    afternoon: 'del pomeriggio',
    evening: 'di sera',
    night: 'di notte'
  },
  wide: {
    am: 'AM',
    pm: 'PM',
    midnight: 'mezzanotte',
    noon: 'mezzogiorno',
    morning: 'di mattina',
    afternoon: 'del pomeriggio',
    evening: 'di sera',
    night: 'di notte'
  }
};

function it_lib_localize_ordinalNumber(dirtyNumber) {
  var number = Number(dirtyNumber);
  return number + '';
}

var it_lib_localize_localize = {
  ordinalNumber: it_lib_localize_ordinalNumber,
  era: buildLocalizeFn({
    values: it_lib_localize_eraValues,
    defaultWidth: 'wide'
  }),
  quarter: buildLocalizeFn({
    values: it_lib_localize_quarterValues,
    defaultWidth: 'wide',
    argumentCallback: function (quarter) {
      return Number(quarter) - 1;
    }
  }),
  month: buildLocalizeFn({
    values: it_lib_localize_monthValues,
    defaultWidth: 'wide'
  }),
  day: buildLocalizeFn({
    values: it_lib_localize_dayValues,
    defaultWidth: 'wide'
  }),
  dayPeriod: buildLocalizeFn({
    values: it_lib_localize_dayPeriodValues,
    defaultWidth: 'wide',
    formattingValues: it_lib_localize_formattingDayPeriodValues,
    defaultFormattingWidth: 'wide'
  })
};
/* harmony default export */ var it_lib_localize = (it_lib_localize_localize);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/it/_lib/match/index.js


var it_lib_match_matchOrdinalNumberPattern = /^(\d+)()?/i;
var it_lib_match_parseOrdinalNumberPattern = /\d+/i;
var it_lib_match_matchEraPatterns = {
  narrow: /^(aC|dC)/i,
  abbreviated: /^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,
  wide: /^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i
};
var it_lib_match_parseEraPatterns = {
  any: [/^a/i, /^(d|e)/i]
};
var it_lib_match_matchQuarterPatterns = {
  narrow: /^[1234]/i,
  abbreviated: /^t[1234]/i,
  wide: /^[1234]()? trimestre/i
};
var it_lib_match_parseQuarterPatterns = {
  any: [/1/i, /2/i, /3/i, /4/i]
};
var it_lib_match_matchMonthPatterns = {
  narrow: /^[gfmalsond]/i,
  abbreviated: /^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,
  wide: /^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i
};
var it_lib_match_parseMonthPatterns = {
  narrow: [/^g/i, /^f/i, /^m/i, /^a/i, /^m/i, /^g/i, /^l/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],
  any: [/^ge/i, /^f/i, /^mar/i, /^ap/i, /^mag/i, /^gi/i, /^l/i, /^ag/i, /^s/i, /^o/i, /^n/i, /^d/i]
};
var it_lib_match_matchDayPatterns = {
  narrow: /^[dlmgvs]/i,
  short: /^(do|lu|ma|me|gi|ve|sa)/i,
  abbreviated: /^(dom|lun|mar|mer|gio|ven|sab)/i,
  wide: /^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i
};
var it_lib_match_parseDayPatterns = {
  narrow: [/^d/i, /^l/i, /^m/i, /^m/i, /^g/i, /^v/i, /^s/i],
  any: [/^d/i, /^l/i, /^ma/i, /^me/i, /^g/i, /^v/i, /^s/i]
};
var it_lib_match_matchDayPeriodPatterns = {
  narrow: /^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,
  any: /^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i
};
var it_lib_match_parseDayPeriodPatterns = {
  any: {
    am: /^a/i,
    pm: /^p/i,
    midnight: /^mezza/i,
    noon: /^mezzo/i,
    morning: /mattina/i,
    afternoon: /pomeriggio/i,
    evening: /sera/i,
    night: /notte/i
  }
};
var it_lib_match_match = {
  ordinalNumber: buildMatchPatternFn({
    matchPattern: it_lib_match_matchOrdinalNumberPattern,
    parsePattern: it_lib_match_parseOrdinalNumberPattern,
    valueCallback: function (value) {
      return parseInt(value, 10);
    }
  }),
  era: buildMatchFn({
    matchPatterns: it_lib_match_matchEraPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: it_lib_match_parseEraPatterns,
    defaultParseWidth: 'any'
  }),
  quarter: buildMatchFn({
    matchPatterns: it_lib_match_matchQuarterPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: it_lib_match_parseQuarterPatterns,
    defaultParseWidth: 'any',
    valueCallback: function (index) {
      return index + 1;
    }
  }),
  month: buildMatchFn({
    matchPatterns: it_lib_match_matchMonthPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: it_lib_match_parseMonthPatterns,
    defaultParseWidth: 'any'
  }),
  day: buildMatchFn({
    matchPatterns: it_lib_match_matchDayPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: it_lib_match_parseDayPatterns,
    defaultParseWidth: 'any'
  }),
  dayPeriod: buildMatchFn({
    matchPatterns: it_lib_match_matchDayPeriodPatterns,
    defaultMatchWidth: 'any',
    parsePatterns: it_lib_match_parseDayPeriodPatterns,
    defaultParseWidth: 'any'
  })
};
/* harmony default export */ var it_lib_match = (it_lib_match_match);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/it/index.js





/**
 * @type {Locale}
 * @category Locales
 * @summary Italian locale.
 * @language Italian
 * @iso-639-2 ita
 * @author Alberto Restifo [@albertorestifo]{@link https://github.com/albertorestifo}
 * @author Giovanni Polimeni [@giofilo]{@link https://github.com/giofilo}
 * @author Vincenzo Carrese [@vin-car]{@link https://github.com/vin-car}
 */

var it_locale = {
  code: 'it',
  formatDistance: it_lib_formatDistance_formatDistance,
  formatLong: it_lib_formatLong,
  formatRelative: it_lib_formatRelative_formatRelative,
  localize: it_lib_localize,
  match: it_lib_match,
  options: {
    weekStartsOn: 1
    /* Monday */
    ,
    firstWeekContainsDate: 4
  }
};
/* harmony default export */ var locale_it = (it_locale);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ja/_lib/formatDistance/index.js
var ja_lib_formatDistance_formatDistanceLocale = {
  lessThanXSeconds: {
    one: '1',
    other: '{{count}}',
    oneWithSuffix: '1',
    otherWithSuffix: '{{count}}'
  },
  xSeconds: {
    one: '1',
    other: '{{count}}'
  },
  halfAMinute: '30',
  lessThanXMinutes: {
    one: '1',
    other: '{{count}}',
    oneWithSuffix: '1',
    otherWithSuffix: '{{count}}'
  },
  xMinutes: {
    one: '1',
    other: '{{count}}'
  },
  aboutXHours: {
    one: '1',
    other: '{{count}}'
  },
  xHours: {
    one: '1',
    other: '{{count}}'
  },
  xDays: {
    one: '1',
    other: '{{count}}'
  },
  aboutXWeeks: {
    one: '1',
    other: '{{count}}'
  },
  xWeeks: {
    one: '1',
    other: '{{count}}'
  },
  aboutXMonths: {
    one: '1',
    other: '{{count}}'
  },
  xMonths: {
    one: '1',
    other: '{{count}}'
  },
  aboutXYears: {
    one: '1',
    other: '{{count}}'
  },
  xYears: {
    one: '1',
    other: '{{count}}'
  },
  overXYears: {
    one: '1',
    other: '{{count}}'
  },
  almostXYears: {
    one: '1',
    other: '{{count}}'
  }
};
function ja_lib_formatDistance_formatDistance(token, count, options) {
  options = options || {};
  var result;

  if (typeof ja_lib_formatDistance_formatDistanceLocale[token] === 'string') {
    result = ja_lib_formatDistance_formatDistanceLocale[token];
  } else if (count === 1) {
    if (options.addSuffix && ja_lib_formatDistance_formatDistanceLocale[token].oneWithSuffix) {
      result = ja_lib_formatDistance_formatDistanceLocale[token].oneWithSuffix;
    } else {
      result = ja_lib_formatDistance_formatDistanceLocale[token].one;
    }
  } else {
    if (options.addSuffix && ja_lib_formatDistance_formatDistanceLocale[token].otherWithSuffix) {
      result = ja_lib_formatDistance_formatDistanceLocale[token].otherWithSuffix.replace('{{count}}', count);
    } else {
      result = ja_lib_formatDistance_formatDistanceLocale[token].other.replace('{{count}}', count);
    }
  }

  if (options.addSuffix) {
    if (options.comparison > 0) {
      return result + '';
    } else {
      return result + '';
    }
  }

  return result;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ja/_lib/formatLong/index.js

var ja_lib_formatLong_dateFormats = {
  full: 'yMdEEEE',
  long: 'yMd',
  medium: 'y/MM/dd',
  short: 'y/MM/dd'
};
var ja_lib_formatLong_timeFormats = {
  full: 'Hmmss zzzz',
  long: 'H:mm:ss z',
  medium: 'H:mm:ss',
  short: 'H:mm'
};
var ja_lib_formatLong_dateTimeFormats = {
  full: '{{date}} {{time}}',
  long: '{{date}} {{time}}',
  medium: '{{date}} {{time}}',
  short: '{{date}} {{time}}'
};
var ja_lib_formatLong_formatLong = {
  date: buildFormatLongFn({
    formats: ja_lib_formatLong_dateFormats,
    defaultWidth: 'full'
  }),
  time: buildFormatLongFn({
    formats: ja_lib_formatLong_timeFormats,
    defaultWidth: 'full'
  }),
  dateTime: buildFormatLongFn({
    formats: ja_lib_formatLong_dateTimeFormats,
    defaultWidth: 'full'
  })
};
/* harmony default export */ var ja_lib_formatLong = (ja_lib_formatLong_formatLong);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ja/_lib/formatRelative/index.js
var ja_lib_formatRelative_formatRelativeLocale = {
  lastWeek: 'eeeep',
  yesterday: 'p',
  today: 'p',
  tomorrow: 'p',
  nextWeek: 'eeeep',
  other: 'P'
};
function ja_lib_formatRelative_formatRelative(token, _date, _baseDate, _options) {
  return ja_lib_formatRelative_formatRelativeLocale[token];
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ja/_lib/localize/index.js

var ja_lib_localize_eraValues = {
  narrow: ['BC', 'AC'],
  abbreviated: ['', ''],
  wide: ['', '']
};
var ja_lib_localize_quarterValues = {
  narrow: ['1', '2', '3', '4'],
  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],
  wide: ['1', '2', '3', '4']
};
var ja_lib_localize_monthValues = {
  narrow: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],
  abbreviated: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],
  wide: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12']
};
var ja_lib_localize_dayValues = {
  narrow: ['', '', '', '', '', '', ''],
  short: ['', '', '', '', '', '', ''],
  abbreviated: ['', '', '', '', '', '', ''],
  wide: ['', '', '', '', '', '', '']
};
var ja_lib_localize_dayPeriodValues = {
  narrow: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  },
  abbreviated: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  },
  wide: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  }
};
var ja_lib_localize_formattingDayPeriodValues = {
  narrow: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  },
  abbreviated: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  },
  wide: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  }
};

function ja_lib_localize_ordinalNumber(dirtyNumber, dirtyOptions) {
  var number = Number(dirtyNumber); // If ordinal numbers depend on context, for example,
  // if they are different for different grammatical genders,
  // use `options.unit`:
  //
  //   var options = dirtyOptions || {}
  //   var unit = String(options.unit)
  //
  // where `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',
  // 'day', 'hour', 'minute', 'second'

  var options = dirtyOptions || {};
  var unit = String(options.unit);

  switch (unit) {
    case 'year':
      return "".concat(number, "\u5E74");

    case 'quarter':
      return "\u7B2C".concat(number, "\u56DB\u534A\u671F");

    case 'month':
      return "".concat(number, "\u6708");

    case 'week':
      return "\u7B2C".concat(number, "\u9031");

    case 'date':
      return "".concat(number, "\u65E5");

    case 'hour':
      return "".concat(number, "\u6642");

    case 'minute':
      return "".concat(number, "\u5206");

    case 'second':
      return "".concat(number, "\u79D2");

    default:
      return "".concat(number);
  }
}

var ja_lib_localize_localize = {
  ordinalNumber: ja_lib_localize_ordinalNumber,
  era: buildLocalizeFn({
    values: ja_lib_localize_eraValues,
    defaultWidth: 'wide'
  }),
  quarter: buildLocalizeFn({
    values: ja_lib_localize_quarterValues,
    defaultWidth: 'wide',
    argumentCallback: function (quarter) {
      return Number(quarter) - 1;
    }
  }),
  month: buildLocalizeFn({
    values: ja_lib_localize_monthValues,
    defaultWidth: 'wide'
  }),
  day: buildLocalizeFn({
    values: ja_lib_localize_dayValues,
    defaultWidth: 'wide'
  }),
  dayPeriod: buildLocalizeFn({
    values: ja_lib_localize_dayPeriodValues,
    defaultWidth: 'wide',
    formattingValues: ja_lib_localize_formattingDayPeriodValues,
    defaultFormattingWidth: 'wide'
  })
};
/* harmony default export */ var ja_lib_localize = (ja_lib_localize_localize);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ja/_lib/match/index.js


var ja_lib_match_matchOrdinalNumberPattern = /^?\d+(|||||||)?/i;
var ja_lib_match_parseOrdinalNumberPattern = /\d+/i;
var ja_lib_match_matchEraPatterns = {
  narrow: /^(B\.?C\.?|A\.?D\.?)/i,
  abbreviated: /^([]|)/i,
  wide: /^([]|)/i
};
var ja_lib_match_parseEraPatterns = {
  narrow: [/^B/i, /^A/i],
  any: [/^()/i, /^(|)/i]
};
var ja_lib_match_matchQuarterPatterns = {
  narrow: /^[1234]/i,
  abbreviated: /^Q[1234]/i,
  wide: /^[1234]/i
};
var ja_lib_match_parseQuarterPatterns = {
  any: [/(1||)/i, /(2||)/i, /(3||)/i, /(4||)/i]
};
var ja_lib_match_matchMonthPatterns = {
  narrow: /^([123456789]|1[012])/,
  abbreviated: /^([123456789]|1[012])/i,
  wide: /^([123456789]|1[012])/i
};
var ja_lib_match_parseMonthPatterns = {
  any: [/^1\D/, /^2/, /^3/, /^4/, /^5/, /^6/, /^7/, /^8/, /^9/, /^10/, /^11/, /^12/]
};
var ja_lib_match_matchDayPatterns = {
  narrow: /^[]/,
  short: /^[]/,
  abbreviated: /^[]/,
  wide: /^[]/
};
var ja_lib_match_parseDayPatterns = {
  any: [/^/, /^/, /^/, /^/, /^/, /^/, /^/]
};
var ja_lib_match_matchDayPeriodPatterns = {
  any: /^(AM|PM|||||||)/i
};
var ja_lib_match_parseDayPeriodPatterns = {
  any: {
    am: /^(A|)/i,
    pm: /^(P|)/i,
    midnight: /^|/i,
    noon: /^/i,
    morning: /^/i,
    afternoon: /^/i,
    evening: /^/i,
    night: /^/i
  }
};
var ja_lib_match_match = {
  ordinalNumber: buildMatchPatternFn({
    matchPattern: ja_lib_match_matchOrdinalNumberPattern,
    parsePattern: ja_lib_match_parseOrdinalNumberPattern,
    valueCallback: function (value) {
      return parseInt(value, 10);
    }
  }),
  era: buildMatchFn({
    matchPatterns: ja_lib_match_matchEraPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: ja_lib_match_parseEraPatterns,
    defaultParseWidth: 'any'
  }),
  quarter: buildMatchFn({
    matchPatterns: ja_lib_match_matchQuarterPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: ja_lib_match_parseQuarterPatterns,
    defaultParseWidth: 'any',
    valueCallback: function (index) {
      return index + 1;
    }
  }),
  month: buildMatchFn({
    matchPatterns: ja_lib_match_matchMonthPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: ja_lib_match_parseMonthPatterns,
    defaultParseWidth: 'any'
  }),
  day: buildMatchFn({
    matchPatterns: ja_lib_match_matchDayPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: ja_lib_match_parseDayPatterns,
    defaultParseWidth: 'any'
  }),
  dayPeriod: buildMatchFn({
    matchPatterns: ja_lib_match_matchDayPeriodPatterns,
    defaultMatchWidth: 'any',
    parsePatterns: ja_lib_match_parseDayPeriodPatterns,
    defaultParseWidth: 'any'
  })
};
/* harmony default export */ var ja_lib_match = (ja_lib_match_match);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ja/index.js





/**
 * @type {Locale}
 * @category Locales
 * @summary Japanese locale.
 * @language Japanese
 * @iso-639-2 jpn
 * @author Thomas Eilmsteiner [@DeMuu]{@link https://github.com/DeMuu}
 * @author Yamagishi Kazutoshi [@ykzts]{@link https://github.com/ykzts}
 * @author Luca Ban [@mesqueeb]{@link https://github.com/mesqueeb}
 * @author Terrence Lam [@skyuplam]{@link https://github.com/skyuplam}
 * @author Taiki IKeda [@so99ynoodles]{@link https://github.com/so99ynoodles}
 */

var ja_locale = {
  code: 'ja',
  formatDistance: ja_lib_formatDistance_formatDistance,
  formatLong: ja_lib_formatLong,
  formatRelative: ja_lib_formatRelative_formatRelative,
  localize: ja_lib_localize,
  match: ja_lib_match,
  options: {
    weekStartsOn: 0
    /* Sunday */
    ,
    firstWeekContainsDate: 1
  }
};
/* harmony default export */ var locale_ja = (ja_locale);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ko/_lib/formatDistance/index.js
var ko_lib_formatDistance_formatDistanceLocale = {
  lessThanXSeconds: {
    one: '1 ',
    other: '{{count}} '
  },
  xSeconds: {
    one: '1',
    other: '{{count}}'
  },
  halfAMinute: '30',
  lessThanXMinutes: {
    one: '1 ',
    other: '{{count}} '
  },
  xMinutes: {
    one: '1',
    other: '{{count}}'
  },
  aboutXHours: {
    one: ' 1',
    other: ' {{count}}'
  },
  xHours: {
    one: '1',
    other: '{{count}}'
  },
  xDays: {
    one: '1',
    other: '{{count}}'
  },
  aboutXWeeks: {
    one: ' 1',
    other: ' {{count}}'
  },
  xWeeks: {
    one: '1',
    other: '{{count}}'
  },
  aboutXMonths: {
    one: ' 1',
    other: ' {{count}}'
  },
  xMonths: {
    one: '1',
    other: '{{count}}'
  },
  aboutXYears: {
    one: ' 1',
    other: ' {{count}}'
  },
  xYears: {
    one: '1',
    other: '{{count}}'
  },
  overXYears: {
    one: '1 ',
    other: '{{count}} '
  },
  almostXYears: {
    one: ' 1',
    other: ' {{count}}'
  }
};
function ko_lib_formatDistance_formatDistance(token, count, options) {
  options = options || {};
  var result;

  if (typeof ko_lib_formatDistance_formatDistanceLocale[token] === 'string') {
    result = ko_lib_formatDistance_formatDistanceLocale[token];
  } else if (count === 1) {
    result = ko_lib_formatDistance_formatDistanceLocale[token].one;
  } else {
    result = ko_lib_formatDistance_formatDistanceLocale[token].other.replace('{{count}}', count);
  }

  if (options.addSuffix) {
    if (options.comparison > 0) {
      return result + ' ';
    } else {
      return result + ' ';
    }
  }

  return result;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ko/_lib/formatLong/index.js

var ko_lib_formatLong_dateFormats = {
  full: 'y M d EEEE',
  long: 'y M d',
  medium: 'y.MM.dd',
  short: 'y.MM.dd'
};
var ko_lib_formatLong_timeFormats = {
  full: 'a H mm ss zzzz',
  long: 'a H:mm:ss z',
  medium: 'HH:mm:ss',
  short: 'HH:mm'
};
var ko_lib_formatLong_dateTimeFormats = {
  full: '{{date}} {{time}}',
  long: '{{date}} {{time}}',
  medium: '{{date}} {{time}}',
  short: '{{date}} {{time}}'
};
var ko_lib_formatLong_formatLong = {
  date: buildFormatLongFn({
    formats: ko_lib_formatLong_dateFormats,
    defaultWidth: 'full'
  }),
  time: buildFormatLongFn({
    formats: ko_lib_formatLong_timeFormats,
    defaultWidth: 'full'
  }),
  dateTime: buildFormatLongFn({
    formats: ko_lib_formatLong_dateTimeFormats,
    defaultWidth: 'full'
  })
};
/* harmony default export */ var ko_lib_formatLong = (ko_lib_formatLong_formatLong);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ko/_lib/formatRelative/index.js
var ko_lib_formatRelative_formatRelativeLocale = {
  lastWeek: "'' eeee p",
  yesterday: "'' p",
  today: "'' p",
  tomorrow: "'' p",
  nextWeek: "'' eeee p",
  other: 'P'
};
function ko_lib_formatRelative_formatRelative(token, _date, _baseDate, _options) {
  return ko_lib_formatRelative_formatRelativeLocale[token];
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ko/_lib/localize/index.js

var ko_lib_localize_eraValues = {
  narrow: ['BC', 'AD'],
  abbreviated: ['BC', 'AD'],
  wide: ['', '']
};
var ko_lib_localize_quarterValues = {
  narrow: ['1', '2', '3', '4'],
  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],
  wide: ['1', '2', '3', '4']
};
var ko_lib_localize_monthValues = {
  narrow: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],
  abbreviated: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],
  wide: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12']
};
var ko_lib_localize_dayValues = {
  narrow: ['', '', '', '', '', '', ''],
  short: ['', '', '', '', '', '', ''],
  abbreviated: ['', '', '', '', '', '', ''],
  wide: ['', '', '', '', '', '', '']
};
var ko_lib_localize_dayPeriodValues = {
  narrow: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  },
  abbreviated: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  },
  wide: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  }
};
var ko_lib_localize_formattingDayPeriodValues = {
  narrow: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  },
  abbreviated: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  },
  wide: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  }
};

function ko_lib_localize_ordinalNumber(dirtyNumber, dirtyOptions) {
  var number = Number(dirtyNumber);
  var options = dirtyOptions || {};
  var unit = String(options.unit);

  switch (unit) {
    case 'minute':
    case 'second':
      return number;

    case 'date':
      return number + '';

    default:
      return number + '';
  }
}

var ko_lib_localize_localize = {
  ordinalNumber: ko_lib_localize_ordinalNumber,
  era: buildLocalizeFn({
    values: ko_lib_localize_eraValues,
    defaultWidth: 'wide'
  }),
  quarter: buildLocalizeFn({
    values: ko_lib_localize_quarterValues,
    defaultWidth: 'wide',
    argumentCallback: function (quarter) {
      return Number(quarter) - 1;
    }
  }),
  month: buildLocalizeFn({
    values: ko_lib_localize_monthValues,
    defaultWidth: 'wide'
  }),
  day: buildLocalizeFn({
    values: ko_lib_localize_dayValues,
    defaultWidth: 'wide'
  }),
  dayPeriod: buildLocalizeFn({
    values: ko_lib_localize_dayPeriodValues,
    defaultWidth: 'wide',
    formattingValues: ko_lib_localize_formattingDayPeriodValues,
    defaultFormattingWidth: 'wide'
  })
};
/* harmony default export */ var ko_lib_localize = (ko_lib_localize_localize);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ko/_lib/match/index.js


var ko_lib_match_matchOrdinalNumberPattern = /^(\d+)(|)?/i;
var ko_lib_match_parseOrdinalNumberPattern = /\d+/i;
var ko_lib_match_matchEraPatterns = {
  narrow: /^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,
  abbreviated: /^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,
  wide: /^(|)/i
};
var ko_lib_match_parseEraPatterns = {
  any: [/^(bc|)/i, /^(ad|)/i]
};
var ko_lib_match_matchQuarterPatterns = {
  narrow: /^[1234]/i,
  abbreviated: /^q[1234]/i,
  wide: /^[1234]?/i
};
var ko_lib_match_parseQuarterPatterns = {
  any: [/1/i, /2/i, /3/i, /4/i]
};
var ko_lib_match_matchMonthPatterns = {
  narrow: /^(1[012]|[123456789])/,
  abbreviated: /^(1[012]|[123456789])/i,
  wide: /^(1[012]|[123456789])/i
};
var ko_lib_match_parseMonthPatterns = {
  any: [/^1?$/, /^2/, /^3/, /^4/, /^5/, /^6/, /^7/, /^8/, /^9/, /^10/, /^11/, /^12/]
};
var ko_lib_match_matchDayPatterns = {
  narrow: /^[]/,
  short: /^[]/,
  abbreviated: /^[]/,
  wide: /^[]/
};
var ko_lib_match_parseDayPatterns = {
  any: [/^/, /^/, /^/, /^/, /^/, /^/, /^/]
};
var ko_lib_match_matchDayPeriodPatterns = {
  any: /^(am|pm|||||||)/i
};
var ko_lib_match_parseDayPeriodPatterns = {
  any: {
    am: /^(am|)/i,
    pm: /^(pm|)/i,
    midnight: /^/i,
    noon: /^/i,
    morning: /^/i,
    afternoon: /^/i,
    evening: /^/i,
    night: /^/i
  }
};
var ko_lib_match_match = {
  ordinalNumber: buildMatchPatternFn({
    matchPattern: ko_lib_match_matchOrdinalNumberPattern,
    parsePattern: ko_lib_match_parseOrdinalNumberPattern,
    valueCallback: function (value) {
      return parseInt(value, 10);
    }
  }),
  era: buildMatchFn({
    matchPatterns: ko_lib_match_matchEraPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: ko_lib_match_parseEraPatterns,
    defaultParseWidth: 'any'
  }),
  quarter: buildMatchFn({
    matchPatterns: ko_lib_match_matchQuarterPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: ko_lib_match_parseQuarterPatterns,
    defaultParseWidth: 'any',
    valueCallback: function (index) {
      return index + 1;
    }
  }),
  month: buildMatchFn({
    matchPatterns: ko_lib_match_matchMonthPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: ko_lib_match_parseMonthPatterns,
    defaultParseWidth: 'any'
  }),
  day: buildMatchFn({
    matchPatterns: ko_lib_match_matchDayPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: ko_lib_match_parseDayPatterns,
    defaultParseWidth: 'any'
  }),
  dayPeriod: buildMatchFn({
    matchPatterns: ko_lib_match_matchDayPeriodPatterns,
    defaultMatchWidth: 'any',
    parsePatterns: ko_lib_match_parseDayPeriodPatterns,
    defaultParseWidth: 'any'
  })
};
/* harmony default export */ var ko_lib_match = (ko_lib_match_match);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ko/index.js





/**
 * @type {Locale}
 * @category Locales
 * @summary Korean locale.
 * @language Korean
 * @iso-639-2 kor
 * @author Hong Chulju [@angdev]{@link https://github.com/angdev}
 * @author Lee Seoyoen [@iamssen]{@link https://github.com/iamssen}
 * @author Taiki IKeda [@so99ynoodles]{@link https://github.com/so99ynoodles}
 */

var ko_locale = {
  code: 'ko',
  formatDistance: ko_lib_formatDistance_formatDistance,
  formatLong: ko_lib_formatLong,
  formatRelative: ko_lib_formatRelative_formatRelative,
  localize: ko_lib_localize,
  match: ko_lib_match,
  options: {
    weekStartsOn: 0
    /* Sunday */
    ,
    firstWeekContainsDate: 1
  }
};
/* harmony default export */ var locale_ko = (ko_locale);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/pl/_lib/formatDistance/index.js
function declensionGroup(scheme, count) {
  if (count === 1) {
    return scheme.one;
  }

  var rem100 = count % 100; // ends with 11-20

  if (rem100 <= 20 && rem100 > 10) {
    return scheme.other;
  }

  var rem10 = rem100 % 10; // ends with 2, 3, 4

  if (rem10 >= 2 && rem10 <= 4) {
    return scheme.twoFour;
  }

  return scheme.other;
}

function declension(scheme, count, time) {
  time = time || 'regular';
  var group = declensionGroup(scheme, count);
  var finalText = group[time] || group;
  return finalText.replace('{{count}}', count);
}

var pl_lib_formatDistance_formatDistanceLocale = {
  lessThanXSeconds: {
    one: {
      regular: 'mniej ni sekunda',
      past: 'mniej ni sekund',
      future: 'mniej ni sekund'
    },
    twoFour: 'mniej ni {{count}} sekundy',
    other: 'mniej ni {{count}} sekund'
  },
  xSeconds: {
    one: {
      regular: 'sekunda',
      past: 'sekund',
      future: 'sekund'
    },
    twoFour: '{{count}} sekundy',
    other: '{{count}} sekund'
  },
  halfAMinute: {
    one: 'p minuty',
    twoFour: 'p minuty',
    other: 'p minuty'
  },
  lessThanXMinutes: {
    one: {
      regular: 'mniej ni minuta',
      past: 'mniej ni minut',
      future: 'mniej ni minut'
    },
    twoFour: 'mniej ni {{count}} minuty',
    other: 'mniej ni {{count}} minut'
  },
  xMinutes: {
    one: {
      regular: 'minuta',
      past: 'minut',
      future: 'minut'
    },
    twoFour: '{{count}} minuty',
    other: '{{count}} minut'
  },
  aboutXHours: {
    one: {
      regular: 'okoo godziny',
      past: 'okoo godziny',
      future: 'okoo godzin'
    },
    twoFour: 'okoo {{count}} godziny',
    other: 'okoo {{count}} godzin'
  },
  xHours: {
    one: {
      regular: 'godzina',
      past: 'godzin',
      future: 'godzin'
    },
    twoFour: '{{count}} godziny',
    other: '{{count}} godzin'
  },
  xDays: {
    one: {
      regular: 'dzie',
      past: 'dzie',
      future: '1 dzie'
    },
    twoFour: '{{count}} dni',
    other: '{{count}} dni'
  },
  aboutXWeeks: {
    one: 'okoo tygodnia',
    twoFour: 'okoo {{count}} tygodni',
    other: 'okoo {{count}} tygodni'
  },
  xWeeks: {
    one: 'tydzie',
    twoFour: '{{count}} tygodnie',
    other: '{{count}} tygodni'
  },
  aboutXMonths: {
    one: 'okoo miesic',
    twoFour: 'okoo {{count}} miesice',
    other: 'okoo {{count}} miesicy'
  },
  xMonths: {
    one: 'miesic',
    twoFour: '{{count}} miesice',
    other: '{{count}} miesicy'
  },
  aboutXYears: {
    one: 'okoo rok',
    twoFour: 'okoo {{count}} lata',
    other: 'okoo {{count}} lat'
  },
  xYears: {
    one: 'rok',
    twoFour: '{{count}} lata',
    other: '{{count}} lat'
  },
  overXYears: {
    one: 'ponad rok',
    twoFour: 'ponad {{count}} lata',
    other: 'ponad {{count}} lat'
  },
  almostXYears: {
    one: 'prawie rok',
    twoFour: 'prawie {{count}} lata',
    other: 'prawie {{count}} lat'
  }
};
function pl_lib_formatDistance_formatDistance(token, count, options) {
  options = options || {};
  var scheme = pl_lib_formatDistance_formatDistanceLocale[token];

  if (!options.addSuffix) {
    return declension(scheme, count);
  }

  if (options.comparison > 0) {
    return 'za ' + declension(scheme, count, 'future');
  } else {
    return declension(scheme, count, 'past') + ' temu';
  }
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/pl/_lib/formatLong/index.js

var pl_lib_formatLong_dateFormats = {
  full: 'EEEE, do MMMM y',
  long: 'do MMMM y',
  medium: 'do MMM y',
  short: 'dd.MM.y'
};
var pl_lib_formatLong_timeFormats = {
  full: 'HH:mm:ss zzzz',
  long: 'HH:mm:ss z',
  medium: 'HH:mm:ss',
  short: 'HH:mm'
};
var pl_lib_formatLong_dateTimeFormats = {
  full: '{{date}} {{time}}',
  long: '{{date}} {{time}}',
  medium: '{{date}}, {{time}}',
  short: '{{date}}, {{time}}'
};
var pl_lib_formatLong_formatLong = {
  date: buildFormatLongFn({
    formats: pl_lib_formatLong_dateFormats,
    defaultWidth: 'full'
  }),
  time: buildFormatLongFn({
    formats: pl_lib_formatLong_timeFormats,
    defaultWidth: 'full'
  }),
  dateTime: buildFormatLongFn({
    formats: pl_lib_formatLong_dateTimeFormats,
    defaultWidth: 'full'
  })
};
/* harmony default export */ var pl_lib_formatLong = (pl_lib_formatLong_formatLong);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/pl/_lib/formatRelative/index.js

var adjectivesLastWeek = {
  masculine: 'ostatni',
  feminine: 'ostatnia'
};
var adjectivesThisWeek = {
  masculine: 'ten',
  feminine: 'ta'
};
var adjectivesNextWeek = {
  masculine: 'nastpny',
  feminine: 'nastpna'
};
var dayGrammaticalGender = {
  0: 'feminine',
  1: 'masculine',
  2: 'masculine',
  3: 'feminine',
  4: 'masculine',
  5: 'masculine',
  6: 'feminine'
};

function getAdjectives(token, date, baseDate, options) {
  if (isSameUTCWeek(date, baseDate, options)) {
    return adjectivesThisWeek;
  } else if (token === 'lastWeek') {
    return adjectivesLastWeek;
  } else if (token === 'nextWeek') {
    return adjectivesNextWeek;
  } else {
    throw new Error("Cannot determine adjectives for token ".concat(token));
  }
}

function getAdjective(token, date, baseDate, options) {
  var day = date.getUTCDay();
  var adjectives = getAdjectives(token, date, baseDate, options);
  var grammaticalGender = dayGrammaticalGender[day];
  return adjectives[grammaticalGender];
}

function dayAndTimeWithAdjective(token, date, baseDate, options) {
  var adjective = getAdjective(token, date, baseDate, options);
  return "'".concat(adjective, "' eeee 'o' p");
}

var pl_lib_formatRelative_formatRelativeLocale = {
  lastWeek: dayAndTimeWithAdjective,
  yesterday: "'wczoraj o' p",
  today: "'dzisiaj o' p",
  tomorrow: "'jutro o' p",
  nextWeek: dayAndTimeWithAdjective,
  other: 'P'
};
function pl_lib_formatRelative_formatRelative(token, date, baseDate, options) {
  var format = pl_lib_formatRelative_formatRelativeLocale[token];

  if (typeof format === 'function') {
    return format(token, date, baseDate, options);
  }

  return format;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/pl/_lib/localize/index.js


function pl_lib_localize_ordinalNumber(dirtyNumber) {
  var number = Number(dirtyNumber);
  return String(number);
}

var pl_lib_localize_eraValues = {
  narrow: ['p.n.e.', 'n.e.'],
  abbreviated: ['p.n.e.', 'n.e.'],
  wide: ['przed nasz er', 'naszej ery']
};
var pl_lib_localize_quarterValues = {
  narrow: ['1', '2', '3', '4'],
  abbreviated: ['I kw.', 'II kw.', 'III kw.', 'IV kw.'],
  wide: ['I kwarta', 'II kwarta', 'III kwarta', 'IV kwarta']
};
var pl_lib_localize_monthValues = {
  narrow: ['S', 'L', 'M', 'K', 'M', 'C', 'L', 'S', 'W', 'P', 'L', 'G'],
  abbreviated: ['sty', 'lut', 'mar', 'kwi', 'maj', 'cze', 'lip', 'sie', 'wrz', 'pa', 'lis', 'gru'],
  wide: ['stycze', 'luty', 'marzec', 'kwiecie', 'maj', 'czerwiec', 'lipiec', 'sierpie', 'wrzesie', 'padziernik', 'listopad', 'grudzie']
};
var monthFormattingValues = {
  narrow: ['s', 'l', 'm', 'k', 'm', 'c', 'l', 's', 'w', 'p', 'l', 'g'],
  abbreviated: ['sty', 'lut', 'mar', 'kwi', 'maj', 'cze', 'lip', 'sie', 'wrz', 'pa', 'lis', 'gru'],
  wide: ['stycznia', 'lutego', 'marca', 'kwietnia', 'maja', 'czerwca', 'lipca', 'sierpnia', 'wrzenia', 'padziernika', 'listopada', 'grudnia']
};
var pl_lib_localize_dayValues = {
  narrow: ['N', 'P', 'W', '', 'C', 'P', 'S'],
  short: ['nie', 'pon', 'wto', 'ro', 'czw', 'pi', 'sob'],
  abbreviated: ['niedz.', 'pon.', 'wt.', 'r.', 'czw.', 'pt.', 'sob.'],
  wide: ['niedziela', 'poniedziaek', 'wtorek', 'roda', 'czwartek', 'pitek', 'sobota']
};
var dayFormattingValues = {
  narrow: ['n', 'p', 'w', '', 'c', 'p', 's'],
  short: ['nie', 'pon', 'wto', 'ro', 'czw', 'pi', 'sob'],
  abbreviated: ['niedz.', 'pon.', 'wt.', 'r.', 'czw.', 'pt.', 'sob.'],
  wide: ['niedziela', 'poniedziaek', 'wtorek', 'roda', 'czwartek', 'pitek', 'sobota']
};
var pl_lib_localize_dayPeriodValues = {
  narrow: {
    am: 'a',
    pm: 'p',
    midnight: 'pn.',
    noon: 'po',
    morning: 'rano',
    afternoon: 'popo.',
    evening: 'wiecz.',
    night: 'noc'
  },
  abbreviated: {
    am: 'AM',
    pm: 'PM',
    midnight: 'pnoc',
    noon: 'poudnie',
    morning: 'rano',
    afternoon: 'popoudnie',
    evening: 'wieczr',
    night: 'noc'
  },
  wide: {
    am: 'AM',
    pm: 'PM',
    midnight: 'pnoc',
    noon: 'poudnie',
    morning: 'rano',
    afternoon: 'popoudnie',
    evening: 'wieczr',
    night: 'noc'
  }
};
var dayPeriodFormattingValues = {
  narrow: {
    am: 'a',
    pm: 'p',
    midnight: 'o pn.',
    noon: 'w po.',
    morning: 'rano',
    afternoon: 'po po.',
    evening: 'wiecz.',
    night: 'w nocy'
  },
  abbreviated: {
    am: 'AM',
    pm: 'PM',
    midnight: 'o pnocy',
    noon: 'w poudnie',
    morning: 'rano',
    afternoon: 'po poudniu',
    evening: 'wieczorem',
    night: 'w nocy'
  },
  wide: {
    am: 'AM',
    pm: 'PM',
    midnight: 'o pnocy',
    noon: 'w poudnie',
    morning: 'rano',
    afternoon: 'po poudniu',
    evening: 'wieczorem',
    night: 'w nocy'
  }
};
var pl_lib_localize_localize = {
  ordinalNumber: pl_lib_localize_ordinalNumber,
  era: buildLocalizeFn({
    values: pl_lib_localize_eraValues,
    defaultWidth: 'wide'
  }),
  quarter: buildLocalizeFn({
    values: pl_lib_localize_quarterValues,
    defaultWidth: 'wide',
    argumentCallback: function (quarter) {
      return Number(quarter) - 1;
    }
  }),
  month: buildLocalizeFn({
    values: pl_lib_localize_monthValues,
    defaultWidth: 'wide',
    formattingValues: monthFormattingValues,
    defaultFormattingWidth: 'wide'
  }),
  day: buildLocalizeFn({
    values: pl_lib_localize_dayValues,
    defaultWidth: 'wide',
    formattingValues: dayFormattingValues,
    defaultFormattingWidth: 'wide'
  }),
  dayPeriod: buildLocalizeFn({
    values: pl_lib_localize_dayPeriodValues,
    defaultWidth: 'wide',
    formattingValues: dayPeriodFormattingValues,
    defaultFormattingWidth: 'wide'
  })
};
/* harmony default export */ var pl_lib_localize = (pl_lib_localize_localize);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/pl/_lib/match/index.js


var pl_lib_match_matchOrdinalNumberPattern = /^(\d+)?/i;
var pl_lib_match_parseOrdinalNumberPattern = /\d+/i;
var pl_lib_match_matchEraPatterns = {
  narrow: /^(p\.?\s*n\.?\s*e\.?\s*|n\.?\s*e\.?\s*)/i,
  abbreviated: /^(p\.?\s*n\.?\s*e\.?\s*|n\.?\s*e\.?\s*)/i,
  wide: /^(przed\s*nasz(|a)\s*er(|a)|naszej\s*ery)/i
};
var pl_lib_match_parseEraPatterns = {
  any: [/^p/i, /^n/i]
};
var pl_lib_match_matchQuarterPatterns = {
  narrow: /^[1234]/i,
  abbreviated: /^(I|II|III|IV)\s*kw\.?/i,
  wide: /^(I|II|III|IV)\s*kwarta(|l)/i
};
var pl_lib_match_parseQuarterPatterns = {
  narrow: [/1/i, /2/i, /3/i, /4/i],
  any: [/^I kw/i, /^II kw/i, /^III kw/i, /^IV kw/i]
};
var pl_lib_match_matchMonthPatterns = {
  narrow: /^[slmkcwpg]/i,
  abbreviated: /^(sty|lut|mar|kwi|maj|cze|lip|sie|wrz|pa(|z)|lis|gru)/i,
  wide: /^(stycznia|stycze(|n)|lutego|luty|marca|marzec|kwietnia|kwiecie(|n)|maja|maj|czerwca|czerwiec|lipca|lipiec|sierpnia|sierpie(|n)|wrze(|s)nia|wrzesie(|n)|pa(|z)dziernika|pa(|z)dziernik|listopada|listopad|grudnia|grudzie(|n))/i
};
var pl_lib_match_parseMonthPatterns = {
  narrow: [/^s/i, /^l/i, /^m/i, /^k/i, /^m/i, /^c/i, /^l/i, /^s/i, /^w/i, /^p/i, /^l/i, /^g/i],
  any: [/^st/i, /^lu/i, /^mar/i, /^k/i, /^maj/i, /^c/i, /^lip/i, /^si/i, /^w/i, /^p/i, /^lis/i, /^g/i]
};
var pl_lib_match_matchDayPatterns = {
  narrow: /^[npwcs]/i,
  short: /^(nie|pon|wto|(|s)ro|czw|pi(|a)|sob)/i,
  abbreviated: /^(niedz|pon|wt|(|s)r|czw|pt|sob)\.?/i,
  wide: /^(niedziela|poniedzia(|l)ek|wtorek|(|s)roda|czwartek|pi(|a)tek|sobota)/i
};
var pl_lib_match_parseDayPatterns = {
  narrow: [/^n/i, /^p/i, /^w/i, /^/i, /^c/i, /^p/i, /^s/i],
  abbreviated: [/^n/i, /^po/i, /^w/i, /^(|s)r/i, /^c/i, /^pt/i, /^so/i],
  any: [/^n/i, /^po/i, /^w/i, /^(|s)r/i, /^c/i, /^pi/i, /^so/i]
};
var pl_lib_match_matchDayPeriodPatterns = {
  narrow: /^(^a$|^p$|p(|l)n\.?|o\s*p(|l)n\.?|po(|l)\.?|w\s*po(|l)\.?|po\s*po(|l)\.?|rano|wiecz\.?|noc|w\s*nocy)/i,
  any: /^(am|pm|p(|l)noc|o\s*p(|l)nocy|po(|l)udnie|w\s*po(|l)udnie|popo(|l)udnie|po\s*po(|l)udniu|rano|wieczr|wieczorem|noc|w\s*nocy)/i
};
var pl_lib_match_parseDayPeriodPatterns = {
  narrow: {
    am: /^a$/i,
    pm: /^p$/i,
    midnight: /p(|l)n/i,
    noon: /po(|l)/i,
    morning: /rano/i,
    afternoon: /po\s*po(|l)/i,
    evening: /wiecz/i,
    night: /noc/i
  },
  any: {
    am: /^am/i,
    pm: /^pm/i,
    midnight: /p(|l)n/i,
    noon: /po(|l)/i,
    morning: /rano/i,
    afternoon: /po\s*po(|l)/i,
    evening: /wiecz/i,
    night: /noc/i
  }
};
var pl_lib_match_match = {
  ordinalNumber: buildMatchPatternFn({
    matchPattern: pl_lib_match_matchOrdinalNumberPattern,
    parsePattern: pl_lib_match_parseOrdinalNumberPattern,
    valueCallback: function (value) {
      return parseInt(value, 10);
    }
  }),
  era: buildMatchFn({
    matchPatterns: pl_lib_match_matchEraPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: pl_lib_match_parseEraPatterns,
    defaultParseWidth: 'any'
  }),
  quarter: buildMatchFn({
    matchPatterns: pl_lib_match_matchQuarterPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: pl_lib_match_parseQuarterPatterns,
    defaultParseWidth: 'any',
    valueCallback: function (index) {
      return index + 1;
    }
  }),
  month: buildMatchFn({
    matchPatterns: pl_lib_match_matchMonthPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: pl_lib_match_parseMonthPatterns,
    defaultParseWidth: 'any'
  }),
  day: buildMatchFn({
    matchPatterns: pl_lib_match_matchDayPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: pl_lib_match_parseDayPatterns,
    defaultParseWidth: 'any'
  }),
  dayPeriod: buildMatchFn({
    matchPatterns: pl_lib_match_matchDayPeriodPatterns,
    defaultMatchWidth: 'any',
    parsePatterns: pl_lib_match_parseDayPeriodPatterns,
    defaultParseWidth: 'any'
  })
};
/* harmony default export */ var pl_lib_match = (pl_lib_match_match);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/pl/index.js





/**
 * @type {Locale}
 * @category Locales
 * @summary Polish locale.
 * @language Polish
 * @iso-639-2 pol
 * @author Mateusz Derks [@ertrzyiks]{@link https://github.com/ertrzyiks}
 * @author Just RAG [@justrag]{@link https://github.com/justrag}
 * @author Mikolaj Grzyb [@mikolajgrzyb]{@link https://github.com/mikolajgrzyb}
 * @author Mateusz Tokarski [@mutisz]{@link https://github.com/mutisz}
 */

var pl_locale = {
  code: 'pl',
  formatDistance: pl_lib_formatDistance_formatDistance,
  formatLong: pl_lib_formatLong,
  formatRelative: pl_lib_formatRelative_formatRelative,
  localize: pl_lib_localize,
  match: pl_lib_match,
  options: {
    weekStartsOn: 1
    /* Monday */
    ,
    firstWeekContainsDate: 4
  }
};
/* harmony default export */ var locale_pl = (pl_locale);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ru/_lib/formatDistance/index.js
function formatDistance_declension(scheme, count) {
  // scheme for count=1 exists
  if (scheme.one !== undefined && count === 1) {
    return scheme.one;
  }

  var rem10 = count % 10;
  var rem100 = count % 100; // 1, 21, 31, ...

  if (rem10 === 1 && rem100 !== 11) {
    return scheme.singularNominative.replace('{{count}}', count); // 2, 3, 4, 22, 23, 24, 32 ...
  } else if (rem10 >= 2 && rem10 <= 4 && (rem100 < 10 || rem100 > 20)) {
    return scheme.singularGenitive.replace('{{count}}', count); // 5, 6, 7, 8, 9, 10, 11, ...
  } else {
    return scheme.pluralGenitive.replace('{{count}}', count);
  }
}

function buildLocalizeTokenFn(scheme) {
  return function (count, options) {
    if (options.addSuffix) {
      if (options.comparison > 0) {
        if (scheme.future) {
          return formatDistance_declension(scheme.future, count);
        } else {
          return ' ' + formatDistance_declension(scheme.regular, count);
        }
      } else {
        if (scheme.past) {
          return formatDistance_declension(scheme.past, count);
        } else {
          return formatDistance_declension(scheme.regular, count) + ' ';
        }
      }
    } else {
      return formatDistance_declension(scheme.regular, count);
    }
  };
}

var ru_lib_formatDistance_formatDistanceLocale = {
  lessThanXSeconds: buildLocalizeTokenFn({
    regular: {
      one: ' ',
      singularNominative: ' {{count}} ',
      singularGenitive: ' {{count}} ',
      pluralGenitive: ' {{count}} '
    },
    future: {
      one: ',   ',
      singularNominative: ',   {{count}} ',
      singularGenitive: ',   {{count}} ',
      pluralGenitive: ',   {{count}} '
    }
  }),
  xSeconds: buildLocalizeTokenFn({
    regular: {
      singularNominative: '{{count}} ',
      singularGenitive: '{{count}} ',
      pluralGenitive: '{{count}} '
    },
    past: {
      singularNominative: '{{count}}  ',
      singularGenitive: '{{count}}  ',
      pluralGenitive: '{{count}}  '
    },
    future: {
      singularNominative: ' {{count}} ',
      singularGenitive: ' {{count}} ',
      pluralGenitive: ' {{count}} '
    }
  }),
  halfAMinute: function (_, options) {
    if (options.addSuffix) {
      if (options.comparison > 0) {
        return ' ';
      } else {
        return ' ';
      }
    }

    return '';
  },
  lessThanXMinutes: buildLocalizeTokenFn({
    regular: {
      one: ' ',
      singularNominative: ' {{count}} ',
      singularGenitive: ' {{count}} ',
      pluralGenitive: ' {{count}} '
    },
    future: {
      one: ',   ',
      singularNominative: ',   {{count}} ',
      singularGenitive: ',   {{count}} ',
      pluralGenitive: ',   {{count}} '
    }
  }),
  xMinutes: buildLocalizeTokenFn({
    regular: {
      singularNominative: '{{count}} ',
      singularGenitive: '{{count}} ',
      pluralGenitive: '{{count}} '
    },
    past: {
      singularNominative: '{{count}}  ',
      singularGenitive: '{{count}}  ',
      pluralGenitive: '{{count}}  '
    },
    future: {
      singularNominative: ' {{count}} ',
      singularGenitive: ' {{count}} ',
      pluralGenitive: ' {{count}} '
    }
  }),
  aboutXHours: buildLocalizeTokenFn({
    regular: {
      singularNominative: ' {{count}} ',
      singularGenitive: ' {{count}} ',
      pluralGenitive: ' {{count}} '
    },
    future: {
      singularNominative: '  {{count}} ',
      singularGenitive: '  {{count}} ',
      pluralGenitive: '  {{count}} '
    }
  }),
  xHours: buildLocalizeTokenFn({
    regular: {
      singularNominative: '{{count}} ',
      singularGenitive: '{{count}} ',
      pluralGenitive: '{{count}} '
    }
  }),
  xDays: buildLocalizeTokenFn({
    regular: {
      singularNominative: '{{count}} ',
      singularGenitive: '{{count}} ',
      pluralGenitive: '{{count}} '
    }
  }),
  aboutXWeeks: buildLocalizeTokenFn({
    regular: {
      singularNominative: ' {{count}} ',
      singularGenitive: ' {{count}} ',
      pluralGenitive: ' {{count}} '
    },
    future: {
      singularNominative: '  {{count}} ',
      singularGenitive: '  {{count}} ',
      pluralGenitive: '  {{count}} '
    }
  }),
  xWeeks: buildLocalizeTokenFn({
    regular: {
      singularNominative: '{{count}} ',
      singularGenitive: '{{count}} ',
      pluralGenitive: '{{count}} '
    }
  }),
  aboutXMonths: buildLocalizeTokenFn({
    regular: {
      singularNominative: ' {{count}} ',
      singularGenitive: ' {{count}} ',
      pluralGenitive: ' {{count}} '
    },
    future: {
      singularNominative: '  {{count}} ',
      singularGenitive: '  {{count}} ',
      pluralGenitive: '  {{count}} '
    }
  }),
  xMonths: buildLocalizeTokenFn({
    regular: {
      singularNominative: '{{count}} ',
      singularGenitive: '{{count}} ',
      pluralGenitive: '{{count}} '
    }
  }),
  aboutXYears: buildLocalizeTokenFn({
    regular: {
      singularNominative: ' {{count}} ',
      singularGenitive: ' {{count}} ',
      pluralGenitive: ' {{count}} '
    },
    future: {
      singularNominative: '  {{count}} ',
      singularGenitive: '  {{count}} ',
      pluralGenitive: '  {{count}} '
    }
  }),
  xYears: buildLocalizeTokenFn({
    regular: {
      singularNominative: '{{count}} ',
      singularGenitive: '{{count}} ',
      pluralGenitive: '{{count}} '
    }
  }),
  overXYears: buildLocalizeTokenFn({
    regular: {
      singularNominative: ' {{count}} ',
      singularGenitive: ' {{count}} ',
      pluralGenitive: ' {{count}} '
    },
    future: {
      singularNominative: ',   {{count}} ',
      singularGenitive: ',   {{count}} ',
      pluralGenitive: ',   {{count}} '
    }
  }),
  almostXYears: buildLocalizeTokenFn({
    regular: {
      singularNominative: ' {{count}} ',
      singularGenitive: ' {{count}} ',
      pluralGenitive: ' {{count}} '
    },
    future: {
      singularNominative: '  {{count}} ',
      singularGenitive: '  {{count}} ',
      pluralGenitive: '  {{count}} '
    }
  })
};
function ru_lib_formatDistance_formatDistance(token, count, options) {
  options = options || {};
  return ru_lib_formatDistance_formatDistanceLocale[token](count, options);
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ru/_lib/formatLong/index.js

var ru_lib_formatLong_dateFormats = {
  full: "EEEE, d MMMM y '.'",
  long: "d MMMM y '.'",
  medium: "d MMM y '.'",
  short: 'dd.MM.y'
};
var ru_lib_formatLong_timeFormats = {
  full: 'H:mm:ss zzzz',
  long: 'H:mm:ss z',
  medium: 'H:mm:ss',
  short: 'H:mm'
};
var ru_lib_formatLong_dateTimeFormats = {
  any: '{{date}}, {{time}}'
};
var ru_lib_formatLong_formatLong = {
  date: buildFormatLongFn({
    formats: ru_lib_formatLong_dateFormats,
    defaultWidth: 'full'
  }),
  time: buildFormatLongFn({
    formats: ru_lib_formatLong_timeFormats,
    defaultWidth: 'full'
  }),
  dateTime: buildFormatLongFn({
    formats: ru_lib_formatLong_dateTimeFormats,
    defaultWidth: 'any'
  })
};
/* harmony default export */ var ru_lib_formatLong = (ru_lib_formatLong_formatLong);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ru/_lib/formatRelative/index.js

var accusativeWeekdays = ['', '', '', '', '', '', ''];

function formatRelative_lastWeek(day) {
  var weekday = accusativeWeekdays[day];

  switch (day) {
    case 0:
      return "'  " + weekday + " ' p";

    case 1:
    case 2:
    case 4:
      return "'  " + weekday + " ' p";

    case 3:
    case 5:
    case 6:
      return "'  " + weekday + " ' p";
  }
}

function formatRelative_thisWeek(day) {
  var weekday = accusativeWeekdays[day];

  if (day === 2
  /* Tue */
  ) {
      return "' " + weekday + " ' p";
    } else {
    return "' " + weekday + " ' p";
  }
}

function formatRelative_nextWeek(day) {
  var weekday = accusativeWeekdays[day];

  switch (day) {
    case 0:
      return "'  " + weekday + " ' p";

    case 1:
    case 2:
    case 4:
      return "'  " + weekday + " ' p";

    case 3:
    case 5:
    case 6:
      return "'  " + weekday + " ' p";
  }
}

var ru_lib_formatRelative_formatRelativeLocale = {
  lastWeek: function (date, baseDate, options) {
    var day = date.getUTCDay();

    if (isSameUTCWeek(date, baseDate, options)) {
      return formatRelative_thisWeek(day);
    } else {
      return formatRelative_lastWeek(day);
    }
  },
  yesterday: "' ' p",
  today: "' ' p",
  tomorrow: "' ' p",
  nextWeek: function (date, baseDate, options) {
    var day = date.getUTCDay();

    if (isSameUTCWeek(date, baseDate, options)) {
      return formatRelative_thisWeek(day);
    } else {
      return formatRelative_nextWeek(day);
    }
  },
  other: 'P'
};
function ru_lib_formatRelative_formatRelative(token, date, baseDate, options) {
  var format = ru_lib_formatRelative_formatRelativeLocale[token];

  if (typeof format === 'function') {
    return format(date, baseDate, options);
  }

  return format;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ru/_lib/localize/index.js

var ru_lib_localize_eraValues = {
  narrow: [' ..', '..'],
  abbreviated: [' . .', '. .'],
  wide: ['  ', ' ']
};
var ru_lib_localize_quarterValues = {
  narrow: ['1', '2', '3', '4'],
  abbreviated: ['1- .', '2- .', '3- .', '4- .'],
  wide: ['1- ', '2- ', '3- ', '4- ']
};
var ru_lib_localize_monthValues = {
  narrow: ['', '', '', '', '', '', '', '', '', '', '', ''],
  abbreviated: ['.', '.', '', '.', '', '', '', '.', '.', '.', '.', '.'],
  wide: ['', '', '', '', '', '', '', '', '', '', '', '']
};
var localize_formattingMonthValues = {
  narrow: ['', '', '', '', '', '', '', '', '', '', '', ''],
  abbreviated: ['.', '.', '.', '.', '', '.', '.', '.', '.', '.', '.', '.'],
  wide: ['', '', '', '', '', '', '', '', '', '', '', '']
};
var ru_lib_localize_dayValues = {
  narrow: ['', '', '', '', '', '', ''],
  short: ['', '', '', '', '', '', ''],
  abbreviated: ['', '', '', '', '', '', ''],
  wide: ['', '', '', '', '', '', '']
};
var ru_lib_localize_dayPeriodValues = {
  narrow: {
    am: '',
    pm: '',
    midnight: '.',
    noon: '.',
    morning: '',
    afternoon: '',
    evening: '.',
    night: ''
  },
  abbreviated: {
    am: '',
    pm: '',
    midnight: '.',
    noon: '.',
    morning: '',
    afternoon: '',
    evening: '.',
    night: ''
  },
  wide: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  }
};
var ru_lib_localize_formattingDayPeriodValues = {
  narrow: {
    am: '',
    pm: '',
    midnight: '.',
    noon: '.',
    morning: '',
    afternoon: '',
    evening: '.',
    night: ''
  },
  abbreviated: {
    am: '',
    pm: '',
    midnight: '.',
    noon: '.',
    morning: '',
    afternoon: '',
    evening: '.',
    night: ''
  },
  wide: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  }
};

function ru_lib_localize_ordinalNumber(dirtyNumber, dirtyOptions) {
  var options = dirtyOptions || {};
  var unit = String(options.unit);
  var suffix;

  if (unit === 'date') {
    suffix = '-';
  } else if (unit === 'week' || unit === 'minute' || unit === 'second') {
    suffix = '-';
  } else {
    suffix = '-';
  }

  return dirtyNumber + suffix;
}

var ru_lib_localize_localize = {
  ordinalNumber: ru_lib_localize_ordinalNumber,
  era: buildLocalizeFn({
    values: ru_lib_localize_eraValues,
    defaultWidth: 'wide'
  }),
  quarter: buildLocalizeFn({
    values: ru_lib_localize_quarterValues,
    defaultWidth: 'wide',
    argumentCallback: function (quarter) {
      return Number(quarter) - 1;
    }
  }),
  month: buildLocalizeFn({
    values: ru_lib_localize_monthValues,
    defaultWidth: 'wide',
    formattingValues: localize_formattingMonthValues,
    defaultFormattingWidth: 'wide'
  }),
  day: buildLocalizeFn({
    values: ru_lib_localize_dayValues,
    defaultWidth: 'wide'
  }),
  dayPeriod: buildLocalizeFn({
    values: ru_lib_localize_dayPeriodValues,
    defaultWidth: 'any',
    formattingValues: ru_lib_localize_formattingDayPeriodValues,
    defaultFormattingWidth: 'wide'
  })
};
/* harmony default export */ var ru_lib_localize = (ru_lib_localize_localize);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ru/_lib/match/index.js


var ru_lib_match_matchOrdinalNumberPattern = /^(\d+)(-?(||||||||||))?/i;
var ru_lib_match_parseOrdinalNumberPattern = /\d+/i;
var ru_lib_match_matchEraPatterns = {
  narrow: /^(( )?\.?\s?\.?)/i,
  abbreviated: /^(( )?\.?\s?\.?)/i,
  wide: /^(  | | )/i
};
var ru_lib_match_parseEraPatterns = {
  any: [/^/i, /^/i]
};
var ru_lib_match_matchQuarterPatterns = {
  narrow: /^[1234]/i,
  abbreviated: /^[1234](-?[]??)? .?/i,
  wide: /^[1234](-?[]??)? /i
};
var ru_lib_match_parseQuarterPatterns = {
  any: [/1/i, /2/i, /3/i, /4/i]
};
var ru_lib_match_matchMonthPatterns = {
  narrow: /^[]/i,
  abbreviated: /^(||?||[]|[]?|[]?||?||?|)\.?/i,
  wide: /^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i
};
var ru_lib_match_parseMonthPatterns = {
  narrow: [/^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i],
  any: [/^/i, /^/i, /^/i, /^/i, /^[]/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i]
};
var ru_lib_match_matchDayPatterns = {
  narrow: /^[]/i,
  short: /^(|||||||||||)\.?/i,
  abbreviated: /^(||||||||||||).?/i,
  wide: /^([]|?|?|[]|?|[]|[])/i
};
var ru_lib_match_parseDayPatterns = {
  narrow: [/^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i],
  any: [/^[]/i, /^[]/i, /^/i, /^/i, /^/i, /^[]/i, /^[]/i]
};
var ru_lib_match_matchDayPeriodPatterns = {
  narrow: /^([]|\.?|\.?|[]|||\.?|[])/i,
  abbreviated: /^([]|\.?|\.?|[]|||\.?|[])/i,
  wide: /^([]|||[]|||?|[])/i
};
var ru_lib_match_parseDayPeriodPatterns = {
  any: {
    am: /^/i,
    pm: /^/i,
    midnight: /^/i,
    noon: /^/i,
    morning: /^/i,
    afternoon: /^[]/i,
    evening: /^/i,
    night: /^/i
  }
};
var ru_lib_match_match = {
  ordinalNumber: buildMatchPatternFn({
    matchPattern: ru_lib_match_matchOrdinalNumberPattern,
    parsePattern: ru_lib_match_parseOrdinalNumberPattern,
    valueCallback: function (value) {
      return parseInt(value, 10);
    }
  }),
  era: buildMatchFn({
    matchPatterns: ru_lib_match_matchEraPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: ru_lib_match_parseEraPatterns,
    defaultParseWidth: 'any'
  }),
  quarter: buildMatchFn({
    matchPatterns: ru_lib_match_matchQuarterPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: ru_lib_match_parseQuarterPatterns,
    defaultParseWidth: 'any',
    valueCallback: function (index) {
      return index + 1;
    }
  }),
  month: buildMatchFn({
    matchPatterns: ru_lib_match_matchMonthPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: ru_lib_match_parseMonthPatterns,
    defaultParseWidth: 'any'
  }),
  day: buildMatchFn({
    matchPatterns: ru_lib_match_matchDayPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: ru_lib_match_parseDayPatterns,
    defaultParseWidth: 'any'
  }),
  dayPeriod: buildMatchFn({
    matchPatterns: ru_lib_match_matchDayPeriodPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: ru_lib_match_parseDayPeriodPatterns,
    defaultParseWidth: 'any'
  })
};
/* harmony default export */ var ru_lib_match = (ru_lib_match_match);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/ru/index.js





/**
 * @type {Locale}
 * @category Locales
 * @summary Russian locale.
 * @language Russian
 * @iso-639-2 rus
 * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}
 * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}
 */

var ru_locale = {
  code: 'ru',
  formatDistance: ru_lib_formatDistance_formatDistance,
  formatLong: ru_lib_formatLong,
  formatRelative: ru_lib_formatRelative_formatRelative,
  localize: ru_lib_localize,
  match: ru_lib_match,
  options: {
    weekStartsOn: 1
    /* Monday */
    ,
    firstWeekContainsDate: 1
  }
};
/* harmony default export */ var locale_ru = (ru_locale);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/th/_lib/formatDistance/index.js
var th_lib_formatDistance_formatDistanceLocale = {
  lessThanXSeconds: {
    one: ' 1 ',
    other: ' {{count}} '
  },
  xSeconds: {
    one: '1 ',
    other: '{{count}} '
  },
  halfAMinute: '',
  lessThanXMinutes: {
    one: ' 1 ',
    other: ' {{count}} '
  },
  xMinutes: {
    one: '1 ',
    other: '{{count}} '
  },
  aboutXHours: {
    one: ' 1 ',
    other: ' {{count}} '
  },
  xHours: {
    one: '1 ',
    other: '{{count}} '
  },
  xDays: {
    one: '1 ',
    other: '{{count}} '
  },
  aboutXWeeks: {
    one: ' 1 ',
    other: ' {{count}} '
  },
  xWeeks: {
    one: '1 ',
    other: '{{count}} '
  },
  aboutXMonths: {
    one: ' 1 ',
    other: ' {{count}} '
  },
  xMonths: {
    one: '1 ',
    other: '{{count}} '
  },
  aboutXYears: {
    one: ' 1 ',
    other: ' {{count}} '
  },
  xYears: {
    one: '1 ',
    other: '{{count}} '
  },
  overXYears: {
    one: ' 1 ',
    other: ' {{count}} '
  },
  almostXYears: {
    one: ' 1 ',
    other: ' {{count}} '
  }
};
function th_lib_formatDistance_formatDistance(token, count, options) {
  options = options || {};
  var result;

  if (typeof th_lib_formatDistance_formatDistanceLocale[token] === 'string') {
    result = th_lib_formatDistance_formatDistanceLocale[token];
  } else if (count === 1) {
    result = th_lib_formatDistance_formatDistanceLocale[token].one;
  } else {
    result = th_lib_formatDistance_formatDistanceLocale[token].other.replace('{{count}}', count);
  }

  if (options.addSuffix) {
    if (options.comparison > 0) {
      if (token === 'halfAMinute') {
        return '' + result;
      } else {
        return ' ' + result;
      }
    } else {
      return result + '';
    }
  }

  return result;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/th/_lib/formatLong/index.js

var th_lib_formatLong_dateFormats = {
  full: 'EEEE do MMMM y',
  long: 'do MMMM y',
  medium: 'd MMM y',
  short: 'dd/MM/yyyy'
};
var th_lib_formatLong_timeFormats = {
  full: 'H:mm:ss . zzzz',
  long: 'H:mm:ss . z',
  medium: 'H:mm:ss .',
  short: 'H:mm .'
};
var th_lib_formatLong_dateTimeFormats = {
  full: "{{date}} '' {{time}}",
  long: "{{date}} '' {{time}}",
  medium: '{{date}}, {{time}}',
  short: '{{date}}, {{time}}'
};
var th_lib_formatLong_formatLong = {
  date: buildFormatLongFn({
    formats: th_lib_formatLong_dateFormats,
    defaultWidth: 'full'
  }),
  time: buildFormatLongFn({
    formats: th_lib_formatLong_timeFormats,
    defaultWidth: 'medium'
  }),
  dateTime: buildFormatLongFn({
    formats: th_lib_formatLong_dateTimeFormats,
    defaultWidth: 'full'
  })
};
/* harmony default export */ var th_lib_formatLong = (th_lib_formatLong_formatLong);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/th/_lib/formatRelative/index.js
var th_lib_formatRelative_formatRelativeLocale = {
  lastWeek: "eeee'' p",
  yesterday: "'' p",
  today: "'' p",
  tomorrow: "'' p",
  nextWeek: "eeee '' p",
  other: 'P'
};
function th_lib_formatRelative_formatRelative(token, _date, _baseDate, _options) {
  return th_lib_formatRelative_formatRelativeLocale[token];
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/th/_lib/localize/index.js

var th_lib_localize_eraValues = {
  narrow: ['B', ''],
  abbreviated: ['BC', '..'],
  wide: ['', '']
};
var th_lib_localize_quarterValues = {
  narrow: ['1', '2', '3', '4'],
  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],
  wide: ['', '', '', '']
};
var th_lib_localize_dayValues = {
  narrow: ['.', '.', '.', '.', '.', '.', '.'],
  short: ['.', '.', '.', '.', '.', '.', '.'],
  abbreviated: ['.', '.', '.', '.', '.', '.', '.'],
  wide: ['', '', '', '', '', '', '']
};
var th_lib_localize_monthValues = {
  narrow: ['..', '..', '..', '..', '..', '..', '..', '..', '..', '..', '..', '..'],
  abbreviated: ['..', '..', '..', '..', '..', '..', '..', '..', '..', '..', '..', '..'],
  wide: ['', '', '', '', '', '', '', '', '', '', '', '']
};
var th_lib_localize_dayPeriodValues = {
  narrow: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  },
  abbreviated: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  },
  wide: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  }
};
var th_lib_localize_formattingDayPeriodValues = {
  narrow: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  },
  abbreviated: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  },
  wide: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  }
};

function th_lib_localize_ordinalNumber(dirtyNumber) {
  var number = Number(dirtyNumber);
  return number;
}

var th_lib_localize_localize = {
  ordinalNumber: th_lib_localize_ordinalNumber,
  era: buildLocalizeFn({
    values: th_lib_localize_eraValues,
    defaultWidth: 'wide'
  }),
  quarter: buildLocalizeFn({
    values: th_lib_localize_quarterValues,
    defaultWidth: 'wide',
    argumentCallback: function (quarter) {
      return Number(quarter) - 1;
    }
  }),
  month: buildLocalizeFn({
    values: th_lib_localize_monthValues,
    defaultWidth: 'wide'
  }),
  day: buildLocalizeFn({
    values: th_lib_localize_dayValues,
    defaultWidth: 'wide'
  }),
  dayPeriod: buildLocalizeFn({
    values: th_lib_localize_dayPeriodValues,
    defaultWidth: 'wide',
    formattingValues: th_lib_localize_formattingDayPeriodValues,
    defaultFormattingWidth: 'wide'
  })
};
/* harmony default export */ var th_lib_localize = (th_lib_localize_localize);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/th/_lib/match/index.js


var th_lib_match_matchOrdinalNumberPattern = /^\d+/i;
var th_lib_match_parseOrdinalNumberPattern = /\d+/i;
var th_lib_match_matchEraPatterns = {
  narrow: /^([bB]|[aA]|)/i,
  abbreviated: /^([bB]\.?\s?[cC]\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?|\.?\.?)/i,
  wide: /^(||)/i
};
var th_lib_match_parseEraPatterns = {
  any: [/^[bB]/i, /^(^[aA]|\.?\.?|||)/i]
};
var th_lib_match_matchQuarterPatterns = {
  narrow: /^[1234]/i,
  abbreviated: /^q[1234]/i,
  wide: /^()? ?[1234]/i
};
var th_lib_match_parseQuarterPatterns = {
  any: [/(1||)/i, /(2|)/i, /(3|)/i, /(4|)/i]
};
var th_lib_match_matchMonthPatterns = {
  narrow: /^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?)/i,
  abbreviated: /^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?')/i,
  wide: /^(|||||||||||)/i
};
var th_lib_match_parseMonthPatterns = {
  wide: [/^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i],
  any: [/^\.?\.?/i, /^\.?\.?/i, /^\.?\.?/i, /^\.?\.?/i, /^\.?\.?/i, /^\.?\.?/i, /^\.?\.?/i, /^\.?\.?/i, /^\.?\.?/i, /^\.?\.?/i, /^\.?\.?/i, /^\.?\.?/i]
};
var th_lib_match_matchDayPatterns = {
  narrow: /^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,
  short: /^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,
  abbreviated: /^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,
  wide: /^(||||||)/i
};
var th_lib_match_parseDayPatterns = {
  wide: [/^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i],
  any: [/^/i, /^/i, /^/i, /^(?!)/i, /^/i, /^/i, /^/i]
};
var th_lib_match_matchDayPeriodPatterns = {
  any: /^(||||(.*?)?.*(||||))/i
};
var th_lib_match_parseDayPeriodPatterns = {
  any: {
    am: /^/i,
    pm: /^/i,
    midnight: /^/i,
    noon: /^/i,
    morning: //i,
    afternoon: //i,
    evening: //i,
    night: //i
  }
};
var th_lib_match_match = {
  ordinalNumber: buildMatchPatternFn({
    matchPattern: th_lib_match_matchOrdinalNumberPattern,
    parsePattern: th_lib_match_parseOrdinalNumberPattern,
    valueCallback: function (value) {
      return parseInt(value, 10);
    }
  }),
  era: buildMatchFn({
    matchPatterns: th_lib_match_matchEraPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: th_lib_match_parseEraPatterns,
    defaultParseWidth: 'any'
  }),
  quarter: buildMatchFn({
    matchPatterns: th_lib_match_matchQuarterPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: th_lib_match_parseQuarterPatterns,
    defaultParseWidth: 'any',
    valueCallback: function (index) {
      return index + 1;
    }
  }),
  month: buildMatchFn({
    matchPatterns: th_lib_match_matchMonthPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: th_lib_match_parseMonthPatterns,
    defaultParseWidth: 'any'
  }),
  day: buildMatchFn({
    matchPatterns: th_lib_match_matchDayPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: th_lib_match_parseDayPatterns,
    defaultParseWidth: 'any'
  }),
  dayPeriod: buildMatchFn({
    matchPatterns: th_lib_match_matchDayPeriodPatterns,
    defaultMatchWidth: 'any',
    parsePatterns: th_lib_match_parseDayPeriodPatterns,
    defaultParseWidth: 'any'
  })
};
/* harmony default export */ var th_lib_match = (th_lib_match_match);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/th/index.js





/**
 * @type {Locale}
 * @category Locales
 * @summary Thai locale.
 * @language Thai
 * @iso-639-2 tha
 * @author Athiwat Hirunworawongkun [@athivvat]{@link https://github.com/athivvat}
 * @author [@hawkup]{@link https://github.com/hawkup}
 * @author  Jirawat I. [@nodtem66]{@link https://github.com/nodtem66}
 */

var th_locale = {
  code: 'th',
  formatDistance: th_lib_formatDistance_formatDistance,
  formatLong: th_lib_formatLong,
  formatRelative: th_lib_formatRelative_formatRelative,
  localize: th_lib_localize,
  match: th_lib_match,
  options: {
    weekStartsOn: 0
    /* Sunday */
    ,
    firstWeekContainsDate: 1
  }
};
/* harmony default export */ var locale_th = (th_locale);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/zh-CN/_lib/formatDistance/index.js
var zh_CN_lib_formatDistance_formatDistanceLocale = {
  lessThanXSeconds: {
    one: ' 1 ',
    other: ' {{count}} '
  },
  xSeconds: {
    one: '1 ',
    other: '{{count}} '
  },
  halfAMinute: '',
  lessThanXMinutes: {
    one: ' 1 ',
    other: ' {{count}} '
  },
  xMinutes: {
    one: '1 ',
    other: '{{count}} '
  },
  xHours: {
    one: '1 ',
    other: '{{count}} '
  },
  aboutXHours: {
    one: ' 1 ',
    other: ' {{count}} '
  },
  xDays: {
    one: '1 ',
    other: '{{count}} '
  },
  aboutXWeeks: {
    one: ' 1 ',
    other: ' {{count}} '
  },
  xWeeks: {
    one: '1 ',
    other: '{{count}} '
  },
  aboutXMonths: {
    one: ' 1 ',
    other: ' {{count}} '
  },
  xMonths: {
    one: '1 ',
    other: '{{count}} '
  },
  aboutXYears: {
    one: ' 1 ',
    other: ' {{count}} '
  },
  xYears: {
    one: '1 ',
    other: '{{count}} '
  },
  overXYears: {
    one: ' 1 ',
    other: ' {{count}} '
  },
  almostXYears: {
    one: ' 1 ',
    other: ' {{count}} '
  }
};
function zh_CN_lib_formatDistance_formatDistance(token, count, options) {
  options = options || {};
  var result;

  if (typeof zh_CN_lib_formatDistance_formatDistanceLocale[token] === 'string') {
    result = zh_CN_lib_formatDistance_formatDistanceLocale[token];
  } else if (count === 1) {
    result = zh_CN_lib_formatDistance_formatDistanceLocale[token].one;
  } else {
    result = zh_CN_lib_formatDistance_formatDistanceLocale[token].other.replace('{{count}}', count);
  }

  if (options.addSuffix) {
    if (options.comparison > 0) {
      return result + '';
    } else {
      return result + '';
    }
  }

  return result;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/zh-CN/_lib/formatLong/index.js

var zh_CN_lib_formatLong_dateFormats = {
  full: "y''M''d'' EEEE",
  long: "y''M''d''",
  medium: 'yyyy-MM-dd',
  short: 'yy-MM-dd'
};
var zh_CN_lib_formatLong_timeFormats = {
  full: 'zzzz a h:mm:ss',
  long: 'z a h:mm:ss',
  medium: 'a h:mm:ss',
  short: 'a h:mm'
};
var zh_CN_lib_formatLong_dateTimeFormats = {
  full: '{{date}} {{time}}',
  long: '{{date}} {{time}}',
  medium: '{{date}} {{time}}',
  short: '{{date}} {{time}}'
};
var zh_CN_lib_formatLong_formatLong = {
  date: buildFormatLongFn({
    formats: zh_CN_lib_formatLong_dateFormats,
    defaultWidth: 'full'
  }),
  time: buildFormatLongFn({
    formats: zh_CN_lib_formatLong_timeFormats,
    defaultWidth: 'full'
  }),
  dateTime: buildFormatLongFn({
    formats: zh_CN_lib_formatLong_dateTimeFormats,
    defaultWidth: 'full'
  })
};
/* harmony default export */ var zh_CN_lib_formatLong = (zh_CN_lib_formatLong_formatLong);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/zh-CN/_lib/formatRelative/index.js


function checkWeek(_date, _baseDate, _options, baseFormat) {
  if (isSameUTCWeek(_date, _baseDate, _options)) {
    return baseFormat; // in same week
  } else if (_date.getTime() > _baseDate.getTime()) {
    return "''" + baseFormat; // in next week
  }

  return "''" + baseFormat; // in last week
}

var zh_CN_lib_formatRelative_formatRelativeLocale = {
  lastWeek: checkWeek,
  // days before yesterday, maybe in this week or last week
  yesterday: "'' p",
  today: "'' p",
  tomorrow: "'' p",
  nextWeek: checkWeek,
  // days after tomorrow, maybe in this week or next week
  other: 'PP p'
};
function zh_CN_lib_formatRelative_formatRelative(token, _date, _baseDate, _options) {
  var format = zh_CN_lib_formatRelative_formatRelativeLocale[token];

  if (typeof format === 'function') {
    return format(_date, _baseDate, _options, 'eeee p');
  }

  return format;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/zh-CN/_lib/localize/index.js

var zh_CN_lib_localize_eraValues = {
  narrow: ['', ''],
  abbreviated: ['', ''],
  wide: ['', '']
};
var zh_CN_lib_localize_quarterValues = {
  narrow: ['1', '2', '3', '4'],
  abbreviated: ['', '', '', ''],
  wide: ['', '', '', '']
};
var zh_CN_lib_localize_monthValues = {
  narrow: ['', '', '', '', '', '', '', '', '', '', '', ''],
  abbreviated: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],
  wide: ['', '', '', '', '', '', '', '', '', '', '', '']
};
var zh_CN_lib_localize_dayValues = {
  narrow: ['', '', '', '', '', '', ''],
  short: ['', '', '', '', '', '', ''],
  abbreviated: ['', '', '', '', '', '', ''],
  wide: ['', '', '', '', '', '', '']
};
var zh_CN_lib_localize_dayPeriodValues = {
  narrow: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  },
  abbreviated: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  },
  wide: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  }
};
var zh_CN_lib_localize_formattingDayPeriodValues = {
  narrow: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  },
  abbreviated: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  },
  wide: {
    am: '',
    pm: '',
    midnight: '',
    noon: '',
    morning: '',
    afternoon: '',
    evening: '',
    night: ''
  }
};

function zh_CN_lib_localize_ordinalNumber(dirtyNumber, dirtyOptions) {
  // If ordinal numbers depend on context, for example,
  // if they are different for different grammatical genders,
  // use `options.unit`:
  //
  //   var options = dirtyOptions || {}
  //   var unit = String(options.unit)
  //
  // where `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',
  // 'day', 'hour', 'minute', 'second'
  var number = Number(dirtyNumber);
  var options = dirtyOptions || {};
  var unit = String(options.unit);

  switch (unit) {
    case 'date':
      return number.toString() + '';

    case 'hour':
      return number.toString() + '';

    case 'minute':
      return number.toString() + '';

    case 'second':
      return number.toString() + '';

    default:
      return ' ' + number.toString();
  }
}

var zh_CN_lib_localize_localize = {
  ordinalNumber: zh_CN_lib_localize_ordinalNumber,
  era: buildLocalizeFn({
    values: zh_CN_lib_localize_eraValues,
    defaultWidth: 'wide'
  }),
  quarter: buildLocalizeFn({
    values: zh_CN_lib_localize_quarterValues,
    defaultWidth: 'wide',
    argumentCallback: function (quarter) {
      return Number(quarter) - 1;
    }
  }),
  month: buildLocalizeFn({
    values: zh_CN_lib_localize_monthValues,
    defaultWidth: 'wide'
  }),
  day: buildLocalizeFn({
    values: zh_CN_lib_localize_dayValues,
    defaultWidth: 'wide'
  }),
  dayPeriod: buildLocalizeFn({
    values: zh_CN_lib_localize_dayPeriodValues,
    defaultWidth: 'wide',
    formattingValues: zh_CN_lib_localize_formattingDayPeriodValues,
    defaultFormattingWidth: 'wide'
  })
};
/* harmony default export */ var zh_CN_lib_localize = (zh_CN_lib_localize_localize);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/zh-CN/_lib/match/index.js


var zh_CN_lib_match_matchOrdinalNumberPattern = /^(\s*)?\d+(|||)?/i;
var zh_CN_lib_match_parseOrdinalNumberPattern = /\d+/i;
var zh_CN_lib_match_matchEraPatterns = {
  narrow: /^()/i,
  abbreviated: /^()/i,
  wide: /^(|)/i
};
var zh_CN_lib_match_parseEraPatterns = {
  any: [/^()/i, /^()/i]
};
var zh_CN_lib_match_matchQuarterPatterns = {
  narrow: /^[1234]/i,
  abbreviated: /^[]/i,
  wide: /^[]/i
};
var zh_CN_lib_match_parseQuarterPatterns = {
  any: [/(1|)/i, /(2|)/i, /(3|)/i, /(4|)/i]
};
var zh_CN_lib_match_matchMonthPatterns = {
  narrow: /^(|||||||||[])/i,
  abbreviated: /^(|||||||||[]|\d|1[12])/i,
  wide: /^(|||||||||[])/i
};
var zh_CN_lib_match_parseMonthPatterns = {
  narrow: [/^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^(?!(|))/i, /^/i, /^/i],
  any: [/^|1/i, /^|2/i, /^|3/i, /^|4/i, /^|5/i, /^|6/i, /^|7/i, /^|8/i, /^|9/i, /^(?!(|))|10/i, /^|11/i, /^|12/i]
};
var zh_CN_lib_match_matchDayPatterns = {
  narrow: /^[]/i,
  short: /^[]/i,
  abbreviated: /^[]/i,
  wide: /^[]/i
};
var zh_CN_lib_match_parseDayPatterns = {
  any: [//i, //i, //i, //i, //i, //i, //i]
};
var zh_CN_lib_match_matchDayPeriodPatterns = {
  any: /^(?|?||[]|?||?||)/i
};
var zh_CN_lib_match_parseDayPeriodPatterns = {
  any: {
    am: /^?/i,
    pm: /^?/i,
    midnight: /^/i,
    noon: /^[]/i,
    morning: /^/i,
    afternoon: /^/i,
    evening: /^?/i,
    night: /^/i
  }
};
var zh_CN_lib_match_match = {
  ordinalNumber: buildMatchPatternFn({
    matchPattern: zh_CN_lib_match_matchOrdinalNumberPattern,
    parsePattern: zh_CN_lib_match_parseOrdinalNumberPattern,
    valueCallback: function (value) {
      return parseInt(value, 10);
    }
  }),
  era: buildMatchFn({
    matchPatterns: zh_CN_lib_match_matchEraPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: zh_CN_lib_match_parseEraPatterns,
    defaultParseWidth: 'any'
  }),
  quarter: buildMatchFn({
    matchPatterns: zh_CN_lib_match_matchQuarterPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: zh_CN_lib_match_parseQuarterPatterns,
    defaultParseWidth: 'any',
    valueCallback: function (index) {
      return index + 1;
    }
  }),
  month: buildMatchFn({
    matchPatterns: zh_CN_lib_match_matchMonthPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: zh_CN_lib_match_parseMonthPatterns,
    defaultParseWidth: 'any'
  }),
  day: buildMatchFn({
    matchPatterns: zh_CN_lib_match_matchDayPatterns,
    defaultMatchWidth: 'wide',
    parsePatterns: zh_CN_lib_match_parseDayPatterns,
    defaultParseWidth: 'any'
  }),
  dayPeriod: buildMatchFn({
    matchPatterns: zh_CN_lib_match_matchDayPeriodPatterns,
    defaultMatchWidth: 'any',
    parsePatterns: zh_CN_lib_match_parseDayPeriodPatterns,
    defaultParseWidth: 'any'
  })
};
/* harmony default export */ var zh_CN_lib_match = (zh_CN_lib_match_match);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/locale/zh-CN/index.js





/**
 * @type {Locale}
 * @category Locales
 * @summary Chinese Simplified locale.
 * @language Chinese Simplified
 * @iso-639-2 zho
 * @author Changyu Geng [@KingMario]{@link https://github.com/KingMario}
 * @author Song Shuoyun [@fnlctrl]{@link https://github.com/fnlctrl}
 * @author sabrinaM [@sabrinamiao]{@link https://github.com/sabrinamiao}
 * @author Carney Wu [@cubicwork]{@link https://github.com/cubicwork}
 * @author Terrence Lam [@skyuplam]{@link https://github.com/skyuplam}
 */

var zh_CN_locale = {
  code: 'zh-CN',
  formatDistance: zh_CN_lib_formatDistance_formatDistance,
  formatLong: zh_CN_lib_formatLong,
  formatRelative: zh_CN_lib_formatRelative_formatRelative,
  localize: zh_CN_lib_localize,
  match: zh_CN_lib_match,
  options: {
    weekStartsOn: 1
    /* Monday */
    ,
    firstWeekContainsDate: 4
  }
};
/* harmony default export */ var zh_CN = (zh_CN_locale);
// CONCATENATED MODULE: ./node_modules/@elf/emerald-datetime-picker/lib/locales.js



// This file is a transition between using date-fns and Intl object to format dates
// As of now, use Phraseboook to just resolve languages and locales
// and match against the date-fns locales.
// match locales against date-fns
// This will be used with resolveLocale function
const locales_globals = {};
const lib_locales_scope = 'emerald-datetime-picker';
lib["a" /* Phrasebook */].define('en', lib_locales_scope, locales_globals);
lib["a" /* Phrasebook */].define('en-GB', lib_locales_scope, locales_globals);
lib["a" /* Phrasebook */].define('de', lib_locales_scope, locales_globals);
lib["a" /* Phrasebook */].define('es', lib_locales_scope, locales_globals);
lib["a" /* Phrasebook */].define('fr', lib_locales_scope, locales_globals);
lib["a" /* Phrasebook */].define('it', lib_locales_scope, locales_globals);
lib["a" /* Phrasebook */].define('ja', lib_locales_scope, locales_globals);
lib["a" /* Phrasebook */].define('ko', lib_locales_scope, locales_globals);
lib["a" /* Phrasebook */].define('pl', lib_locales_scope, locales_globals);
lib["a" /* Phrasebook */].define('ru', lib_locales_scope, locales_globals);
lib["a" /* Phrasebook */].define('th', lib_locales_scope, locales_globals);
lib["a" /* Phrasebook */].define('zh', lib_locales_scope, locales_globals);
const locales = {
    'en': en_US,
    'en-GB': en_GB,
    de: locale_de,
    es: locale_es,
    fr: locale_fr,
    it: locale_it,
    ja: locale_ja,
    ko: locale_ko,
    pl: locale_pl,
    ru: locale_ru,
    th: locale_th,
    'zh': zh_CN
};
/**
 * Get date-fns locale or default locale
 * @param [locale] BCP47 locale tag
 * @returns DateFNS Locale object
 */
const getDateFNSLocale = (locale) => {
    locale = Object(elf_i18n_lib["c" /* resolveLocale */])(lib_locales_scope, locale) || elf_i18n_lib["a" /* DEFAULT_LOCALE */];
    return locales[locale] || en_US;
};


// CONCATENATED MODULE: ./node_modules/date-fns/esm/isDate/index.js

/**
 * @name isDate
 * @category Common Helpers
 * @summary Is the given value a date?
 *
 * @description
 * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.
 *
 * ### v2.0.0 breaking changes:
 *
 * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).
 *
 * @param {*} value - the value to check
 * @returns {boolean} true if the given value is a date
 * @throws {TypeError} 1 arguments required
 *
 * @example
 * // For a valid date:
 * const result = isDate(new Date())
 * //=> true
 *
 * @example
 * // For an invalid date:
 * const result = isDate(new Date(NaN))
 * //=> true
 *
 * @example
 * // For some value:
 * const result = isDate('2014-02-31')
 * //=> false
 *
 * @example
 * // For an object:
 * const result = isDate({})
 * //=> false
 */

function isDate(value) {
  requiredArgs(1, arguments);
  return value instanceof Date || typeof value === 'object' && Object.prototype.toString.call(value) === '[object Date]';
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/isValid/index.js



/**
 * @name isValid
 * @category Common Helpers
 * @summary Is the given date valid?
 *
 * @description
 * Returns false if argument is Invalid Date and true otherwise.
 * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}
 * Invalid Date is a Date, whose time value is NaN.
 *
 * Time value of Date: http://es5.github.io/#x15.9.1.1
 *
 * ### v2.0.0 breaking changes:
 *
 * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).
 *
 * - Now `isValid` doesn't throw an exception
 *   if the first argument is not an instance of Date.
 *   Instead, argument is converted beforehand using `toDate`.
 *
 *   Examples:
 *
 *   | `isValid` argument        | Before v2.0.0 | v2.0.0 onward |
 *   |---------------------------|---------------|---------------|
 *   | `new Date()`              | `true`        | `true`        |
 *   | `new Date('2016-01-01')`  | `true`        | `true`        |
 *   | `new Date('')`            | `false`       | `false`       |
 *   | `new Date(1488370835081)` | `true`        | `true`        |
 *   | `new Date(NaN)`           | `false`       | `false`       |
 *   | `'2016-01-01'`            | `TypeError`   | `false`       |
 *   | `''`                      | `TypeError`   | `false`       |
 *   | `1488370835081`           | `TypeError`   | `true`        |
 *   | `NaN`                     | `TypeError`   | `false`       |
 *
 *   We introduce this change to make *date-fns* consistent with ECMAScript behavior
 *   that try to coerce arguments to the expected type
 *   (which is also the case with other *date-fns* functions).
 *
 * @param {*} date - the date to check
 * @returns {Boolean} the date is valid
 * @throws {TypeError} 1 argument required
 *
 * @example
 * // For the valid date:
 * const result = isValid(new Date(2014, 1, 31))
 * //=> true
 *
 * @example
 * // For the value, convertable into a date:
 * const result = isValid(1393804800000)
 * //=> true
 *
 * @example
 * // For the invalid date:
 * const result = isValid(new Date(''))
 * //=> false
 */

function isValid_isValid(dirtyDate) {
  requiredArgs(1, arguments);

  if (!isDate(dirtyDate) && typeof dirtyDate !== 'number') {
    return false;
  }

  var date = toDate(dirtyDate);
  return !isNaN(Number(date));
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/addMilliseconds/index.js



/**
 * @name addMilliseconds
 * @category Millisecond Helpers
 * @summary Add the specified number of milliseconds to the given date.
 *
 * @description
 * Add the specified number of milliseconds to the given date.
 *
 * ### v2.0.0 breaking changes:
 *
 * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).
 *
 * @param {Date|Number} date - the date to be changed
 * @param {Number} amount - the amount of milliseconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.
 * @returns {Date} the new date with the milliseconds added
 * @throws {TypeError} 2 arguments required
 *
 * @example
 * // Add 750 milliseconds to 10 July 2014 12:45:30.000:
 * const result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)
 * //=> Thu Jul 10 2014 12:45:30.750
 */

function addMilliseconds(dirtyDate, dirtyAmount) {
  requiredArgs(2, arguments);
  var timestamp = toDate(dirtyDate).getTime();
  var amount = toInteger(dirtyAmount);
  return new Date(timestamp + amount);
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/subMilliseconds/index.js



/**
 * @name subMilliseconds
 * @category Millisecond Helpers
 * @summary Subtract the specified number of milliseconds from the given date.
 *
 * @description
 * Subtract the specified number of milliseconds from the given date.
 *
 * ### v2.0.0 breaking changes:
 *
 * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).
 *
 * @param {Date|Number} date - the date to be changed
 * @param {Number} amount - the amount of milliseconds to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.
 * @returns {Date} the new date with the milliseconds subtracted
 * @throws {TypeError} 2 arguments required
 *
 * @example
 * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:
 * const result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)
 * //=> Thu Jul 10 2014 12:45:29.250
 */

function subMilliseconds(dirtyDate, dirtyAmount) {
  requiredArgs(2, arguments);
  var amount = toInteger(dirtyAmount);
  return addMilliseconds(dirtyDate, -amount);
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/addLeadingZeros/index.js
function addLeadingZeros(number, targetLength) {
  var sign = number < 0 ? '-' : '';
  var output = Math.abs(number).toString();

  while (output.length < targetLength) {
    output = '0' + output;
  }

  return sign + output;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/format/lightFormatters/index.js

/*
 * |     | Unit                           |     | Unit                           |
 * |-----|--------------------------------|-----|--------------------------------|
 * |  a  | AM, PM                         |  A* |                                |
 * |  d  | Day of month                   |  D  |                                |
 * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |
 * |  m  | Minute                         |  M  | Month                          |
 * |  s  | Second                         |  S  | Fraction of second             |
 * |  y  | Year (abs)                     |  Y  |                                |
 *
 * Letters marked by * are not implemented but reserved by Unicode standard.
 */

var formatters = {
  // Year
  y: function (date, token) {
    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens
    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |
    // |----------|-------|----|-------|-------|-------|
    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |
    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |
    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |
    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |
    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |
    var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)

    var year = signedYear > 0 ? signedYear : 1 - signedYear;
    return addLeadingZeros(token === 'yy' ? year % 100 : year, token.length);
  },
  // Month
  M: function (date, token) {
    var month = date.getUTCMonth();
    return token === 'M' ? String(month + 1) : addLeadingZeros(month + 1, 2);
  },
  // Day of the month
  d: function (date, token) {
    return addLeadingZeros(date.getUTCDate(), token.length);
  },
  // AM or PM
  a: function (date, token) {
    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? 'pm' : 'am';

    switch (token) {
      case 'a':
      case 'aa':
        return dayPeriodEnumValue.toUpperCase();

      case 'aaa':
        return dayPeriodEnumValue;

      case 'aaaaa':
        return dayPeriodEnumValue[0];

      case 'aaaa':
      default:
        return dayPeriodEnumValue === 'am' ? 'a.m.' : 'p.m.';
    }
  },
  // Hour [1-12]
  h: function (date, token) {
    return addLeadingZeros(date.getUTCHours() % 12 || 12, token.length);
  },
  // Hour [0-23]
  H: function (date, token) {
    return addLeadingZeros(date.getUTCHours(), token.length);
  },
  // Minute
  m: function (date, token) {
    return addLeadingZeros(date.getUTCMinutes(), token.length);
  },
  // Second
  s: function (date, token) {
    return addLeadingZeros(date.getUTCSeconds(), token.length);
  },
  // Fraction of second
  S: function (date, token) {
    var numberOfDigits = token.length;
    var milliseconds = date.getUTCMilliseconds();
    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));
    return addLeadingZeros(fractionalSeconds, token.length);
  }
};
/* harmony default export */ var lightFormatters = (formatters);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/getUTCDayOfYear/index.js


var MILLISECONDS_IN_DAY = 86400000; // This function will be a part of public API when UTC function will be implemented.
// See issue: https://github.com/date-fns/date-fns/issues/376

function getUTCDayOfYear(dirtyDate) {
  requiredArgs(1, arguments);
  var date = toDate(dirtyDate);
  var timestamp = date.getTime();
  date.setUTCMonth(0, 1);
  date.setUTCHours(0, 0, 0, 0);
  var startOfYearTimestamp = date.getTime();
  var difference = timestamp - startOfYearTimestamp;
  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/startOfUTCISOWeek/index.js

 // This function will be a part of public API when UTC function will be implemented.
// See issue: https://github.com/date-fns/date-fns/issues/376

function startOfUTCISOWeek(dirtyDate) {
  requiredArgs(1, arguments);
  var weekStartsOn = 1;
  var date = toDate(dirtyDate);
  var day = date.getUTCDay();
  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;
  date.setUTCDate(date.getUTCDate() - diff);
  date.setUTCHours(0, 0, 0, 0);
  return date;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/getUTCISOWeekYear/index.js


 // This function will be a part of public API when UTC function will be implemented.
// See issue: https://github.com/date-fns/date-fns/issues/376

function getUTCISOWeekYear(dirtyDate) {
  requiredArgs(1, arguments);
  var date = toDate(dirtyDate);
  var year = date.getUTCFullYear();
  var fourthOfJanuaryOfNextYear = new Date(0);
  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);
  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);
  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);
  var fourthOfJanuaryOfThisYear = new Date(0);
  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);
  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);
  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);

  if (date.getTime() >= startOfNextYear.getTime()) {
    return year + 1;
  } else if (date.getTime() >= startOfThisYear.getTime()) {
    return year;
  } else {
    return year - 1;
  }
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/startOfUTCISOWeekYear/index.js


 // This function will be a part of public API when UTC function will be implemented.
// See issue: https://github.com/date-fns/date-fns/issues/376

function startOfUTCISOWeekYear(dirtyDate) {
  requiredArgs(1, arguments);
  var year = getUTCISOWeekYear(dirtyDate);
  var fourthOfJanuary = new Date(0);
  fourthOfJanuary.setUTCFullYear(year, 0, 4);
  fourthOfJanuary.setUTCHours(0, 0, 0, 0);
  var date = startOfUTCISOWeek(fourthOfJanuary);
  return date;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/getUTCISOWeek/index.js




var MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.
// See issue: https://github.com/date-fns/date-fns/issues/376

function getUTCISOWeek(dirtyDate) {
  requiredArgs(1, arguments);
  var date = toDate(dirtyDate);
  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime(); // Round the number of days to the nearest integer
  // because the number of milliseconds in a week is not constant
  // (e.g. it's different in the week of the daylight saving time clock shift)

  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/getUTCWeekYear/index.js



 // This function will be a part of public API when UTC function will be implemented.
// See issue: https://github.com/date-fns/date-fns/issues/376

function getUTCWeekYear(dirtyDate, dirtyOptions) {
  requiredArgs(1, arguments);
  var date = toDate(dirtyDate, dirtyOptions);
  var year = date.getUTCFullYear();
  var options = dirtyOptions || {};
  var locale = options.locale;
  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;
  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);
  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN

  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {
    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');
  }

  var firstWeekOfNextYear = new Date(0);
  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);
  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);
  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, dirtyOptions);
  var firstWeekOfThisYear = new Date(0);
  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);
  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);
  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, dirtyOptions);

  if (date.getTime() >= startOfNextYear.getTime()) {
    return year + 1;
  } else if (date.getTime() >= startOfThisYear.getTime()) {
    return year;
  } else {
    return year - 1;
  }
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/startOfUTCWeekYear/index.js



 // This function will be a part of public API when UTC function will be implemented.
// See issue: https://github.com/date-fns/date-fns/issues/376

function startOfUTCWeekYear(dirtyDate, dirtyOptions) {
  requiredArgs(1, arguments);
  var options = dirtyOptions || {};
  var locale = options.locale;
  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;
  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);
  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate);
  var year = getUTCWeekYear(dirtyDate, dirtyOptions);
  var firstWeek = new Date(0);
  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);
  firstWeek.setUTCHours(0, 0, 0, 0);
  var date = startOfUTCWeek(firstWeek, dirtyOptions);
  return date;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/getUTCWeek/index.js




var getUTCWeek_MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.
// See issue: https://github.com/date-fns/date-fns/issues/376

function getUTCWeek(dirtyDate, options) {
  requiredArgs(1, arguments);
  var date = toDate(dirtyDate);
  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime(); // Round the number of days to the nearest integer
  // because the number of milliseconds in a week is not constant
  // (e.g. it's different in the week of the daylight saving time clock shift)

  return Math.round(diff / getUTCWeek_MILLISECONDS_IN_WEEK) + 1;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/format/formatters/index.js







var dayPeriodEnum = {
  am: 'am',
  pm: 'pm',
  midnight: 'midnight',
  noon: 'noon',
  morning: 'morning',
  afternoon: 'afternoon',
  evening: 'evening',
  night: 'night'
};
/*
 * |     | Unit                           |     | Unit                           |
 * |-----|--------------------------------|-----|--------------------------------|
 * |  a  | AM, PM                         |  A* | Milliseconds in day            |
 * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |
 * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |
 * |  d  | Day of month                   |  D  | Day of year                    |
 * |  e  | Local day of week              |  E  | Day of week                    |
 * |  f  |                                |  F* | Day of week in month           |
 * |  g* | Modified Julian day            |  G  | Era                            |
 * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |
 * |  i! | ISO day of week                |  I! | ISO week of year               |
 * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |
 * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |
 * |  l* | (deprecated)                   |  L  | Stand-alone month              |
 * |  m  | Minute                         |  M  | Month                          |
 * |  n  |                                |  N  |                                |
 * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |
 * |  p! | Long localized time            |  P! | Long localized date            |
 * |  q  | Stand-alone quarter            |  Q  | Quarter                        |
 * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |
 * |  s  | Second                         |  S  | Fraction of second             |
 * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |
 * |  u  | Extended year                  |  U* | Cyclic year                    |
 * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |
 * |  w  | Local week of year             |  W* | Week of month                  |
 * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |
 * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |
 * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |
 *
 * Letters marked by * are not implemented but reserved by Unicode standard.
 *
 * Letters marked by ! are non-standard, but implemented by date-fns:
 * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)
 * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,
 *   i.e. 7 for Sunday, 1 for Monday, etc.
 * - `I` is ISO week of year, as opposed to `w` which is local week of year.
 * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.
 *   `R` is supposed to be used in conjunction with `I` and `i`
 *   for universal ISO week-numbering date, whereas
 *   `Y` is supposed to be used in conjunction with `w` and `e`
 *   for week-numbering date specific to the locale.
 * - `P` is long localized date format
 * - `p` is long localized time format
 */

var formatters_formatters = {
  // Era
  G: function (date, token, localize) {
    var era = date.getUTCFullYear() > 0 ? 1 : 0;

    switch (token) {
      // AD, BC
      case 'G':
      case 'GG':
      case 'GGG':
        return localize.era(era, {
          width: 'abbreviated'
        });
      // A, B

      case 'GGGGG':
        return localize.era(era, {
          width: 'narrow'
        });
      // Anno Domini, Before Christ

      case 'GGGG':
      default:
        return localize.era(era, {
          width: 'wide'
        });
    }
  },
  // Year
  y: function (date, token, localize) {
    // Ordinal number
    if (token === 'yo') {
      var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)

      var year = signedYear > 0 ? signedYear : 1 - signedYear;
      return localize.ordinalNumber(year, {
        unit: 'year'
      });
    }

    return lightFormatters.y(date, token);
  },
  // Local week-numbering year
  Y: function (date, token, localize, options) {
    var signedWeekYear = getUTCWeekYear(date, options); // Returns 1 for 1 BC (which is year 0 in JavaScript)

    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear; // Two digit year

    if (token === 'YY') {
      var twoDigitYear = weekYear % 100;
      return addLeadingZeros(twoDigitYear, 2);
    } // Ordinal number


    if (token === 'Yo') {
      return localize.ordinalNumber(weekYear, {
        unit: 'year'
      });
    } // Padding


    return addLeadingZeros(weekYear, token.length);
  },
  // ISO week-numbering year
  R: function (date, token) {
    var isoWeekYear = getUTCISOWeekYear(date); // Padding

    return addLeadingZeros(isoWeekYear, token.length);
  },
  // Extended year. This is a single number designating the year of this calendar system.
  // The main difference between `y` and `u` localizers are B.C. years:
  // | Year | `y` | `u` |
  // |------|-----|-----|
  // | AC 1 |   1 |   1 |
  // | BC 1 |   1 |   0 |
  // | BC 2 |   2 |  -1 |
  // Also `yy` always returns the last two digits of a year,
  // while `uu` pads single digit years to 2 characters and returns other years unchanged.
  u: function (date, token) {
    var year = date.getUTCFullYear();
    return addLeadingZeros(year, token.length);
  },
  // Quarter
  Q: function (date, token, localize) {
    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);

    switch (token) {
      // 1, 2, 3, 4
      case 'Q':
        return String(quarter);
      // 01, 02, 03, 04

      case 'QQ':
        return addLeadingZeros(quarter, 2);
      // 1st, 2nd, 3rd, 4th

      case 'Qo':
        return localize.ordinalNumber(quarter, {
          unit: 'quarter'
        });
      // Q1, Q2, Q3, Q4

      case 'QQQ':
        return localize.quarter(quarter, {
          width: 'abbreviated',
          context: 'formatting'
        });
      // 1, 2, 3, 4 (narrow quarter; could be not numerical)

      case 'QQQQQ':
        return localize.quarter(quarter, {
          width: 'narrow',
          context: 'formatting'
        });
      // 1st quarter, 2nd quarter, ...

      case 'QQQQ':
      default:
        return localize.quarter(quarter, {
          width: 'wide',
          context: 'formatting'
        });
    }
  },
  // Stand-alone quarter
  q: function (date, token, localize) {
    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);

    switch (token) {
      // 1, 2, 3, 4
      case 'q':
        return String(quarter);
      // 01, 02, 03, 04

      case 'qq':
        return addLeadingZeros(quarter, 2);
      // 1st, 2nd, 3rd, 4th

      case 'qo':
        return localize.ordinalNumber(quarter, {
          unit: 'quarter'
        });
      // Q1, Q2, Q3, Q4

      case 'qqq':
        return localize.quarter(quarter, {
          width: 'abbreviated',
          context: 'standalone'
        });
      // 1, 2, 3, 4 (narrow quarter; could be not numerical)

      case 'qqqqq':
        return localize.quarter(quarter, {
          width: 'narrow',
          context: 'standalone'
        });
      // 1st quarter, 2nd quarter, ...

      case 'qqqq':
      default:
        return localize.quarter(quarter, {
          width: 'wide',
          context: 'standalone'
        });
    }
  },
  // Month
  M: function (date, token, localize) {
    var month = date.getUTCMonth();

    switch (token) {
      case 'M':
      case 'MM':
        return lightFormatters.M(date, token);
      // 1st, 2nd, ..., 12th

      case 'Mo':
        return localize.ordinalNumber(month + 1, {
          unit: 'month'
        });
      // Jan, Feb, ..., Dec

      case 'MMM':
        return localize.month(month, {
          width: 'abbreviated',
          context: 'formatting'
        });
      // J, F, ..., D

      case 'MMMMM':
        return localize.month(month, {
          width: 'narrow',
          context: 'formatting'
        });
      // January, February, ..., December

      case 'MMMM':
      default:
        return localize.month(month, {
          width: 'wide',
          context: 'formatting'
        });
    }
  },
  // Stand-alone month
  L: function (date, token, localize) {
    var month = date.getUTCMonth();

    switch (token) {
      // 1, 2, ..., 12
      case 'L':
        return String(month + 1);
      // 01, 02, ..., 12

      case 'LL':
        return addLeadingZeros(month + 1, 2);
      // 1st, 2nd, ..., 12th

      case 'Lo':
        return localize.ordinalNumber(month + 1, {
          unit: 'month'
        });
      // Jan, Feb, ..., Dec

      case 'LLL':
        return localize.month(month, {
          width: 'abbreviated',
          context: 'standalone'
        });
      // J, F, ..., D

      case 'LLLLL':
        return localize.month(month, {
          width: 'narrow',
          context: 'standalone'
        });
      // January, February, ..., December

      case 'LLLL':
      default:
        return localize.month(month, {
          width: 'wide',
          context: 'standalone'
        });
    }
  },
  // Local week of year
  w: function (date, token, localize, options) {
    var week = getUTCWeek(date, options);

    if (token === 'wo') {
      return localize.ordinalNumber(week, {
        unit: 'week'
      });
    }

    return addLeadingZeros(week, token.length);
  },
  // ISO week of year
  I: function (date, token, localize) {
    var isoWeek = getUTCISOWeek(date);

    if (token === 'Io') {
      return localize.ordinalNumber(isoWeek, {
        unit: 'week'
      });
    }

    return addLeadingZeros(isoWeek, token.length);
  },
  // Day of the month
  d: function (date, token, localize) {
    if (token === 'do') {
      return localize.ordinalNumber(date.getUTCDate(), {
        unit: 'date'
      });
    }

    return lightFormatters.d(date, token);
  },
  // Day of year
  D: function (date, token, localize) {
    var dayOfYear = getUTCDayOfYear(date);

    if (token === 'Do') {
      return localize.ordinalNumber(dayOfYear, {
        unit: 'dayOfYear'
      });
    }

    return addLeadingZeros(dayOfYear, token.length);
  },
  // Day of week
  E: function (date, token, localize) {
    var dayOfWeek = date.getUTCDay();

    switch (token) {
      // Tue
      case 'E':
      case 'EE':
      case 'EEE':
        return localize.day(dayOfWeek, {
          width: 'abbreviated',
          context: 'formatting'
        });
      // T

      case 'EEEEE':
        return localize.day(dayOfWeek, {
          width: 'narrow',
          context: 'formatting'
        });
      // Tu

      case 'EEEEEE':
        return localize.day(dayOfWeek, {
          width: 'short',
          context: 'formatting'
        });
      // Tuesday

      case 'EEEE':
      default:
        return localize.day(dayOfWeek, {
          width: 'wide',
          context: 'formatting'
        });
    }
  },
  // Local day of week
  e: function (date, token, localize, options) {
    var dayOfWeek = date.getUTCDay();
    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;

    switch (token) {
      // Numerical value (Nth day of week with current locale or weekStartsOn)
      case 'e':
        return String(localDayOfWeek);
      // Padded numerical value

      case 'ee':
        return addLeadingZeros(localDayOfWeek, 2);
      // 1st, 2nd, ..., 7th

      case 'eo':
        return localize.ordinalNumber(localDayOfWeek, {
          unit: 'day'
        });

      case 'eee':
        return localize.day(dayOfWeek, {
          width: 'abbreviated',
          context: 'formatting'
        });
      // T

      case 'eeeee':
        return localize.day(dayOfWeek, {
          width: 'narrow',
          context: 'formatting'
        });
      // Tu

      case 'eeeeee':
        return localize.day(dayOfWeek, {
          width: 'short',
          context: 'formatting'
        });
      // Tuesday

      case 'eeee':
      default:
        return localize.day(dayOfWeek, {
          width: 'wide',
          context: 'formatting'
        });
    }
  },
  // Stand-alone local day of week
  c: function (date, token, localize, options) {
    var dayOfWeek = date.getUTCDay();
    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;

    switch (token) {
      // Numerical value (same as in `e`)
      case 'c':
        return String(localDayOfWeek);
      // Padded numerical value

      case 'cc':
        return addLeadingZeros(localDayOfWeek, token.length);
      // 1st, 2nd, ..., 7th

      case 'co':
        return localize.ordinalNumber(localDayOfWeek, {
          unit: 'day'
        });

      case 'ccc':
        return localize.day(dayOfWeek, {
          width: 'abbreviated',
          context: 'standalone'
        });
      // T

      case 'ccccc':
        return localize.day(dayOfWeek, {
          width: 'narrow',
          context: 'standalone'
        });
      // Tu

      case 'cccccc':
        return localize.day(dayOfWeek, {
          width: 'short',
          context: 'standalone'
        });
      // Tuesday

      case 'cccc':
      default:
        return localize.day(dayOfWeek, {
          width: 'wide',
          context: 'standalone'
        });
    }
  },
  // ISO day of week
  i: function (date, token, localize) {
    var dayOfWeek = date.getUTCDay();
    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;

    switch (token) {
      // 2
      case 'i':
        return String(isoDayOfWeek);
      // 02

      case 'ii':
        return addLeadingZeros(isoDayOfWeek, token.length);
      // 2nd

      case 'io':
        return localize.ordinalNumber(isoDayOfWeek, {
          unit: 'day'
        });
      // Tue

      case 'iii':
        return localize.day(dayOfWeek, {
          width: 'abbreviated',
          context: 'formatting'
        });
      // T

      case 'iiiii':
        return localize.day(dayOfWeek, {
          width: 'narrow',
          context: 'formatting'
        });
      // Tu

      case 'iiiiii':
        return localize.day(dayOfWeek, {
          width: 'short',
          context: 'formatting'
        });
      // Tuesday

      case 'iiii':
      default:
        return localize.day(dayOfWeek, {
          width: 'wide',
          context: 'formatting'
        });
    }
  },
  // AM or PM
  a: function (date, token, localize) {
    var hours = date.getUTCHours();
    var dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';

    switch (token) {
      case 'a':
      case 'aa':
        return localize.dayPeriod(dayPeriodEnumValue, {
          width: 'abbreviated',
          context: 'formatting'
        });

      case 'aaa':
        return localize.dayPeriod(dayPeriodEnumValue, {
          width: 'abbreviated',
          context: 'formatting'
        }).toLowerCase();

      case 'aaaaa':
        return localize.dayPeriod(dayPeriodEnumValue, {
          width: 'narrow',
          context: 'formatting'
        });

      case 'aaaa':
      default:
        return localize.dayPeriod(dayPeriodEnumValue, {
          width: 'wide',
          context: 'formatting'
        });
    }
  },
  // AM, PM, midnight, noon
  b: function (date, token, localize) {
    var hours = date.getUTCHours();
    var dayPeriodEnumValue;

    if (hours === 12) {
      dayPeriodEnumValue = dayPeriodEnum.noon;
    } else if (hours === 0) {
      dayPeriodEnumValue = dayPeriodEnum.midnight;
    } else {
      dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';
    }

    switch (token) {
      case 'b':
      case 'bb':
        return localize.dayPeriod(dayPeriodEnumValue, {
          width: 'abbreviated',
          context: 'formatting'
        });

      case 'bbb':
        return localize.dayPeriod(dayPeriodEnumValue, {
          width: 'abbreviated',
          context: 'formatting'
        }).toLowerCase();

      case 'bbbbb':
        return localize.dayPeriod(dayPeriodEnumValue, {
          width: 'narrow',
          context: 'formatting'
        });

      case 'bbbb':
      default:
        return localize.dayPeriod(dayPeriodEnumValue, {
          width: 'wide',
          context: 'formatting'
        });
    }
  },
  // in the morning, in the afternoon, in the evening, at night
  B: function (date, token, localize) {
    var hours = date.getUTCHours();
    var dayPeriodEnumValue;

    if (hours >= 17) {
      dayPeriodEnumValue = dayPeriodEnum.evening;
    } else if (hours >= 12) {
      dayPeriodEnumValue = dayPeriodEnum.afternoon;
    } else if (hours >= 4) {
      dayPeriodEnumValue = dayPeriodEnum.morning;
    } else {
      dayPeriodEnumValue = dayPeriodEnum.night;
    }

    switch (token) {
      case 'B':
      case 'BB':
      case 'BBB':
        return localize.dayPeriod(dayPeriodEnumValue, {
          width: 'abbreviated',
          context: 'formatting'
        });

      case 'BBBBB':
        return localize.dayPeriod(dayPeriodEnumValue, {
          width: 'narrow',
          context: 'formatting'
        });

      case 'BBBB':
      default:
        return localize.dayPeriod(dayPeriodEnumValue, {
          width: 'wide',
          context: 'formatting'
        });
    }
  },
  // Hour [1-12]
  h: function (date, token, localize) {
    if (token === 'ho') {
      var hours = date.getUTCHours() % 12;
      if (hours === 0) hours = 12;
      return localize.ordinalNumber(hours, {
        unit: 'hour'
      });
    }

    return lightFormatters.h(date, token);
  },
  // Hour [0-23]
  H: function (date, token, localize) {
    if (token === 'Ho') {
      return localize.ordinalNumber(date.getUTCHours(), {
        unit: 'hour'
      });
    }

    return lightFormatters.H(date, token);
  },
  // Hour [0-11]
  K: function (date, token, localize) {
    var hours = date.getUTCHours() % 12;

    if (token === 'Ko') {
      return localize.ordinalNumber(hours, {
        unit: 'hour'
      });
    }

    return addLeadingZeros(hours, token.length);
  },
  // Hour [1-24]
  k: function (date, token, localize) {
    var hours = date.getUTCHours();
    if (hours === 0) hours = 24;

    if (token === 'ko') {
      return localize.ordinalNumber(hours, {
        unit: 'hour'
      });
    }

    return addLeadingZeros(hours, token.length);
  },
  // Minute
  m: function (date, token, localize) {
    if (token === 'mo') {
      return localize.ordinalNumber(date.getUTCMinutes(), {
        unit: 'minute'
      });
    }

    return lightFormatters.m(date, token);
  },
  // Second
  s: function (date, token, localize) {
    if (token === 'so') {
      return localize.ordinalNumber(date.getUTCSeconds(), {
        unit: 'second'
      });
    }

    return lightFormatters.s(date, token);
  },
  // Fraction of second
  S: function (date, token) {
    return lightFormatters.S(date, token);
  },
  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)
  X: function (date, token, _localize, options) {
    var originalDate = options._originalDate || date;
    var timezoneOffset = originalDate.getTimezoneOffset();

    if (timezoneOffset === 0) {
      return 'Z';
    }

    switch (token) {
      // Hours and optional minutes
      case 'X':
        return formatTimezoneWithOptionalMinutes(timezoneOffset);
      // Hours, minutes and optional seconds without `:` delimiter
      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets
      // so this token always has the same output as `XX`

      case 'XXXX':
      case 'XX':
        // Hours and minutes without `:` delimiter
        return formatTimezone(timezoneOffset);
      // Hours, minutes and optional seconds with `:` delimiter
      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets
      // so this token always has the same output as `XXX`

      case 'XXXXX':
      case 'XXX': // Hours and minutes with `:` delimiter

      default:
        return formatTimezone(timezoneOffset, ':');
    }
  },
  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)
  x: function (date, token, _localize, options) {
    var originalDate = options._originalDate || date;
    var timezoneOffset = originalDate.getTimezoneOffset();

    switch (token) {
      // Hours and optional minutes
      case 'x':
        return formatTimezoneWithOptionalMinutes(timezoneOffset);
      // Hours, minutes and optional seconds without `:` delimiter
      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets
      // so this token always has the same output as `xx`

      case 'xxxx':
      case 'xx':
        // Hours and minutes without `:` delimiter
        return formatTimezone(timezoneOffset);
      // Hours, minutes and optional seconds with `:` delimiter
      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets
      // so this token always has the same output as `xxx`

      case 'xxxxx':
      case 'xxx': // Hours and minutes with `:` delimiter

      default:
        return formatTimezone(timezoneOffset, ':');
    }
  },
  // Timezone (GMT)
  O: function (date, token, _localize, options) {
    var originalDate = options._originalDate || date;
    var timezoneOffset = originalDate.getTimezoneOffset();

    switch (token) {
      // Short
      case 'O':
      case 'OO':
      case 'OOO':
        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');
      // Long

      case 'OOOO':
      default:
        return 'GMT' + formatTimezone(timezoneOffset, ':');
    }
  },
  // Timezone (specific non-location)
  z: function (date, token, _localize, options) {
    var originalDate = options._originalDate || date;
    var timezoneOffset = originalDate.getTimezoneOffset();

    switch (token) {
      // Short
      case 'z':
      case 'zz':
      case 'zzz':
        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');
      // Long

      case 'zzzz':
      default:
        return 'GMT' + formatTimezone(timezoneOffset, ':');
    }
  },
  // Seconds timestamp
  t: function (date, token, _localize, options) {
    var originalDate = options._originalDate || date;
    var timestamp = Math.floor(originalDate.getTime() / 1000);
    return addLeadingZeros(timestamp, token.length);
  },
  // Milliseconds timestamp
  T: function (date, token, _localize, options) {
    var originalDate = options._originalDate || date;
    var timestamp = originalDate.getTime();
    return addLeadingZeros(timestamp, token.length);
  }
};

function formatTimezoneShort(offset, dirtyDelimiter) {
  var sign = offset > 0 ? '-' : '+';
  var absOffset = Math.abs(offset);
  var hours = Math.floor(absOffset / 60);
  var minutes = absOffset % 60;

  if (minutes === 0) {
    return sign + String(hours);
  }

  var delimiter = dirtyDelimiter || '';
  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);
}

function formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {
  if (offset % 60 === 0) {
    var sign = offset > 0 ? '-' : '+';
    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);
  }

  return formatTimezone(offset, dirtyDelimiter);
}

function formatTimezone(offset, dirtyDelimiter) {
  var delimiter = dirtyDelimiter || '';
  var sign = offset > 0 ? '-' : '+';
  var absOffset = Math.abs(offset);
  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2);
  var minutes = addLeadingZeros(absOffset % 60, 2);
  return sign + hours + delimiter + minutes;
}

/* harmony default export */ var format_formatters = (formatters_formatters);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/format/longFormatters/index.js
function dateLongFormatter(pattern, formatLong) {
  switch (pattern) {
    case 'P':
      return formatLong.date({
        width: 'short'
      });

    case 'PP':
      return formatLong.date({
        width: 'medium'
      });

    case 'PPP':
      return formatLong.date({
        width: 'long'
      });

    case 'PPPP':
    default:
      return formatLong.date({
        width: 'full'
      });
  }
}

function timeLongFormatter(pattern, formatLong) {
  switch (pattern) {
    case 'p':
      return formatLong.time({
        width: 'short'
      });

    case 'pp':
      return formatLong.time({
        width: 'medium'
      });

    case 'ppp':
      return formatLong.time({
        width: 'long'
      });

    case 'pppp':
    default:
      return formatLong.time({
        width: 'full'
      });
  }
}

function dateTimeLongFormatter(pattern, formatLong) {
  var matchResult = pattern.match(/(P+)(p+)?/);
  var datePattern = matchResult[1];
  var timePattern = matchResult[2];

  if (!timePattern) {
    return dateLongFormatter(pattern, formatLong);
  }

  var dateTimeFormat;

  switch (datePattern) {
    case 'P':
      dateTimeFormat = formatLong.dateTime({
        width: 'short'
      });
      break;

    case 'PP':
      dateTimeFormat = formatLong.dateTime({
        width: 'medium'
      });
      break;

    case 'PPP':
      dateTimeFormat = formatLong.dateTime({
        width: 'long'
      });
      break;

    case 'PPPP':
    default:
      dateTimeFormat = formatLong.dateTime({
        width: 'full'
      });
      break;
  }

  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));
}

var longFormatters = {
  p: timeLongFormatter,
  P: dateTimeLongFormatter
};
/* harmony default export */ var format_longFormatters = (longFormatters);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js
/**
 * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.
 * They usually appear for dates that denote time before the timezones were introduced
 * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891
 * and GMT+01:00:00 after that date)
 *
 * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,
 * which would lead to incorrect calculations.
 *
 * This function returns the timezone offset in milliseconds that takes seconds in account.
 */
function getTimezoneOffsetInMilliseconds(date) {
  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));
  utcDate.setUTCFullYear(date.getFullYear());
  return date.getTime() - utcDate.getTime();
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/protectedTokens/index.js
var protectedDayOfYearTokens = ['D', 'DD'];
var protectedWeekYearTokens = ['YY', 'YYYY'];
function isProtectedDayOfYearToken(token) {
  return protectedDayOfYearTokens.indexOf(token) !== -1;
}
function isProtectedWeekYearToken(token) {
  return protectedWeekYearTokens.indexOf(token) !== -1;
}
function throwProtectedError(token, format, input) {
  if (token === 'YYYY') {
    throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(format, "`) for formatting years to the input `").concat(input, "`; see: https://git.io/fxCyr"));
  } else if (token === 'YY') {
    throw new RangeError("Use `yy` instead of `YY` (in `".concat(format, "`) for formatting years to the input `").concat(input, "`; see: https://git.io/fxCyr"));
  } else if (token === 'D') {
    throw new RangeError("Use `d` instead of `D` (in `".concat(format, "`) for formatting days of the month to the input `").concat(input, "`; see: https://git.io/fxCyr"));
  } else if (token === 'DD') {
    throw new RangeError("Use `dd` instead of `DD` (in `".concat(format, "`) for formatting days of the month to the input `").concat(input, "`; see: https://git.io/fxCyr"));
  }
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/format/index.js









 // This RegExp consists of three parts separated by `|`:
// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token
//   (one of the certain letters followed by `o`)
// - (\w)\1* matches any sequences of the same letter
// - '' matches two quote characters in a row
// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),
//   except a single quote symbol, which ends the sequence.
//   Two quote characters do not end the sequence.
//   If there is no matching single quote
//   then the sequence will continue until the end of the string.
// - . matches any single character unmatched by previous parts of the RegExps

var formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g; // This RegExp catches symbols escaped by quotes, and also
// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`

var longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;
var escapedStringRegExp = /^'([^]*?)'?$/;
var doubleQuoteRegExp = /''/g;
var unescapedLatinCharacterRegExp = /[a-zA-Z]/;
/**
 * @name format
 * @category Common Helpers
 * @summary Format the date.
 *
 * @description
 * Return the formatted date string in the given format. The result may vary by locale.
 *
 * >  Please note that the `format` tokens differ from Moment.js and other libraries.
 * > See: https://git.io/fxCyr
 *
 * The characters wrapped between two single quotes characters (') are escaped.
 * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.
 * (see the last example)
 *
 * Format of the string is based on Unicode Technical Standard #35:
 * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table
 * with a few additions (see note 7 below the table).
 *
 * Accepted patterns:
 * | Unit                            | Pattern | Result examples                   | Notes |
 * |---------------------------------|---------|-----------------------------------|-------|
 * | Era                             | G..GGG  | AD, BC                            |       |
 * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |
 * |                                 | GGGGG   | A, B                              |       |
 * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |
 * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |
 * |                                 | yy      | 44, 01, 00, 17                    | 5     |
 * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |
 * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |
 * |                                 | yyyyy   | ...                               | 3,5   |
 * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |
 * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |
 * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |
 * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |
 * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |
 * |                                 | YYYYY   | ...                               | 3,5   |
 * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |
 * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |
 * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |
 * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |
 * |                                 | RRRRR   | ...                               | 3,5,7 |
 * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |
 * |                                 | uu      | -43, 01, 1900, 2017               | 5     |
 * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |
 * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |
 * |                                 | uuuuu   | ...                               | 3,5   |
 * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |
 * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |
 * |                                 | QQ      | 01, 02, 03, 04                    |       |
 * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |
 * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |
 * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |
 * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |
 * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |
 * |                                 | qq      | 01, 02, 03, 04                    |       |
 * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |
 * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |
 * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |
 * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |
 * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |
 * |                                 | MM      | 01, 02, ..., 12                   |       |
 * |                                 | MMM     | Jan, Feb, ..., Dec                |       |
 * |                                 | MMMM    | January, February, ..., December  | 2     |
 * |                                 | MMMMM   | J, F, ..., D                      |       |
 * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |
 * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |
 * |                                 | LL      | 01, 02, ..., 12                   |       |
 * |                                 | LLL     | Jan, Feb, ..., Dec                |       |
 * |                                 | LLLL    | January, February, ..., December  | 2     |
 * |                                 | LLLLL   | J, F, ..., D                      |       |
 * | Local week of year              | w       | 1, 2, ..., 53                     |       |
 * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |
 * |                                 | ww      | 01, 02, ..., 53                   |       |
 * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |
 * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |
 * |                                 | II      | 01, 02, ..., 53                   | 7     |
 * | Day of month                    | d       | 1, 2, ..., 31                     |       |
 * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |
 * |                                 | dd      | 01, 02, ..., 31                   |       |
 * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |
 * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |
 * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |
 * |                                 | DDD     | 001, 002, ..., 365, 366           |       |
 * |                                 | DDDD    | ...                               | 3     |
 * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |
 * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |
 * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |
 * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |
 * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |
 * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |
 * |                                 | ii      | 01, 02, ..., 07                   | 7     |
 * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |
 * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |
 * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |
 * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |
 * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |
 * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |
 * |                                 | ee      | 02, 03, ..., 01                   |       |
 * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |
 * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |
 * |                                 | eeeee   | M, T, W, T, F, S, S               |       |
 * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |
 * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |
 * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |
 * |                                 | cc      | 02, 03, ..., 01                   |       |
 * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |
 * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |
 * |                                 | ccccc   | M, T, W, T, F, S, S               |       |
 * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |
 * | AM, PM                          | a..aa   | AM, PM                            |       |
 * |                                 | aaa     | am, pm                            |       |
 * |                                 | aaaa    | a.m., p.m.                        | 2     |
 * |                                 | aaaaa   | a, p                              |       |
 * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |
 * |                                 | bbb     | am, pm, noon, midnight            |       |
 * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |
 * |                                 | bbbbb   | a, p, n, mi                       |       |
 * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |
 * |                                 | BBBB    | at night, in the morning, ...     | 2     |
 * |                                 | BBBBB   | at night, in the morning, ...     |       |
 * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |
 * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |
 * |                                 | hh      | 01, 02, ..., 11, 12               |       |
 * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |
 * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |
 * |                                 | HH      | 00, 01, 02, ..., 23               |       |
 * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |
 * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |
 * |                                 | KK      | 01, 02, ..., 11, 00               |       |
 * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |
 * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |
 * |                                 | kk      | 24, 01, 02, ..., 23               |       |
 * | Minute                          | m       | 0, 1, ..., 59                     |       |
 * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |
 * |                                 | mm      | 00, 01, ..., 59                   |       |
 * | Second                          | s       | 0, 1, ..., 59                     |       |
 * |                                 | so      | 0th, 1st, ..., 59th               | 7     |
 * |                                 | ss      | 00, 01, ..., 59                   |       |
 * | Fraction of second              | S       | 0, 1, ..., 9                      |       |
 * |                                 | SS      | 00, 01, ..., 99                   |       |
 * |                                 | SSS     | 000, 001, ..., 999                |       |
 * |                                 | SSSS    | ...                               | 3     |
 * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |
 * |                                 | XX      | -0800, +0530, Z                   |       |
 * |                                 | XXX     | -08:00, +05:30, Z                 |       |
 * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |
 * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |
 * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |
 * |                                 | xx      | -0800, +0530, +0000               |       |
 * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |
 * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |
 * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |
 * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |
 * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |
 * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |
 * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |
 * | Seconds timestamp               | t       | 512969520                         | 7     |
 * |                                 | tt      | ...                               | 3,7   |
 * | Milliseconds timestamp          | T       | 512969520900                      | 7     |
 * |                                 | TT      | ...                               | 3,7   |
 * | Long localized date             | P       | 04/29/1453                        | 7     |
 * |                                 | PP      | Apr 29, 1453                      | 7     |
 * |                                 | PPP     | April 29th, 1453                  | 7     |
 * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |
 * | Long localized time             | p       | 12:00 AM                          | 7     |
 * |                                 | pp      | 12:00:00 AM                       | 7     |
 * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |
 * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |
 * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |
 * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |
 * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |
 * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |
 * Notes:
 * 1. "Formatting" units (e.g. formatting quarter) in the default en-US locale
 *    are the same as "stand-alone" units, but are different in some languages.
 *    "Formatting" units are declined according to the rules of the language
 *    in the context of a date. "Stand-alone" units are always nominative singular:
 *
 *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`
 *
 *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`
 *
 * 2. Any sequence of the identical letters is a pattern, unless it is escaped by
 *    the single quote characters (see below).
 *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)
 *    the output will be the same as default pattern for this unit, usually
 *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units
 *    are marked with "2" in the last column of the table.
 *
 *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`
 *
 *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`
 *
 *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`
 *
 *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`
 *
 *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`
 *
 * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).
 *    The output will be padded with zeros to match the length of the pattern.
 *
 *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`
 *
 * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.
 *    These tokens represent the shortest form of the quarter.
 *
 * 5. The main difference between `y` and `u` patterns are B.C. years:
 *
 *    | Year | `y` | `u` |
 *    |------|-----|-----|
 *    | AC 1 |   1 |   1 |
 *    | BC 1 |   1 |   0 |
 *    | BC 2 |   2 |  -1 |
 *
 *    Also `yy` always returns the last two digits of a year,
 *    while `uu` pads single digit years to 2 characters and returns other years unchanged:
 *
 *    | Year | `yy` | `uu` |
 *    |------|------|------|
 *    | 1    |   01 |   01 |
 *    | 14   |   14 |   14 |
 *    | 376  |   76 |  376 |
 *    | 1453 |   53 | 1453 |
 *
 *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),
 *    except local week-numbering years are dependent on `options.weekStartsOn`
 *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}
 *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).
 *
 * 6. Specific non-location timezones are currently unavailable in `date-fns`,
 *    so right now these tokens fall back to GMT timezones.
 *
 * 7. These patterns are not in the Unicode Technical Standard #35:
 *    - `i`: ISO day of week
 *    - `I`: ISO week of year
 *    - `R`: ISO week-numbering year
 *    - `t`: seconds timestamp
 *    - `T`: milliseconds timestamp
 *    - `o`: ordinal number modifier
 *    - `P`: long localized date
 *    - `p`: long localized time
 *
 * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.
 *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://git.io/fxCyr
 *
 * 9. `D` and `DD` tokens represent days of the year but they are ofthen confused with days of the month.
 *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://git.io/fxCyr
 *
 * ### v2.0.0 breaking changes:
 *
 * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).
 *
 * - The second argument is now required for the sake of explicitness.
 *
 *   ```javascript
 *   // Before v2.0.0
 *   format(new Date(2016, 0, 1))
 *
 *   // v2.0.0 onward
 *   format(new Date(2016, 0, 1), "yyyy-MM-dd'T'HH:mm:ss.SSSxxx")
 *   ```
 *
 * - New format string API for `format` function
 *   which is based on [Unicode Technical Standard #35](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table).
 *   See [this post](https://blog.date-fns.org/post/unicode-tokens-in-date-fns-v2-sreatyki91jg) for more details.
 *
 * - Characters are now escaped using single quote symbols (`'`) instead of square brackets.
 *
 * @param {Date|Number} date - the original date
 * @param {String} format - the string of tokens
 * @param {Object} [options] - an object with options.
 * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}
 * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)
 * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is
 * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;
 *   see: https://git.io/fxCyr
 * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;
 *   see: https://git.io/fxCyr
 * @returns {String} the formatted date string
 * @throws {TypeError} 2 arguments required
 * @throws {RangeError} `date` must not be Invalid Date
 * @throws {RangeError} `options.locale` must contain `localize` property
 * @throws {RangeError} `options.locale` must contain `formatLong` property
 * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6
 * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7
 * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr
 * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr
 * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr
 * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr
 * @throws {RangeError} format string contains an unescaped latin alphabet character
 *
 * @example
 * // Represent 11 February 2014 in middle-endian format:
 * var result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')
 * //=> '02/11/2014'
 *
 * @example
 * // Represent 2 July 2014 in Esperanto:
 * import { eoLocale } from 'date-fns/locale/eo'
 * var result = format(new Date(2014, 6, 2), "do 'de' MMMM yyyy", {
 *   locale: eoLocale
 * })
 * //=> '2-a de julio 2014'
 *
 * @example
 * // Escape string by single quote characters:
 * var result = format(new Date(2014, 6, 2, 15), "h 'o''clock'")
 * //=> "3 o'clock"
 */

function format_format(dirtyDate, dirtyFormatStr, dirtyOptions) {
  requiredArgs(2, arguments);
  var formatStr = String(dirtyFormatStr);
  var options = dirtyOptions || {};
  var locale = options.locale || en_US;
  var localeFirstWeekContainsDate = locale.options && locale.options.firstWeekContainsDate;
  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);
  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN

  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {
    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');
  }

  var localeWeekStartsOn = locale.options && locale.options.weekStartsOn;
  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);
  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN

  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {
    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');
  }

  if (!locale.localize) {
    throw new RangeError('locale must contain localize property');
  }

  if (!locale.formatLong) {
    throw new RangeError('locale must contain formatLong property');
  }

  var originalDate = toDate(dirtyDate);

  if (!isValid_isValid(originalDate)) {
    throw new RangeError('Invalid time value');
  } // Convert the date in system timezone to the same date in UTC+00:00 timezone.
  // This ensures that when UTC functions will be implemented, locales will be compatible with them.
  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/376


  var timezoneOffset = getTimezoneOffsetInMilliseconds(originalDate);
  var utcDate = subMilliseconds(originalDate, timezoneOffset);
  var formatterOptions = {
    firstWeekContainsDate: firstWeekContainsDate,
    weekStartsOn: weekStartsOn,
    locale: locale,
    _originalDate: originalDate
  };
  var result = formatStr.match(longFormattingTokensRegExp).map(function (substring) {
    var firstCharacter = substring[0];

    if (firstCharacter === 'p' || firstCharacter === 'P') {
      var longFormatter = format_longFormatters[firstCharacter];
      return longFormatter(substring, locale.formatLong, formatterOptions);
    }

    return substring;
  }).join('').match(formattingTokensRegExp).map(function (substring) {
    // Replace two single quote characters with one single quote character
    if (substring === "''") {
      return "'";
    }

    var firstCharacter = substring[0];

    if (firstCharacter === "'") {
      return cleanEscapedString(substring);
    }

    var formatter = format_formatters[firstCharacter];

    if (formatter) {
      if (!options.useAdditionalWeekYearTokens && isProtectedWeekYearToken(substring)) {
        throwProtectedError(substring, dirtyFormatStr, dirtyDate);
      }

      if (!options.useAdditionalDayOfYearTokens && isProtectedDayOfYearToken(substring)) {
        throwProtectedError(substring, dirtyFormatStr, dirtyDate);
      }

      return formatter(utcDate, substring, locale.localize, formatterOptions);
    }

    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {
      throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');
    }

    return substring;
  }).join('');
  return result;
}

function cleanEscapedString(input) {
  return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, "'");
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/assign/index.js
function assign_assign(target, dirtyObject) {
  if (target == null) {
    throw new TypeError('assign requires that input parameter not be null or undefined');
  }

  dirtyObject = dirtyObject || {};

  for (var property in dirtyObject) {
    if (Object.prototype.hasOwnProperty.call(dirtyObject, property)) {
      target[property] = dirtyObject[property];
    }
  }

  return target;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/setUTCDay/index.js


 // This function will be a part of public API when UTC function will be implemented.
// See issue: https://github.com/date-fns/date-fns/issues/376

function setUTCDay(dirtyDate, dirtyDay, dirtyOptions) {
  requiredArgs(2, arguments);
  var options = dirtyOptions || {};
  var locale = options.locale;
  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;
  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);
  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN

  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {
    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');
  }

  var date = toDate(dirtyDate);
  var day = toInteger(dirtyDay);
  var currentDay = date.getUTCDay();
  var remainder = day % 7;
  var dayIndex = (remainder + 7) % 7;
  var diff = (dayIndex < weekStartsOn ? 7 : 0) + day - currentDay;
  date.setUTCDate(date.getUTCDate() + diff);
  return date;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/setUTCISODay/index.js


 // This function will be a part of public API when UTC function will be implemented.
// See issue: https://github.com/date-fns/date-fns/issues/376

function setUTCISODay(dirtyDate, dirtyDay) {
  requiredArgs(2, arguments);
  var day = toInteger(dirtyDay);

  if (day % 7 === 0) {
    day = day - 7;
  }

  var weekStartsOn = 1;
  var date = toDate(dirtyDate);
  var currentDay = date.getUTCDay();
  var remainder = day % 7;
  var dayIndex = (remainder + 7) % 7;
  var diff = (dayIndex < weekStartsOn ? 7 : 0) + day - currentDay;
  date.setUTCDate(date.getUTCDate() + diff);
  return date;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/setUTCISOWeek/index.js



 // This function will be a part of public API when UTC function will be implemented.
// See issue: https://github.com/date-fns/date-fns/issues/376

function setUTCISOWeek(dirtyDate, dirtyISOWeek) {
  requiredArgs(2, arguments);
  var date = toDate(dirtyDate);
  var isoWeek = toInteger(dirtyISOWeek);
  var diff = getUTCISOWeek(date) - isoWeek;
  date.setUTCDate(date.getUTCDate() - diff * 7);
  return date;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/_lib/setUTCWeek/index.js



 // This function will be a part of public API when UTC function will be implemented.
// See issue: https://github.com/date-fns/date-fns/issues/376

function setUTCWeek(dirtyDate, dirtyWeek, options) {
  requiredArgs(2, arguments);
  var date = toDate(dirtyDate);
  var week = toInteger(dirtyWeek);
  var diff = getUTCWeek(date, options) - week;
  date.setUTCDate(date.getUTCDate() - diff * 7);
  return date;
}
// CONCATENATED MODULE: ./node_modules/date-fns/esm/parse/_lib/parsers/index.js







var MILLISECONDS_IN_HOUR = 3600000;
var MILLISECONDS_IN_MINUTE = 60000;
var MILLISECONDS_IN_SECOND = 1000;
var numericPatterns = {
  month: /^(1[0-2]|0?\d)/,
  // 0 to 12
  date: /^(3[0-1]|[0-2]?\d)/,
  // 0 to 31
  dayOfYear: /^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,
  // 0 to 366
  week: /^(5[0-3]|[0-4]?\d)/,
  // 0 to 53
  hour23h: /^(2[0-3]|[0-1]?\d)/,
  // 0 to 23
  hour24h: /^(2[0-4]|[0-1]?\d)/,
  // 0 to 24
  hour11h: /^(1[0-1]|0?\d)/,
  // 0 to 11
  hour12h: /^(1[0-2]|0?\d)/,
  // 0 to 12
  minute: /^[0-5]?\d/,
  // 0 to 59
  second: /^[0-5]?\d/,
  // 0 to 59
  singleDigit: /^\d/,
  // 0 to 9
  twoDigits: /^\d{1,2}/,
  // 0 to 99
  threeDigits: /^\d{1,3}/,
  // 0 to 999
  fourDigits: /^\d{1,4}/,
  // 0 to 9999
  anyDigitsSigned: /^-?\d+/,
  singleDigitSigned: /^-?\d/,
  // 0 to 9, -0 to -9
  twoDigitsSigned: /^-?\d{1,2}/,
  // 0 to 99, -0 to -99
  threeDigitsSigned: /^-?\d{1,3}/,
  // 0 to 999, -0 to -999
  fourDigitsSigned: /^-?\d{1,4}/ // 0 to 9999, -0 to -9999

};
var timezonePatterns = {
  basicOptionalMinutes: /^([+-])(\d{2})(\d{2})?|Z/,
  basic: /^([+-])(\d{2})(\d{2})|Z/,
  basicOptionalSeconds: /^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,
  extended: /^([+-])(\d{2}):(\d{2})|Z/,
  extendedOptionalSeconds: /^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/
};

function parseNumericPattern(pattern, string, valueCallback) {
  var matchResult = string.match(pattern);

  if (!matchResult) {
    return null;
  }

  var value = parseInt(matchResult[0], 10);
  return {
    value: valueCallback ? valueCallback(value) : value,
    rest: string.slice(matchResult[0].length)
  };
}

function parseTimezonePattern(pattern, string) {
  var matchResult = string.match(pattern);

  if (!matchResult) {
    return null;
  } // Input is 'Z'


  if (matchResult[0] === 'Z') {
    return {
      value: 0,
      rest: string.slice(1)
    };
  }

  var sign = matchResult[1] === '+' ? 1 : -1;
  var hours = matchResult[2] ? parseInt(matchResult[2], 10) : 0;
  var minutes = matchResult[3] ? parseInt(matchResult[3], 10) : 0;
  var seconds = matchResult[5] ? parseInt(matchResult[5], 10) : 0;
  return {
    value: sign * (hours * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE + seconds * MILLISECONDS_IN_SECOND),
    rest: string.slice(matchResult[0].length)
  };
}

function parseAnyDigitsSigned(string, valueCallback) {
  return parseNumericPattern(numericPatterns.anyDigitsSigned, string, valueCallback);
}

function parseNDigits(n, string, valueCallback) {
  switch (n) {
    case 1:
      return parseNumericPattern(numericPatterns.singleDigit, string, valueCallback);

    case 2:
      return parseNumericPattern(numericPatterns.twoDigits, string, valueCallback);

    case 3:
      return parseNumericPattern(numericPatterns.threeDigits, string, valueCallback);

    case 4:
      return parseNumericPattern(numericPatterns.fourDigits, string, valueCallback);

    default:
      return parseNumericPattern(new RegExp('^\\d{1,' + n + '}'), string, valueCallback);
  }
}

function parseNDigitsSigned(n, string, valueCallback) {
  switch (n) {
    case 1:
      return parseNumericPattern(numericPatterns.singleDigitSigned, string, valueCallback);

    case 2:
      return parseNumericPattern(numericPatterns.twoDigitsSigned, string, valueCallback);

    case 3:
      return parseNumericPattern(numericPatterns.threeDigitsSigned, string, valueCallback);

    case 4:
      return parseNumericPattern(numericPatterns.fourDigitsSigned, string, valueCallback);

    default:
      return parseNumericPattern(new RegExp('^-?\\d{1,' + n + '}'), string, valueCallback);
  }
}

function dayPeriodEnumToHours(enumValue) {
  switch (enumValue) {
    case 'morning':
      return 4;

    case 'evening':
      return 17;

    case 'pm':
    case 'noon':
    case 'afternoon':
      return 12;

    case 'am':
    case 'midnight':
    case 'night':
    default:
      return 0;
  }
}

function normalizeTwoDigitYear(twoDigitYear, currentYear) {
  var isCommonEra = currentYear > 0; // Absolute number of the current year:
  // 1 -> 1 AC
  // 0 -> 1 BC
  // -1 -> 2 BC

  var absCurrentYear = isCommonEra ? currentYear : 1 - currentYear;
  var result;

  if (absCurrentYear <= 50) {
    result = twoDigitYear || 100;
  } else {
    var rangeEnd = absCurrentYear + 50;
    var rangeEndCentury = Math.floor(rangeEnd / 100) * 100;
    var isPreviousCentury = twoDigitYear >= rangeEnd % 100;
    result = twoDigitYear + rangeEndCentury - (isPreviousCentury ? 100 : 0);
  }

  return isCommonEra ? result : 1 - result;
}

var DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
var DAYS_IN_MONTH_LEAP_YEAR = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]; // User for validation

function isLeapYearIndex(year) {
  return year % 400 === 0 || year % 4 === 0 && year % 100 !== 0;
}
/*
 * |     | Unit                           |     | Unit                           |
 * |-----|--------------------------------|-----|--------------------------------|
 * |  a  | AM, PM                         |  A* | Milliseconds in day            |
 * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |
 * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |
 * |  d  | Day of month                   |  D  | Day of year                    |
 * |  e  | Local day of week              |  E  | Day of week                    |
 * |  f  |                                |  F* | Day of week in month           |
 * |  g* | Modified Julian day            |  G  | Era                            |
 * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |
 * |  i! | ISO day of week                |  I! | ISO week of year               |
 * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |
 * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |
 * |  l* | (deprecated)                   |  L  | Stand-alone month              |
 * |  m  | Minute                         |  M  | Month                          |
 * |  n  |                                |  N  |                                |
 * |  o! | Ordinal number modifier        |  O* | Timezone (GMT)                 |
 * |  p  |                                |  P  |                                |
 * |  q  | Stand-alone quarter            |  Q  | Quarter                        |
 * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |
 * |  s  | Second                         |  S  | Fraction of second             |
 * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |
 * |  u  | Extended year                  |  U* | Cyclic year                    |
 * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |
 * |  w  | Local week of year             |  W* | Week of month                  |
 * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |
 * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |
 * |  z* | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |
 *
 * Letters marked by * are not implemented but reserved by Unicode standard.
 *
 * Letters marked by ! are non-standard, but implemented by date-fns:
 * - `o` modifies the previous token to turn it into an ordinal (see `parse` docs)
 * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,
 *   i.e. 7 for Sunday, 1 for Monday, etc.
 * - `I` is ISO week of year, as opposed to `w` which is local week of year.
 * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.
 *   `R` is supposed to be used in conjunction with `I` and `i`
 *   for universal ISO week-numbering date, whereas
 *   `Y` is supposed to be used in conjunction with `w` and `e`
 *   for week-numbering date specific to the locale.
 */


var parsers = {
  // Era
  G: {
    priority: 140,
    parse: function (string, token, match, _options) {
      switch (token) {
        // AD, BC
        case 'G':
        case 'GG':
        case 'GGG':
          return match.era(string, {
            width: 'abbreviated'
          }) || match.era(string, {
            width: 'narrow'
          });
        // A, B

        case 'GGGGG':
          return match.era(string, {
            width: 'narrow'
          });
        // Anno Domini, Before Christ

        case 'GGGG':
        default:
          return match.era(string, {
            width: 'wide'
          }) || match.era(string, {
            width: 'abbreviated'
          }) || match.era(string, {
            width: 'narrow'
          });
      }
    },
    set: function (date, flags, value, _options) {
      flags.era = value;
      date.setUTCFullYear(value, 0, 1);
      date.setUTCHours(0, 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['R', 'u', 't', 'T']
  },
  // Year
  y: {
    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_Patterns
    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |
    // |----------|-------|----|-------|-------|-------|
    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |
    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |
    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |
    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |
    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |
    priority: 130,
    parse: function (string, token, match, _options) {
      var valueCallback = function (year) {
        return {
          year: year,
          isTwoDigitYear: token === 'yy'
        };
      };

      switch (token) {
        case 'y':
          return parseNDigits(4, string, valueCallback);

        case 'yo':
          return match.ordinalNumber(string, {
            unit: 'year',
            valueCallback: valueCallback
          });

        default:
          return parseNDigits(token.length, string, valueCallback);
      }
    },
    validate: function (_date, value, _options) {
      return value.isTwoDigitYear || value.year > 0;
    },
    set: function (date, flags, value, _options) {
      var currentYear = date.getUTCFullYear();

      if (value.isTwoDigitYear) {
        var normalizedTwoDigitYear = normalizeTwoDigitYear(value.year, currentYear);
        date.setUTCFullYear(normalizedTwoDigitYear, 0, 1);
        date.setUTCHours(0, 0, 0, 0);
        return date;
      }

      var year = !('era' in flags) || flags.era === 1 ? value.year : 1 - value.year;
      date.setUTCFullYear(year, 0, 1);
      date.setUTCHours(0, 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['Y', 'R', 'u', 'w', 'I', 'i', 'e', 'c', 't', 'T']
  },
  // Local week-numbering year
  Y: {
    priority: 130,
    parse: function (string, token, match, _options) {
      var valueCallback = function (year) {
        return {
          year: year,
          isTwoDigitYear: token === 'YY'
        };
      };

      switch (token) {
        case 'Y':
          return parseNDigits(4, string, valueCallback);

        case 'Yo':
          return match.ordinalNumber(string, {
            unit: 'year',
            valueCallback: valueCallback
          });

        default:
          return parseNDigits(token.length, string, valueCallback);
      }
    },
    validate: function (_date, value, _options) {
      return value.isTwoDigitYear || value.year > 0;
    },
    set: function (date, flags, value, options) {
      var currentYear = getUTCWeekYear(date, options);

      if (value.isTwoDigitYear) {
        var normalizedTwoDigitYear = normalizeTwoDigitYear(value.year, currentYear);
        date.setUTCFullYear(normalizedTwoDigitYear, 0, options.firstWeekContainsDate);
        date.setUTCHours(0, 0, 0, 0);
        return startOfUTCWeek(date, options);
      }

      var year = !('era' in flags) || flags.era === 1 ? value.year : 1 - value.year;
      date.setUTCFullYear(year, 0, options.firstWeekContainsDate);
      date.setUTCHours(0, 0, 0, 0);
      return startOfUTCWeek(date, options);
    },
    incompatibleTokens: ['y', 'R', 'u', 'Q', 'q', 'M', 'L', 'I', 'd', 'D', 'i', 't', 'T']
  },
  // ISO week-numbering year
  R: {
    priority: 130,
    parse: function (string, token, _match, _options) {
      if (token === 'R') {
        return parseNDigitsSigned(4, string);
      }

      return parseNDigitsSigned(token.length, string);
    },
    set: function (_date, _flags, value, _options) {
      var firstWeekOfYear = new Date(0);
      firstWeekOfYear.setUTCFullYear(value, 0, 4);
      firstWeekOfYear.setUTCHours(0, 0, 0, 0);
      return startOfUTCISOWeek(firstWeekOfYear);
    },
    incompatibleTokens: ['G', 'y', 'Y', 'u', 'Q', 'q', 'M', 'L', 'w', 'd', 'D', 'e', 'c', 't', 'T']
  },
  // Extended year
  u: {
    priority: 130,
    parse: function (string, token, _match, _options) {
      if (token === 'u') {
        return parseNDigitsSigned(4, string);
      }

      return parseNDigitsSigned(token.length, string);
    },
    set: function (date, _flags, value, _options) {
      date.setUTCFullYear(value, 0, 1);
      date.setUTCHours(0, 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['G', 'y', 'Y', 'R', 'w', 'I', 'i', 'e', 'c', 't', 'T']
  },
  // Quarter
  Q: {
    priority: 120,
    parse: function (string, token, match, _options) {
      switch (token) {
        // 1, 2, 3, 4
        case 'Q':
        case 'QQ':
          // 01, 02, 03, 04
          return parseNDigits(token.length, string);
        // 1st, 2nd, 3rd, 4th

        case 'Qo':
          return match.ordinalNumber(string, {
            unit: 'quarter'
          });
        // Q1, Q2, Q3, Q4

        case 'QQQ':
          return match.quarter(string, {
            width: 'abbreviated',
            context: 'formatting'
          }) || match.quarter(string, {
            width: 'narrow',
            context: 'formatting'
          });
        // 1, 2, 3, 4 (narrow quarter; could be not numerical)

        case 'QQQQQ':
          return match.quarter(string, {
            width: 'narrow',
            context: 'formatting'
          });
        // 1st quarter, 2nd quarter, ...

        case 'QQQQ':
        default:
          return match.quarter(string, {
            width: 'wide',
            context: 'formatting'
          }) || match.quarter(string, {
            width: 'abbreviated',
            context: 'formatting'
          }) || match.quarter(string, {
            width: 'narrow',
            context: 'formatting'
          });
      }
    },
    validate: function (_date, value, _options) {
      return value >= 1 && value <= 4;
    },
    set: function (date, _flags, value, _options) {
      date.setUTCMonth((value - 1) * 3, 1);
      date.setUTCHours(0, 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['Y', 'R', 'q', 'M', 'L', 'w', 'I', 'd', 'D', 'i', 'e', 'c', 't', 'T']
  },
  // Stand-alone quarter
  q: {
    priority: 120,
    parse: function (string, token, match, _options) {
      switch (token) {
        // 1, 2, 3, 4
        case 'q':
        case 'qq':
          // 01, 02, 03, 04
          return parseNDigits(token.length, string);
        // 1st, 2nd, 3rd, 4th

        case 'qo':
          return match.ordinalNumber(string, {
            unit: 'quarter'
          });
        // Q1, Q2, Q3, Q4

        case 'qqq':
          return match.quarter(string, {
            width: 'abbreviated',
            context: 'standalone'
          }) || match.quarter(string, {
            width: 'narrow',
            context: 'standalone'
          });
        // 1, 2, 3, 4 (narrow quarter; could be not numerical)

        case 'qqqqq':
          return match.quarter(string, {
            width: 'narrow',
            context: 'standalone'
          });
        // 1st quarter, 2nd quarter, ...

        case 'qqqq':
        default:
          return match.quarter(string, {
            width: 'wide',
            context: 'standalone'
          }) || match.quarter(string, {
            width: 'abbreviated',
            context: 'standalone'
          }) || match.quarter(string, {
            width: 'narrow',
            context: 'standalone'
          });
      }
    },
    validate: function (_date, value, _options) {
      return value >= 1 && value <= 4;
    },
    set: function (date, _flags, value, _options) {
      date.setUTCMonth((value - 1) * 3, 1);
      date.setUTCHours(0, 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['Y', 'R', 'Q', 'M', 'L', 'w', 'I', 'd', 'D', 'i', 'e', 'c', 't', 'T']
  },
  // Month
  M: {
    priority: 110,
    parse: function (string, token, match, _options) {
      var valueCallback = function (value) {
        return value - 1;
      };

      switch (token) {
        // 1, 2, ..., 12
        case 'M':
          return parseNumericPattern(numericPatterns.month, string, valueCallback);
        // 01, 02, ..., 12

        case 'MM':
          return parseNDigits(2, string, valueCallback);
        // 1st, 2nd, ..., 12th

        case 'Mo':
          return match.ordinalNumber(string, {
            unit: 'month',
            valueCallback: valueCallback
          });
        // Jan, Feb, ..., Dec

        case 'MMM':
          return match.month(string, {
            width: 'abbreviated',
            context: 'formatting'
          }) || match.month(string, {
            width: 'narrow',
            context: 'formatting'
          });
        // J, F, ..., D

        case 'MMMMM':
          return match.month(string, {
            width: 'narrow',
            context: 'formatting'
          });
        // January, February, ..., December

        case 'MMMM':
        default:
          return match.month(string, {
            width: 'wide',
            context: 'formatting'
          }) || match.month(string, {
            width: 'abbreviated',
            context: 'formatting'
          }) || match.month(string, {
            width: 'narrow',
            context: 'formatting'
          });
      }
    },
    validate: function (_date, value, _options) {
      return value >= 0 && value <= 11;
    },
    set: function (date, _flags, value, _options) {
      date.setUTCMonth(value, 1);
      date.setUTCHours(0, 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['Y', 'R', 'q', 'Q', 'L', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']
  },
  // Stand-alone month
  L: {
    priority: 110,
    parse: function (string, token, match, _options) {
      var valueCallback = function (value) {
        return value - 1;
      };

      switch (token) {
        // 1, 2, ..., 12
        case 'L':
          return parseNumericPattern(numericPatterns.month, string, valueCallback);
        // 01, 02, ..., 12

        case 'LL':
          return parseNDigits(2, string, valueCallback);
        // 1st, 2nd, ..., 12th

        case 'Lo':
          return match.ordinalNumber(string, {
            unit: 'month',
            valueCallback: valueCallback
          });
        // Jan, Feb, ..., Dec

        case 'LLL':
          return match.month(string, {
            width: 'abbreviated',
            context: 'standalone'
          }) || match.month(string, {
            width: 'narrow',
            context: 'standalone'
          });
        // J, F, ..., D

        case 'LLLLL':
          return match.month(string, {
            width: 'narrow',
            context: 'standalone'
          });
        // January, February, ..., December

        case 'LLLL':
        default:
          return match.month(string, {
            width: 'wide',
            context: 'standalone'
          }) || match.month(string, {
            width: 'abbreviated',
            context: 'standalone'
          }) || match.month(string, {
            width: 'narrow',
            context: 'standalone'
          });
      }
    },
    validate: function (_date, value, _options) {
      return value >= 0 && value <= 11;
    },
    set: function (date, _flags, value, _options) {
      date.setUTCMonth(value, 1);
      date.setUTCHours(0, 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['Y', 'R', 'q', 'Q', 'M', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']
  },
  // Local week of year
  w: {
    priority: 100,
    parse: function (string, token, match, _options) {
      switch (token) {
        case 'w':
          return parseNumericPattern(numericPatterns.week, string);

        case 'wo':
          return match.ordinalNumber(string, {
            unit: 'week'
          });

        default:
          return parseNDigits(token.length, string);
      }
    },
    validate: function (_date, value, _options) {
      return value >= 1 && value <= 53;
    },
    set: function (date, _flags, value, options) {
      return startOfUTCWeek(setUTCWeek(date, value, options), options);
    },
    incompatibleTokens: ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'i', 't', 'T']
  },
  // ISO week of year
  I: {
    priority: 100,
    parse: function (string, token, match, _options) {
      switch (token) {
        case 'I':
          return parseNumericPattern(numericPatterns.week, string);

        case 'Io':
          return match.ordinalNumber(string, {
            unit: 'week'
          });

        default:
          return parseNDigits(token.length, string);
      }
    },
    validate: function (_date, value, _options) {
      return value >= 1 && value <= 53;
    },
    set: function (date, _flags, value, options) {
      return startOfUTCISOWeek(setUTCISOWeek(date, value, options), options);
    },
    incompatibleTokens: ['y', 'Y', 'u', 'q', 'Q', 'M', 'L', 'w', 'd', 'D', 'e', 'c', 't', 'T']
  },
  // Day of the month
  d: {
    priority: 90,
    subPriority: 1,
    parse: function (string, token, match, _options) {
      switch (token) {
        case 'd':
          return parseNumericPattern(numericPatterns.date, string);

        case 'do':
          return match.ordinalNumber(string, {
            unit: 'date'
          });

        default:
          return parseNDigits(token.length, string);
      }
    },
    validate: function (date, value, _options) {
      var year = date.getUTCFullYear();
      var isLeapYear = isLeapYearIndex(year);
      var month = date.getUTCMonth();

      if (isLeapYear) {
        return value >= 1 && value <= DAYS_IN_MONTH_LEAP_YEAR[month];
      } else {
        return value >= 1 && value <= DAYS_IN_MONTH[month];
      }
    },
    set: function (date, _flags, value, _options) {
      date.setUTCDate(value);
      date.setUTCHours(0, 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['Y', 'R', 'q', 'Q', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']
  },
  // Day of year
  D: {
    priority: 90,
    subPriority: 1,
    parse: function (string, token, match, _options) {
      switch (token) {
        case 'D':
        case 'DD':
          return parseNumericPattern(numericPatterns.dayOfYear, string);

        case 'Do':
          return match.ordinalNumber(string, {
            unit: 'date'
          });

        default:
          return parseNDigits(token.length, string);
      }
    },
    validate: function (date, value, _options) {
      var year = date.getUTCFullYear();
      var isLeapYear = isLeapYearIndex(year);

      if (isLeapYear) {
        return value >= 1 && value <= 366;
      } else {
        return value >= 1 && value <= 365;
      }
    },
    set: function (date, _flags, value, _options) {
      date.setUTCMonth(0, value);
      date.setUTCHours(0, 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['Y', 'R', 'q', 'Q', 'M', 'L', 'w', 'I', 'd', 'E', 'i', 'e', 'c', 't', 'T']
  },
  // Day of week
  E: {
    priority: 90,
    parse: function (string, token, match, _options) {
      switch (token) {
        // Tue
        case 'E':
        case 'EE':
        case 'EEE':
          return match.day(string, {
            width: 'abbreviated',
            context: 'formatting'
          }) || match.day(string, {
            width: 'short',
            context: 'formatting'
          }) || match.day(string, {
            width: 'narrow',
            context: 'formatting'
          });
        // T

        case 'EEEEE':
          return match.day(string, {
            width: 'narrow',
            context: 'formatting'
          });
        // Tu

        case 'EEEEEE':
          return match.day(string, {
            width: 'short',
            context: 'formatting'
          }) || match.day(string, {
            width: 'narrow',
            context: 'formatting'
          });
        // Tuesday

        case 'EEEE':
        default:
          return match.day(string, {
            width: 'wide',
            context: 'formatting'
          }) || match.day(string, {
            width: 'abbreviated',
            context: 'formatting'
          }) || match.day(string, {
            width: 'short',
            context: 'formatting'
          }) || match.day(string, {
            width: 'narrow',
            context: 'formatting'
          });
      }
    },
    validate: function (_date, value, _options) {
      return value >= 0 && value <= 6;
    },
    set: function (date, _flags, value, options) {
      date = setUTCDay(date, value, options);
      date.setUTCHours(0, 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['D', 'i', 'e', 'c', 't', 'T']
  },
  // Local day of week
  e: {
    priority: 90,
    parse: function (string, token, match, options) {
      var valueCallback = function (value) {
        var wholeWeekDays = Math.floor((value - 1) / 7) * 7;
        return (value + options.weekStartsOn + 6) % 7 + wholeWeekDays;
      };

      switch (token) {
        // 3
        case 'e':
        case 'ee':
          // 03
          return parseNDigits(token.length, string, valueCallback);
        // 3rd

        case 'eo':
          return match.ordinalNumber(string, {
            unit: 'day',
            valueCallback: valueCallback
          });
        // Tue

        case 'eee':
          return match.day(string, {
            width: 'abbreviated',
            context: 'formatting'
          }) || match.day(string, {
            width: 'short',
            context: 'formatting'
          }) || match.day(string, {
            width: 'narrow',
            context: 'formatting'
          });
        // T

        case 'eeeee':
          return match.day(string, {
            width: 'narrow',
            context: 'formatting'
          });
        // Tu

        case 'eeeeee':
          return match.day(string, {
            width: 'short',
            context: 'formatting'
          }) || match.day(string, {
            width: 'narrow',
            context: 'formatting'
          });
        // Tuesday

        case 'eeee':
        default:
          return match.day(string, {
            width: 'wide',
            context: 'formatting'
          }) || match.day(string, {
            width: 'abbreviated',
            context: 'formatting'
          }) || match.day(string, {
            width: 'short',
            context: 'formatting'
          }) || match.day(string, {
            width: 'narrow',
            context: 'formatting'
          });
      }
    },
    validate: function (_date, value, _options) {
      return value >= 0 && value <= 6;
    },
    set: function (date, _flags, value, options) {
      date = setUTCDay(date, value, options);
      date.setUTCHours(0, 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'E', 'i', 'c', 't', 'T']
  },
  // Stand-alone local day of week
  c: {
    priority: 90,
    parse: function (string, token, match, options) {
      var valueCallback = function (value) {
        var wholeWeekDays = Math.floor((value - 1) / 7) * 7;
        return (value + options.weekStartsOn + 6) % 7 + wholeWeekDays;
      };

      switch (token) {
        // 3
        case 'c':
        case 'cc':
          // 03
          return parseNDigits(token.length, string, valueCallback);
        // 3rd

        case 'co':
          return match.ordinalNumber(string, {
            unit: 'day',
            valueCallback: valueCallback
          });
        // Tue

        case 'ccc':
          return match.day(string, {
            width: 'abbreviated',
            context: 'standalone'
          }) || match.day(string, {
            width: 'short',
            context: 'standalone'
          }) || match.day(string, {
            width: 'narrow',
            context: 'standalone'
          });
        // T

        case 'ccccc':
          return match.day(string, {
            width: 'narrow',
            context: 'standalone'
          });
        // Tu

        case 'cccccc':
          return match.day(string, {
            width: 'short',
            context: 'standalone'
          }) || match.day(string, {
            width: 'narrow',
            context: 'standalone'
          });
        // Tuesday

        case 'cccc':
        default:
          return match.day(string, {
            width: 'wide',
            context: 'standalone'
          }) || match.day(string, {
            width: 'abbreviated',
            context: 'standalone'
          }) || match.day(string, {
            width: 'short',
            context: 'standalone'
          }) || match.day(string, {
            width: 'narrow',
            context: 'standalone'
          });
      }
    },
    validate: function (_date, value, _options) {
      return value >= 0 && value <= 6;
    },
    set: function (date, _flags, value, options) {
      date = setUTCDay(date, value, options);
      date.setUTCHours(0, 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'E', 'i', 'e', 't', 'T']
  },
  // ISO day of week
  i: {
    priority: 90,
    parse: function (string, token, match, _options) {
      var valueCallback = function (value) {
        if (value === 0) {
          return 7;
        }

        return value;
      };

      switch (token) {
        // 2
        case 'i':
        case 'ii':
          // 02
          return parseNDigits(token.length, string);
        // 2nd

        case 'io':
          return match.ordinalNumber(string, {
            unit: 'day'
          });
        // Tue

        case 'iii':
          return match.day(string, {
            width: 'abbreviated',
            context: 'formatting',
            valueCallback: valueCallback
          }) || match.day(string, {
            width: 'short',
            context: 'formatting',
            valueCallback: valueCallback
          }) || match.day(string, {
            width: 'narrow',
            context: 'formatting',
            valueCallback: valueCallback
          });
        // T

        case 'iiiii':
          return match.day(string, {
            width: 'narrow',
            context: 'formatting',
            valueCallback: valueCallback
          });
        // Tu

        case 'iiiiii':
          return match.day(string, {
            width: 'short',
            context: 'formatting',
            valueCallback: valueCallback
          }) || match.day(string, {
            width: 'narrow',
            context: 'formatting',
            valueCallback: valueCallback
          });
        // Tuesday

        case 'iiii':
        default:
          return match.day(string, {
            width: 'wide',
            context: 'formatting',
            valueCallback: valueCallback
          }) || match.day(string, {
            width: 'abbreviated',
            context: 'formatting',
            valueCallback: valueCallback
          }) || match.day(string, {
            width: 'short',
            context: 'formatting',
            valueCallback: valueCallback
          }) || match.day(string, {
            width: 'narrow',
            context: 'formatting',
            valueCallback: valueCallback
          });
      }
    },
    validate: function (_date, value, _options) {
      return value >= 1 && value <= 7;
    },
    set: function (date, _flags, value, options) {
      date = setUTCISODay(date, value, options);
      date.setUTCHours(0, 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['y', 'Y', 'u', 'q', 'Q', 'M', 'L', 'w', 'd', 'D', 'E', 'e', 'c', 't', 'T']
  },
  // AM or PM
  a: {
    priority: 80,
    parse: function (string, token, match, _options) {
      switch (token) {
        case 'a':
        case 'aa':
        case 'aaa':
          return match.dayPeriod(string, {
            width: 'abbreviated',
            context: 'formatting'
          }) || match.dayPeriod(string, {
            width: 'narrow',
            context: 'formatting'
          });

        case 'aaaaa':
          return match.dayPeriod(string, {
            width: 'narrow',
            context: 'formatting'
          });

        case 'aaaa':
        default:
          return match.dayPeriod(string, {
            width: 'wide',
            context: 'formatting'
          }) || match.dayPeriod(string, {
            width: 'abbreviated',
            context: 'formatting'
          }) || match.dayPeriod(string, {
            width: 'narrow',
            context: 'formatting'
          });
      }
    },
    set: function (date, _flags, value, _options) {
      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['b', 'B', 'H', 'K', 'k', 't', 'T']
  },
  // AM, PM, midnight
  b: {
    priority: 80,
    parse: function (string, token, match, _options) {
      switch (token) {
        case 'b':
        case 'bb':
        case 'bbb':
          return match.dayPeriod(string, {
            width: 'abbreviated',
            context: 'formatting'
          }) || match.dayPeriod(string, {
            width: 'narrow',
            context: 'formatting'
          });

        case 'bbbbb':
          return match.dayPeriod(string, {
            width: 'narrow',
            context: 'formatting'
          });

        case 'bbbb':
        default:
          return match.dayPeriod(string, {
            width: 'wide',
            context: 'formatting'
          }) || match.dayPeriod(string, {
            width: 'abbreviated',
            context: 'formatting'
          }) || match.dayPeriod(string, {
            width: 'narrow',
            context: 'formatting'
          });
      }
    },
    set: function (date, _flags, value, _options) {
      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['a', 'B', 'H', 'K', 'k', 't', 'T']
  },
  // in the morning, in the afternoon, in the evening, at night
  B: {
    priority: 80,
    parse: function (string, token, match, _options) {
      switch (token) {
        case 'B':
        case 'BB':
        case 'BBB':
          return match.dayPeriod(string, {
            width: 'abbreviated',
            context: 'formatting'
          }) || match.dayPeriod(string, {
            width: 'narrow',
            context: 'formatting'
          });

        case 'BBBBB':
          return match.dayPeriod(string, {
            width: 'narrow',
            context: 'formatting'
          });

        case 'BBBB':
        default:
          return match.dayPeriod(string, {
            width: 'wide',
            context: 'formatting'
          }) || match.dayPeriod(string, {
            width: 'abbreviated',
            context: 'formatting'
          }) || match.dayPeriod(string, {
            width: 'narrow',
            context: 'formatting'
          });
      }
    },
    set: function (date, _flags, value, _options) {
      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['a', 'b', 't', 'T']
  },
  // Hour [1-12]
  h: {
    priority: 70,
    parse: function (string, token, match, _options) {
      switch (token) {
        case 'h':
          return parseNumericPattern(numericPatterns.hour12h, string);

        case 'ho':
          return match.ordinalNumber(string, {
            unit: 'hour'
          });

        default:
          return parseNDigits(token.length, string);
      }
    },
    validate: function (_date, value, _options) {
      return value >= 1 && value <= 12;
    },
    set: function (date, _flags, value, _options) {
      var isPM = date.getUTCHours() >= 12;

      if (isPM && value < 12) {
        date.setUTCHours(value + 12, 0, 0, 0);
      } else if (!isPM && value === 12) {
        date.setUTCHours(0, 0, 0, 0);
      } else {
        date.setUTCHours(value, 0, 0, 0);
      }

      return date;
    },
    incompatibleTokens: ['H', 'K', 'k', 't', 'T']
  },
  // Hour [0-23]
  H: {
    priority: 70,
    parse: function (string, token, match, _options) {
      switch (token) {
        case 'H':
          return parseNumericPattern(numericPatterns.hour23h, string);

        case 'Ho':
          return match.ordinalNumber(string, {
            unit: 'hour'
          });

        default:
          return parseNDigits(token.length, string);
      }
    },
    validate: function (_date, value, _options) {
      return value >= 0 && value <= 23;
    },
    set: function (date, _flags, value, _options) {
      date.setUTCHours(value, 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['a', 'b', 'h', 'K', 'k', 't', 'T']
  },
  // Hour [0-11]
  K: {
    priority: 70,
    parse: function (string, token, match, _options) {
      switch (token) {
        case 'K':
          return parseNumericPattern(numericPatterns.hour11h, string);

        case 'Ko':
          return match.ordinalNumber(string, {
            unit: 'hour'
          });

        default:
          return parseNDigits(token.length, string);
      }
    },
    validate: function (_date, value, _options) {
      return value >= 0 && value <= 11;
    },
    set: function (date, _flags, value, _options) {
      var isPM = date.getUTCHours() >= 12;

      if (isPM && value < 12) {
        date.setUTCHours(value + 12, 0, 0, 0);
      } else {
        date.setUTCHours(value, 0, 0, 0);
      }

      return date;
    },
    incompatibleTokens: ['a', 'b', 'h', 'H', 'k', 't', 'T']
  },
  // Hour [1-24]
  k: {
    priority: 70,
    parse: function (string, token, match, _options) {
      switch (token) {
        case 'k':
          return parseNumericPattern(numericPatterns.hour24h, string);

        case 'ko':
          return match.ordinalNumber(string, {
            unit: 'hour'
          });

        default:
          return parseNDigits(token.length, string);
      }
    },
    validate: function (_date, value, _options) {
      return value >= 1 && value <= 24;
    },
    set: function (date, _flags, value, _options) {
      var hours = value <= 24 ? value % 24 : value;
      date.setUTCHours(hours, 0, 0, 0);
      return date;
    },
    incompatibleTokens: ['a', 'b', 'h', 'H', 'K', 't', 'T']
  },
  // Minute
  m: {
    priority: 60,
    parse: function (string, token, match, _options) {
      switch (token) {
        case 'm':
          return parseNumericPattern(numericPatterns.minute, string);

        case 'mo':
          return match.ordinalNumber(string, {
            unit: 'minute'
          });

        default:
          return parseNDigits(token.length, string);
      }
    },
    validate: function (_date, value, _options) {
      return value >= 0 && value <= 59;
    },
    set: function (date, _flags, value, _options) {
      date.setUTCMinutes(value, 0, 0);
      return date;
    },
    incompatibleTokens: ['t', 'T']
  },
  // Second
  s: {
    priority: 50,
    parse: function (string, token, match, _options) {
      switch (token) {
        case 's':
          return parseNumericPattern(numericPatterns.second, string);

        case 'so':
          return match.ordinalNumber(string, {
            unit: 'second'
          });

        default:
          return parseNDigits(token.length, string);
      }
    },
    validate: function (_date, value, _options) {
      return value >= 0 && value <= 59;
    },
    set: function (date, _flags, value, _options) {
      date.setUTCSeconds(value, 0);
      return date;
    },
    incompatibleTokens: ['t', 'T']
  },
  // Fraction of second
  S: {
    priority: 30,
    parse: function (string, token, _match, _options) {
      var valueCallback = function (value) {
        return Math.floor(value * Math.pow(10, -token.length + 3));
      };

      return parseNDigits(token.length, string, valueCallback);
    },
    set: function (date, _flags, value, _options) {
      date.setUTCMilliseconds(value);
      return date;
    },
    incompatibleTokens: ['t', 'T']
  },
  // Timezone (ISO-8601. +00:00 is `'Z'`)
  X: {
    priority: 10,
    parse: function (string, token, _match, _options) {
      switch (token) {
        case 'X':
          return parseTimezonePattern(timezonePatterns.basicOptionalMinutes, string);

        case 'XX':
          return parseTimezonePattern(timezonePatterns.basic, string);

        case 'XXXX':
          return parseTimezonePattern(timezonePatterns.basicOptionalSeconds, string);

        case 'XXXXX':
          return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds, string);

        case 'XXX':
        default:
          return parseTimezonePattern(timezonePatterns.extended, string);
      }
    },
    set: function (date, flags, value, _options) {
      if (flags.timestampIsSet) {
        return date;
      }

      return new Date(date.getTime() - value);
    },
    incompatibleTokens: ['t', 'T', 'x']
  },
  // Timezone (ISO-8601)
  x: {
    priority: 10,
    parse: function (string, token, _match, _options) {
      switch (token) {
        case 'x':
          return parseTimezonePattern(timezonePatterns.basicOptionalMinutes, string);

        case 'xx':
          return parseTimezonePattern(timezonePatterns.basic, string);

        case 'xxxx':
          return parseTimezonePattern(timezonePatterns.basicOptionalSeconds, string);

        case 'xxxxx':
          return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds, string);

        case 'xxx':
        default:
          return parseTimezonePattern(timezonePatterns.extended, string);
      }
    },
    set: function (date, flags, value, _options) {
      if (flags.timestampIsSet) {
        return date;
      }

      return new Date(date.getTime() - value);
    },
    incompatibleTokens: ['t', 'T', 'X']
  },
  // Seconds timestamp
  t: {
    priority: 40,
    parse: function (string, _token, _match, _options) {
      return parseAnyDigitsSigned(string);
    },
    set: function (_date, _flags, value, _options) {
      return [new Date(value * 1000), {
        timestampIsSet: true
      }];
    },
    incompatibleTokens: '*'
  },
  // Milliseconds timestamp
  T: {
    priority: 20,
    parse: function (string, _token, _match, _options) {
      return parseAnyDigitsSigned(string);
    },
    set: function (_date, _flags, value, _options) {
      return [new Date(value), {
        timestampIsSet: true
      }];
    },
    incompatibleTokens: '*'
  }
};
/* harmony default export */ var _lib_parsers = (parsers);
// CONCATENATED MODULE: ./node_modules/date-fns/esm/parse/index.js










var TIMEZONE_UNIT_PRIORITY = 10; // This RegExp consists of three parts separated by `|`:
// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token
//   (one of the certain letters followed by `o`)
// - (\w)\1* matches any sequences of the same letter
// - '' matches two quote characters in a row
// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),
//   except a single quote symbol, which ends the sequence.
//   Two quote characters do not end the sequence.
//   If there is no matching single quote
//   then the sequence will continue until the end of the string.
// - . matches any single character unmatched by previous parts of the RegExps

var parse_formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g; // This RegExp catches symbols escaped by quotes, and also
// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`

var parse_longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;
var parse_escapedStringRegExp = /^'([^]*?)'?$/;
var parse_doubleQuoteRegExp = /''/g;
var notWhitespaceRegExp = /\S/;
var parse_unescapedLatinCharacterRegExp = /[a-zA-Z]/;
/**
 * @name parse
 * @category Common Helpers
 * @summary Parse the date.
 *
 * @description
 * Return the date parsed from string using the given format string.
 *
 * >  Please note that the `format` tokens differ from Moment.js and other libraries.
 * > See: https://git.io/fxCyr
 *
 * The characters in the format string wrapped between two single quotes characters (') are escaped.
 * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.
 *
 * Format of the format string is based on Unicode Technical Standard #35:
 * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table
 * with a few additions (see note 5 below the table).
 *
 * Not all tokens are compatible. Combinations that don't make sense or could lead to bugs are prohibited
 * and will throw `RangeError`. For example usage of 24-hour format token with AM/PM token will throw an exception:
 *
 * ```javascript
 * parse('23 AM', 'HH a', new Date())
 * //=> RangeError: The format string mustn't contain `HH` and `a` at the same time
 * ```
 *
 * See the compatibility table: https://docs.google.com/spreadsheets/d/e/2PACX-1vQOPU3xUhplll6dyoMmVUXHKl_8CRDs6_ueLmex3SoqwhuolkuN3O05l4rqx5h1dKX8eb46Ul-CCSrq/pubhtml?gid=0&single=true
 *
 * Accepted format string patterns:
 * | Unit                            |Prior| Pattern | Result examples                   | Notes |
 * |---------------------------------|-----|---------|-----------------------------------|-------|
 * | Era                             | 140 | G..GGG  | AD, BC                            |       |
 * |                                 |     | GGGG    | Anno Domini, Before Christ        | 2     |
 * |                                 |     | GGGGG   | A, B                              |       |
 * | Calendar year                   | 130 | y       | 44, 1, 1900, 2017, 9999           | 4     |
 * |                                 |     | yo      | 44th, 1st, 1900th, 9999999th      | 4,5   |
 * |                                 |     | yy      | 44, 01, 00, 17                    | 4     |
 * |                                 |     | yyy     | 044, 001, 123, 999                | 4     |
 * |                                 |     | yyyy    | 0044, 0001, 1900, 2017            | 4     |
 * |                                 |     | yyyyy   | ...                               | 2,4   |
 * | Local week-numbering year       | 130 | Y       | 44, 1, 1900, 2017, 9000           | 4     |
 * |                                 |     | Yo      | 44th, 1st, 1900th, 9999999th      | 4,5   |
 * |                                 |     | YY      | 44, 01, 00, 17                    | 4,6   |
 * |                                 |     | YYY     | 044, 001, 123, 999                | 4     |
 * |                                 |     | YYYY    | 0044, 0001, 1900, 2017            | 4,6   |
 * |                                 |     | YYYYY   | ...                               | 2,4   |
 * | ISO week-numbering year         | 130 | R       | -43, 1, 1900, 2017, 9999, -9999   | 4,5   |
 * |                                 |     | RR      | -43, 01, 00, 17                   | 4,5   |
 * |                                 |     | RRR     | -043, 001, 123, 999, -999         | 4,5   |
 * |                                 |     | RRRR    | -0043, 0001, 2017, 9999, -9999    | 4,5   |
 * |                                 |     | RRRRR   | ...                               | 2,4,5 |
 * | Extended year                   | 130 | u       | -43, 1, 1900, 2017, 9999, -999    | 4     |
 * |                                 |     | uu      | -43, 01, 99, -99                  | 4     |
 * |                                 |     | uuu     | -043, 001, 123, 999, -999         | 4     |
 * |                                 |     | uuuu    | -0043, 0001, 2017, 9999, -9999    | 4     |
 * |                                 |     | uuuuu   | ...                               | 2,4   |
 * | Quarter (formatting)            | 120 | Q       | 1, 2, 3, 4                        |       |
 * |                                 |     | Qo      | 1st, 2nd, 3rd, 4th                | 5     |
 * |                                 |     | QQ      | 01, 02, 03, 04                    |       |
 * |                                 |     | QQQ     | Q1, Q2, Q3, Q4                    |       |
 * |                                 |     | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |
 * |                                 |     | QQQQQ   | 1, 2, 3, 4                        | 4     |
 * | Quarter (stand-alone)           | 120 | q       | 1, 2, 3, 4                        |       |
 * |                                 |     | qo      | 1st, 2nd, 3rd, 4th                | 5     |
 * |                                 |     | qq      | 01, 02, 03, 04                    |       |
 * |                                 |     | qqq     | Q1, Q2, Q3, Q4                    |       |
 * |                                 |     | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |
 * |                                 |     | qqqqq   | 1, 2, 3, 4                        | 3     |
 * | Month (formatting)              | 110 | M       | 1, 2, ..., 12                     |       |
 * |                                 |     | Mo      | 1st, 2nd, ..., 12th               | 5     |
 * |                                 |     | MM      | 01, 02, ..., 12                   |       |
 * |                                 |     | MMM     | Jan, Feb, ..., Dec                |       |
 * |                                 |     | MMMM    | January, February, ..., December  | 2     |
 * |                                 |     | MMMMM   | J, F, ..., D                      |       |
 * | Month (stand-alone)             | 110 | L       | 1, 2, ..., 12                     |       |
 * |                                 |     | Lo      | 1st, 2nd, ..., 12th               | 5     |
 * |                                 |     | LL      | 01, 02, ..., 12                   |       |
 * |                                 |     | LLL     | Jan, Feb, ..., Dec                |       |
 * |                                 |     | LLLL    | January, February, ..., December  | 2     |
 * |                                 |     | LLLLL   | J, F, ..., D                      |       |
 * | Local week of year              | 100 | w       | 1, 2, ..., 53                     |       |
 * |                                 |     | wo      | 1st, 2nd, ..., 53th               | 5     |
 * |                                 |     | ww      | 01, 02, ..., 53                   |       |
 * | ISO week of year                | 100 | I       | 1, 2, ..., 53                     | 5     |
 * |                                 |     | Io      | 1st, 2nd, ..., 53th               | 5     |
 * |                                 |     | II      | 01, 02, ..., 53                   | 5     |
 * | Day of month                    |  90 | d       | 1, 2, ..., 31                     |       |
 * |                                 |     | do      | 1st, 2nd, ..., 31st               | 5     |
 * |                                 |     | dd      | 01, 02, ..., 31                   |       |
 * | Day of year                     |  90 | D       | 1, 2, ..., 365, 366               | 7     |
 * |                                 |     | Do      | 1st, 2nd, ..., 365th, 366th       | 5     |
 * |                                 |     | DD      | 01, 02, ..., 365, 366             | 7     |
 * |                                 |     | DDD     | 001, 002, ..., 365, 366           |       |
 * |                                 |     | DDDD    | ...                               | 2     |
 * | Day of week (formatting)        |  90 | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |
 * |                                 |     | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |
 * |                                 |     | EEEEE   | M, T, W, T, F, S, S               |       |
 * |                                 |     | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |
 * | ISO day of week (formatting)    |  90 | i       | 1, 2, 3, ..., 7                   | 5     |
 * |                                 |     | io      | 1st, 2nd, ..., 7th                | 5     |
 * |                                 |     | ii      | 01, 02, ..., 07                   | 5     |
 * |                                 |     | iii     | Mon, Tue, Wed, ..., Sun           | 5     |
 * |                                 |     | iiii    | Monday, Tuesday, ..., Sunday      | 2,5   |
 * |                                 |     | iiiii   | M, T, W, T, F, S, S               | 5     |
 * |                                 |     | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 5     |
 * | Local day of week (formatting)  |  90 | e       | 2, 3, 4, ..., 1                   |       |
 * |                                 |     | eo      | 2nd, 3rd, ..., 1st                | 5     |
 * |                                 |     | ee      | 02, 03, ..., 01                   |       |
 * |                                 |     | eee     | Mon, Tue, Wed, ..., Sun           |       |
 * |                                 |     | eeee    | Monday, Tuesday, ..., Sunday      | 2     |
 * |                                 |     | eeeee   | M, T, W, T, F, S, S               |       |
 * |                                 |     | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |
 * | Local day of week (stand-alone) |  90 | c       | 2, 3, 4, ..., 1                   |       |
 * |                                 |     | co      | 2nd, 3rd, ..., 1st                | 5     |
 * |                                 |     | cc      | 02, 03, ..., 01                   |       |
 * |                                 |     | ccc     | Mon, Tue, Wed, ..., Sun           |       |
 * |                                 |     | cccc    | Monday, Tuesday, ..., Sunday      | 2     |
 * |                                 |     | ccccc   | M, T, W, T, F, S, S               |       |
 * |                                 |     | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |
 * | AM, PM                          |  80 | a..aaa  | AM, PM                            |       |
 * |                                 |     | aaaa    | a.m., p.m.                        | 2     |
 * |                                 |     | aaaaa   | a, p                              |       |
 * | AM, PM, noon, midnight          |  80 | b..bbb  | AM, PM, noon, midnight            |       |
 * |                                 |     | bbbb    | a.m., p.m., noon, midnight        | 2     |
 * |                                 |     | bbbbb   | a, p, n, mi                       |       |
 * | Flexible day period             |  80 | B..BBB  | at night, in the morning, ...     |       |
 * |                                 |     | BBBB    | at night, in the morning, ...     | 2     |
 * |                                 |     | BBBBB   | at night, in the morning, ...     |       |
 * | Hour [1-12]                     |  70 | h       | 1, 2, ..., 11, 12                 |       |
 * |                                 |     | ho      | 1st, 2nd, ..., 11th, 12th         | 5     |
 * |                                 |     | hh      | 01, 02, ..., 11, 12               |       |
 * | Hour [0-23]                     |  70 | H       | 0, 1, 2, ..., 23                  |       |
 * |                                 |     | Ho      | 0th, 1st, 2nd, ..., 23rd          | 5     |
 * |                                 |     | HH      | 00, 01, 02, ..., 23               |       |
 * | Hour [0-11]                     |  70 | K       | 1, 2, ..., 11, 0                  |       |
 * |                                 |     | Ko      | 1st, 2nd, ..., 11th, 0th          | 5     |
 * |                                 |     | KK      | 01, 02, ..., 11, 00               |       |
 * | Hour [1-24]                     |  70 | k       | 24, 1, 2, ..., 23                 |       |
 * |                                 |     | ko      | 24th, 1st, 2nd, ..., 23rd         | 5     |
 * |                                 |     | kk      | 24, 01, 02, ..., 23               |       |
 * | Minute                          |  60 | m       | 0, 1, ..., 59                     |       |
 * |                                 |     | mo      | 0th, 1st, ..., 59th               | 5     |
 * |                                 |     | mm      | 00, 01, ..., 59                   |       |
 * | Second                          |  50 | s       | 0, 1, ..., 59                     |       |
 * |                                 |     | so      | 0th, 1st, ..., 59th               | 5     |
 * |                                 |     | ss      | 00, 01, ..., 59                   |       |
 * | Seconds timestamp               |  40 | t       | 512969520                         |       |
 * |                                 |     | tt      | ...                               | 2     |
 * | Fraction of second              |  30 | S       | 0, 1, ..., 9                      |       |
 * |                                 |     | SS      | 00, 01, ..., 99                   |       |
 * |                                 |     | SSS     | 000, 0001, ..., 999               |       |
 * |                                 |     | SSSS    | ...                               | 2     |
 * | Milliseconds timestamp          |  20 | T       | 512969520900                      |       |
 * |                                 |     | TT      | ...                               | 2     |
 * | Timezone (ISO-8601 w/ Z)        |  10 | X       | -08, +0530, Z                     |       |
 * |                                 |     | XX      | -0800, +0530, Z                   |       |
 * |                                 |     | XXX     | -08:00, +05:30, Z                 |       |
 * |                                 |     | XXXX    | -0800, +0530, Z, +123456          | 2     |
 * |                                 |     | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |
 * | Timezone (ISO-8601 w/o Z)       |  10 | x       | -08, +0530, +00                   |       |
 * |                                 |     | xx      | -0800, +0530, +0000               |       |
 * |                                 |     | xxx     | -08:00, +05:30, +00:00            | 2     |
 * |                                 |     | xxxx    | -0800, +0530, +0000, +123456      |       |
 * |                                 |     | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |
 * | Long localized date             |  NA | P       | 05/29/1453                        | 5,8   |
 * |                                 |     | PP      | May 29, 1453                      |       |
 * |                                 |     | PPP     | May 29th, 1453                    |       |
 * |                                 |     | PPPP    | Sunday, May 29th, 1453            | 2,5,8 |
 * | Long localized time             |  NA | p       | 12:00 AM                          | 5,8   |
 * |                                 |     | pp      | 12:00:00 AM                       |       |
 * | Combination of date and time    |  NA | Pp      | 05/29/1453, 12:00 AM              |       |
 * |                                 |     | PPpp    | May 29, 1453, 12:00:00 AM         |       |
 * |                                 |     | PPPpp   | May 29th, 1453 at ...             |       |
 * |                                 |     | PPPPpp  | Sunday, May 29th, 1453 at ...     | 2,5,8 |
 * Notes:
 * 1. "Formatting" units (e.g. formatting quarter) in the default en-US locale
 *    are the same as "stand-alone" units, but are different in some languages.
 *    "Formatting" units are declined according to the rules of the language
 *    in the context of a date. "Stand-alone" units are always nominative singular.
 *    In `format` function, they will produce different result:
 *
 *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`
 *
 *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`
 *
 *    `parse` will try to match both formatting and stand-alone units interchangably.
 *
 * 2. Any sequence of the identical letters is a pattern, unless it is escaped by
 *    the single quote characters (see below).
 *    If the sequence is longer than listed in table:
 *    - for numerical units (`yyyyyyyy`) `parse` will try to match a number
 *      as wide as the sequence
 *    - for text units (`MMMMMMMM`) `parse` will try to match the widest variation of the unit.
 *      These variations are marked with "2" in the last column of the table.
 *
 * 3. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.
 *    These tokens represent the shortest form of the quarter.
 *
 * 4. The main difference between `y` and `u` patterns are B.C. years:
 *
 *    | Year | `y` | `u` |
 *    |------|-----|-----|
 *    | AC 1 |   1 |   1 |
 *    | BC 1 |   1 |   0 |
 *    | BC 2 |   2 |  -1 |
 *
 *    Also `yy` will try to guess the century of two digit year by proximity with `referenceDate`:
 *
 *    `parse('50', 'yy', new Date(2018, 0, 1)) //=> Sat Jan 01 2050 00:00:00`
 *
 *    `parse('75', 'yy', new Date(2018, 0, 1)) //=> Wed Jan 01 1975 00:00:00`
 *
 *    while `uu` will just assign the year as is:
 *
 *    `parse('50', 'uu', new Date(2018, 0, 1)) //=> Sat Jan 01 0050 00:00:00`
 *
 *    `parse('75', 'uu', new Date(2018, 0, 1)) //=> Tue Jan 01 0075 00:00:00`
 *
 *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),
 *    except local week-numbering years are dependent on `options.weekStartsOn`
 *    and `options.firstWeekContainsDate` (compare [setISOWeekYear]{@link https://date-fns.org/docs/setISOWeekYear}
 *    and [setWeekYear]{@link https://date-fns.org/docs/setWeekYear}).
 *
 * 5. These patterns are not in the Unicode Technical Standard #35:
 *    - `i`: ISO day of week
 *    - `I`: ISO week of year
 *    - `R`: ISO week-numbering year
 *    - `o`: ordinal number modifier
 *    - `P`: long localized date
 *    - `p`: long localized time
 *
 * 6. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.
 *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://git.io/fxCyr
 *
 * 7. `D` and `DD` tokens represent days of the year but they are ofthen confused with days of the month.
 *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://git.io/fxCyr
 *
 * 8. `P+` tokens do not have a defined priority since they are merely aliases to other tokens based
 *    on the given locale.
 *
 *    using `en-US` locale: `P` => `MM/dd/yyyy`
 *    using `en-US` locale: `p` => `hh:mm a`
 *    using `pt-BR` locale: `P` => `dd/MM/yyyy`
 *    using `pt-BR` locale: `p` => `HH:mm`
 *
 * Values will be assigned to the date in the descending order of its unit's priority.
 * Units of an equal priority overwrite each other in the order of appearance.
 *
 * If no values of higher priority are parsed (e.g. when parsing string 'January 1st' without a year),
 * the values will be taken from 3rd argument `referenceDate` which works as a context of parsing.
 *
 * `referenceDate` must be passed for correct work of the function.
 * If you're not sure which `referenceDate` to supply, create a new instance of Date:
 * `parse('02/11/2014', 'MM/dd/yyyy', new Date())`
 * In this case parsing will be done in the context of the current date.
 * If `referenceDate` is `Invalid Date` or a value not convertible to valid `Date`,
 * then `Invalid Date` will be returned.
 *
 * The result may vary by locale.
 *
 * If `formatString` matches with `dateString` but does not provides tokens, `referenceDate` will be returned.
 *
 * If parsing failed, `Invalid Date` will be returned.
 * Invalid Date is a Date, whose time value is NaN.
 * Time value of Date: http://es5.github.io/#x15.9.1.1
 *
 * ### v2.0.0 breaking changes:
 *
 * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).
 *
 * - Old `parse` was renamed to `toDate`.
 *   Now `parse` is a new function which parses a string using a provided format.
 *
 *   ```javascript
 *   // Before v2.0.0
 *   parse('2016-01-01')
 *
 *   // v2.0.0 onward (toDate no longer accepts a string)
 *   toDate(1392098430000) // Unix to timestamp
 *   toDate(new Date(2014, 1, 11, 11, 30, 30)) // Cloning the date
 *   parse('2016-01-01', 'yyyy-MM-dd', new Date())
 *   ```
 *
 * @param {String} dateString - the string to parse
 * @param {String} formatString - the string of tokens
 * @param {Date|Number} referenceDate - defines values missing from the parsed dateString
 * @param {Object} [options] - an object with options.
 * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}
 * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)
 * @param {1|2|3|4|5|6|7} [options.firstWeekContainsDate=1] - the day of January, which is always in the first week of the year
 * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;
 *   see: https://git.io/fxCyr
 * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;
 *   see: https://git.io/fxCyr
 * @returns {Date} the parsed date
 * @throws {TypeError} 3 arguments required
 * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6
 * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7
 * @throws {RangeError} `options.locale` must contain `match` property
 * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr
 * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr
 * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr
 * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr
 * @throws {RangeError} format string contains an unescaped latin alphabet character
 *
 * @example
 * // Parse 11 February 2014 from middle-endian format:
 * var result = parse('02/11/2014', 'MM/dd/yyyy', new Date())
 * //=> Tue Feb 11 2014 00:00:00
 *
 * @example
 * // Parse 28th of February in Esperanto locale in the context of 2010 year:
 * import eo from 'date-fns/locale/eo'
 * var result = parse('28-a de februaro', "do 'de' MMMM", new Date(2010, 0, 1), {
 *   locale: eo
 * })
 * //=> Sun Feb 28 2010 00:00:00
 */

function parse_parse(dirtyDateString, dirtyFormatString, dirtyReferenceDate, dirtyOptions) {
  requiredArgs(3, arguments);
  var dateString = String(dirtyDateString);
  var formatString = String(dirtyFormatString);
  var options = dirtyOptions || {};
  var locale = options.locale || en_US;

  if (!locale.match) {
    throw new RangeError('locale must contain match property');
  }

  var localeFirstWeekContainsDate = locale.options && locale.options.firstWeekContainsDate;
  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);
  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN

  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {
    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');
  }

  var localeWeekStartsOn = locale.options && locale.options.weekStartsOn;
  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);
  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN

  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {
    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');
  }

  if (formatString === '') {
    if (dateString === '') {
      return toDate(dirtyReferenceDate);
    } else {
      return new Date(NaN);
    }
  }

  var subFnOptions = {
    firstWeekContainsDate: firstWeekContainsDate,
    weekStartsOn: weekStartsOn,
    locale: locale
  }; // If timezone isn't specified, it will be set to the system timezone

  var setters = [{
    priority: TIMEZONE_UNIT_PRIORITY,
    subPriority: -1,
    set: dateToSystemTimezone,
    index: 0
  }];
  var i;
  var tokens = formatString.match(parse_longFormattingTokensRegExp).map(function (substring) {
    var firstCharacter = substring[0];

    if (firstCharacter === 'p' || firstCharacter === 'P') {
      var longFormatter = format_longFormatters[firstCharacter];
      return longFormatter(substring, locale.formatLong, subFnOptions);
    }

    return substring;
  }).join('').match(parse_formattingTokensRegExp);
  var usedTokens = [];

  for (i = 0; i < tokens.length; i++) {
    var token = tokens[i];

    if (!options.useAdditionalWeekYearTokens && isProtectedWeekYearToken(token)) {
      throwProtectedError(token, formatString, dirtyDateString);
    }

    if (!options.useAdditionalDayOfYearTokens && isProtectedDayOfYearToken(token)) {
      throwProtectedError(token, formatString, dirtyDateString);
    }

    var firstCharacter = token[0];
    var parser = _lib_parsers[firstCharacter];

    if (parser) {
      var incompatibleTokens = parser.incompatibleTokens;

      if (Array.isArray(incompatibleTokens)) {
        var incompatibleToken = void 0;

        for (var _i = 0; _i < usedTokens.length; _i++) {
          var usedToken = usedTokens[_i].token;

          if (incompatibleTokens.indexOf(usedToken) !== -1 || usedToken === firstCharacter) {
            incompatibleToken = usedTokens[_i];
            break;
          }
        }

        if (incompatibleToken) {
          throw new RangeError("The format string mustn't contain `".concat(incompatibleToken.fullToken, "` and `").concat(token, "` at the same time"));
        }
      } else if (parser.incompatibleTokens === '*' && usedTokens.length) {
        throw new RangeError("The format string mustn't contain `".concat(token, "` and any other token at the same time"));
      }

      usedTokens.push({
        token: firstCharacter,
        fullToken: token
      });
      var parseResult = parser.parse(dateString, token, locale.match, subFnOptions);

      if (!parseResult) {
        return new Date(NaN);
      }

      setters.push({
        priority: parser.priority,
        subPriority: parser.subPriority || 0,
        set: parser.set,
        validate: parser.validate,
        value: parseResult.value,
        index: setters.length
      });
      dateString = parseResult.rest;
    } else {
      if (firstCharacter.match(parse_unescapedLatinCharacterRegExp)) {
        throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');
      } // Replace two single quote characters with one single quote character


      if (token === "''") {
        token = "'";
      } else if (firstCharacter === "'") {
        token = parse_cleanEscapedString(token);
      } // Cut token from string, or, if string doesn't match the token, return Invalid Date


      if (dateString.indexOf(token) === 0) {
        dateString = dateString.slice(token.length);
      } else {
        return new Date(NaN);
      }
    }
  } // Check if the remaining input contains something other than whitespace


  if (dateString.length > 0 && notWhitespaceRegExp.test(dateString)) {
    return new Date(NaN);
  }

  var uniquePrioritySetters = setters.map(function (setter) {
    return setter.priority;
  }).sort(function (a, b) {
    return b - a;
  }).filter(function (priority, index, array) {
    return array.indexOf(priority) === index;
  }).map(function (priority) {
    return setters.filter(function (setter) {
      return setter.priority === priority;
    }).sort(function (a, b) {
      return b.subPriority - a.subPriority;
    });
  }).map(function (setterArray) {
    return setterArray[0];
  });
  var date = toDate(dirtyReferenceDate);

  if (isNaN(date)) {
    return new Date(NaN);
  } // Convert the date in system timezone to the same date in UTC+00:00 timezone.
  // This ensures that when UTC functions will be implemented, locales will be compatible with them.
  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/37


  var utcDate = subMilliseconds(date, getTimezoneOffsetInMilliseconds(date));
  var flags = {};

  for (i = 0; i < uniquePrioritySetters.length; i++) {
    var setter = uniquePrioritySetters[i];

    if (setter.validate && !setter.validate(utcDate, setter.value, subFnOptions)) {
      return new Date(NaN);
    }

    var result = setter.set(utcDate, flags, setter.value, subFnOptions); // Result is tuple (date, flags)

    if (result[0]) {
      utcDate = result[0];
      assign_assign(flags, result[1]); // Result is date
    } else {
      utcDate = result;
    }
  }

  return utcDate;
}

function dateToSystemTimezone(date, flags) {
  if (flags.timestampIsSet) {
    return date;
  }

  var convertedDate = new Date(0);
  convertedDate.setFullYear(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());
  convertedDate.setHours(date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds());
  return convertedDate;
}

function parse_cleanEscapedString(input) {
  return input.match(parse_escapedStringRegExp)[1].replace(parse_doubleQuoteRegExp, "'");
}
// CONCATENATED MODULE: ./node_modules/@elf/emerald-datetime-picker/lib/utils.js


/**
 * Check if passed value is valid datetime string, e.g.: 2020-06-30T23:59:59
 * @param value Value to check
 * @returns true if date is valid
 */
const isValidDateTime = (value) => {
    const valueSplit = value.split('T');
    return utils_isValidValue(valueSplit[0]) && isValidValue(valueSplit[1]);
};
/**
 * Pad a number with 0
 * @param number Number to pad
 * @param size Size of end string
 * @returns padded string
 */
const utils_pad = (number, size) => {
    let s = `${Math.abs(number)}`;
    while (s.length < size) {
        s = '0' + s;
    }
    return `${number < 0 ? '-' : ''}${s}`;
};
/**
 * A helper class to split date time string into date and time segments
 */
class utils_DateTimeSegment {
    /**
     * Create new date time segment
     * @param dateSegment Date segment
     * @param timeSegment Time segment
     */
    constructor(dateSegment = '', timeSegment = '') {
        this.dateSegment = dateSegment;
        this.timeSegment = timeSegment;
    }
    /**
     * Get string value
     */
    get value() {
        const timeSegment = this.timeSegment;
        return `${this.dateSegment}${timeSegment ? `T${timeSegment}` : ''}`;
    }
    /**
     * Get time
     * @returns {number} time
     */
    getTime() {
        const date = this.dateSegment ? parse(this.dateSegment) : new Date(0);
        const segments = this.timeSegment.split(':');
        date.setHours(Number(segments.shift()) || 0);
        date.setMinutes(Number(segments.shift()) || 0);
        date.setSeconds(Number(segments.shift()) || 0);
        return date.getTime();
    }
    toString() {
        return this.value;
    }
}
/**
 * Create DateTimeSegment from value string
 * @param value Date time value
 * @returns date time segment
 */
utils_DateTimeSegment.fromString = (value) => {
    const valueSplit = value.split('T');
    return new utils_DateTimeSegment(valueSplit[0], valueSplit[1]);
};
/**
 * Create DateTimeSegment from another DateTimeSegment
 * @param segment DateTimeSegment
 * @returns cloned date time segment
 */
utils_DateTimeSegment.fromDateTimeSegment = (segment) => {
    return new utils_DateTimeSegment(segment.dateSegment, segment.timeSegment);
};
/**
 * Parse date string to Date object
 * Value formats: "yyyy-DD", "yyyy-DD-mm", "yyyy-MM-dd'T'HH:mm", or "yyyy-MM-dd'T'HH:mm:ss"
 * @param value A value string
 * @returns Date object
 */
const utils_parse = (value) => {
    const isValid = isValidDateTime(value) || utils_isValidValue(value) || isValidView(value);
    if (isValid) {
        return new Date(utils_DateTimeSegment.fromString(value).getTime());
    }
    return new Date(NaN);
};
/**
* Check if passed Date object is valid
* @param date Date to check
* @returns is valid
*/
const utils_isValid = (date) => {
    return !isNaN(date.getTime());
};
/**
* Convert date to Date object
* @param date Date to convert
* @returns Date object
*/
const utils_toDate = (date) => {
    if (typeof date === 'string') {
        return utils_parse(date);
    }
    return typeof date === 'number' ? new Date(date) : date;
};
/**
 * Format Date object to local date string.
 * Output format: "yyyy-MM".
 * @param date A Date object
 * @returns A formatted date or empty string if invalid
 */
const utils_formatToView = (date) => {
    date = utils_toDate(date);
    return utils_isValid(date) ? format(date, false) : '';
};
/**
 * Format Date object to local date string.
 * Output format: "yyyy-DD-mm".
 * @param date A Date object
 * @returns A formatted date or empty string if invalid
 */
const formatToDate = (date) => {
    date = utils_toDate(date);
    return utils_isValid(date) ? format(date) : '';
};
/**
 * Format Date object to local time string.
 * Output format: "HH:mm" or "HH:mm:ss".
 * @param date Date object
 * @param [includeSeconds=false] true to include seconds
 * @returns A formatted date or empty string if invalid
 */
const formatToTime = (date, includeSeconds = false) => {
    date = utils_toDate(date);
    if (!utils_isValid(date)) {
        return '';
    }
    let time = `${utils_pad(date.getHours(), 2)}:${utils_pad(date.getMinutes(), 2)}`;
    if (includeSeconds) {
        time += `:${utils_pad(date.getSeconds(), 2)}`;
    }
    return time;
};
/**
 * Format Date object to local datetime string.
 * Output format: "yyyy-MM-dd'T'HH:mm", or "yyyy-MM-dd'T'HH:mm:ss".
 * @param date A Date object
 * @param [includeSeconds=false] true to include seconds
 * @returns A formatted date or empty string if invalid
 */
const formatToDateTime = (date, includeSeconds = false) => {
    date = utils_toDate(date);
    return utils_isValid(date) ? `${format(date)}T${formatToTime(date, includeSeconds)}` : '';
};
/**
 * Is the first date after the second one?
 * @param value the date that should be after the other one to return true
 * @param compare the date to compare with
 * @returns the first date is after the second date
 */
const utils_isAfter = (value, compare) => {
    const date = utils_parse(value);
    const compareDate = utils_parse(compare);
    return date.getTime() > compareDate.getTime();
};
/**
 * Is the first date before the second one?
 * @param value the date that should be before the other one to return true
 * @param compare the date to compare with
 * @returns the first date is before the second date
 */
const utils_isBefore = (value, compare) => {
    const date = utils_parse(value);
    const compareDate = utils_parse(compare);
    return date.getTime() < compareDate.getTime();
};
/**
 * Get current time string, e.g. "15:36" or "15:36:04"
 * @param [includeSeconds=false] true to include seconds
 * @returns A formatted time string
 */
const getCurrentTime = (includeSeconds = false) => {
    return formatToTime(new Date(), includeSeconds);
};


// CONCATENATED MODULE: ./node_modules/@elf/emerald-datetime-picker/lib/emerald-datetime-picker.js
var emerald_datetime_picker_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};











Object(coral_icon["a" /* preload */])('calendar', 'down', 'left', 'right'); /* preload calendar icons for faster loading */

const emerald_datetime_picker_POPUP_POSITION = ['bottom-start', 'top-start', 'bottom-end', 'top-end', 'bottom-middle', 'top-middle'];
const VALUE_FORMAT = {
    DATE: 'yyyy-MM-dd',
    DATETIME: "yyyy-MM-dd'T'HH:mm",
    DATETIME_SECONDS: "yyyy-MM-dd'T'HH:mm:ss"
};
const INPUT_FORMAT = {
    DATE: 'dd-MMM-yyyy',
    DATETIME: 'dd-MMM-yyyy HH:mm',
    DATETIME_AM_PM: 'dd-MMM-yyyy hh:mm aaa',
    DATETIME_SECONDS: 'dd-MMM-yyyy HH:mm:ss',
    DATETIME_SECONDS_AM_PM: 'dd-MMM-yyyy hh:mm:ss aaa'
};
/**
 * Date time picker control
 *
 * @fires opened-changed - Dispatched when when opened attribute changes internally
 * @fires value-changed - Dispatched when value changes
 * @fires error-changed - Dispatched when error state changes
 * @fires view-changed - Dispatched when internal view changes
 *
 * @attr {boolean} readonly - Set readonly state
 * @prop {boolean} [readonly=false] - Set readonly state
 *
 * @attr {boolean} disabled - Set disabled state
 * @prop {boolean} [disabled=false] - Set disabled state
 *
 * @slots header - Header slot
 * @slots right - Right slot
 * @slots footer - Footer slot
 * @slots left - Left slot
 */
let emerald_datetime_picker_EmeraldDatetimePicker = class EmeraldDatetimePicker extends lib_elf["b" /* ControlElement */] {
    constructor() {
        super(...arguments);
        this.lazyRendered = false; /* speed up rendering by not populating popup window on first load */
        this.calendarValues = []; /* used to store date information for calendars */
        this.timepickerValues = []; /* used to store time information for timepickers */
        this.inputValues = []; /* used to formatted datetime value for inputs */
        this.inputSyncing = true; /* true when inputs and pickers are in sync. False while user types in input */
        this._min = '';
        this._minSegment = null; /* parsed min */
        this._max = '';
        this._maxSegment = null; /* parsed max */
        /**
        * Only enable weekdays
        */
        this.weekdaysOnly = false;
        /**
        * Only enable weekends
        */
        this.weekendsOnly = false;
        /**
        * Custom filter, used for enabling/disabling certain dates
        * @type {Filter | null}
        */
        this.filter = null;
        /**
        * Set to switch to range select mode
        */
        this.range = false;
        this._values = []; /* list of values as passed by the user */
        this._segments = []; /* filtered and processed list of values */
        /**
         * Toggles 12hr time display
         */
        this.amPm = false;
        /**
         * Flag to show seconds time segment in display.
         * Seconds are automatically shown when `hh:mm:ss` time format is provided as a value.
         */
        this.showSeconds = false;
        this._placeholder = '';
        /**
        * Toggles the opened state of the list
        */
        this.opened = false;
        /**
         * Set state to error
         */
        this.error = false;
        /**
         * Set state to warning
         */
        this.warning = false;
        /**
        * Only open picker panel when calendar icon is clicked.
        * Clicking on the input will no longer open the picker.
        */
        this.inputTriggerDisabled = false;
        /**
        * Disable input part of the picker
        */
        this.inputDisabled = false;
        /**
        * Disable the popup
        */
        this.popupDisabled = false;
        this._format = '';
        /**
        * Toggle to display the time picker
        */
        this.timepicker = false;
        /**
        * Display two calendar pickers.
        * @type {string | null}
        */
        this.duplex = null;
        this._views = [];
        this._interimSegments = [];
    }
    /**
    * Element version number
    */
    static get version() {
        return '4.5.44';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return lib_elf["h" /* css */] `
      :host {
        display: inline-block;
        height: 48px;
        outline: none;
        cursor: text;
      }
      [part=input-wrapper] {
        display: flex;
        flex: 1;
      }
      [part=body] {
        display: flex;
      }
      [part=timepicker-wrapper] {
        display: flex;
        justify-content: space-between;
      }
      [part=timepicker-wrapper]:before,
      [part=timepicker-wrapper]:after {
        content: '';
      }
      [part=input] {
        flex: 1;
        width: auto;
        height: auto;
        padding: 0;
        margin: 0;
      }
      [part=calendar-wrapper] {
        display: inline-flex;
      }
      [part=icon] {
        cursor: pointer;
      }
      :host([popup-disabled]) [part=icon], :host([readonly]) [part=icon] {
        pointer-event: none;
      }
    `;
    }
    /**
    * Set minimum date
    * @param min date
    */
    set min(min) {
        const oldMin = this._min;
        this._min = min;
        this.requestUpdate('_min', oldMin); /* cannot be `min` as lit element check of hasChanged */
    }
    get min() {
        return this._minSegment ? this._minSegment.value : '';
    }
    /**
    * Set maximum date
    * @param max date
    */
    set max(max) {
        const oldMax = this._max;
        this._max = max;
        this.requestUpdate('_max', oldMax);
    }
    get max() {
        return this._maxSegment ? this._maxSegment.value : '';
    }
    /**
    * Set to switch to multiple select mode
    * @ignore
    * @param multiple Multiple
    */
    /* istanbul ignore next */
    set multiple(multiple) {
        new lib_elf["g" /* WarningNotice */]('multiple is not currently supported').show();
    }
    get multiple() {
        return false;
    }
    /**
    * Current date time value
    * @param value Calendar value
    */
    set value(value) {
        this.values = value ? [value] : [];
    }
    get value() {
        return this.values[0] || '';
    }
    /**
    * Set multiple selected values
    * @param values Values to set
    * @type {string[]}
    */
    set values(values) {
        const oldValues = this._values;
        if (String(oldValues) !== String(values)) {
            this._values = values;
            this.valuesToSegments();
            this.requestUpdate('_values', oldValues); /* segments are populated in update */
        }
    }
    get values() {
        return this._segments.map(segment => segment.value);
    }
    /**
    * Placeholder to display when no value is set
    * @param placeholder Placeholder
    */
    set placeholder(placeholder) {
        const oldPlaceholder = this._placeholder;
        if (oldPlaceholder !== placeholder) {
            this._placeholder = placeholder;
            this.requestUpdate('placeholder', oldPlaceholder);
        }
    }
    get placeholder() {
        return this._placeholder || this.format;
    }
    /**
    * Set the datetime format
    * Based on dane-fns datetime formats
    * @param format Date format
    */
    set format(format) {
        const oldFormat = this._format;
        if (oldFormat !== format) {
            this._format = format;
            this.requestUpdate('format', oldFormat);
        }
    }
    get format() {
        return this._format || (this.timepicker
            ? (this.showSeconds
                ? (this.amPm ? INPUT_FORMAT.DATETIME_SECONDS_AM_PM : INPUT_FORMAT.DATETIME_SECONDS)
                : (this.amPm ? INPUT_FORMAT.DATETIME_AM_PM : INPUT_FORMAT.DATETIME))
            : INPUT_FORMAT.DATE);
    }
    /**
    * Set the current calendar view.
    * Accepted format: 'yyyy-MM'
    * @param view view date
    */
    set view(view) {
        this.views = view ? [view] : [];
    }
    get view() {
        return this.views[0] || '';
    }
    /**
    * Set the current calendar views for duplex mode
    * Accepted format: 'yyyy-MM'
    * @param views view dates
    * @type {string[]}
    */
    set views(views) {
        const oldViews = this._views;
        views = this.filterAndWarnInvalidViews(views);
        if (oldViews.toString() !== views.toString()) {
            this._views = views;
            this.requestUpdate('views', oldViews);
        }
    }
    get views() {
        if (this._views.length) {
            return this._views;
        }
        const now = new Date();
        const from = this.values[0];
        if (!this.isDuplex()) {
            return [utils_formatToView(from || now)];
        }
        const to = this.values[1];
        // default duplex mode
        if (this.isDuplexConsecutive() || !from || !to || utils_formatToView(from) === utils_formatToView(to) || utils_isBefore(to, from)) {
            return this.composeViews(utils_formatToView(from || to || now), !from && to ? 1 : 0, []);
        }
        // duplex split if as from and to
        return [utils_formatToView(from), utils_formatToView(to)];
    }
    /**
     * Validates the input, marking the element as invalid if its value does not meet the validation criteria.
     * @returns {void}
     */
    validateInput() {
        const hasError = this.hasError();
        if (this.error !== hasError) {
            this.error = hasError;
            this.notifyPropertyChange('error', this.error);
        }
    }
    /**
     * Updates the element
     * @param changedProperties Properties that has changed
     * @returns {void}
     */
    update(changedProperties) {
        if (changedProperties.has('_min')) {
            this.minToSegment();
        }
        if (changedProperties.has('_max')) {
            this.maxToSegment();
        }
        if (changedProperties.has('opened') && this.opened) {
            this.lazyRendered = true;
        }
        // make sure to close popup for disabled
        if (this.opened && !this.canOpenPopup) {
            this.opened = false; /* this cannot be nor stopped nor listened */
        }
        if (changedProperties.has('_values') || changedProperties.has(elf_translate["a" /* TranslatePropertyKey */])) {
            this.syncInputValues();
        }
        if (this.shouldValidateValue(changedProperties)) {
            this.validateInput();
        }
        super.update(changedProperties);
    }
    /**
     * Called after the component is first rendered
     * @param changedProperties Properties which have changed
     * @returns {void}
     */
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        this.addEventListener('keydown', event => this.onKeyDown(event));
        this.addEventListener('tap', event => this.onTap(event));
    }
    /**
     * Overwrite validation method for value
     *
     * @param value value
     * @returns {boolean} result
     */
    isValidValue(value) {
        if (value === '') {
            return true;
        }
        // Need to check for the attribute to cover the case when
        // timepicker and value attributes are set
        return (this.timepicker || this.hasAttribute('timepicker')) ? isValidDateTime(value) : utils_isValidValue(value);
    }
    /**
    * Used to show a warning when the value does not pass the validation
    * @param value that is invalid
    * @returns {void}
    */
    warnInvalidValue(value) {
        new lib_elf["g" /* WarningNotice */](`The specified value "${value}" does not conform to the required format. The format is ${this.timepicker ? '"yyyy-MM-ddThh:mm" followed by optional ":ss" or ":ss.SSS"' : '"yyyy-MM-dd"'}.`).show();
    }
    /**
     * Show invalid view message
     * @param value Invalid value
     * @returns {void}
     */
    warnInvalidView(value) {
        new lib_elf["g" /* WarningNotice */](`The specified value "${value}" does not conform to the required format. The format is "yyyy-MM".`).show();
    }
    /**
     * Convert value string array to date segments
     * Warn invalid value if passed value does not confirm a segment
     * @returns {void}
     */
    valuesToSegments() {
        const newSegments = this.filterAndWarnInvalidValues(this._values).map(value => utils_DateTimeSegment.fromString(value));
        this._segments = newSegments;
        this.interimSegments = newSegments;
    }
    /**
     * Convert min to min segment
     * Warn if min has an invalid value
     * @returns {void}
     */
    minToSegment() {
        const min = this._min;
        if (!this.isValidValue(min)) {
            this.warnInvalidValue(min);
            this._minSegment = null;
            return;
        }
        this._minSegment = utils_DateTimeSegment.fromString(min);
    }
    /**
     * Convert max to max segment
     * Warn if max has an invalid value
     * @returns {void}
     */
    maxToSegment() {
        const max = this._max;
        if (!this.isValidValue(max)) {
            this.warnInvalidValue(max);
            this._maxSegment = null;
            return;
        }
        this._maxSegment = utils_DateTimeSegment.fromString(max);
    }
    /**
     * Check if the value needs re-validation against min/max and format
     * @param changedProperties Properties which have changed
     * @returns needs re-validation
     */
    shouldValidateValue(changedProperties) {
        // do not validate default value
        if (changedProperties.has('_values') && changedProperties.get('_values') !== undefined
            || changedProperties.has('min') && changedProperties.get('min') !== undefined
            || changedProperties.has('max') && changedProperties.get('max') !== undefined
            || changedProperties.has('showSeconds') && changedProperties.get('showSeconds') !== undefined) {
            return true;
        }
        return false;
    }
    /**
     * A helper method to make sure that only valid values are passed
     * Warn if passed value is invalid
     * @param values Values to check
     * @returns Filtered collection of values
     */
    filterAndWarnInvalidValues(values) {
        return values.map(value => {
            if (this.isValidValue(value)) {
                return value;
            }
            this.warnInvalidValue(value);
            return '';
        });
    }
    /**
     * A helper method to make sure that only valid views are passed
     * Warn if passed view is invalid
     * @param views Views to check
     * @returns Filtered collection of values
     */
    filterAndWarnInvalidViews(views) {
        for (let i = 0; i < views.length; i += 1) {
            const view = views[i];
            if (!isValidView(view)) {
                this.warnInvalidView(view);
                return []; /* if at least one view is invalid, do not care about the rest to avoid empty views */
            }
        }
        return views;
    }
    /**
     * Return true if calendar is in duplex mode
     * @returns duplex
     */
    isDuplex() {
        return this.isDuplexSplit() || this.isDuplexConsecutive();
    }
    /**
     * Return true if calendar is in duplex split mode
     * @returns duplex split
     */
    isDuplexSplit() {
        return this.duplex === 'split';
    }
    /**
     * Return true if calendar is in duplex consecutive mode
     * @returns duplex consecutive
     */
    isDuplexConsecutive() {
        return this.duplex === '' || this.duplex === 'consecutive';
    }
    /**
     * Stop syncing input values and picker values
     * @returns {void}
     */
    disableInputSync() {
        this.inputSyncing = false;
    }
    /**
     * Start syncing input values and picker values
     * @returns {void}
     */
    enableInputSync() {
        this.inputSyncing = true;
    }
    /**
     * Synchronise input values and values
     * @return {void}
     */
    syncInputValues() {
        if (!this.inputSyncing) {
            return;
        }
        // input values cannot be populated off interim segments as require a valid date
        // date-fns formats to local if there is time info
        this.inputValues = this._segments.map(segment => this.formatSegment(segment));
    }
    /**
     * Format date segment according to format and locale
     * @param segment Date segment
     * @returns formatted string
     */
    formatSegment(segment) {
        return segment.value ? format_format(segment.getTime(), this.format, {
            locale: getDateFNSLocale(Object(elf_translate["b" /* getLocale */])(this))
        }) : '';
    }
    /**
     * Construct view collection
     * @param view The view that has changed
     * @param index View index (0 - single, or from); (1 - to)
     * @param [views=this.views] The original views collection
     * @returns the new view collection
     */
    composeViews(view, index, views = this.views) {
        view = utils_formatToView(view);
        if (!this.isDuplex()) {
            return [view];
        }
        if (this.isDuplexConsecutive()) {
            if (index === 0) { /* from */
                return [view, utils_formatToView(addMonths(view, 1))];
            }
            else { /* to */
                return [utils_formatToView(subMonths(view, 1)), view];
            }
        }
        // duplex split
        if (index === 0) { /* from. to must be after or the same */
            let after = views[1] || addMonths(view, 1);
            if (utils_isBefore(after, view)) {
                after = view;
            }
            return [view, utils_formatToView(after)];
        }
        if (index === 1) { /* to. from must be before or the same */
            let before = views[0] || subMonths(view, 1);
            if (utils_isAfter(before, view)) {
                before = view;
            }
            return [utils_formatToView(before), view];
        }
        return [];
    }
    /**
     * An interim collection of segments to push values when all parts are populated
     * and validated
     * @param segments Segments
     */
    set interimSegments(segments) {
        const interimSegments = segments.map(segment => utils_DateTimeSegment.fromDateTimeSegment(segment));
        this._interimSegments = interimSegments;
        // cannot populate calendar if from is after to, it looks broken
        this.calendarValues = this.isFromBeforeTo() ? interimSegments.map(segment => segment.dateSegment) : [];
        this.timepickerValues = interimSegments.map(segment => segment.timeSegment);
    }
    /**
     * Get interim segments. These are free to modify
     * @returns interim segments
     */
    get interimSegments() {
        return this._interimSegments;
    }
    /**
     * Submit interim segments to values.
     * Notify value-changed event.
     * @returns true if values have changed. False otherwise
     */
    submitInterimSegments() {
        const oldSegments = this._segments;
        const newSegments = this.interimSegments;
        // compare if different
        if (oldSegments.toString() === newSegments.toString()) {
            return false;
        }
        const newValues = newSegments.map(segment => segment.value);
        // validate
        for (let i = 0; i < newValues.length; i += 1) { /* need this step in case timepicker is not populated */
            if (!this.isValidValue(newValues[i])) {
                return false;
            }
        }
        this.notifyValuesChange(newValues);
        return true;
    }
    /**
     * Notify that values array has been changed
     * @param values A collection of string dates
     * @returns {void}
     */
    notifyValuesChange(values) {
        if (this.values.toString() !== values.toString()) {
            this.values = values;
            this.notifyPropertyChange('value', this.value);
        }
    }
    /**
     * Notify that views array has been changed
     * @param views A collection of string dates
     * @returns {void}
     */
    notifyViewsChange(views) {
        if (this._views.toString() !== views.toString()) {
            this.views = views;
            this.notifyPropertyChange('view', this.view);
        }
    }
    /**
     * Handles key input on datetime picker
     * @param event Key down event object
     * @returns {void}
     */
    onKeyDown(event) {
        switch (event.key) {
            case 'Down':
            case 'ArrowDown':
                this.setOpened(true);
                break;
            case 'Up':
            case 'ArrowUp':
                !event.defaultPrevented && this.setOpened(false);
                break;
            default:
                return;
        }
        event.preventDefault();
    }
    /**
     * Handles key input on calendar picker
     * @param event Key down event object
     * @returns {void}
     */
    onCalendarKeyDown(event) {
        switch (event.key) {
            case 'Esc':
            case 'Escape':
                this.resetViews();
                this.setOpened(false);
                break;
            default:
                return;
        }
        event.preventDefault();
    }
    /**
     * Handles key input on text field
     * @param event Key down event object
     * @returns {void}
     */
    onInputKeyDown(event) {
        switch (event.key) {
            case 'Esc':
            case 'Escape':
                !this.opened && this.blur();
                this.setOpened(false);
                break;
            case 'Enter':
                this.toggleOpened();
                break;
            default:
                return;
        }
        event.preventDefault();
    }
    /**
     * Run on tap event
     * @param event Tap event
     * @returns {void}
     */
    onTap(event) {
        const path = event.composedPath();
        if (this.popupEl && path.includes(this.popupEl)) {
            return; /* popup is managed separately */
        }
        if (path.includes(this.iconEl)) {
            this.toggleOpened();
        }
        else if (!this.inputTriggerDisabled) {
            this.setOpened(true);
        }
    }
    /**
     * Run when popup opened flag changes
     * @param event opened-change event
     * @returns {void}
     */
    onPopupOpenedChanged(event) {
        event.preventDefault(); /* re-target opened changed event */
        this.setOpened(event.detail.value);
    }
    /**
     * Run on calendar view-changed event
     * @param event view-changed event
     * @returns {void}
     */
    onCalendarViewChanged(event) {
        const index = event.target === this.calendarToEl ? 1 : 0; /* 0 - from, single; 1 - to */
        const view = event.detail.value;
        this.notifyViewsChange(this.composeViews(view, index));
    }
    /**
     * Run on calendar value-changed event
     * @param event value-changed event
     * @returns {void}
     */
    onCalendarValueChanged(event) {
        var _a, _b;
        const values = event.target.values;
        this.interimSegments = values.map((value, index) => {
            const segment = this.interimSegments[index] || new utils_DateTimeSegment();
            segment.dateSegment = value;
            if (this.timepicker && !segment.timeSegment) {
                segment.timeSegment = getCurrentTime(this.showSeconds); /* populate time, as otherwise time picker looks broken */
            }
            return segment;
        });
        this.submitInterimSegments();
        // in duplex mode, avoid jumping on views
        // Therefore if any of values have changed, save the current view
        if (this.isDuplex() && this.calendarEl && this.calendarToEl) {
            this.notifyViewsChange([(_a = this.calendarEl) === null || _a === void 0 ? void 0 : _a.view, (_b = this.calendarToEl) === null || _b === void 0 ? void 0 : _b.view]);
        }
        // Close popup if there is no time picker
        const newValues = this.values;
        if (!this.timepicker && newValues[0] && (this.range ? newValues[1] : true)) {
            this.setOpened(false);
        }
    }
    /**
     * Run on time-picker value-changed event
     * @param event value-changed event
     * @returns {void}
     */
    onTimePickerValueChanged(event) {
        const target = event.target;
        const index = target === this.timepickerToEl ? 1 : 0; /* 0 - from, single; 1 - to */
        const segment = this.interimSegments[index] || new utils_DateTimeSegment();
        segment.timeSegment = target.value;
        this.interimSegments[index] = segment;
        this.submitInterimSegments();
    }
    /**
     * Run on input focus
     * @returns {void}
     */
    onInputFocus() {
        this.disableInputSync();
    }
    /**
     * Run on input blur
     * @param event blur event
     * @returns {void}
     */
    onInputBlur(event) {
        this.enableInputSync();
        // remove all code once strict formatting is supported in date-fns
        const index = event.target === this.inputToEl ? 1 : 0;
        const segment = this._segments[index];
        if (!segment || !segment.value) {
            return;
        }
        const formattedValue = segment ? this.formatSegment(segment) : '';
        if (formattedValue !== this.inputValues[index]) {
            const inputValues = [...this.inputValues];
            inputValues[index] = formattedValue;
            this.inputValues = inputValues;
            this.requestUpdate();
        }
    }
    /**
     * Run on input value-changed event
     * @param event value-changed event
     * @returns {void}
     */
    onInputValueChanged(event) {
        const target = event.target;
        const index = target === this.inputToEl ? 1 : 0; /* 0 - from, single; 1 - to */
        const inputValue = target.value;
        const inputValues = [...this.inputValues];
        inputValues[index] = inputValue;
        this.inputValues = inputValues;
        let dateString = '';
        if (inputValue) {
            const recoveryDate = (this.interimSegments[index] || new utils_DateTimeSegment()).getTime();
            const date = parse_parse(inputValue, this.format, recoveryDate, {
                locale: getDateFNSLocale(Object(elf_translate["b" /* getLocale */])(this))
            });
            if (isValid_isValid(date)) {
                dateString = format_format(date, this.timepicker ? this.showSeconds ? VALUE_FORMAT.DATETIME_SECONDS : VALUE_FORMAT.DATETIME : VALUE_FORMAT.DATE);
                this.resetViews(); /* user input should be treated similar to manually switching the views */
            }
        }
        else {
            this.resetViews();
        }
        this.interimSegments[index] = utils_DateTimeSegment.fromString(dateString);
        this.submitInterimSegments();
        this.validateInput();
    }
    /**
     * Check if input format conforms to value format
     * @returns true if valid format
     */
    isValidFormat() {
        const inputValues = this.inputValues;
        const values = this.values;
        // No need to format values to validate.
        // If input is invalid, value is not populated
        for (let i = 0; i < inputValues.length; i += 1) {
            if (inputValues[i] && !values[i]) {
                return false;
            }
        }
        return true;
    }
    /**
     * Check if `value` is within `min` and `max`
     * @returns true if value is within
     */
    isValueWithinMinMax() {
        if (this.min || this.max) {
            const minTime = this.min ? utils_DateTimeSegment.fromString(this.min).getTime() : -Infinity;
            const maxTime = this.max ? utils_DateTimeSegment.fromString(this.max).getTime() : Infinity;
            for (let i = 0; i < this.values.length; i += 1) {
                const valueTime = utils_DateTimeSegment.fromString(this.values[i]).getTime();
                if (minTime > valueTime || maxTime < valueTime) {
                    return false;
                }
            }
        }
        return true;
    }
    /**
     * Check if `from` is before or the same as `to`
     * @returns true if `from` is before or the same as `to`
     */
    isFromBeforeTo() {
        if (this.range) {
            const from = this.values[0];
            const to = this.values[1];
            if (from && to) {
                const fromSegment = utils_DateTimeSegment.fromString(from);
                const toSegment = utils_DateTimeSegment.fromString(to);
                if (fromSegment.getTime() > toSegment.getTime()) {
                    return false;
                }
            }
        }
        return true;
    }
    /**
     * Check if datetime picker has an error
     * @returns true if error
     */
    hasError() {
        return !(this.isValidFormat() && this.isValueWithinMinMax() && this.isFromBeforeTo());
    }
    /**
     * Toggles the opened state of the list
     * @returns {void}
     */
    toggleOpened() {
        this.setOpened(!this.opened);
    }
    /**
     * Return true if popup can be opened
     */
    get canOpenPopup() {
        return !(this.disabled || this.readonly || this.popupDisabled);
    }
    /**
     * Set opened state with event
     * @param opened True if opened
     * @returns {void}
     */
    setOpened(opened) {
        if (opened && !this.canOpenPopup) { /* never allow to open popup if cannot do so */
            return;
        }
        if (this.opened !== opened && this.notifyPropertyChange('opened', opened, true)) {
            this.opened = opened;
        }
    }
    /**
     * Reset views to default
     * @returns {void}
     */
    resetViews() {
        this.notifyViewsChange([]);
    }
    /**
     * Get time picker template
     * @param id Timepicker identifier
     * @param value Time picker value
     * @returns template result
     */
    getTimepickerTemplate(id, value = '') {
        return lib_elf["k" /* html */] `<coral-time-picker
      id="${id}"
      part="time-picker"
      .showSeconds=${this.showSeconds}
      .amPm=${this.amPm}
      .value=${value}
      @value-changed=${this.onTimePickerValueChanged}></coral-time-picker>`;
    }
    /**
     * Get calendar template
     * @param id Calendar identifier
     * @param view Calendar view
     * @returns template result
     */
    getCalendarTemplate(id, view = '') {
        return lib_elf["k" /* html */] `<coral-calendar
      part="calendar"
      id=${id}
      lang=${Object(lib_elf["l" /* ifDefined */])(this.lang || undefined)}
      .fillCells=${!this.isDuplex()}
      .range=${this.range}
      .multiple=${this.multiple}
      .min=${this._minSegment ? this._minSegment.dateSegment : ''}
      .max=${this._maxSegment ? this._maxSegment.dateSegment : ''}
      .weekdaysOnly=${this.weekdaysOnly}
      .weekendsOnly=${this.weekendsOnly}
      .firstDayOfWeek=${Object(lib_elf["l" /* ifDefined */])(this.firstDayOfWeek)}
      .values=${this.calendarValues}
      .filter=${this.filter}
      .view=${view}
      @keydown=${this.onCalendarKeyDown}
      @view-changed=${this.onCalendarViewChanged}
      @value-changed=${this.onCalendarValueChanged}></coral-calendar>`;
    }
    /**
     * Get calendar templates
     */
    get calendarsTemplate() {
        return lib_elf["k" /* html */] `
      ${this.getCalendarTemplate('calendar', this.views[0])}
      ${this.isDuplex() ? this.getCalendarTemplate('calendar-to', this.views[1]) : undefined}
    `;
    }
    /**
     * Get timepicker templates
     */
    get timepickersTemplate() {
        // TODO: how can we add support timepicker with multiple?
        const values = this.timepickerValues;
        return lib_elf["k" /* html */] `
      ${this.getTimepickerTemplate('timepicker', values[0])}
      ${this.range ? lib_elf["k" /* html */] `<div part="input-separator"></div>` : undefined}
      ${this.range ? this.getTimepickerTemplate('timepicker-to', values[1]) : undefined}
    `;
    }
    /**
     * Get input template
     * @param id Input identifier
     * @param value Input value
     * @returns template result
     */
    getInputTemplate(id, value = '') {
        return lib_elf["k" /* html */] `
      <coral-text-field
        id=${id}
        part="input"
        transparent
        ?disabled="${this.disabled}"
        ?readonly="${this.readonly || this.inputDisabled}"
        .value=${value}
        .placeholder="${this.placeholder}"
        @focus=${this.onInputFocus}
        @blur=${this.onInputBlur}
        @keydown=${this.onInputKeyDown}
        @value-changed=${this.onInputValueChanged}></coral-text-field>
    `;
    }
    /**
     * Template for rendering an icon
     */
    get iconTemplate() {
        return lib_elf["k" /* html */] `
      <coral-icon
        part="icon"
        icon="calendar"></coral-icon>
    `;
    }
    /**
     * Template for inputs
     * @returns inputTemplate
     */
    get inputTemplates() {
        const values = this.inputValues;
        return lib_elf["k" /* html */] `
      <div part="input-wrapper">
        ${this.getInputTemplate('input', values[0])}
        ${this.range ? lib_elf["k" /* html */] `<div part="input-separator"></div>` : undefined}
        ${this.range ? this.getInputTemplate('input-to', values[1]) : undefined}
      </div>
    `;
    }
    /**
    * Popup panel template
    */
    get popupTemplate() {
        if (this.lazyRendered) {
            return lib_elf["k" /* html */] `<coral-popup-panel
        tabindex="0"
        part="list"
        with-shadow
        no-cancel-on-esc-key
        no-autofocus
        .delegatesFocus=${true}
        .focusBoundary=${this}
        .positionTarget=${this}
        .position=${emerald_datetime_picker_POPUP_POSITION}
        ?opened=${this.opened}
        @opened-changed=${this.onPopupOpenedChanged}>
          <div><slot name="header"></div>
          <div part="body">
            <div><slot name="left"></div>
            <div part="selectors-wrapper">
              <div part="calendar-wrapper">
                ${this.calendarsTemplate}
              </div>
              ${this.timepicker ? lib_elf["k" /* html */] `<div part="timepicker-wrapper">${this.timepickersTemplate}</div>` : undefined}
            </div>
            <div><slot name="right"></div>
          </div>
          <div><slot name="footer"></div>
        </coral-popup-panel>`;
        }
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return lib_elf["k" /* html */] `
      ${this.inputTemplates}
      ${this.iconTemplate}
      ${this.popupTemplate}
    `;
    }
};
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "min", null);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "max", null);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, attribute: 'weekdays-only' })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "weekdaysOnly", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, attribute: 'weekends-only' })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "weekendsOnly", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ attribute: false })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "filter", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Number, attribute: 'first-day-of-week' })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "firstDayOfWeek", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "range", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "multiple", null);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "value", null);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({
        converter: {
            fromAttribute: function (value) {
                return value.split(',');
            }
        }
    })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "values", null);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, attribute: 'am-pm', reflect: true })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "amPm", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, attribute: 'show-seconds', reflect: true })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "showSeconds", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "placeholder", null);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "opened", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "error", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "warning", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, attribute: 'input-trigger-disabled' })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "inputTriggerDisabled", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, attribute: 'input-disabled', reflect: true })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "inputDisabled", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, attribute: 'popup-disabled', reflect: true })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "popupDisabled", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "format", null);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "timepicker", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: String, reflect: true })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "duplex", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "view", null);
emerald_datetime_picker_decorate([
    Object(lib_elf["n" /* property */])({ attribute: false })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "views", null);
emerald_datetime_picker_decorate([
    Object(elf_translate["c" /* translate */])({ mode: 'directive', scope: 'emerald-datetime-picker' })
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "t", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["o" /* query */])('[part=icon]', true)
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "iconEl", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["o" /* query */])('[part=list]')
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "popupEl", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["o" /* query */])('#timepicker')
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "timepickerEl", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["o" /* query */])('#timepicker-to')
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "timepickerToEl", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["o" /* query */])('#calendar')
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "calendarEl", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["o" /* query */])('#calendar-to')
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "calendarToEl", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["o" /* query */])('#input')
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "inputEl", void 0);
emerald_datetime_picker_decorate([
    Object(lib_elf["o" /* query */])('#input-to')
], emerald_datetime_picker_EmeraldDatetimePicker.prototype, "inputToEl", void 0);
emerald_datetime_picker_EmeraldDatetimePicker = emerald_datetime_picker_decorate([
    Object(lib_elf["i" /* customElement */])('emerald-datetime-picker')
], emerald_datetime_picker_EmeraldDatetimePicker);


// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/coral-calendar.js



elf.customStyles.define('coral-calendar', ':host{font-style:normal;font-variant:normal;font-weight:400;line-height:normal;text-align:left;text-indent:0;text-shadow:none;text-transform:none;white-space:normal;word-break:normal;word-spacing:normal;word-wrap:normal;outline:0;font-size:13rem;color:#484848;min-width:224px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#fff;padding:4px}:host [part=navigation]{padding-bottom:4px}:host [part=btn-next],:host [part=btn-prev],:host [part=btn-view]{margin:0}:host [part=btn-view]{background:0 0;color:inherit;box-shadow:none;margin-left:15px;padding:0}:host [part=btn-view]:not([focused=visible]){border:none}:host [part=table]{width:100%;box-shadow:0 0 0 1px #a9afba;background:#fff}:host [part~=row]:not(:last-of-type){box-shadow:0 1px 0 0 #d5d8db}:host [part~=row]:not(:first-of-type) [part~=cell] [part~=selection]{top:1px}:host [part~=cell]{outline:0}:host [part~=cell]:not(:last-of-type){box-shadow:1px 0 0 0 #d5d8db}:host [part~=cell][disabled] [part~=selection]{opacity:.4}:host [part~=cell][today]{color:#fff}:host [part~=cell][today] [part~=selection]{background:#acafb5}:host [part~=cell]:not([selected]):not([range]):not([disabled])[idle] [part~=selection]{opacity:.6}:host [part~=cell]:not([selected]):not([range]):focus [part~=selection],:host [part~=cell]:not([selected]):not([range]):hover [part~=selection]{background:#e4e8ed;color:#000}:host [part~=cell]:not([selected]):not([range]):focus [part~=selection]{outline:#ee7600 dotted 1px}:host [part~=cell][range] [part~=selection]{background:rgba(255,153,51,.2)}:host [part~=cell][range][today]{color:#f93}:host [part~=cell][selected]{color:#fff}:host [part~=cell][selected] [part~=selection]{background:#f93}:host [part~=cell]:not(:first-of-type) [part~=selection]{left:1px}:host [part~=cell]:not([tabindex]){pointer-events:none}:host [part~=day-name]{background-color:#e4e8ed;color:#6e6e78;font-size:10px;font-weight:700}:host [part~=selection]{top:0;bottom:0;right:0;left:0}:host([disabled]){opacity:.4}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/emerald-datetime-picker.js







elf.customStyles.define('emerald-datetime-picker', ':host{display:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-align:left;font-family:inherit;font-size:13rem;font-weight:400;height:23px;width:140px;max-width:100%;padding:0 5px;margin:1px 0;outline:0;box-sizing:border-box;display:inline-flex;align-items:center;position:relative;vertical-align:middle;color:#484848;border-radius:0;text-overflow:ellipsis;background-color:#fff;border:1px solid #a9afba}:host([error]),:host([error][warning]){border:1px solid #d94255}:host([error][disabled]),:host([error][warning][disabled]){color:rgba(72,72,72,.6);border:1px solid rgba(217,66,85,.6)}:host([focused]){background-size:100% 2px,100% 1px!important;background-position:center bottom!important;border-color:#ffb266;border-style:dotted}:host [part=time-picker]{margin:0}:host [part=timepicker-wrapper]{box-shadow:inset 0 1px 0 0 #d5d8db;box-shadow:none;padding:0 3px 3px}:host([range]) coral-text-field{text-align:center}:host [part=input]{color:inherit}:host [part=icon]{color:#acafb5}:host [part=input-separator]{line-height:23px;background:#484848;width:.4em;margin:auto 0;height:1px}:host([disabled]){border:1px solid rgba(169,175,186,.6);color:rgba(72,72,72,.6)}:host([readonly]){border:1px solid rgba(169,175,186,.6)}:host(:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #bfc3cb}:host([warning]){background-color:#fff;border:1px solid #f93}:host([warning][disabled]){border:1px solid rgba(255,153,51,.6);color:rgba(72,72,72,.6)}:host([warning][readonly]){border:1px solid rgba(255,153,51,.6)}:host([warning]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #ffb366}:host([error]),:host([error][warning]:not([focused])){background-color:#fff;border:1px solid #d94255}:host([error][disabled]),:host([error][warning]:not([focused])[disabled]){border:1px solid rgba(217,66,85,.6);color:rgba(72,72,72,.6)}:host([error][readonly]),:host([error][warning]:not([focused])[readonly]){border:1px solid rgba(217,66,85,.6)}:host([error]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover),:host([error][warning]:not([focused]):not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #e37180}:host([highlight]){background-color:#b0ffff;border:1px solid #a9afba}:host([highlight][disabled]){border:1px solid rgba(169,175,186,.6);color:rgba(72,72,72,.6);background-color:rgba(176,255,255,.6)}:host([highlight][readonly]){border:1px solid rgba(169,175,186,.6)}:host([highlight]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #bfc3cb}:host([indirect]){color:#009494;background-color:#effefe;border:1px solid #898623}:host([indirect][disabled]){border:1px solid rgba(137,134,35,.6);color:rgba(0,148,148,.6)}:host([indirect][readonly]){border:1px solid rgba(137,134,35,.6)}:host([indirect]:not([focused]):not(:focus):not([disabled]):not([readonly]):hover){border:1px solid #a7a45a}:host [part=calendar]{width:224px;padding:4px}:host [part=list]{margin-top:1px}:host([range]){width:280px}');

// CONCATENATED MODULE: ./node_modules/@elf/quartz-layout/lib/quartz-layout.js
var quartz_layout_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

/**
 * Layout component for creating responsive applications and components
 *
 * @fires resize - Fired when the element's size changes.
 */
let quartz_layout_QuartzLayout = class QuartzLayout extends lib_elf["f" /* ResponsiveElement */] {
    constructor() {
        super(...arguments);
        /**
         * Displays debug lines.
         * @type {boolean}
         */
        this.debug = false;
        /**
         * Tells the element to display flex,
         * displaying children in a row wrap layout.
         */
        this.flex = false;
        /**
         * Tells the element to display as a container,
         * displaying children in a vertical nowrap layout.
         */
        this.container = false;
        /**
         * Prevents the element from being flexible,
         * when inside of another flex layout.
         */
        this.noflex = false;
        /**
         * Prevents wrapping flex items,
         * when the parent isn't a container.
         */
        this.nowrap = false;
        /**
         * Makes the element a scrollable viewport.
         */
        this.scrollable = false;
        /**
         * Sets the fixed size of the element.
         * Value could be pixel, percents or auto.
         */
        this.size = null;
        /**
         * Sets the rough size of the element based on other siblings and content.
         * Value could be pixel, percents or auto.
         */
        this.basis = null;
        /**
         * Allows the width to shrink below its contents.
         * Also prevents the width from shrinking past a certain point.
         * Value could be pixel, percents or _empty_.
         */
        this.minWidth = null;
        /**
         * Allows the height to shrink below its contents.
         * Also prevents the height from shrinking past a certain point.
         * Value could be pixel, percents or _empty_.
         */
        this.minHeight = null;
        /**
         * Prevents the width from expanding past a certain point.
         * Value could be pixel, percents or _empty_.
         */
        this.maxWidth = null;
        /**
         * Prevents the height from expanding past a certain point.
         * Value could be pixel, percents or _empty_.
         */
        this.maxHeight = null;
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.22';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return lib_elf["h" /* css */] `
      :host {
        box-sizing: border-box;
        display: block;
        position: relative;
        overflow: hidden;
        min-width: var(--min-width, 0);
        min-height: var(--min-height, 0);
        max-width: var(--max-width, none);
        max-height: var(--max-height, none);
        flex: var(--flex, 1 1 auto);
        -webkit-flex: var(--flex, 1 1 auto);
        -ms-flex: var(--flex, 1 1 auto);
      }
  
      :host([flex]) {
        display: flex;
        display: -webkit-flex;
        display: flexbox;
        display: -ms-flexbox;
        flex-flow: row wrap;
        align-items: stretch;
        align-content: flex-start;
      }
  
      :host([flex][container]) {
        flex-flow: column nowrap;
        -ms-flex-flow: column nowrap;
        -webkit-flex-flow: column nowrap;
        -webkit-flex-flow: column none;
      }
  
      :host([scrollable]) {
        overflow: auto;
        -webkit-overflow-scrolling: touch;
      }
  
      :host([noflex]) {
        flex: 0 0 auto;
        -ms-flex: 0 0 auto;
        -webkit: 0 0 auto;
      }
  
      :host([flex][nowrap]) {
        flex-wrap: nowrap;
        -ms-flex-wrap: nowrap;
        -webkit-flex-wrap: nowrap;
        -webkit-flex-wrap: none;
      }
    `;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return lib_elf["k" /* html */] `<slot></slot>`;
    }
    updated(changedProperties) {
        if (changedProperties.has('minWidth')) {
            this.updateVariable('--min-width', this.minWidth);
        }
        if (changedProperties.has('minHeight')) {
            this.updateVariable('--min-height', this.minHeight);
        }
        if (changedProperties.has('maxWidth')) {
            this.updateVariable('--max-width', this.maxWidth);
        }
        if (changedProperties.has('maxHeight')) {
            this.updateVariable('--max-height', this.maxHeight);
        }
        if (changedProperties.has('size') || changedProperties.has('basis')) {
            this.updateVariable('--flex', this.size ? '0 0 ' + this.size : '1 1 ' + (this.basis || 'auto'));
        }
    }
};
quartz_layout_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], quartz_layout_QuartzLayout.prototype, "debug", void 0);
quartz_layout_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], quartz_layout_QuartzLayout.prototype, "flex", void 0);
quartz_layout_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], quartz_layout_QuartzLayout.prototype, "container", void 0);
quartz_layout_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], quartz_layout_QuartzLayout.prototype, "noflex", void 0);
quartz_layout_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], quartz_layout_QuartzLayout.prototype, "nowrap", void 0);
quartz_layout_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], quartz_layout_QuartzLayout.prototype, "scrollable", void 0);
quartz_layout_decorate([
    Object(lib_elf["n" /* property */])({ type: String, reflect: true })
], quartz_layout_QuartzLayout.prototype, "size", void 0);
quartz_layout_decorate([
    Object(lib_elf["n" /* property */])({ type: String, reflect: true })
], quartz_layout_QuartzLayout.prototype, "basis", void 0);
quartz_layout_decorate([
    Object(lib_elf["n" /* property */])({ type: String, reflect: true, attribute: 'min-width' })
], quartz_layout_QuartzLayout.prototype, "minWidth", void 0);
quartz_layout_decorate([
    Object(lib_elf["n" /* property */])({ type: String, reflect: true, attribute: 'min-height' })
], quartz_layout_QuartzLayout.prototype, "minHeight", void 0);
quartz_layout_decorate([
    Object(lib_elf["n" /* property */])({ type: String, reflect: true, attribute: 'max-width' })
], quartz_layout_QuartzLayout.prototype, "maxWidth", void 0);
quartz_layout_decorate([
    Object(lib_elf["n" /* property */])({ type: String, reflect: true, attribute: 'max-height' })
], quartz_layout_QuartzLayout.prototype, "maxHeight", void 0);
quartz_layout_QuartzLayout = quartz_layout_decorate([
    Object(lib_elf["i" /* customElement */])('quartz-layout')
], quartz_layout_QuartzLayout);


// CONCATENATED MODULE: ./node_modules/@elf/core-phrasebook/lib/locale/en/emerald-pagination.js
// Component docs https://elf.int.refinitiv.com/elements/emerald-pagination.html


const emerald_pagination_translations = {
    // page: current page #
    // pageTotal: total number of pages
    PAGE_OF: 'Page {page} of {pageTotal}',
    /*
     * totalCount: total number of items
     * pageSize: Number of items per page
     * ** To translate
     * No items
     * of = eg page 1 of 2
     * item
     * items
     */
    ITEM_INFO: '{totalCount, plural, =0 {No Items} other {{ totalCount, plural, other { {pageSize, plural, =1 {#} other {{from} - {to}}} of {totalCount} {totalCount, plural, =1 {item} other {items}}} }} }'
};
lib["a" /* Phrasebook */].define('en', 'emerald-pagination', emerald_pagination_translations);
/* harmony default export */ var emerald_pagination = (emerald_pagination_translations);

// CONCATENATED MODULE: ./node_modules/@elf/emerald-pagination/lib/emerald-pagination.js
var emerald_pagination_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







/**
 * emerald-pagination component used
 * to control and navigate through multiple pages
 * @fires page-changed - Fired when the `page` property is changed
 */
let emerald_pagination_EmeraldPagination = class EmeraldPagination extends lib_elf["a" /* BasicElement */] {
    constructor() {
        super(...arguments);
        /**
         * Set current page
         */
        this.page = '1';
        /**
         * Number of item per page
         */
        this.pageSize = '10';
        /**
         * Total items
         */
        this.totalItems = '10';
        /**
         * Set state to disable
         */
        this.disabled = false;
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.40';
    }
    /**
     * Invoked whenever the element is updated
     * @param changedProperties Map of changed properties with old values
     * @returns {void}
     */
    updated(changedProperties) {
        super.updated(changedProperties);
        if (changedProperties.has('disabled')) {
            this.disabledChanged();
        }
        if (changedProperties.has('page')) {
            const previousPage = changedProperties.get('page');
            this.page = this.validatePage(previousPage, this.page);
            this.updateButtons();
        }
        if (changedProperties.has('pageSize')) {
            this.pageSizeChanged();
        }
        if (changedProperties.has('totalItems')) {
            this.totalItemsChanged();
        }
    }
    /**
     * Handle when page-size property changed
     * @returns {void}
     */
    pageSizeChanged() {
        const page = Number.parseInt(this.page, 10);
        const pageSize = Number.parseInt(this.pageSize, 10);
        // page must have at least 1 item
        if (pageSize < 1) {
            this.pageSize = '1';
        }
        if (page > this.totalPage) {
            this.page = '' + this.totalPage;
        }
        this.updateButtons();
    }
    /**
     * Handle when total-items property changed
     * @returns {void}
     */
    totalItemsChanged() {
        const page = Number.parseInt(this.page, 10);
        const totalItems = Number.parseInt(this.totalItems, 10);
        // handle if someone doesn't know how to count
        if (totalItems < 1) {
            this.totalItems = '0';
            this.page = '1';
        }
        else if (page > this.totalPage) {
            this.page = '' + this.totalPage;
        }
        this.updateButtons();
    }
    /**
     * Handle when disabled property changed
     * @returns {void}
     */
    disabledChanged() {
        if (this.disabled) {
            this.infoElement.setAttribute('disabled', '');
        }
        else {
            this.infoElement.removeAttribute('disabled');
        }
        this.input.disabled = this.disabled;
        // recalculate button state
        this.updateButtons();
    }
    /**
     * Update disable/enable state of first, previous, next, and last
     * First and previous should be disabled if showing first page
     * Next and last should be disabled if showing last page
     * @returns {void}
     */
    updateButtons() {
        const page = Number.parseInt(this.page, 10);
        const firstPage = this.disabled || page <= 1;
        const lastPage = this.disabled || page >= this.totalPage;
        this.previousPageButton.disabled = firstPage;
        this.firstPageButton.disabled = firstPage;
        this.nextPageButton.disabled = lastPage;
        this.lastPageButton.disabled = lastPage;
    }
    /**
     * Calculate and return total pages
     * Total pages should never less than 1
     * @returns {Number} Number of total page
     */
    get totalPage() {
        const pageSize = Number.parseInt(this.pageSize, 10);
        const totalItems = Number.parseInt(this.totalItems, 10);
        if (pageSize > 0) {
            const totalPage = Math.ceil(totalItems / pageSize);
            return totalPage > 0 ? totalPage : 1;
        }
        return 1;
    }
    /**
     * Check a new page value to be usable
     * if a new page value is allow then return newPage
     * Condition to be old value is null or NaN or undefined or string or less than 1
     * @param oldPage a old page value
     * @param newPage a new page value
     * @return return a new page value
     */
    validatePage(oldPage, newPage) {
        let page = Number.parseInt(newPage, 10);
        if (!page || isNaN(Number(newPage)) || isNaN(page)) {
            page = Number.parseInt(oldPage, 10);
        }
        else if (page > this.totalPage) {
            page = this.totalPage;
        }
        else if (page < 1) {
            page = 1;
        }
        return page.toString();
    }
    /**
     * Get text to display in info part
     * @returns Info used for translations
     */
    get pageInfo() {
        const page = Number.parseInt(this.page, 10);
        const pageSize = Number.parseInt(this.pageSize, 10);
        const totalCount = Number.parseInt(this.totalItems, 10);
        const from = ((page - 1) * pageSize) + 1;
        const to = page * pageSize > totalCount ? totalCount : page * pageSize;
        return {
            from,
            to,
            totalCount,
            pageSize
        };
    }
    /**
     * Hide info part when it's too small
     * @returns {void}
     */
    onResize() {
        const display = this.clientWidth < Number.parseInt(this.getComputedVariable('--responsive-width'), 10) ? 'none' : 'block';
        this.infoElement.style.display = display;
    }
    /**
     * Handle when input is focus
     * @returns {void}
     */
    onInputFocus() {
        this.input.value = this.page;
        setTimeout(() => {
            this.input.select();
        });
    }
    /**
     * Handle when input lost focus
     * @param event Event object
     * @returns {void}
     */
    onInputBlur(event) {
        const oldPageValue = this.page;
        this.page = this.validatePage(this.page, event.target.value);
        // need this to update input text
        this.requestUpdate();
        if (this.page !== oldPageValue) {
            this.notifyPropertyChange('page', this.page);
        }
    }
    /**
     * Handles action when Enter key is press onto the input
     * @param event Keyboard event
     * @returns {void}
     */
    onInputKeyDown(event) {
        var _a, _b;
        if (event.key === 'Enter' || event.keyCode === 13) {
            /*
            * Issue only in firefox
            * cannot blur() or focus() to this.input
            * so create a temp to this.input loses focus
            */
            const temp = document.createElement('input');
            (_a = this.shadowRoot) === null || _a === void 0 ? void 0 : _a.appendChild(temp);
            temp.focus();
            this.input.blur();
            (_b = this.shadowRoot) === null || _b === void 0 ? void 0 : _b.removeChild(temp);
            event.preventDefault();
        }
    }
    /**
     * Updates page value depending on direction
     * @param direction page value direction
     * @param event whether the event page-changed should fire
     * @returns {void}
     */
    updatePage(direction, event = false) {
        const page = parseInt(this.page, 10);
        const limit = direction === 'increment' ? page < this.totalPage : page > 1;
        if (limit) {
            this.page = direction === 'increment' ? '' + (page + 1) : '' + (page - 1);
            if (event) {
                this.notifyPropertyChange('page', this.page);
            }
        }
    }
    /**
     * Go to the next page
     * @returns {void}
     */
    next() {
        this.input.blur();
        this.updatePage('increment');
    }
    /**
     * Go to the next page and fires event
     * @returns {void}
     */
    onNextTap() {
        this.input.blur();
        this.updatePage('increment', true);
    }
    /**
     * Go to the previous page
     * @returns {void}
     */
    previous() {
        this.input.blur();
        this.updatePage('decrement');
    }
    /**
     * Go to the previous page and fires evetn
     * @returns {void}
     */
    onPreviousTap() {
        this.input.blur();
        this.updatePage('decrement', true);
    }
    /**
     * Go to the first page
     * @returns {void}
     */
    first() {
        this.input.blur();
        this.page = '1';
    }
    /**
     * Go to the first page and fires event
     * @returns {void}
     */
    onFirstTap() {
        this.first();
        this.notifyPropertyChange('page', this.page);
    }
    /**
     * Go to the last page
     * @returns {void}
     */
    last() {
        this.input.blur();
        this.page = '' + this.totalPage;
    }
    /**
     * Go to the last page and fires event
     * @returns {void}
     */
    onLastTap() {
        this.last();
        this.notifyPropertyChange('page', this.page);
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return lib_elf["h" /* css */] `
      :host {
        display: block;
        --responsive-width: 450;
      }
    `;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @return Render template
     */
    render() {
        return lib_elf["k" /* html */] `
      <quartz-layout part="container" flex nowrap @resize="${this.onResize}">
        <div id="info" part="info">${this.t('ITEM_INFO', this.pageInfo)}</div>
        <coral-split-button part="buttons">
          <coral-button id="first" icon="skip-to-start" @tap="${this.onFirstTap}"></coral-button>
          <coral-button id="previous" icon="left" @tap="${this.onPreviousTap}"></coral-button>
        </coral-split-button>
        <coral-text-field
          id="input"
          part="input"
          @focus="${this.onInputFocus}"
          @blur="${this.onInputBlur}"
          @keydown="${this.onInputKeyDown}"
          .value="${this.t('PAGE_OF', {
            page: this.page,
            pageTotal: this.totalPage
        })}"
          no-spinner></coral-text-field>
        <coral-split-button part="buttons">
          <coral-button id="next" icon="right" @tap="${this.onNextTap}"></coral-button>
          <coral-button id="last" icon="skip-to-end" @tap="${this.onLastTap}"></coral-button>
        </coral-split-button>
      </quartz-layout>
    `;
    }
};
emerald_pagination_decorate([
    Object(lib_elf["o" /* query */])('#info')
], emerald_pagination_EmeraldPagination.prototype, "infoElement", void 0);
emerald_pagination_decorate([
    Object(lib_elf["o" /* query */])('#input')
], emerald_pagination_EmeraldPagination.prototype, "input", void 0);
emerald_pagination_decorate([
    Object(lib_elf["o" /* query */])('#first')
], emerald_pagination_EmeraldPagination.prototype, "firstPageButton", void 0);
emerald_pagination_decorate([
    Object(lib_elf["o" /* query */])('#previous')
], emerald_pagination_EmeraldPagination.prototype, "previousPageButton", void 0);
emerald_pagination_decorate([
    Object(lib_elf["o" /* query */])('#next')
], emerald_pagination_EmeraldPagination.prototype, "nextPageButton", void 0);
emerald_pagination_decorate([
    Object(lib_elf["o" /* query */])('#last')
], emerald_pagination_EmeraldPagination.prototype, "lastPageButton", void 0);
emerald_pagination_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], emerald_pagination_EmeraldPagination.prototype, "page", void 0);
emerald_pagination_decorate([
    Object(lib_elf["n" /* property */])({ type: String, attribute: 'page-size' })
], emerald_pagination_EmeraldPagination.prototype, "pageSize", void 0);
emerald_pagination_decorate([
    Object(lib_elf["n" /* property */])({ type: String, attribute: 'total-items' })
], emerald_pagination_EmeraldPagination.prototype, "totalItems", void 0);
emerald_pagination_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], emerald_pagination_EmeraldPagination.prototype, "disabled", void 0);
emerald_pagination_decorate([
    Object(elf_translate["c" /* translate */])()
], emerald_pagination_EmeraldPagination.prototype, "t", void 0);
emerald_pagination_EmeraldPagination = emerald_pagination_decorate([
    Object(lib_elf["i" /* customElement */])('emerald-pagination')
], emerald_pagination_EmeraldPagination);


// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/quartz-layout.js



elf.customStyles.define('quartz-layout', ':host([debug]){outline:rgba(238,118,0,.33) solid 1px;outline-offset:-1px}');

// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/emerald-pagination.js






elf.customStyles.define('emerald-pagination', ':host [part=container]{align-items:center;justify-content:flex-end}:host [part=info]{margin-right:10px;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host([disabled]) [part=info]{color:rgba(72,72,72,.6)}:host [part=input]{min-width:40px;text-align:center;height:23px;width:150px;margin:0 1px}:host [part=button],:host [part=input]{touch-action:manipulation}:host{--first-icon:previous;--last-icon:next;--previous-icon:left;--next-icon:right;--responsive-width:300}');

// EXTERNAL MODULE: ./node_modules/@elf/coral-popup-panel/lib/managers/zindex-manager.js
var zindex_manager = __webpack_require__(12);

// CONCATENATED MODULE: ./node_modules/@elf/emerald-popup-menu/lib/menu-manager.js



/**
 * Popup manager monitors menu nesting and ensures
 * that only a single menu tree can be opened
 */
class menu_manager_OpenedMenusManager {
    /**
     * Get the sorted list of popups by z-index
     */
    static get popups() {
        const openedPopupMenus = [];
        const popupLayers = Object(zindex_manager["c" /* getPopups */])();
        popupLayers.forEach(popup => {
            if (popup instanceof emerald_popup_menu_EmeraldPopupMenu && this.registry.has(popup)) {
                openedPopupMenus.push(popup);
            }
        });
        return openedPopupMenus;
    }
    /**
     * Run when tap event happened on document
     * @param event Tap start event
     * @returns {void}
     */
    static closeOnOutsideOfMenuTap(event) {
        const paths = [...event.composedPath()];
        while (paths.length) {
            const node = paths.shift();
            if (node instanceof emerald_popup_menu_EmeraldPopupMenu && this.registry.has(node)) {
                return;
            }
        }
        const topMenu = this.popupStack[this.popupStack.length - 1];
        if (topMenu && !topMenu.noCancelOnOutsideClick) {
            this.setOpened(topMenu, false);
        }
    }
    /**
     * Mark active menu with active attribute
     * This is required for compact menus to change styles
     * @returns {void}
     */
    static setActiveMenu() {
        if (this.activeMenu) {
            this.activeMenu.removeAttribute('active');
        }
        this.activeMenu = this.popupStack[0];
        if (this.activeMenu) {
            this.activeMenu.setAttribute('active', '');
        }
    }
    /**
     * A recursion function to close nested menus
     * @param parent Parent menu
     * @returns false if opened event is prevented
     */
    static _closeMenuFor(parent) {
        const childMenu = this.crossMenu.get(parent);
        if (childMenu) {
            const { menu } = childMenu;
            if (this.setOpened(menu, false)) {
                if (this._closeMenuFor(menu)) {
                    this.crossMenu.delete(parent);
                    return true;
                }
            }
            return false;
        }
        return true;
    }
    /**
     * Close all nested menus for parent menu
     * @param parent Parent menu
     * @returns false if opened event is prevented
     */
    static closeMenuFor(parent) {
        if (this._closeMenuFor(parent)) {
            this.focusThrottler.schedule(() => {
                parent.opened && parent.focus();
            });
            return true;
        }
        return false;
    }
    /**
     * Set the state of menu
     * @param menu The menu
     * @param opened True to make menu opened
     * @returns false if event is prevented
     */
    static setOpened(menu, opened) {
        if (menu.opened !== opened) {
            const event = new CustomEvent('opened-changed', {
                cancelable: true,
                detail: {
                    value: opened
                }
            });
            menu.dispatchEvent(event);
            if (event.defaultPrevented) {
                return false;
            }
            menu.opened = opened;
        }
        return true;
    }
    /**
    * Register the menu
    * Can be called multiple times if menu items collection has changed
    * @param menu Menu
    * @returns {void}
    */
    static register(menu) {
        if (!this.registry.size) {
            document.addEventListener('tapstart', this.closeOnOutsideOfMenuTap.bind(this), {
                capture: true,
                passive: true
            });
        }
        this.registry.add(menu);
        this.popupStack = this.popups;
        this.setActiveMenu();
    }
    /**
    * Deregister the menu
    * @param menu Menu
    * @returns {void}
    */
    static deregister(menu) {
        const parentMenu = this.getParentMenu(menu);
        if (!this.closeMenuFor(parentMenu || menu)) {
            return;
        }
        this.crossMenu.delete(menu);
        this.registry.delete(menu);
        this.popupStack = this.popups;
        this.setActiveMenu();
        if (!this.registry.size) {
            const eventOptions = {
                capture: true,
                passive: true
            };
            document.removeEventListener('tapstart', this.closeOnOutsideOfMenuTap, eventOptions);
        }
    }
    /**
     * Try to open nested menu for provided item. If no item provided, close nested menu
     * @param parentMenu Parent menu
     * @param [item] Item to check menu for
     * @returns {void}
     */
    static toggleNestedMenuFor(parentMenu, item) {
        const crossMenu = this.crossMenu.get(parentMenu);
        if (crossMenu) {
            if (crossMenu.item === item) { /* same menu */
                return;
            }
            if (!this.closeMenuFor(parentMenu)) {
                return;
            }
        }
        if (!item) {
            this.closeMenuFor(parentMenu);
            return;
        }
        const menuId = item.getAttribute('for');
        if (!menuId) {
            return;
        }
        const menu = parentMenu.getRootNode().getElementById(menuId); /* query within the scope */
        if (!menu || !(menu instanceof emerald_popup_menu_EmeraldPopupMenu)) {
            return;
        }
        if (this.setOpened(menu, true)) {
            this.crossMenu.set(parentMenu, {
                menu,
                item
            });
        }
    }
    /**
     * Get parent menu from child menu if any
     * @param childMenu menu to find parent for
     * @returns parent menu or undefined
     */
    static getParentMenu(childMenu) {
        let parentMenu;
        this.crossMenu.forEach(({ menu }, key) => {
            if (menu === childMenu) {
                parentMenu = key;
            }
        });
        return parentMenu;
    }
    /**
     * Get parent menu item from child menu if any
     * @param childMenu menu to find parent for
     * @returns parent menu item or undefined
     */
    static getParentMenuItem(childMenu) {
        let parentItem;
        this.crossMenu.forEach(({ item, menu }) => {
            if (menu === childMenu) {
                parentItem = item;
            }
        });
        return parentItem;
    }
    /**
     * Check if menu is nested, a.k.a. has parent menu
     * @param menu Menu to check
     * @returns true if menu is nested
     */
    static isNested(menu) {
        return this.getParentMenu(menu) !== undefined;
    }
    /**
     * Check if menu is active, a.k.a. it is to of z-index stack
     * @param menu Menu to check
     * @returns true if menu is active
     */
    static isActiveMenu(menu) {
        return this.popupStack[0] === menu;
    }
    /**
     * Clear all manager items
     * @returns {void}
     */
    static clear() {
        this.registry.forEach(menu => this.deregister(menu));
    }
}
menu_manager_OpenedMenusManager.focusThrottler = new utils["a" /* AfterRenderTaskRunner */]();
menu_manager_OpenedMenusManager.registry = new Set();
menu_manager_OpenedMenusManager.crossMenu = new Map();
menu_manager_OpenedMenusManager.popupStack = [];


// CONCATENATED MODULE: ./node_modules/@elf/emerald-popup-menu/lib/utils.js

const utils_id = Object(utils["i" /* uuid */])();
let counter = 0;
/**
 * Get a semi-unique id
 * This is probably the fastest way to do it
 * @returns an id
 */
const getId = () => {
    counter += 1;
    return `${utils_id}${counter}`;
};


// CONCATENATED MODULE: ./node_modules/@elf/emerald-popup-menu/lib/emerald-popup-menu.js
var emerald_popup_menu_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var EmeraldPopupMenu_1;








/**
 * emerald-popup-menu is popup window that supports single-level and multi-level menus
 * @fires item-trigger - Dispatched when user clicks on item
 * @fires opened-changed - Dispatched when when opened attribute changes internally. Prevent default to stop opening/closing pipeline
 *
 * @attr {boolean} opened - True if the popup menu is currently displayed
 * @prop {boolean} [opened=false] - True if the popup menu is currently displayed
 *
 * @attr {boolean} with-backdrop - True to show backdrop
 * @prop {boolean} [withBackdrop=false] - True to show backdrop
 *
 * @attr {boolean} no-cancel-on-esc-key - Set to true to disable canceling the overlay with the ESC key
 * @prop {boolean} [noCancelOnEscKey=false] - Set to true to disable canceling the overlay with the ESC key
 *
 * @attr {boolean} no-cancel-on-outside-click - Set to true to disable canceling the overlay by clicking outside it
 * @prop {boolean} [noCancelOnOutsideClick=false] - Set to true to disable canceling the overlay by clicking outside it
 *
 * @attr {boolean} lock-position-target - Set to true to lock position target
 * @prop {boolean} [lockPositionTarget=false] - Set to true to lock position target
 *
 * @prop {HTMLElement|null} [positionTarget=null] - Position next to the HTML element
 *
 * @attr {string} transition-style - Set the transition style
 * @prop {string|null} [transitionStyle=null] - Set the transition style
 *
 * @prop {string} [value=] - Returns the first selected item from values.
 *
 * @attr {number} x - Set a specific x coordinate
 * @prop {number} x - Set a specific x coordinate
 *
 * @attr {number} y - Set a specific y coordinate
 * @prop {number} y - Set a specific y coordinate
 *
 * @attr {number} horizontal-offset - A pixel value that will be added to the position calculated on the horizontal axis. The offset will be applied either to the `left` or `right` depending on the `positionTarget`
 * @prop {number} horizontalOffset - A pixel value that will be added to the position calculated on the horizontal axis. The offset will be applied either to the `left` or `right` depending on the `positionTarget`
 *
 * @attr {number} vertical-offset - A pixel value that will be added to the position calculated on the vertical axis. The offset will be applied either to the `top` or `bottom` depending on the `positionTarget`
 * @prop {number} verticalOffset - A pixel value that will be added to the position calculated on the vertical axis. The offset will be applied either to the `top` or `bottom` depending on the `positionTarget`
 *
 * @attr {number} offset - A pixel value that will be added to the position calculated on the vertical or horizontal axis. The offset is applied dynamically depending on the `positionTarget`
 * @prop {number} offset - A pixel value that will be added to the position calculated on the vertical or horizontal axis. The offset is applied dynamically depending on the `positionTarget`
 *
 * @attr {{} | undefined} position - Set position and align against the attach target.
 * @prop {{} | undefined} position - Set position and align against the attach target.
 */
let emerald_popup_menu_EmeraldPopupMenu = EmeraldPopupMenu_1 = class EmeraldPopupMenu extends coral_popup_panel_lib["a" /* CoralPopupPanel */] {
    constructor() {
        super();
        this.dataDisconnectThrottler = new utils["b" /* AnimationTaskRunner */]();
        this.oldInteractiveElements = [];
        this.menuIndex = {};
        this.composer = new utils["d" /* CollectionComposer */]([]);
        this.lazyRendered = false; /* speed up rendering by not populating popup window on first load */
        /**
         * Switch to compact style menu
         */
        this.compact = false;
        /**
         * A flag indicating that the menu is nested
         * Used for styling
         */
        this.nested = false;
        /**
        * @ignore
        */
        this.withShadow = true;
        /**
        * @ignore
        */
        this.lockPositionTarget = true;
        /**
        * @ignore
        */
        this.focusBoundary = null;
        /**
        * @ignore
        */
        this.position = ['bottom-start', 'top-start'];
        /**
        * @ignore
        */
        this.onItemTap = this.onItemTap.bind(this);
        /**
        * @ignore
        */
        this.onItemMouseMove = this.onItemMouseMove.bind(this);
        /**
        * @ignore
        */
        this.toCoralItem = this.toCoralItem.bind(this);
        /**
        * @ignore
        */
        this.modificationUpdate = this.modificationUpdate.bind(this);
    }
    /**
     * Element version number
     */
    static get version() {
        return '4.5.37';
    }
    /**
     * A `CSSResult` that will be used
     * to style the host, slotted children
     * and the internal template of the element.
     * @return CSS template
     */
    static get styles() {
        return [
            super.styles,
            lib_elf["h" /* css */] `
        :host {
          overflow-y: auto;
          overflow-x: hidden;
        }
        :host([compact]:not([active])) { /* active is set in menu-manager */
          opacity: 0;
        }
      `
        ];
    }
    /**
     * Array of item's values
     * @type {string[]}
     */
    get values() {
        return this.withData ? this.getDataValues() : this.getSlottedValues();
    }
    set values(values) {
        const oldValues = this.values;
        if (String(values) === String(oldValues)) {
            return;
        }
        this.withData ? this.setDataValues(values) : this.setSlottedValues(values);
        void this.requestUpdate('values', oldValues);
    }
    /**
     * Returns the first selected item value.
     */
    get value() {
        return this.values.length > 0 ? this.values[0] : '';
    }
    set value(value) {
        const valueToString = String(value);
        this.values = valueToString && value !== null ? [valueToString] : [];
    }
    /**
     * Construct the menu from data object.
     * Cannot be used with internal content
     * @type {PopupMenuData | undefined}
     */
    get data() {
        return this._data;
    }
    set data(value) {
        const oldValue = this._data;
        if (oldValue === value) {
            return;
        }
        else if (Array.isArray(value)) {
            value.forEach(function (item) {
                if (item && item.value !== undefined && item.value !== null) {
                    item.value = String(item.value);
                }
            });
            this.composer = new utils["d" /* CollectionComposer */](value);
        }
        else if (value instanceof utils["d" /* CollectionComposer */]) {
            this.composer = value;
        }
        else {
            new lib_elf["g" /* WarningNotice */]('emerald-popup-menu: invalid data provided').show();
            this.composer = new utils["d" /* CollectionComposer */]([]);
        }
        this._data = value;
        this.composer.on('modification', // Listen for modifications
        this.modificationUpdate // Update the template
        );
        void this.requestUpdate('data', oldValue);
    }
    /**
     * Get values from data collection
     * @returns data values
     */
    getDataValues() {
        const items = this.getDataDescendants();
        const selected = items.filter(item => this.composer.getItemPropertyValue(item, 'selected') === true);
        return selected.map(item => this.composer.getItemPropertyValue(item, 'value') || '');
    }
    /**
     * Set values to data collection
     * @param values data values
     * @returns {void}
     */
    setDataValues(values) {
        const items = this.getDataDescendants();
        items.forEach(item => {
            const value = this.composer.getItemPropertyValue(item, 'value') || '';
            const found = values.some(userValue => String(userValue) === value);
            this.composer.setItemPropertyValue(item, 'selected', found);
        });
    }
    /**
     * Get values from slotted element collection
     * @returns slotted item values
     */
    getSlottedValues() {
        const items = this.getSlottedDescendants();
        const selected = items.filter(item => item.selected === true);
        return selected.map(item => item.value);
    }
    /**
     * Set values to slotted elements
     * @param values element values
     * @returns {void}
     */
    setSlottedValues(values) {
        const items = this.getSlottedDescendants();
        items.forEach(item => {
            item.selected = values.includes(item.value);
        });
    }
    /**
     * A flag to check whether menu is constructed from data
     * or from slotted content
     * It is not possible to combine two
     */
    get withData() {
        return this._data !== undefined;
    }
    /**
     * True if menu is fully opened and is currently in focus
     */
    get isActive() {
        return this.fullyOpened && menu_manager_OpenedMenusManager.isActiveMenu(this);
    }
    /**
     * Get descendant as data item
     * Valid only for CC
     * @returns descendant data item
     */
    getDataDescendants() {
        return (this.parentDataItem
            ? this.composer.getItemDescendants(this.parentDataItem, Infinity)
            : this.composer.queryItems(() => true, Infinity));
    }
    /**
     * Get descendant as coral item
     * Valid only for slotted
     * @param [parent=this] parent menu
     * @returns descendant coral item
     */
    getSlottedDescendants(parent = this) {
        const items = parent.children;
        const descendants = [];
        for (let i = 0; i < items.length; i += 1) {
            const item = items[i];
            if (item instanceof coral_item["CoralItem"]) {
                descendants.push(item);
                if (item.for) {
                    const menu = document.getElementById(item.for);
                    if (menu && menu instanceof EmeraldPopupMenu_1) {
                        descendants.push(...this.getSlottedDescendants(menu));
                    }
                }
            }
        }
        return descendants;
    }
    /**
     * Filter coral items out of children
     */
    get items() {
        const children = this.withData ? this.renderRoot.children : this.children;
        const items = [];
        for (let i = 0; i < children.length; i += 1) {
            const item = children[i];
            if (item instanceof coral_item["CoralItem"] && this.isHighlightable(item)) {
                items.push(item);
            }
        }
        return items;
    }
    /**
     * Invoked when a component is removed from the documents DOM.
     * @return {void}
     */
    disconnectedCallback() {
        super.disconnectedCallback();
        this.disconnectNestedMenus();
    }
    /**
     * Called when the elements DOM has been updated and rendered
     * @param changedProperties Properties that has changed
     * @returns shouldUpdate
     */
    shouldUpdate(changedProperties) {
        const shouldUpdate = super.shouldUpdate(changedProperties);
        return shouldUpdate
            || changedProperties.size === 0 /* this is to support empty requestUpdate() */
            || changedProperties.has('values')
            || changedProperties.has('data')
            || (this.opened && changedProperties.has('compact'))
            || (this.opened && changedProperties.has('modification'));
    }
    /**
     * Reflects property values to attributes and calls render to render DOM via lit-html.
     * @param changedProperties Properties which have changed
     * @return {void}
     */
    update(changedProperties) {
        if (changedProperties.has('opened')) {
            if (this.opened) {
                this.opening();
            }
            else {
                this.closing();
            }
        }
        if (changedProperties.has('data')) {
            this.constructDataMenus();
        }
        if (changedProperties.has('opened') && this.opened) {
            this.lazyRendered = true;
        }
        super.update(changedProperties);
    }
    /**
     * Called after the component is first rendered
     * @param changedProperties Properties which have changed
     * @return {void}
     */
    firstUpdated(changedProperties) {
        super.firstUpdated(changedProperties);
        this.addEventListener('keydown', this.onKeyDown);
        this.addEventListener('keyup', this.onKeyUp);
        this.renderRoot.addEventListener('tap', this.onItemTap);
        this.renderRoot.addEventListener('mousemove', this.onItemMouseMove); /* listen shadow root to support data */
    }
    /**
     * Called after render life-cycle finished
     * @param changedProperties Properties which have changed
     * @return {void}
     */
    updated(changedProperties) {
        super.updated(changedProperties);
        if (changedProperties.has('data')) {
            // Manages items constructed by constructDataMenus after they have been rendered
            this.onDataChange();
        }
    }
    /**
     * Run when the popup has closed, managers are de-registered
     * and closing transition has finished
     * @return {void}
     */
    onClosed() {
        // do not keep light DOM nodes and disconnect on next render
        this.dataDisconnectThrottler.schedule(() => {
            this.disconnectNestedMenus();
        });
        this.setItemHighlight();
        this.restoreNestedProperties();
        super.onClosed();
    }
    /**
     * Restore properties back to original before bounding to parent menu
     * @returns {void}
     */
    restoreNestedProperties() {
        if (this.nested) {
            this.nested = false;
            this.position = this.oldPosition;
            this.positionTarget = this.oldPositionTarget;
            this.interactiveElements = this.oldInteractiveElements;
            this.oldPositionTarget = undefined;
            this.oldPosition = undefined;
            this.oldInteractiveElements = [];
        }
    }
    /**
     * Selects all data from CollectionComposer
     * @return all MenuItems stored in CollectionComposer
     */
    getAllComposedData() {
        const items = this.parentDataItem
            ? this.composer.getItemChildren(this.parentDataItem)
            : this.composer.queryItems(() => true, 0);
        return items;
    }
    /**
     * Get menu depth from the collection composer
     * @returns depth
     */
    getDataDepth() {
        return this.parentDataItem ? this.composer.getItemDepth(this.parentDataItem) + 1 : 0;
    }
    /**
     * Run while popup is opening
     * @return {void}
     */
    opening() {
        const parentMenuItem = menu_manager_OpenedMenusManager.getParentMenuItem(this);
        this.dataDisconnectThrottler.cancel();
        this.restoreNestedProperties();
        if (parentMenuItem) {
            this.nested = true;
            this.noCancelOnOutsideClick = true;
            this.oldPositionTarget = this.positionTarget;
            this.oldInteractiveElements = this.interactiveElements;
            this.oldPosition = this.position;
            let parentMenu = menu_manager_OpenedMenusManager.getParentMenu(this);
            if (!this.compact) {
                this.positionTarget = parentMenuItem;
                const interactiveElements = [];
                while (parentMenu) {
                    interactiveElements.push(parentMenu, ...parentMenu.interactiveElements);
                    parentMenu = menu_manager_OpenedMenusManager.getParentMenu(parentMenu);
                }
                this.interactiveElements = (this.oldInteractiveElements || []).concat(interactiveElements);
                this.position = ['right-start', 'left-start'];
            }
            else {
                this.positionTarget = parentMenu === null || parentMenu === void 0 ? void 0 : parentMenu.positionTarget;
                this.position = parentMenu === null || parentMenu === void 0 ? void 0 : parentMenu.position;
            }
            // Managers are applied in shouldUpdate lifecycles (as not every property causes re-render)
            // The process must follow certain order (which is better not to touch)
            // `applyLock` fixes a problem when changes in properties above where not take into account
            Object(coral_popup_panel_lib["b" /* applyLock */])();
        }
        this.registerMenu();
    }
    /**
     * Run while popup is closing
     * @return {void}
     */
    closing() {
        menu_manager_OpenedMenusManager.deregister(this);
    }
    /**
     * Run when modification has happened in CC
     * @returns {void}
     */
    modificationUpdate() {
        this.constructDataMenus();
        void this.requestUpdate();
    }
    /**
     * Construct menu items and nested menus from data object
     * @return {void}
     */
    constructDataMenus() {
        const data = this.getAllComposedData();
        const depth = this.getDataDepth();
        const oldMenuIndex = this.menuIndex;
        this.menuIndex = {};
        // try to match existing menus via CC
        // this is true if modification are done via CC APIs
        const findMenuByDataItem = (dataItem) => {
            var _a, _b;
            const menuId = (((_a = this.composer) === null || _a === void 0 ? void 0 : _a.getItemPropertyValue(dataItem, 'for')) || '');
            return (_b = oldMenuIndex[menuId]) === null || _b === void 0 ? void 0 : _b.menu;
        };
        // try to match existing menus by item value and depth
        // this happens if new data has been supplied, which might be identical
        const findMenuByDataId = (id) => {
            for (const menuId in oldMenuIndex) {
                const { menu, dataId } = oldMenuIndex[menuId];
                if (dataId === id) {
                    return menu;
                }
            }
        };
        data.forEach((dataItem, index) => {
            var _a;
            // has menu
            if (dataItem.items && dataItem.items.length) {
                const dataId = `${dataItem.value || index}-${depth}`;
                const menu = findMenuByDataItem(dataItem) || findMenuByDataId(dataId) || this.toPopupMenu();
                menu.parentDataItem = dataItem;
                menu.data = this.composer;
                const menuId = menu.id;
                this.menuIndex[menuId] = {
                    menu,
                    dataId
                };
                delete oldMenuIndex[menuId];
                (_a = this.composer) === null || _a === void 0 ? void 0 : _a.setItemPropertyValue(dataItem, 'for', menuId);
            }
        });
        // delete all non-required menus
        for (const menuId in oldMenuIndex) {
            const { menu } = oldMenuIndex[menuId];
            if (menu.parentNode) {
                menu.parentNode.removeChild(menu);
            }
        }
    }
    /**
     * Remove all nested menus from the light DOM
     * @return {void}
     */
    disconnectNestedMenus() {
        var _a;
        for (const menuIndex in this.menuIndex) {
            const { menu } = this.menuIndex[menuIndex];
            (_a = menu.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(menu);
        }
    }
    /**
     * This function must be called to register menu or menu items
     * @return {void}
     */
    registerMenu() {
        if (this.opened) {
            menu_manager_OpenedMenusManager.register(this);
        }
    }
    /**
     * Fired when mouse move event happens
     * @param event Mouse move event
     * @return {void}
     */
    onItemMouseMove(event) {
        if (!this.fullyOpened) {
            return;
        }
        const item = this.getCoralItem(event.target);
        if (item) {
            // set focus on menu to reset item focus
            // happens only if move on item
            if (this.isActive) {
                if (document.activeElement !== this) {
                    this.focus();
                }
                else {
                    const renderRoot = this.renderRoot;
                    if (renderRoot.activeElement) {
                        renderRoot.activeElement.blur();
                    }
                }
            }
            this.setItemHighlight(item);
            if (!this.compact) {
                this.setOpenedMenu(item);
            }
        }
    }
    /**
     * Provide keyboard item selection
     * @param event Keyup event
     * @return {void}
     */
    onKeyUp(event) {
        if (!this.isActive || event.defaultPrevented) {
            return;
        }
        switch (event.key) {
            case ' ': // space
            case 'Spacebar': // space
            case 'Enter':
                this.onEnter();
                break;
            default:
                return;
        }
        event.preventDefault();
    }
    /**
     * Provide keyboard navigation
     * @param event Keydown event
     * @return {void}
     */
    onKeyDown(event) {
        if (!this.isActive || event.defaultPrevented) {
            return;
        }
        switch (event.key) {
            case 'Down':
            case 'ArrowDown':
                this.focusElement(1, true);
                break;
            case 'Up':
            case 'ArrowUp':
                this.focusElement(-1, true);
                break;
            case 'Left':
            case 'ArrowLeft':
                this.onArrowLeft();
                break;
            case 'Right':
            case 'ArrowRight':
                this.onArrowRight();
                break;
            case 'Tab':
                this.focusElement(event.shiftKey ? -1 : 1, true);
                break;
            default:
                return;
        }
        event.preventDefault();
    }
    /**
     * Fired when mouse click event happens on the menu.
     * @param event Tap event
     * @return {void}
     */
    onItemTap(event) {
        const item = this.getCoralItem(event.target);
        if (item) {
            // set highlighted item for mobile
            this.setItemHighlight(item);
            this.setOpenedMenu(item);
            this.dispatchItemTrigger(item);
        }
    }
    /**
     * Dispatch item trigger even
     * @param item Menu item
     * @returns {void}
     */
    dispatchItemTrigger(item) {
        const event = new CustomEvent('item-trigger', {
            detail: {
                value: item.value
            },
            bubbles: true,
            composed: true
        });
        item.dispatchEvent(event);
    }
    /**
     * Run when back item is clicked in compact mode
     * @return {void}
     */
    onBackItemTap() {
        if (!this.fullyOpened) {
            return;
        }
        this.setOpened(false);
    }
    /**
     * Run when mouse is over back item in compact mode
     * @return {void}
     */
    onBackItemMouseMove() {
        if (!this.fullyOpened) {
            return;
        }
        this.setItemHighlight();
    }
    /**
     * Manually execute click if return key is pressed
     * @return {void}
     */
    onEnter() {
        const menuHighlightedItem = this.menuHighlightedItem;
        if (menuHighlightedItem) {
            this.setOpenedMenu(menuHighlightedItem);
            menuHighlightedItem.click();
        }
    }
    /**
     * Highlight next or previous highlightable element if present
     * @param direction -1 - up/next; 1 - down/previous
     * @param [circular=false] Set to true to have circular navigation over items
     * @return {void}
     */
    focusElement(direction, circular = false) {
        const menuHighlightedItem = this.menuHighlightedItem;
        const children = this.items;
        const idx = menuHighlightedItem ? children.indexOf(menuHighlightedItem) : -1;
        let focusElement;
        if (direction === 1) {
            focusElement = idx === -1 ? children[0] : children[idx + 1];
        }
        else {
            focusElement = idx === -1 ? children[children.length - 1] : children[idx - 1];
        }
        if (circular && !focusElement) {
            focusElement = direction === 1 ? children[0] : children[children.length - 1];
        }
        if (focusElement) {
            focusElement.focus();
            this.setItemHighlight(focusElement);
            focusElement.scrollIntoView(false);
        }
    }
    /**
     * Run when left arrow is pressed.
     * Close current menu if possible
     * @return {void}
     */
    onArrowLeft() {
        if (menu_manager_OpenedMenusManager.isNested(this)) {
            this.setOpened(false);
        }
    }
    /**
     * Run when right arrow is pressed.
     * Open menu if possible
     * @return {void}
     */
    onArrowRight() {
        this.setOpenedMenu(this.menuHighlightedItem);
    }
    /**
     * Open/close nested menu
     * @param menuItem Item to open/close menu for. Undefined to close all opened nested menus
     * @return {void}
     */
    setOpenedMenu(menuItem) {
        const menu = menuItem && menuItem.for && this.menuIndex[menuItem.for] ? this.menuIndex[menuItem.for].menu : undefined;
        menu && this.insertNestedMenu(menu);
        menu_manager_OpenedMenusManager.toggleNestedMenuFor(this, menuItem);
    }
    /**
     * Highlight an item with all ancestors to the top menu
     * @param [item] An item to highlight
     * @return {void}
     */
    setItemHighlight(item) {
        if (this.menuHighlightedItem === item) {
            return;
        }
        if (this.menuHighlightedItem) {
            this.menuHighlightedItem.highlighted = false;
        }
        this.menuHighlightedItem = item;
        if (item) {
            item.highlighted = true;
        }
    }
    /**
     * Check whether an item can be highlighted
     * @param item Item to check
     * @return true of the item can be highlighted
     */
    isHighlightable(item) {
        return item.highlightable && !!item.offsetHeight;
    }
    /**
     * Get first coral-item in the ancestor tree
     * @param target HTML element to start searching from
     * @return item Coral-item if found
     */
    getCoralItem(target) {
        if (!target) {
            return null;
        }
        let node = target;
        const items = this.items;
        while (node) {
            if (node instanceof coral_item["CoralItem"] && items.includes(node)) {
                return node;
            }
            if (node === this) {
                return null;
            }
            node = node.parentNode;
        }
        return null;
    }
    /**
     * Run when `data` collection has been set or updated
     * @return {void}
     */
    onDataChange() {
        // OpenedMenusManager.toggleNestedMenuFor(this);
        this.onMenuReHighlight();
    }
    /**
     * Run when the default slot items have changed
     * @return {void}
     */
    onSlotChange() {
        // closes opened child menu if any
        // OpenedMenusManager.toggleNestedMenuFor(this);
        this.onMenuReHighlight();
    }
    /**
     * If data has changed, try to keep the highlighted item unless
     * highlighted item has been removed itself
     * @returns {void}
     */
    onMenuReHighlight() {
        const highlighted = this.menuHighlightedItem;
        if (highlighted && !this.items.includes(highlighted)) {
            this.setItemHighlight();
        }
    }
    /**
     * Insert nested menu if it is not attached
     * For `data` menus only
     * @param menu Menu element
     * @return {void}
     */
    insertNestedMenu(menu) {
        if (menu.parentNode || !this.parentNode) {
            return;
        }
        if (this.nextElementSibling) {
            this.parentNode.insertBefore(menu, this.nextElementSibling);
        }
        else {
            this.parentNode.appendChild(menu);
        }
    }
    /**
     * Create popup menu from items
     * Inherit properties from current menu
     * @return menu element
     */
    toPopupMenu() {
        const menu = document.createElement('emerald-popup-menu');
        menu.transitionStyle = this.transitionStyle;
        menu.noCancelOnOutsideClick = true;
        menu.compact = this.compact;
        menu.id = getId();
        return menu;
    }
    /**
     * Create template for menu item
     * @param item JSON object to parse
     * @return template result
     */
    toCoralItem(item) {
        const composer = this.composer;
        const type = composer.getItemPropertyValue(item, 'type');
        if (type === 'divider') {
            return lib_elf["k" /* html */] `<coral-item type="divider"></coral-item>`;
        }
        const tooltip = composer.getItemPropertyValue(item, 'tooltip');
        const label = composer.getItemPropertyValue(item, 'label');
        const icon = composer.getItemPropertyValue(item, 'icon');
        if (type === 'header') {
            return lib_elf["k" /* html */] `<coral-item
        type="header"
        title=${Object(lib_elf["l" /* ifDefined */])(tooltip || undefined)}
        .label=${label}
        .icon=${icon}></coral-item>`;
        }
        const disabled = composer.getItemPropertyValue(item, 'disabled');
        const selected = composer.getItemPropertyValue(item, 'selected');
        const readonly = composer.getItemPropertyValue(item, 'readonly');
        const subLabel = composer.getItemPropertyValue(item, 'subLabel');
        const value = composer.getItemPropertyValue(item, 'value');
        const forMenu = composer.getItemPropertyValue(item, 'for');
        const highlighted = composer.getItemPropertyValue(item, 'highlighted');
        // type text
        return lib_elf["k" /* html */] `<coral-item
      title=${Object(lib_elf["l" /* ifDefined */])(tooltip || undefined)}
      ?disabled=${disabled}
      ?selected=${selected}
      ?highlighted=${highlighted}
      ?readonly=${readonly}
      .label=${label}
      .subLabel=${subLabel}
      .icon=${icon}
      .value=${value}
      .for=${Object(lib_elf["l" /* ifDefined */])(forMenu || undefined)}>
    </coral-item>`;
    }
    /**
     * Construct items from data
     * @returns template result
     */
    get fromDataItems() {
        if (!this.lazyRendered) {
            return;
        }
        return this.getAllComposedData().map(this.toCoralItem);
    }
    /**
     * Construct back item for compact menu
     * @returns template result
     */
    compactBackItem() {
        if (!this.compact || !menu_manager_OpenedMenusManager.isNested(this)) {
            return undefined;
        }
        return lib_elf["k" /* html */] `<coral-item part="menu-back" id="back" label="Back" @tap=${this.onBackItemTap} @mousemove=${this.onBackItemMouseMove}>
      <coral-icon slot="left" icon="left"></coral-icon>
    </coral-item>`;
    }
    /**
     * A `TemplateResult` that will be used
     * to render the updated internal template.
     * @returns Render template
     */
    render() {
        /**
         * Use JavaScript expressions to include property values in
         * the element template.
         */
        return lib_elf["k" /* html */] `
      ${this.compactBackItem()}
      ${this.withData ? this.fromDataItems : lib_elf["k" /* html */] `<slot @slotchange=${this.onSlotChange}></slot>`}
    `;
    }
};
emerald_popup_menu_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], emerald_popup_menu_EmeraldPopupMenu.prototype, "compact", void 0);
emerald_popup_menu_decorate([
    Object(lib_elf["n" /* property */])({ type: Array, attribute: false })
], emerald_popup_menu_EmeraldPopupMenu.prototype, "values", null);
emerald_popup_menu_decorate([
    Object(lib_elf["n" /* property */])({ type: String })
], emerald_popup_menu_EmeraldPopupMenu.prototype, "value", null);
emerald_popup_menu_decorate([
    Object(lib_elf["n" /* property */])({ type: Object, attribute: false })
], emerald_popup_menu_EmeraldPopupMenu.prototype, "data", null);
emerald_popup_menu_decorate([
    Object(lib_elf["n" /* property */])({ type: Boolean, reflect: true })
], emerald_popup_menu_EmeraldPopupMenu.prototype, "nested", void 0);
emerald_popup_menu_EmeraldPopupMenu = EmeraldPopupMenu_1 = emerald_popup_menu_decorate([
    Object(lib_elf["i" /* customElement */])('emerald-popup-menu')
], emerald_popup_menu_EmeraldPopupMenu);


// CONCATENATED MODULE: ./node_modules/@elf/elf-theme-solar/pearl/emerald-popup-menu.js





elf.customStyles.define('emerald-popup-menu', ':host{min-width:150px;max-width:300px;scrollbar-face-color:#8a8a96;scrollbar-shadow-color:#8a8a96;scrollbar-highlight-color:#8a8a96;scrollbar-arrow-color:#8a8a96;scrollbar-track-color:#fff;scrollbar-3dlight-color:#fff;scrollbar-darkshadow-color:#fff;scrollbar-color:#8a8a96 #fff;background-color:#fafbfc}:host([compact]){min-width:250px}:host [part=menu-back]{border-bottom:1px solid #a9afba}:host [part=menu-back]:hover{background-color:rgba(0,0,0,.08)}::-webkit-scrollbar{width:13px;height:13px}::-webkit-scrollbar-button{background:0 0/1px 2px no-repeat #fff;height:12px;width:12px;display:block}::-webkit-scrollbar-thumb{background:#8a8a96;border-radius:7px;border:2px solid #fff}::-webkit-scrollbar-thumb:hover{background:#a9afba}::-webkit-scrollbar-thumb:active{background:#ee7600}::-webkit-scrollbar-track{background:#fff}::-webkit-scrollbar-corner{background:#fff}::-webkit-scrollbar-button:end:decrement,::-webkit-scrollbar-button:start:increment{display:none}::-webkit-scrollbar-button:horizontal{background-size:2px 1px}::-webkit-scrollbar-button:vertical:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:horizontal:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}');

// EXTERNAL MODULE: ./node_modules/@grid/column-format-dialog/lib/column-format-dialog.js
var column_format_dialog = __webpack_require__(54);

// EXTERNAL MODULE: ./node_modules/@grid/column-format-dialog/themes/solar/pearl/imports/native-elements.js
var native_elements = __webpack_require__(55);

// CONCATENATED MODULE: ./node_modules/@grid/column-format-dialog/themes/solar/pearl/column-format-dialog.js



elf.customStyles.define('column-format-dialog', ':host{background:#f93;display:inline-block;height:0;width:600px}.format-dialog{max-width:599px;height:calc(100vh - 94px)}.format-dialog .coral-select-wrapper{width:100%;max-width:250px}.option-panel coral-icon{cursor:default}.format-value-example{border-width:1px;border-style:solid;width:280px;height:32px;line-height:32px;text-align:center;margin-left:auto;margin-right:auto}.format-sample-table{margin-left:auto;margin-right:auto;border-width:1px;border-style:solid}.format-sample-table tr{height:24px}.format-sample-table td{border-width:1px;border-style:solid;padding-left:8px;padding-right:8px}.cell-painter-sample{margin-left:auto;margin-right:auto;width:100%}#format-dialog-formatter-example,cell-painter-renderer>div.cell{border-style:solid;border-width:1px;height:24px;line-height:24px;margin-bottom:-1px;padding:0 8px;text-align:right}.format-dialog #conditionList{border:1px solid #dadde0;width:100%}.format-dialog #conditionList div{height:100%;vertical-align:middle;overflow:hidden;display:inline-flex}.format-dialog #conditionList .condition-item{width:100%}.format-dialog #conditionList .condition-item .left-panel,.format-dialog #conditionList .condition-item .right-panel{min-width:222px}.format-dialog #conditionList .condition-item-title{line-height:23px}.format-dialog #conditionList .condition-button{text-align:right}.format-dialog #conditionList .condition-button *+*{margin-left:5px}.format-dialog #conditionList .condition-sample-outer{flex-grow:1;min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content}.format-dialog #conditionList .condition-sample{width:auto;padding-left:6px;padding-right:6px;height:23px;line-height:23px;display:inline-block;vertical-align:middle;margin:1px 0}.format-dialog #conditionList .condition-sample label{white-space:normal;text-overflow:unset}.format-dialog .conditions-container{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding-top:10px}.fx.cell-painter-sample .cell{box-sizing:border-box!important;display:table;line-height:inherit;position:relative;table-layout:fixed;vertical-align:middle;visibility:visible;width:100%}.fx.cell-painter-sample .valigner{display:table-cell;height:100%;vertical-align:middle;width:100%}.fx.cell-painter-sample .text{display:inline-block;overflow:hidden;text-overflow:ellipsis;vertical-align:bottom;white-space:nowrap;width:100%}.fx.cell-painter-sample .tr-bid-offer{align-items:center;display:flex;justify-content:space-between;padding:5px 0;overflow-x:hidden;text-overflow:ellipsis;vertical-align:middle}.fx.cell-painter-sample .tr-bid-offer-center{white-space:nowrap}.fx.cell-painter-sample .tr-bid-offer-left{text-overflow:ellipsis;overflow-x:hidden}.fx.cell-painter-sample .tr-bid-offer-pip{display:inline-block;font-size:xx-large;line-height:.75em;text-overflow:ellipsis;overflow-x:hidden;overflow-y:hidden;vertical-align:middle}.fx.cell-painter-sample .tr-bid-offer-sub{text-overflow:ellipsis;overflow-x:hidden;vertical-align:top}.sample-table{width:100%;height:50px;border-collapse:collapse;box-sizing:border-box;border-spacing:0;table-layout:fixed}.sample-table td{position:relative;border:1px solid #dadde0;padding:4px;box-sizing:border-box}.blinking-borders td::after{content:"";display:inline-block;position:absolute;left:0;top:0;box-sizing:border-box;width:100%;height:100%;border-width:1px;border-right-style:solid;border-bottom-style:solid;border-color:inherit}.text-bar{position:relative;display:inline-block;vertical-align:middle;box-sizing:border-box;padding-right:4px;padding-left:4px}.display-style-panel__header{flex-basis:100%;display:flex;flex-wrap:wrap}.colors-panel,.conditions-container,.display-format-heatmap__apply,.display-style-panel__header{margin-bottom:10px}.value-format__inner{display:flex}.align-section,.colors-panel,.colortext-basedon,.condition-item,.conditions-panel__header,.display-format-heatmap__apply,.display-format-heatmap__midpoint,.display-style .section-panel,.display-style-panel__content,.highlight-apply-block__inner,.highlight-basedon,.highlight-panel,.preview,.value-format .section-panel{display:flex;flex-wrap:wrap}.conditions-container__order{display:flex;justify-content:flex-end}.align-section>label,.conditions-container__order>label,.conditions-panel__header>label,.display-format-heatmap__apply>label,.display-format-heatmap__midpoint>label,.highlight-apply-block__inner>label{display:flex;align-items:center;margin-right:10px;max-width:80px}.highlight-apply-block__inner{margin-top:5px}.conditions-panel,.display-style-panel__content{width:100%}.conditions-panel-inner,.left-panel,.right-panel{flex:1}.left-panel{margin-right:15px}#conditionList,.colors-panel>.left-panel,.colors-panel>.right-panel,.conditions-panel__header>.left-panel,.conditions-panel__header>.right-panel,.display-style-panel__content>.left-panel,.display-style-panel__content>.right-panel,.display-style-panel__header>.left-panel,.display-style-panel__header>.right-panel,.highlight-panel>.left-panel,.highlight-panel>.right-panel,.section-panel>.left-panel,.section-panel>.right-panel{min-width:230px}.colortext-basedon>.left-panel,.colortext-basedon>.right-panel,.highlight-basedon>.left-panel,.highlight-basedon>.right-panel{min-width:110px}.colortext-basedon>.left-panel,.highlight-basedon>.left-panel{margin-right:10px}.coral-another-field{width:100%;max-width:250px}.conditions-container__add{margin-left:10px}.conditions-panel__header>.right-panel{display:flex;align-self:flex-end}.section-panel{padding:10px}.display-style,.updates,.value-format{min-height:40px}.conditions-panel__header>.left-panel{display:flex;flex-direction:column}.display-style-panel__menu{margin-bottom:10px}.value-menu-description{align-self:center}.value-menu-description>coral-icon{margin-left:3px;vertical-align:top}#colorConditionDialog .container{padding-top:10px;padding-bottom:10px;display:flex;flex-direction:column;height:100%;box-sizing:border-box}#colorConditionDialog .color-example-container{display:inline-block;box-sizing:border-box}#colorConditionDialog .section+.section{margin-top:20px}#colorConditionDialog .input-group+.input-group{margin-top:5px}#colorConditionDialog .input-side{vertical-align:middle;width:50%;display:inline-block}#colorConditionDialog .input-side>*{width:100%;margin:0}#colorConditionDialog .color-example{height:23px;width:100%;cursor:pointer;border:1px solid #000;box-sizing:border-box}#colorConditionDialog .no-color{background:linear-gradient(to bottom right,transparent calc(50% - 2px),var(--no-color-line-color,red) calc(50% - 1px),var(--no-color-line-color,red) calc(50% + 1px),transparent calc(50% + 2px))}#colorConditionDialog #colorDialogSample{height:23px;line-height:23px;vertical-align:middle;text-align:center;width:100%;border:1px solid #dadde0;box-sizing:border-box}#colorConditionDialog{width:374px;height:316px}');

// CONCATENATED MODULE: ./node_modules/@grid/column-selection-dialog/lib/locale/translation-en.js
/**
* @namespace
*/
var translationEn = {
	"Column Selection": "Column Selection",
	"Search": "Search",
	"No results found": "No results found",
	"Select All": "Select All",
	"Add / Remove Columns": "Add / Remove Columns",
	"Show in this order": "Show in this order",
	"Up": "Up",
	"Down": "Down",
	"Remove": "Remove"
};

/* harmony default export */ var translation_en = (translationEn);
// CONCATENATED MODULE: ./node_modules/@grid/column-selection-dialog/lib/locale/translation-de.js
/**
* @namespace
*/
var translationDe = {
	"Column Selection": "Spaltenauswahl",
	"Search": "Suche",
	"No results found": "Keine Ergebnisse gefunden",
	"Select All": "Alle auswhlen",
	"Add / Remove Columns": "Spalten hinzufgen / entfernen",
	"Show in this order": "In dieser Reihenfolge anzeigen",
	"Up": "Aufwrts",
	"Down": "Abwrts",
	"Remove": "Entfernen"
};

/* harmony default export */ var translation_de = (translationDe);
// CONCATENATED MODULE: ./node_modules/@grid/column-selection-dialog/lib/locale/translation-ja.js
/**
* @namespace
*/
var translationJa = {
	"Column Selection": "",
	"Search": "",
	"No results found": "",
	"Select All": "",
	"Add / Remove Columns": " / ",
	"Show in this order": "",
	"Up": "",
	"Down": "",
	"Remove": ""
};

/* harmony default export */ var translation_ja = (translationJa);
// CONCATENATED MODULE: ./node_modules/@grid/column-selection-dialog/lib/locale/translation-zh.js
/**
* @namespace
*/
var translationZh = {
	"Column Selection": "",
	"Search": "",
	"No results found": "",
	"Select All": "",
	"Add / Remove Columns": " / ",
	"Show in this order": "",
	"Up": "",
	"Down": "",
	"Remove": ""
};

/* harmony default export */ var translation_zh = (translationZh);
// CONCATENATED MODULE: ./node_modules/@grid/column-selection-dialog/lib/locale/translation-zh-hant.js
/**
* @namespace
*/
var translationZhHant = {
	"Column Selection": "",
	"Search": "",
	"No results found": "",
	"Select All": "",
	"Add / Remove Columns": " / ",
	"Show in this order": "",
	"Up": "",
	"Down": "",
	"Remove": ""
};

/* harmony default export */ var translation_zh_hant = (translationZhHant);
// CONCATENATED MODULE: ./node_modules/@grid/column-selection-dialog/lib/locale/translation.js






/**
* @namespace
*/
var translation = {
	"en": translation_en,
	"de": translation_de,
	"ja": translation_ja,
	"zh": translation_zh,
	"zh-Hant": translation_zh_hant
};

/* harmony default export */ var locale_translation = (translation);

// EXTERNAL MODULE: ./node_modules/tr-grid-util/es6/ElementObserver.js
var ElementObserver = __webpack_require__(29);

// CONCATENATED MODULE: ./node_modules/@grid/column-selection-dialog/lib/column-selection-dialog.js








/**
 * @typedef {Object} ColumnSelectionDialog~Config
 * @property {Array.<Object>} data All possible columns for selection.
 * @property {Array.<Object>=} visibleItems Column list that is in existing Grid.
 * @property {Function=} confirm Confirm event callback.
 * @property {number=} excludedColumns Deprecated, Alias wigh excludedLeftColumns.
 * @property {number=} excludedLeftColumns Number of columns on the left side that should be hidden from Visible Columns.
 * @property {number=} excludedRightColumns Number of columns on the right side that should be hidden from Visible Columns.
 * @property {number=} unmovableColumns Number of columns that is unmovable in Visible Columns.
 * @property {boolean=} descriptionBox Show description box
*/

/** Insert multiple items to the given array. This is an in-place modification.
* @private
* @function
* @param {Array} ary
* @param {number} at
* @param {Array} items
* @return {Array} In-place edited array
* @example
* insertItems(["a", "b"], 1, ["c", "d"]); // ["a", "c", "d", "b"];
*/
const insertItems = function (ary, at, items) {
	ary.splice.apply(ary, [at, 0].concat(items));
	return ary;
};
/** Returns negative value if a < b, 0 if a === b, and positive value if a > b
* @private
* @function
* @param {number} a
* @param {number} b
* @returns {number}
*/
const numberComparer = function (a, b) {
	return a - b;
};
/**
* Checks, if the given numbers have continuous number series
* @private
* @function
* @param {Array.<number>} sortedIndexes
* @return {boolean}
*/
const isContinuous = function(sortedIndexes) {
	var len = sortedIndexes ? sortedIndexes.length : 0;
	var val = len ? sortedIndexes[0] : 0;
	for(var i = 1; i < len; ++i) {
		var nextVal = sortedIndexes[i];
		if(val + i !== nextVal) {
			return false;
		}
	}
	return len > 0;
};
/** Checks if the given object has "selected" property
* @private
* @function
* @param {Object} item
* @return {boolean}
*/
const isSelectedItem = function(item) {
	return (item && item.selected) ? true : false;
};
/** Checks if the given object is disabled
* @private
* @function
* @param {Object} item
* @return {boolean}
*/
const isEnabledItem = function (item) {
	return (item && !item.disabled) ? true : false;
};

/** search item label contain specific text
* @private
* @function
* @param {Array} items
* @param {string} keyword keyword in lower case
* @return {Array}
*/
const filterSearch = function (items, keyword) {
	var c = items.length;
	if (c === 0 || !keyword) return items;

	var filtered = [];
	for (var i = 0; i < c; i++) {
		var item = items[i];
		if (item.items) {
			var result = filterSearch(item.items, keyword);
			if (result.length > 0) {
				item = Object.assign({}, item); // for header - clone new object to prevent mutate original
				item.items = result;
				filtered.push(item);
			}
		} else if (item.label.toLowerCase().includes(keyword)) {
			filtered.push(item);
		}
	}

	return filtered;
};



/** @private
* @function
* @param {Object} item
*/
const selectItem = function(item) {
	if(item) {
		item.selected = true;
	}
};
/** @private
* @function
* @param {Object} item
*/
const deselectItem = function(item) {
	if(item) {
		item.selected = false;
	}
};

/**
* Returns sorted and selected item indexes from the given list
* @private
* @function
* @param {Array} list
* @param {string} value
* @param {string} field
* @return {number}
*/
const getItemIndex = function (list, value, field) {
	var listCount = list.length;
	for (var i = 0; i < listCount; ++i) {
		var item = list[i];
		if (item && item[field] === value) {
			return i;
		}
	}
	return -1;
};

/** @private
* @function
* @param {Element} elem
* @return {number}
*/
const getDomElementIndex = function(elem) {
	if(elem) {
		var p = elem.parentNode;
		if(p) {
			var chdr = p.children;
			var childCount = chdr ? chdr.length : 0;
			for(var i = 0; i < childCount; ++i) {
				if(elem === p.children[i]) {
					return i;
				}
			}
		}
	}
	return -1;
};
/**
* Sets scroll to focus on elements
* @private
* @function
* @param {Element} container
* @param {number} itemIndex
*/
const scrollToItem = function(container, itemIndex) {
	if(!container) {
		return;
	}

	var viewHeight = container.clientHeight;
	var contentHeight = container.scrollHeight;

	if(contentHeight <= viewHeight) {
		return; // No scrollbar
	}

	var topView = container.scrollTop;
	var bottomView = topView + viewHeight;

	var chdr = container.children;
	var childCount = chdr.length;
	if(!itemIndex) {
		itemIndex = 0;
	} else if(itemIndex < 0 || itemIndex >= childCount) {
		itemIndex = childCount - 1; // Last item
	}

	var targetItem = chdr[itemIndex];
	var itemHeight = targetItem.offsetHeight;
	// Calculate relative position from item to its parent
	var topPos = itemIndex * itemHeight; // WARNING: This only works when we have constant height
	var bottomPos = topPos + itemHeight;
	if(topPos >= topView && bottomPos <= bottomView) {
		return; // The item is already in the view
	}

	var extraSpace = itemHeight * 2; // Add extra space over the target position to make better UX.
	var targetPos = 0;
	if(topPos < topView) { // Scroll up
		targetPos = topPos - extraSpace;
		if(targetPos < 0) {
			targetPos = 0;
		}
	} else { // Scroll down
		var maxPos = contentHeight - viewHeight;
		targetPos = topView + (bottomPos - bottomView) + extraSpace - itemHeight;
		if(targetPos > maxPos) {
			targetPos = maxPos;
		}
	}

	if(topView !== targetPos) {
		container.scrollTop = targetPos;
	}
};

/**
* Returns sorted and selected item indexes from the given list
* @private
* @function
* @param {Array} list
* @return {!Array.<number>}
*/
const _getSelectedItemIndexes = function (list) {
	var listCount = list ? list.length : null;
	var indexes = [];
	for (var i = 0; i < listCount; ++i) {
		if (isSelectedItem(list[i])) {
			indexes.push(i);
		}
	}
	return indexes;
};

/** Coral tree item requires label and value. also create nested group
* @private
* @param {Object} colObj
* @return {Object}
*/
const _toCoralTreeItem = function (colObj) {
	var label = colObj.label || colObj.title || colObj.name || colObj.field;
	if (colObj.items) {
		return {
			label: label,
			value: colObj.id,
			items: colObj.items.map(_toCoralTreeItem),
			expanded: true,
			isGroup: true
		};
	} else {
		return {
			label: label,
			value: colObj.id,
			selected: false,
			disabled: colObj.disabled == true
		};
	}
};

/** Coral item requires label and value. So we need to convert column object to coral item
* @private
* @param {Object} item
* @return {Object}
*/
const _toCoralItem = function(item) {
	return {
		label: item.label,
		value: item.value,
		selected: false,
		disabled: item.disabled
	};
};
/** Valid item must have an id or a field
* @private
* @param {Object} item
* @return {boolean}
*/
const _validateItem = function(item) {
	if (item) {
		if (item.items) {
			// group
			if (!item.id) {
				var id = item.label || item.title || item.name || item.field;
				if (id) item.id = 'GROUP_' + id + '_';
			}
			if (item.id) {
				item.items = item.items.filter(_validateItem);
				return true;
			}
		} else {
			// item
			if (!item.field) {
				item.field = item.label || item.value || item.id;
			}
			if (item.field) {
				if (!item.title) {
					item.title = item.label || item.field;
				}
				if (!item.id) {
					item.id = item.title;
				}
				return true;
			}
		}
	}
	return false;
};
/** is item autogenerated
* @private
* @param {Object} item
* @return {boolean}
*/
const _notAutoGeneratedItem = function (item) {
	if (item.autoGenerated) return false;
	return true;
};
/**
* @private
* @param {*} item
* @return {boolean}
*/
const _ensurePositiveNumber = function(item) {
	var num;
	if (typeof item === "string") {
		num = Number(item);
	} else if (typeof item === "number") {
		num = item;
	}
	if (num < 0 || item == null) {
		num = 0;
	}
	return num;
};
/** Filter out any item with duplicate id
* @private
* @param {Array} ary
* @param {Object} idMap
* @return {Array} Return new array in case of any duplication, otherwise return the same input array
*/
const _screenDuplication = function (ary, idMap) {
	var uniqeList = [];
	var itemCount = ary ? ary.length : 0;
	for(var i = 0; i < itemCount; ++i) {
		var item = ary[i];
		var itemId = item.id || "";
		if(itemId && !idMap[itemId]) {
			uniqeList.push(item);
			idMap[itemId] = item;
		}
	}
	return uniqeList;
};

/** create object mapping from array
* @private
* @param {Array} items
* @param {string} fieldTobeKey
* @param {Object} mappingObj
* @return {Object} mapping object
*/
const _createMapping = function (items, fieldTobeKey, mappingObj) {
	mappingObj = mappingObj || {};
	var c = items.length;
	for (var i = 0; i < c; i++) {
		var item = items[i];
		if (item.items) { // group
			_createMapping(item.items, fieldTobeKey, mappingObj);
		}

		var value = item[fieldTobeKey];
		mappingObj[value] = item;
	}
	return mappingObj;
};

/**
* @private
* @param {Array} items
* @return {number}
*/
const _countAutoGenerated = function (items) {
	var agCount = 0;
	var c = items.length;
	for (var i = 0; i < c; i++) {
		if (items[i].autoGenerated) agCount++;
	}
	return agCount;
};

/**
* @private
* @param {Array} items
* @param {Array} visibleList
* @return {Array}
*/
const _getVisibleItems = function (items, visibleList) {
	visibleList = visibleList || [];
	var c = items.length;
	for (let i = 0; i < c; i++) {
		var item = items[i];
		if (item.items) {
			// group
			_getVisibleItems(item.items, visibleList);
		} else {
			// item
			if (item.visible) {
				visibleList.push(item);
			}
		}
	}
	return visibleList;
};

/**
 * @class
 * @public
 */
class column_selection_dialog_ColumnSelectionDialog extends lib_elf["a" /* BasicElement */] {

	static get properties() {
		return {
			config: {type: Object},
			data: {type: Object},
			visibleItems: {type: Array},
			isShown: { type: Boolean },
			lang: { type: String, reflect: true }
		};
	}

	constructor() {
		super();

		this.lang = 'en';
		this._translation = locale_translation;

		this.isShown = false;
		this._descriptionBox = false;
		this._excludedLeftColumns = 0;
		this._excludedRightColumns = 0;
		this._unmovableColumns = 0;
		this._pendingScroll = false;
		this._highlightedElem = null; // There can only one highlighted elem
		this._pendingTreeRefresh = false;

		this._allItemMapping = {};
		this._filterItemMapping = {};
		this._initialColumnMap = {};
		this._allColumnList = []; // For keeping original list
		this._filteredColumnList = []; // For filtered list
		this._visibleColumnList = []; // Visible columns that will show in UI
		this._excludedLeftVisibleColumnList = []; // Visible left columns that is currently excluded from UI (eg. auto-generated column)
		this._excludedRightVisibleColumnList = []; // Visible right columns that is currently excluded from UI
		this._selectAllStatus = "";

		this._isMovable = this._isMovable.bind(this);
		this._treeValueChanged = this._treeValueChanged.bind(this);
		this._treeExpandedChanged = this._treeExpandedChanged.bind(this);
		this.removeBtnClicked = this.removeBtnClicked.bind(this);
		this._onSearchInputChanged = this._onSearchInputChanged.bind(this);
		this._onConfirm = this._onConfirm.bind(this);
		this.hide = this.hide.bind(this);
		this._onUpItem = this._onUpItem.bind(this);
		this._onDownItem = this._onDownItem.bind(this);
		this._handleKeydown = this._handleKeydown.bind(this);
		this._handleMouseover = this._handleMouseover.bind(this);
		this._handleMouseout = this._handleMouseout.bind(this);
		this._handleSelectAllHeaderClick = this._handleSelectAllHeaderClick.bind(this);
		this._handleClick = this._handleClick.bind(this);
		this._selectAllCheckedChanged = this._selectAllCheckedChanged.bind(this);
		ElementObserver["a" /* default */].addLanguageListener(this);
	}

	/**
	 * @private
	 * @param {Object} changedProperties
	 */
	update(changedProperties) {
		if(changedProperties.has("config")) {
			if(!changedProperties.has("data")) {
				if(Array.isArray(this.config)) {
					this.data = this.config;
					this.config = null;
				} else if(this.config && this.config.data != null) {
					this.data = this.config.data;
				}
			}
			if(!changedProperties.has("visibleItems")) {
				var visibleItems = this.config ? this.config.activeItems || this.config.visibleItems : null;
				if(visibleItems) {
					this.visibleItems = visibleItems;
				}
			}

			if (this.config) {
				// allow config.lang overides default lang
				if (this._translation[this.config.lang]) {
					this.lang = this.config.lang;
				}

				if (this.config.confirm) {
					this.addEventListener('confirm', this.config.confirm);
				}

				if (this.config.descriptionBox != null) {
					this._descriptionBox = !!this.config.descriptionBox;
				}
			}
		}

		if(changedProperties.has("config") ||
			changedProperties.has("data") ||
			changedProperties.has("visibleItems") ||
			changedProperties.has("isShown")
		) {
			this.isShown && this._initData();
		}

		super.update(changedProperties);
	}

	/** A `TemplateResult` that will be used to render the updated internal template
	 * @private
	 * @return {*}
	 */
	render() {
		var lang = this._translation[this.lang] ? this.lang : "en";
		var t = this._translation[lang];

		/* eslint-disable */
		return lib_elf["k" /* html */]`
			<coral-dialog header="${t["Column Selection"]}" id="columnDialog" lang="${lang}">
				<div class="container">
					<div class="row">
						<div class="side">
							<label class="title">${t["Add / Remove Columns"]}</label>
						</div>
						<div class="side">
							</---to keep layout--->
						</div>
					</div>
					<div class="row">
						<div class="side">
							<coral-search-field placeholder="${t["Search"]}" id="searchInput"></coral-search-field>
						</div>
						<div class="side">
							<label>${t["Show in this order"]}</label>
						</div>
					</div>
					<div class="row" id='listSection'>
						<div class="side">
							<div id="allColumns">
								<coral-item id="treeNoResult" class="no-results" label="${t["No results found"]}"></coral-item>
								<coral-header level="1" id="selectAllHeader">
									<coral-checkbox id="selectAllCheckbox">${t["Select All"]}</coral-checkbox>
								</coral-header>
								<coral-tree id="tree" multiple></coral-tree>
							</div>
						</div>
						<div class="side" id="visibleSide">
							<div id="visibleColumns">
								${this._visibleColumnList.map(item => lib_elf["k" /* html */]`
									<coral-item
										value="${item.value}"
										?selected="${item.selected}"
										class="${item.disabled ? 'disabled' : ''}">
											${item.label}
										</coral-item>`
								)}
							</div>
							<div id="orderChangePanel">
								<coral-button icon="up" id="upItem">${t["Up"]}</coral-button>
								<coral-button icon="down" id="downItem">${t["Down"]}</coral-button>
								<coral-button id="removeFromVisibleColumnsBtn">${t["Remove"]}</coral-button>
							</div>
						</div>
					</div>
					<div id="descriptionContainer"></div>
				</div>
			</coral-dialog>
		`;
		/* eslint-enable */
	}

	/**
	 * @private
	 * @override
	 */
	firstUpdated(changedProperties) {
		var shadowRoot = this.shadowRoot;
		this._tree = shadowRoot.getElementById('tree');
		this._selectAllHeader = shadowRoot.getElementById('selectAllHeader');
		this._selectAllCheckbox = shadowRoot.getElementById('selectAllCheckbox');

		this._treeNoResult = shadowRoot.getElementById('treeNoResult');

		this._searchInput = shadowRoot.getElementById('searchInput');
		this._removeFromVisibleColumnsBtn = shadowRoot.getElementById('removeFromVisibleColumnsBtn');
		this._columnDialog = shadowRoot.getElementById('columnDialog');
		this._upItem = shadowRoot.getElementById('upItem');
		this._downItem = shadowRoot.getElementById('downItem');
		this._visibleColumnsContainer = this.shadowRoot.getElementById('visibleColumns');
		this._treeContainer = this.shadowRoot.getElementById('treeContainer');

		this._descriptionContainer = this.shadowRoot.getElementById('descriptionContainer');

		this._tree.addEventListener('value-changed', this._treeValueChanged);
		this._tree.addEventListener('expanded-changed', this._treeExpandedChanged);
		this._removeFromVisibleColumnsBtn.addEventListener('click', this.removeBtnClicked);

		this._searchInput.addEventListener('keyup', this._onSearchInputChanged);

		this._columnDialog.addEventListener('confirm', this._onConfirm);
		this._columnDialog.addEventListener('cancel', this.hide);

		// Events for Items position changing
		this._upItem.addEventListener('click', this._onUpItem);
		this._downItem.addEventListener('click', this._onDownItem);

		// Events for menu Items management
		this._visibleColumnsContainer.addEventListener('keydown', this._handleKeydown);
		this._visibleColumnsContainer.addEventListener('mouseover', this._handleMouseover);
		this._visibleColumnsContainer.addEventListener('mouseout', this._handleMouseout);
		this._visibleColumnsContainer.addEventListener('click', this._handleClick);
		this._visibleColumnsContainer.addEventListener('dblclick', this.removeBtnClicked);

		this._selectAllCheckbox.addEventListener('checked-changed', this._selectAllCheckedChanged);
		this._selectAllHeader.addEventListener('click', this._handleSelectAllHeaderClick);
	}

	/**
	 * @private
	 * @override
	 */
	updated(changedProperties) {
		var dirty = false;
		if (changedProperties.has('lang')) {
			if (this._translation[this.lang]) {
				dirty = true;
			}
		}

		if (changedProperties.has('isShown')) {
			this._columnDialog.opened = this.isShown;
			if (!this.isShown) {
				this.remove();
			} else {
				dirty = true;
			}
		}

		if (dirty) {
			this._searchInput.value = '';
			this._updateSearchResult(this._searchInput.value);
		}

		if(this._pendingScroll) {
			this._visibleColumnsContainer.scrollTop = this._visibleColumnsContainer.scrollHeight;
			this._pendingScroll = false;
		}

		if (this._pendingTreeRefresh) {
			this._pendingTreeRefresh = false;
			this._updateTreeUI();
		}

		if (this._pendingButtonUpdate) {
			this._pendingButtonUpdate = false;
			this._updateControlButton();
		}

		this._descriptionContainer.toggleAttribute('hide', !this._descriptionBox);
	}

	/**
	 * @public
	 * @param {ColumnSelectionDialog~Config=} options
	 */
	init(options) {
		this.config = options;
	}

	/** Transform and prepare user data for actual usage
	* @private
	*/
	_initData() {
		// Retrieve user options
		var allItems, i, item;
		var config = this.config || {};
		var visibleItems = this.visibleItems;

		if (this.data) {
			allItems = this.data;
		} else {
			// if no data provide
			// then merge availableItems with visibleItems as allItems
			var availableItems = config.availableItems || [];
			allItems = Array.from(availableItems);
			insertItems(allItems, allItems.length, visibleItems);
		}

		// Ensure that all user given items are valid
		if(Array.isArray(allItems)) {
			allItems = allItems.filter(_validateItem).filter(_notAutoGeneratedItem);
		} else {
			allItems = [];
		}

		if(Array.isArray(visibleItems)) {
			visibleItems = visibleItems.filter(_validateItem);
		} else {
			visibleItems = [];
		}

		// find visible item from allItem and append to visibleItems
		var visible2 = _getVisibleItems(allItems);
		insertItems(visibleItems, visibleItems.length, visible2);

		// Remove any duplicate entry by checking duplicate id
		var idMap = {};
		visibleItems = _screenDuplication(visibleItems, idMap);
		var itemCount = visibleItems.length;

		var autoGeneratedColumnCount = _countAutoGenerated(visibleItems);

		var excludedLeftColumns = config.excludedLeftColumns;
		if (excludedLeftColumns == null && config.excludedColumns != null) {
			excludedLeftColumns = config.excludedColumns; // apply alias
		}
		this._excludedLeftColumns = _ensurePositiveNumber(excludedLeftColumns); // auto generated column should always be hidden from UI
		this._excludedLeftColumns += autoGeneratedColumnCount; // WARNING: If auto-generated is not at most left index, this calculation will be incorrect.
		this._excludedRightColumns = _ensurePositiveNumber(config.excludedRightColumns);
		if (this._excludedRightColumns > itemCount - this._excludedLeftColumns) {
			this._excludedRightColumns = _ensurePositiveNumber(itemCount - this._excludedLeftColumns);
		}

		this._unmovableColumns = _ensurePositiveNumber(config.unmovableColumns);
		this._unmovableColumns += autoGeneratedColumnCount - this._excludedLeftColumns;

		this._initialColumnMap = _createMapping(allItems, 'id');
		this._excludedLeftVisibleColumnList = visibleItems.slice(0, this._excludedLeftColumns);
		this._excludedRightVisibleColumnList = visibleItems.slice(itemCount - this._excludedRightColumns);

		this._allColumnList = allItems.map(_toCoralTreeItem);
		this._allItemMapping = _createMapping(this._allColumnList, 'value');

		this._visibleColumnList = [];
		for (i = 0; i < itemCount; i++) {
			var id = visibleItems[i].id;
			item = this._allItemMapping[id];
			if (!item) continue; // auto generate column will not include in visible list

			item.selected = true;

			if (i < this._excludedLeftColumns || i >= itemCount - this._excludedRightColumns) {
				// _excludedLeftColumns and _excludedRightColumns no need to add in _visibleColumnList
				item.disabled = true;
			} else {
				this._visibleColumnList.push(_toCoralItem(item));
			}
		}

		// clear description text since visibleList changed
		if (this._descriptionContainer) {
			this._descriptionContainer.textContent = '';
		}

		this._pendingButtonUpdate = true;
	}

	/** Show the dialog
	 * @public
	 */
	show() {
		if (!this.parentNode) {
			document.body.appendChild(this);
		}
		this.isShown = true; // TODO: This is not a correct way of using isShown property
	}

	/** Hide the dialog
	 * @public
	 */
	hide() {
		this.isShown = false; // TODO: This is not a correct way of using isShown property
	}

	/** Validate item can move to index
	* @private
	* @param {number} itemIndex
 	* @param {boolean} isUp
	* @return {boolean}
	*/
	_canMove(itemIndex, isUp) {
		var nextIndex = itemIndex + (isUp ? -1 : 1);
		var nextElem = this._visibleColumnsContainer.children[nextIndex];

		if (!nextElem) { // no nextIndex then ignore
			return false;
		} else if (isSelectedItem(this._visibleColumnsContainer.children[nextIndex])) { // next item is selected then ignore
			return false;
		} else if (!this._isMovable(nextIndex)) {
			return false;
		}

		return true;
	}
	/** Validate item that is movable in visible columns
	* @private
	* @param {number} itemIndex
	* @return {boolean}
	*/
	_isMovable(itemIndex) {
		var obj = this._visibleColumnList[itemIndex];
		if (!obj) {
			return false;
		}

		return _ensurePositiveNumber(itemIndex) >= this._unmovableColumns;
	}

	/** This will also remove focused state set by coral-item
	 * @private
	 */
	_unhighlightItems() {
		if(this._highlightedElem) { // There can be only one highlighted Item
			this._highlightedElem.highlighted = false;
			this._highlightedElem.removeAttribute('focused'); // WORKAROUND: Focused and highlighted have the same styles in Halo themes
			this._highlightedElem = null;
		}
	}

	/** @private
	 * @param {number} step if positive highlight will move up, if negative highlight will move down
	 */
	_moveHighlightedItems(step) {
		if (!step) {
			return;
		}

		if (!this._highlightedElem) {
			var selectedIndexes = _getSelectedItemIndexes(this._visibleColumnList);
			if (!selectedIndexes.length) {
				return;
			}

			this._highlightedElem = this._visibleColumnsContainer.children[selectedIndexes[0]];
			this._highlightedElem.highlighted = true;
		}

		var pn = this._highlightedElem.parentNode;
		if(!pn) {
			return;
		}

		var chdr = pn.children;
		var childCount = chdr.length;
		var i; // highlighted index
		for(i = 0; i < childCount; ++i) {
			if(chdr[i] === this._highlightedElem) {
				break;
			}
		}
		if(i >= childCount) {
			return;
		}

		i += step;
		if (i >= 0 && i < childCount) {
			this._unhighlightItems();
			this._highlightedElem = chdr[i];
			this._highlightedElem.highlighted = true;
			scrollToItem(pn, i);
		}
	}

	/**
	 * @private
	 * @param {Array} fromIndexes
	 * @param {string} movementType
	 */
	_moveVisibleColumnsElement(fromIndexes, movementType) {
		fromIndexes = fromIndexes.filter(this._isMovable);
		const moveCount = fromIndexes ? fromIndexes.length : 0;
		if(!moveCount) {
			return;
		}
		const list = this._visibleColumnList;
		const listCount = list.length;
		if(!listCount) {
			return;
		}

		const sortedIndexes = fromIndexes.sort(numberComparer);
		const isGrouped = isContinuous(sortedIndexes);
		const isDown = movementType.indexOf('Down') >= 0;
		const minIndex = sortedIndexes[0];
		const maxIndex = sortedIndexes[moveCount - 1];

		let targetIndex = isDown ? maxIndex : minIndex;

		if(isGrouped) {
			if(isDown) {
				if(movementType === 'Down') {
					targetIndex = targetIndex < listCount ? targetIndex + 1 : listCount;
				} else {
					targetIndex = listCount;
				}
			} else {
				if(movementType === 'Up') {
					targetIndex = targetIndex > 0 ? targetIndex - 1 : 0;
				} else {
					targetIndex = 0;
				}
			}
		}

		if (!this._isMovable(targetIndex)) {
			return;
		}

		// Collect selected itmes
		const items = new Array(moveCount);
		for(var i = 0; i < moveCount; ++i) {
			let idx = sortedIndexes[i];
			let item = list[idx];
			items[i] = item;
			list[idx] = null;
			item.selected = true; // Ensure that selected item has correct state
		}
		// Insert items back
		if (isDown) {
			insertItems(list, targetIndex + 1, items);
		} else {
			insertItems(list, targetIndex, items);
		}

		this._visibleColumnList = list.filter(Boolean);
		scrollToItem(this._visibleColumnsContainer, targetIndex);
		this._pendingButtonUpdate = true;

		this.requestUpdate();
	}

	_onUpItem() {
		this._moveVisibleColumnsElement(_getSelectedItemIndexes(this._visibleColumnList), 'Up');
	}

	_onDownItem() {
		this._moveVisibleColumnsElement(_getSelectedItemIndexes(this._visibleColumnList), 'Down');
	}

	/**
	 * Set filtering result to "searchResult" element
	 * @private
	 * @param {object} e - event object
	 */
	_onSearchInputChanged(e) {
		var firstItem = this._searchInput.data && this._searchInput.data[0];
		if (firstItem) {
			this._searchInput.scrollToItem(firstItem);
		}
		this._updateSearchResult(e.target.value);
	}

	/**
	 * @private
	 * @param {string} value - search query
	 */
	_updateSearchResult(value) {
		if(!value) {
			this._filteredColumnList = this._allColumnList;
			this._filterItemMapping = this._allItemMapping;
		} else {
			this._filteredColumnList = filterSearch(this._allColumnList, value.toLocaleLowerCase());
			this._filterItemMapping = _createMapping(this._filteredColumnList, 'value');
		}

		this._pendingTreeRefresh = true;

		this.requestUpdate();
	}

	/**
	 * @private
	 */
	_updateTreeUI() {
		var isNoResult = this._filteredColumnList.length === 0;
		this._tree.toggleAttribute('hide', isNoResult);
		this._selectAllHeader.toggleAttribute('hide', isNoResult);
		this._treeNoResult.toggleAttribute('hide', !isNoResult); // show no result when search not found

		if (!isNoResult) {
			this._updateSelectAllStatus();
			this._tree.data = null;
			this._tree.data = this._filteredColumnList;
		}
	}

	/**
	 * @private
	 */
	_updateSelectAllStatus() {
		var total = 0;
		var checked = 0;
		for (var key in this._filterItemMapping) {
			var item = this._filterItemMapping[key];
			if (item.disabled || item.isGroup) continue; // ignore disabled item and groupItem

			total++;
			item.selected && checked++;
		}

		if (total === checked) {
			this._selectAllStatus = "checked";
		} else if (checked === 0) {
			this._selectAllStatus = "";
		} else {
			this._selectAllStatus = "indeterminate";
		}

		this._selectAllCheckbox.removeAttribute("indeterminate");
		this._selectAllCheckbox.removeAttribute("checked");
		this._selectAllStatus && this._selectAllCheckbox.setAttribute(this._selectAllStatus, "");
	}

	/**
	 * @private
	 * @param {Object} e
	 */
	_handleKeydown(e) {
		var handled = false;
		switch (e.keyCode) {
		case 40: // down
		case 9: // tab
			this._moveHighlightedItems(1);
			handled = true;
			break;
		case 38: // up
			this._moveHighlightedItems(-1);
			handled = true;
			break;
		case 13: // enter
			if(this._highlightedElem) {
				this._highlightedElem.click();
				handled = true;
			}
			break;
		}

		if(handled) {
			e.preventDefault();
			e.stopPropagation();
		}
	}

	/**
	 * @private
	 * @param {Object} e
	 */
	_handleMouseover(e) {
		var targetElem = e.target;
		if (targetElem.highlightable) {
			if (this._highlightedElem) {
				if(this._highlightedElem === targetElem) {
					return;
				}
				this._highlightedElem.highlighted = false;
			}
			this._highlightedElem = targetElem;
			this._highlightedElem.highlighted = true;
		}
	}

	/**
	 * @private
	 * @param {Object} e
	 */
	_handleMouseout(e) {
		var targetElem = e.target;
		if (targetElem === this._highlightedElem) {
			targetElem.highlighted = false;
			this._highlightedElem = null;
		}
	}

	/**
	 * @private
	 * @param {object} e - event object
	 */
	_handleSelectAllHeaderClick(e) {
		this._selectAllCheckbox.click();
	}

	/**
	 * @private
	 * @param {object} e - event object
	 */
	_handleClick(e) {
		var selectedElement = e.target; // Target should be coral-item

		// click to display description
		if (this._descriptionBox && this._initialColumnMap[selectedElement.value]) {
			this._descriptionContainer.textContent = this._initialColumnMap[selectedElement.value].description;
		}

		if (!selectedElement.highlightable) {
			return;
		}

		var list = null;
		list = this._visibleColumnList;
		var selectedIndex = getDomElementIndex(selectedElement);

		if(e.metaKey || e.ctrlKey) {
			var curSelectedIndexes = _getSelectedItemIndexes(list);
			var repeatClickAt = curSelectedIndexes.indexOf(selectedIndex);
			if(repeatClickAt >= 0) {
				deselectItem(list[selectedIndex]);
			} else {
				selectItem(list[selectedIndex]);
			}
		} else {
			list.forEach(deselectItem);
			selectItem(list[selectedIndex]);
		}

		this._pendingButtonUpdate = true;

		this.requestUpdate();
	}


	/**
	 * update up and down button
	 * @private
	 */
	_updateControlButton() {
		this._upItem.disabled = true;
		this._downItem.disabled = true;
		this._removeFromVisibleColumnsBtn.disabled = true;

		var selectedIndexes = _getSelectedItemIndexes(this._visibleColumnList);

		// verify - remove button disabled
		c = selectedIndexes.length;
		for (i = 0; i < c; i++) {
			selectedIndex = selectedIndexes[i];
			if (!this._visibleColumnsContainer.children[selectedIndex].classList.contains('disabled')) {
				this._removeFromVisibleColumnsBtn.disabled = false;
				break;
			}
		}

		var moveableList = selectedIndexes.filter(this._isMovable);
		if (moveableList.length === 0) return;

		var i, selectedIndex, c = moveableList.length;

		// verify - down button disabled
		for (i = c - 1; i >= 0; i--) {
			selectedIndex = moveableList[i];
			if (this._canMove(selectedIndex)) {
				this._downItem.disabled = false;
				break;
			}
		}

		// verify - up button disabled
		for (i = 0; i < c; i++) {
			selectedIndex = moveableList[i];
			if (this._canMove(selectedIndex, true)) {
				this._upItem.disabled = false;
				break;
			}
		}
	}

	/**
	 * remove button click event
	 * @private
	 */
	removeBtnClicked() {
		let selectedItems = this._visibleColumnList.filter(isSelectedItem);
		let movableItems = selectedItems.filter(isEnabledItem);
		var movableItemsLength = movableItems.length;
		if(!movableItemsLength) {
			return;
		}

		// Deselect any item that is disabled
		if(movableItemsLength < selectedItems.length) {
			selectedItems.forEach(deselectItem);
			movableItems.forEach(selectItem);
		}

		this._removeFromVisibleColumn(movableItems, true);

		this._pendingTreeRefresh = true;

		this.requestUpdate();
	}

	/**
	 * Dispatch Event when user confirm changes
	 * @private
	 * @param {Event} e
	 */
	_onConfirm(e) {
		e.preventDefault(); // Prevent default close behavior

		var visibleItems = this._visibleColumnList.map(item => {
			return this._initialColumnMap[item.value];
		}); // Return only visible items
		visibleItems = this._excludedLeftVisibleColumnList.concat(visibleItems).concat(this._excludedRightVisibleColumnList);

		var detail = {
			data: visibleItems, // deprecated
			value: visibleItems // Standard
		};

		const beforeEvent = new CustomEvent('beforeConfirm', {
			detail: detail
		});
		this.dispatchEvent(beforeEvent);

		if (beforeEvent.cancel) { return; }

		const event = new CustomEvent('confirm', {
			cancelable: true,
			detail: detail
		});
		this.dispatchEvent(event);
		this.hide();
	}

	/**
	* @param {Object} e
	* @private
	*/
	_selectAllCheckedChanged(e) {
		var selected = e.detail.value;
		var items = [];
		for (var key in this._filterItemMapping) {
			var item = this._filterItemMapping[key];
			if (item.disabled || item.isGroup) continue; // ignore disabled item and groupItem

			if (item.selected !== selected) {
				items.push(this._filterItemMapping[key]);
			}
		}

		if (selected) {
			this._addToVisibleColumn(items);
		} else {
			this._removeFromVisibleColumn(items);
		}

		this._pendingTreeRefresh = true;
		this.requestUpdate();
	}

	/**
 * coral-tree value changed event
 * @param {Object} e
 * @private
 */
	_treeValueChanged(e) {
		var selectedMapping = {};

		var c = e.currentTarget.values.length;
		for (var i = 0; i < c; i++) {
			var value = e.currentTarget.values[i];
			selectedMapping[value] = true;
		}

		// clear all selected item on visible column
		this._visibleColumnList.forEach(deselectItem);

		// update selected state and update UI
		var addList = [], removeList = [];
		for (var key in this._filterItemMapping) {
			var item = this._filterItemMapping[key];
			if (!item || item.disabled || item.isGroup) continue; // ignore disabled item and groupItem

			if (item.selected) {
				if (!selectedMapping[item.value]) {
					// case item is unselect, then remove item out of visible list
					removeList.push(item);
				}
			} else {
				if (selectedMapping[item.value]) {
					// case item is select, then add item to visible list
					addList.push(item);
				}
			}
		}
		this._removeFromVisibleColumn(removeList);
		this._addToVisibleColumn(addList);
		this._updateSelectAllStatus();
		this.requestUpdate();
	}

	/**
	* coral-tree expanded changed event handler
	* @param {Object} e
	* @private
	*/
	_treeExpandedChanged(e) {
		var groupItem = e.detail.item;
		var isExpanded = e.detail.value;
		this._filterItemMapping[groupItem.value].expanded = isExpanded;
		this._allItemMapping[groupItem.value].expanded = isExpanded;
	}

	/**
	* @param {Array} items
	* @private
	*/
	_addToVisibleColumn(items) {
		var c = items.length;
		if (c === 0) return;
		for (var i = 0; i < c; i++) {
			var item = items[i];
			this._allItemMapping[item.value].selected = true;
			var coralItem = _toCoralItem(item);
			coralItem.selected = true;
			this._visibleColumnList.push(coralItem);
		}
		this._pendingScroll = true;
		this._pendingButtonUpdate = true;
	}

	/**
	* @param {Array} items
	* @private
	*/
	_removeFromVisibleColumn(items) {
		var c = items.length;
		if (c === 0) return;
		for (var i = 0; i < c; i++) {
			var item = items[i];
			this._allItemMapping[item.value].selected = false;
			var index = getItemIndex(this._visibleColumnList, item.value, 'value');
			if (index >= 0) this._visibleColumnList[index] = null;
		}
		this._visibleColumnList = this._visibleColumnList.filter(Boolean); // clear null element
		this._unhighlightItems();
		this._pendingButtonUpdate = true;
	}
}

Object(lib_elf["i" /* customElement */])('column-selection-dialog')(column_selection_dialog_ColumnSelectionDialog);


/* harmony default export */ var column_selection_dialog = (column_selection_dialog_ColumnSelectionDialog);

// EXTERNAL MODULE: ./node_modules/@grid/column-selection-dialog/themes/solar/pearl/imports/native-elements.js
var imports_native_elements = __webpack_require__(56);

// CONCATENATED MODULE: ./node_modules/@grid/column-selection-dialog/themes/solar/pearl/column-selection-dialog.js



elf.customStyles.define('column-selection-dialog', ':host{background:#f93;display:inline-block;height:0;width:0}:host *{margin:0}:host [hide]{display:none}:host div{box-sizing:border-box}:host coral-item.disabled{color:rgba(72,72,72,.5)}:host coral-item[focused] coral-checkbox{color:#000}:host coral-item::part(center){white-space:normal}:host .title{line-height:14px}:host coral-dialog{width:501px;min-width:501px;height:auto}:host coral-tree{height:223px;width:100%}:host coral-tree-item{min-width:100%}:host .container{height:100%}:host .row{display:flex}:host .row+.row{margin-top:10px}:host .side{height:100%;width:50%;max-width:50%;display:inline-block;vertical-align:top;overflow:hidden;align-self:center;padding-left:5px;padding-right:5px}:host .side:first-child{padding-left:0}:host .side:last-child{padding-right:0}:host #listSection{height:251px}:host #allColumns{height:251px;overflow:hidden;border:1px solid #a9afba;display:flex;flex-direction:column}:host #visibleSide{display:flex;flex-direction:column}:host #visibleColumns{flex-grow:1;overflow-y:auto;border:1px solid #a9afba}:host #searchInput{width:100%}:host .no-results{pointer-events:none;text-align:center;margin-top:10px}:host #orderChangePanel{text-align:center;margin-top:10px}:host #orderChangePanel>*+*{margin-left:10px}:host #descriptionContainer{margin-top:10px;height:60px;overflow-y:auto;border:1px solid #a9afba;font-size:12px;line-height:18px;box-sizing:border-box;padding:3px 10px}:host #selectAllHeader{text-transform:none;cursor:pointer}:host #selectAllHeader #selectAllCheckbox{pointer-events:none}::-webkit-scrollbar{width:13px;height:13px}::-webkit-scrollbar-button{background:0 0/1px 2px no-repeat #fff;height:12px;width:12px;display:block}::-webkit-scrollbar-thumb{background:#8a8a96;border-radius:7px;border:2px solid #fff}::-webkit-scrollbar-thumb:hover{background:#a9afba}::-webkit-scrollbar-thumb:active{background:#ee7600}::-webkit-scrollbar-track{background:#fff}::-webkit-scrollbar-corner{background:#fff}::-webkit-scrollbar-button:end:decrement,::-webkit-scrollbar-button:start:increment{display:none}::-webkit-scrollbar-button:horizontal{background-size:2px 1px}::-webkit-scrollbar-button:vertical:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:horizontal:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}');

// CONCATENATED MODULE: ./node_modules/tr-grid-util/es6/Ext.js
/** Provide ability for prototype based Class to inherits another class
* @namespace
* @example
* var BaseClass = function() {};
* BaseClass.prototype.method = function() {};
* BaseClass.prototype._member = 1;
* var DerivedClass = function() {};
* Ext.inherits(DerivedClass, BaseClass); // Derived class will have methods and members of the base class
* // To call base class method
* DeriveClass["base"](this, "methodName", ...params);
*/
var Ext = {};

/** @public
* @function
* @param {Function} childCtor
* @param {Function} parentCtor
*/
Ext.inherits = function (childCtor, parentCtor) {
	/** @constructor
* @ignore
*/
	function tempCtor() { }
	tempCtor.prototype = parentCtor.prototype;
	childCtor.prototype = new tempCtor();
	childCtor.prototype.constructor = childCtor;

	/** Calls superclass constructor/method. <br>
* This function is only available if you use goog.inherits to <br>
* express inheritance relationships between classes. <br>
* NOTE: This is a replacement for goog.base and for superClass_ <br>
* property defined in childCtor.
* @param {!Object} me Should always be "this".
* @param {(string|null)=} methodName The method name to call. Calling superclass constructor can be done with the special string 'constructor'.
* @param {...*} var_args The arguments to pass to superclass <br>
* method/constructor.
* @return {*} The return value of the superclass method/constructor.
*/
	childCtor["base"] = function(me, methodName, var_args) {
		if(!methodName) { methodName = 'constructor'; }
		// Copying using loop to avoid deop due to passing arguments object to function. This is faster in many JS engines as of late 2014.
		var len = arguments.length;
		var args = new Array(len); // http://jsperf.com/creating-an-array
		for (var i = 2; i < len; i++) {
			args[i - 2] = arguments[i];
		}
		return parentCtor.prototype[methodName].apply(me, args);
	};
};

/* harmony default export */ var es6_Ext = (Ext);


// CONCATENATED MODULE: ./node_modules/tr-grid-util/es6/EventDispatcher.js
/** Abstract base class that provides event management methods for derived class
* @constructor
*/
var EventDispatcher = function () {};

/** @type {Object.<string, Function>}
* @protected
* @ignore
*/
EventDispatcher.prototype._events = null;
/** @type {number}
* @protected
* @ignore
*/
EventDispatcher.prototype._listenerCount = 0;

//#region public function of event
/** Add the function handler into the specific event.
* @public
* @param {string} type Event name
* @param {Function} handler Event handler
*/
EventDispatcher.prototype.addEventListener = function(type, handler) {
	if(!type || !handler) { return; }
	if(!this._events) {
		this._events = {};
	}

	var listeners = this._events[type];
	if(listeners) {
		if(listeners.indexOf(handler) < 0) {
			listeners.push(handler);
			++this._listenerCount;
		}
	} else {
		this._events[type] = [handler];
		++this._listenerCount;
	}
};
/** Remove the function handler from the specific event.
* @public
* @param {string} type Event name
* @param {Function} handler Event handler
*/
EventDispatcher.prototype.removeEventListener = function(type, handler) {
	var listeners = (this._events) ? this._events[type] : null;
	if(listeners) {
		var at = listeners.indexOf(handler);
		if(at >= 0) {
			listeners.splice(at, 1);
			--this._listenerCount;
		}
	}
};
/** Remove all function handlers from all events.
* @public
*/
EventDispatcher.prototype.removeAllEventListeners = function() {
	this._events = null;
	this._listenerCount = 0;
};

/** Check whether the specified event has a function handler.
* @public
* @param {string} type Event name
* @return {boolean}
*/
EventDispatcher.prototype.hasListener = function(type) {
	if(this._listenerCount) {
		if(type) {
			var listeners = this._events ? this._events[type] : null;
			return listeners ? (listeners.length > 0) : false;
		} else {
			return true;
		}
	} else {
		return false;
	}
};
/** Get event listener (function handler) from the specified event.
* @public
* @param {string} type Event name
* @param {number=} idx=0 Index of the listener to be retrieved. This is used when there are multiple event listeners
* @return {Function}
*/
EventDispatcher.prototype.getListener = function(type, idx) {
	if(type) {
		var listeners = this._events ? this._events[type] : null;
		if(listeners) {
			if(!idx) {
				idx = 0;
			}
			return listeners[idx] || null;
		}
	}
	return null;
};
/** A shorthand to retrieve function from an object and add it as an Eventlistener
* @public
* @function
* @param {Object} obj Object that contains a handler with the same name as the given `type`
* @param {string} type Event name
* @example
* var obj = {"mouseUp": function(e) { console.log(e); }};
* plugin.addListener(obj, "mouseUp");
* plugin.addListener(obj, "mouseDown");
*/
EventDispatcher.prototype.addListener = function(obj, type) {
	var func = obj ? obj[type] : null;
	if(typeof func === "function") {
		this.addEventListener(type, func);
	}
};

/** Executed before dispatching, allowing modification of user's event argument object
* @protected
* @ignore
* @param {string} type Event name
* @param {Object} eventArg User's event argument object
* @return {Object} New event argument object
*/
EventDispatcher.prototype._prepareEventArguments = function(type, eventArg) {
	return eventArg;
};

/** Publish the data to the listener.
* @protected
* @ignore
* @param {string} type Event name
* @param {Object} eventArg Event arguments
*/
EventDispatcher.prototype._dispatch = function(type, eventArg) {
	var listeners = this._events ? this._events[type] : null;
	if(listeners) {
		eventArg = this._prepareEventArguments(type, eventArg);
		var len = listeners.length;
		for(var i = 0; i < len; ++i) {
			listeners[i](eventArg);
		}
	}
};

/** @public
* @function
* @param {Event} e
*/
var preventDefault = function(e) {
	if(e && e.preventDefault) {
		e.preventDefault();
		e.stopPropagation();
	}
};

/** @public
* @function
* @param {Event} e
*/
EventDispatcher.preventDefault = preventDefault;

/* harmony default export */ var es6_EventDispatcher = (EventDispatcher);


// EXTERNAL MODULE: ./node_modules/tr-grid-util/es6/Dom.js
var Dom = __webpack_require__(8);

// CONCATENATED MODULE: ./node_modules/tr-grid-util/es6/Popup.js




/** @typedef {Object} Popup~Options
* @description Popup options
* @property {Popup~Positioning=} positioning="under"
* @property {boolean=} autoHiding=true Hide on blur or clicking outside of popup elements
* @property {boolean=} hoverToShow=false Show popup when mouse is over the attached element.
* @property {boolean=} autoClipping=true Clip popup element when there is not enough space to show popup
* @property {Element=} attachedElement=null Target element that will be used as a base for positioning.
* @property {Element=} focusElement=null Additional element that can be focused without triggering autoHiding
* @property {Array.<Element>=} focusElements=null Additional elements that can be focused without triggering autoHiding
* @property {Element=} parentElement=body Element that popup will become a child
* @property {Element=} contentElement=null Content element that will be moved out of document and added as a child of popup element
* @property {Popup=} popupChild=null Popup instance that will be hidden when its parent is hidden
*/

/** @typedef {string} Popup~Positioning
* @description Available positioning type are: <br>
* <b>under</b> - popup appears under the attached element (Default) <br>
* <b>right</b> - popup appears on the right side of the attached element <br>
* <b>over</b> - popup appears on the top left of the attached element (i.e. over the element) <br>
* <b>center</b> - popup appears at the center of the screen. No element should be supplied <br>
* <b>fixed</b> - popup appears without any positioning <br>
* <b>custom</b> - popup appears without any positioning <br>
*
*/

/** @event Popup#show
* @description Fired before popup element entering the DOM tree
* @type {Object}
* @property {string} type="show"
* @property {Element} target
* @property {Element} currentTarget
* @property {boolean} cancel=false Set to true to cancel the operation
*/
/** @event Popup#hide
* @description Fired before popup element leaving the DOM tree
* @type {Object}
* @property {string} type="hide"
* @property {Element} target
* @property {Element} currentTarget
* @property {boolean} cancel=false Set to true to cancel the operation
*/
/** @event Popup#shown
* @description Fired after popup element entering the DOM tree and before positioning
* @type {Object}
* @property {string} type="shown"
* @property {Element} target
* @property {Element} currentTarget
*/
/** @event Popup#hidden
* @description Fired after popup element leaving the DOM tree
* @type {Object}
* @property {string} type="hidden"
* @property {Element} target
* @property {Element} currentTarget
*/
/** @event Popup#positioning
* @description Fired after each positioning operation
* @type {Object}
* @property {Element} target
* @property {Element} currentTarget
*/

/** Check if one of the target elements of the MouseEvent is contained inside the parentElement
* @public
* @param {Element} parentElem
* @param {MouseEvent} e
* @return {boolean}
*/
var containElements = function(parentElem, e) {
	// Use e.composedPath() instead of e.target (if composedPath exists)
	// when popup inside custom element and popup has been clicked
	// e.target appear to be custom element itself (we expect to be element item inside popup)
	// so use e.composedPath() will make the trick
	if (e.composedPath) {
		var elems = e.composedPath();
		if(elems.indexOf(parentElem) >= 0) {
			return true;
		}
		return parentElem.contains(elems[0]);
	}
	return parentElem.contains(e.target);
};

/** @constructor
* @extends {EventDispatcher}
* @param {(Element|Popup~Options)=} popupElem Popup element or popup configuration object
* @param {Popup~Options=} options
* @example
* var pu = new Popup(popupElem);
* pu.attachTo(some_elem);
* pu.show();
*/
var Popup = function(popupElem, options) {
	var t = this;
	t["show"] = t.show = t.show.bind(t);
	t["hide"] = t.hide = t.hide.bind(t);
	t["toggle"] = t.toggle = t.toggle.bind(t);
	t._onBlur = t._onBlur.bind(t); // For auto hiding
	t._onBlurTimer = t._onBlurTimer.bind(t); // For auto hiding
	t._onResize = t._onResize.bind(t); // For throttling
	t.updatePosition = t.updatePosition.bind(t); // For throttling
	t._onScroll = t._onScroll.bind(t); // For throttling
	t._onMouseOver = t._onMouseOver.bind(t);
	t._onMouseOut = t._onMouseOut.bind(t);
	t._onMouseOverTimeout = t._onMouseOverTimeout.bind(t);

	if(popupElem && popupElem.nodeType !== 1) {
		options = popupElem;
		popupElem = null;
	}

	if(popupElem) {
		t._elem = popupElem;
		Dom["a" /* Dom */].removeParent(popupElem);
	} else {
		t._elem = document.createElement("div");
	}
	t._elem.style.position = "fixed";
	t._elem.style.left = "0";
	t._elem.style.top = "0";
	t._elem.style.display = "inline-block";

	t._focusElements = [t._elem];
	t._children = [];
	t._evtArg = {
		"target": t._elem,
		"currentTarget": t._elem
	};

	t._parentElement = document.body;
	t.init(options);
};
Ext.inherits(Popup, EventDispatcher);

/** @type {Element}
* @private
*/
Popup.prototype._elem = null;
/** @type {boolean}
* @private
*/
Popup.prototype._disabled = false;
/** @type {boolean}
* @private
*/
Popup.prototype._inDoc = false;
/** @type {boolean}
* @private
*/
Popup.prototype._autoHiding = true;
/** @type {number}
* @private
*/
Popup.prototype._blurTimer = 0;
/** @type {number}
* @private
*/
Popup.prototype._resizeTimer = 0;

/** @type {Element}
* @private
*/
Popup.prototype._attachedElem = null;
/** @type {string}
* @private
*/
Popup.prototype._positioning = "under";
/** @type {!Array.<Element>}
* @private
*/
Popup.prototype._focusElements;
/** @type {Element}
* @private
*/
Popup.prototype._parentElement;
/** @type {!Array.<Popup>}
* @private
*/
Popup.prototype._children;
/** @type {!Object}
* @private
*/
Popup.prototype._evtArg;

/** @type {boolean}
* @private
*/
Popup.prototype._autoClipping = true;
/** @type {number|string|null}
* @private
*/
Popup.prototype._origW = null;
/** @type {number|string|null}
* @private
*/
Popup.prototype._origH = null;

/** @type {boolean}
* @private
*/
Popup.prototype._hoverToShow = false;
/** @type {number}
* @private
*/
Popup.prototype._hoverTimer = 0;
/** @type {number}
* @private
*/
Popup.prototype._gap = 0;


/** @public */
Popup.prototype.dispose = function() {
	this._removeEventListeners();
	this._clearMouseOverTimer();

	for(var i = this._children.length; --i >= 0;) {
		this._children[i].dispose();
	}

	this._inDoc = false;
	Dom["a" /* Dom */].removeParent(this._elem);
	this._elem = null;
};
/** @public
* @return {Element}
*/
Popup.prototype.getElement = function() {
	return this._elem;
};
/** @public
* @param {Element} childElem
*/
Popup.prototype.appendChild = function(childElem) {
	if(childElem) {
		this._elem.appendChild(childElem);
	}
};

/** @public
* @param {boolean=} opt_bool
*/
Popup.prototype.disable = function(opt_bool) {
	this._disabled = opt_bool !== false;
};
/** @public
* @param {boolean=} opt_bool
*/
Popup.prototype.enable = function(opt_bool) {
	this._disabled = opt_bool === false;
};

/** @public
* @param {Popup~Options=} options
*/
Popup.prototype.init = function(options) {
	if(!options) { return; }

	if(options["positioning"]) {
		this._positioning = /** @type{string} */(options["positioning"]);
	}
	if(options["autoHiding"] != null) {
		this._autoHiding = options["autoHiding"] ? true : false;
	}
	if(options["hoverToShow"] != null) {
		this._hoverToShow = options["hoverToShow"] ? true : false;
	}
	if(options["autoClipping"] != null) {
		this._autoClipping = options["autoClipping"] ? true : false;
	}
	if(options["attachedElement"] != null) {
		this.attachTo(options["attachedElement"]);
	}
	if(options["contentElement"] != null) {
		this.appendChild(options["contentElement"]);
	}
	if(options["parentElement"] != null) {
		this.setParentElement(options["parentElement"]);
	}

	if(options["popupChild"] != null) {
		this.addPopupChild(options["popupChild"]);
	}

	this.addListener(options, "show");
	this.addListener(options, "hide");
	this.addListener(options, "shown");
	this.addListener(options, "hidden");

	var fe = options["focusElement"] || options["focusElements"];
	if(fe) {
		if(Array.isArray(fe)) {
			for(var i = fe.length; --i >= 0;) {
				this.addFocusElement(fe[i]);
			}
		} else {
			this.addFocusElement(fe);
		}
	}
};

/** Use {@link Popup#addPopupChild} method instead to create menu and submenus. <br>
* attachTo() method is good for creating popup suggestion.
* @public
* @param {Element} elem
* @param {Popup~Positioning=} positioning
*/
Popup.prototype.attachTo = function(elem, positioning) {
	if(!elem) {
		elem = null;
	}
	if(this._attachedElem !== elem) {
		if(this._hoverToShow && this._attachedElem) {
			this._attachedElem.removeEventListener("mouseover", this._onMouseOver, false);
			this._attachedElem.removeEventListener("mouseout", this._onMouseOut, false);
		}
		this.removeFocusElement(this._attachedElem);
		this._attachedElem = elem;
		this.addFocusElement(this._attachedElem);

		if(this._hoverToShow && this._attachedElem) {
			this._attachedElem.addEventListener("mouseover", this._onMouseOver, false);
			this._attachedElem.addEventListener("mouseout", this._onMouseOut, false);
		}
	}
	if(positioning != null) {
		this.setPositioning(positioning);
	}
};
/** @public
* @function
* @param {Element} elem
* @param {Popup~Positioning=} positioning
*/
Popup.prototype.setAttachedElement = Popup.prototype.attachTo;

/** @public
* @param {Element} elem
*/
Popup.prototype.addFocusElement = function(elem) {
	if(elem) {
		if(this._focusElements.indexOf(elem) < 0) {
			this._focusElements.push(elem);
		}
	}
};
/** @public
* @param {Element} elem
*/
Popup.prototype.removeFocusElement = function(elem) {
	if(elem) {
		var at = this._focusElements.indexOf(elem);
		if(at >= 0) {
			this._focusElements.splice(at, 1);
		}
	}
};
/** @public
* @param {Popup=} popup
* @return {!Popup}
*/
Popup.prototype.addPopupChild = function(popup) {
	if(!popup) {
		popup = new Popup();
		popup.setPositioning("right");
		popup.attachTo(this._elem);
	}
	this.addFocusElement(popup.getElement());
	this._children.push(popup);
	return popup;
};
/** @public
* @param {number=} gap
*/
Popup.prototype.setPopupGap = function(gap) {
	if(typeof gap === "number") {
		this._gap = gap;
	} else {
		this._gap = 0;
	}
};

/** @public
* @param {Element} parentElement
* @return {Element} In order to set parent element of popup <br>
* if parentElement is not Element (maybe undefined) then this._parentElement will be place with document.body;
*/
Popup.prototype.setParentElement = function (parentElement) {
	if (parentElement instanceof Element) {
		this._parentElement = parentElement;
	} else if (!this._parentElement) {
		this._parentElement = document.body;
	}
	return this._parentElement;
};

/** @public
* @param {boolean=} opt_shown
* @param {Element=} parentElement
* @fires Popup#show
* @fires Popup#hide
* @fires Popup#shown
* @fires Popup#hidden
* @fires Popup#positioning
*/
Popup.prototype.show = function (opt_shown, parentElement) {
	var t = this;
	t._clearMouseOverTimer();
	if (t._disabled) { return; }

	var shown = opt_shown !== false;
	var dirty = t._inDoc !== shown;
	if (!dirty) {
		t.updatePosition();
		return;
	}

	var evtType = shown ? "show" : "hide";
	t._evtArg["type"] = evtType;
	t._dispatch(evtType, t._evtArg);
	if(t._evtArg["cancel"]) {
		t._evtArg["cancel"] = false;
		return;
	}

	if(shown) {
		t._inDoc = true;
		if (!(parentElement instanceof Element)) {
			parentElement = t._parentElement;
		}
		parentElement.appendChild(t._elem);
		parentElement.addEventListener("scroll", t._onScroll, true); // TODO: Remove the listener

		if (t._autoHiding) {
			window.addEventListener("mousedown", t._onBlur, true);
			window.addEventListener("touchstart", t._onBlur, true);
		}
		window.addEventListener("resize", t._onResize, false);
		window.addEventListener("scroll", t._onScroll, true);
	} else if(t._inDoc) {
		t._removeEventListeners();
		t._restoreElementSize();

		for(var i = t._children.length; --i >= 0;) {
			t._children[i].hide();
		}
		t._inDoc = false;
		Dom["a" /* Dom */].removeParent(t._elem);
	}

	evtType = shown ? "shown" : "hidden";
	t._evtArg["type"] = evtType;
	t._dispatch(evtType, t._evtArg);

	if (shown) {
		t.updatePosition(); // Position has to be updated after firing the event, for client element to be resized
	}
};
/** @public
* @param {boolean=} opt_hidden
*/
Popup.prototype.hide = function(opt_hidden) {
	this.show(opt_hidden === false);
};
/** Toggle showing or hiding state
* @public
* @param {boolean=} force Force the state without toggling
* @param {Element=} parentElement
* @fires Popup#show
* @fires Popup#hide
* @fires Popup#shown
* @fires Popup#hidden
* @fires Popup#positioning
*/
Popup.prototype.toggle = function (force, parentElement) {
	if(force == null) {
		force = !this._inDoc;
	}
	if(force) {
		this.show(true, parentElement);
	} else {
		this.hide();
	}
};

/** @public
* @return {boolean}
*/
Popup.prototype.isShown = function() {
	return this._inDoc;
};
/** @public
* @return {boolean}
*/
Popup.prototype.isHidden = function() {
	return !this._inDoc;
};

/** @public
* @param {Element|Array.<Element>} elems
* @return {boolean}
*/
Popup.prototype.contains = function(elems) {
	if (elems) {
		elems = Array.isArray(elems) ? elems : [elems];

		var fe = this._focusElements;
		for (var i = fe.length; --i >= 0;) {
			if (elems.indexOf(fe[i]) >= 0 || fe[i].contains(elems[0])) {
				return true;
			}
		}
	}
	return false;
};

/** @public
* @param {Popup~Positioning} posType
* @fires Popup#positioning
*/
Popup.prototype.setPositioning = function(posType) {
	if(this._positioning !== posType) {
		this._positioning = posType;
		this.updatePosition();
	}
};
/** @public
* @param {boolean=} opt_disabled
*/
Popup.prototype.disableAutoHiding = function(opt_disabled) {
	var autoHiding = (opt_disabled === false);
	if(this._autoHiding !== autoHiding) {
		this._autoHiding = autoHiding;
		if(this._inDoc) {
			if(autoHiding) {
				window.addEventListener("mousedown", this._onBlur, true);
				window.addEventListener("touchstart", this._onBlur, true);
			} else {
				window.removeEventListener("mousedown", this._onBlur, true);
				window.removeEventListener("touchstart", this._onBlur, true);
			}
		}
	}
};
/** @public
* @param {boolean=} opt_disabled
*/
Popup.prototype.disableAutoClipping = function(opt_disabled) {
	var autoClipping = (opt_disabled === false);
	if(this._autoClipping !== autoClipping) {
		this._autoClipping = autoClipping;
	}
};


/** @public
* @fires Popup#positioning
*/
Popup.prototype.updatePosition = function() {
	var t = this;
	t._resizeTimer = 0;

	if(!t._inDoc) { return; }

	if (t._attachedElem) {
		if(!t._attachedElem.offsetWidth) { // Check if attached element is visible in the DOM
			return; // If the element has has no parent
		}

		if(t._autoClipping) {
			t._restoreElementSize();
		}
		var pos = Dom["a" /* Dom */].getRelativePosition(t._attachedElem, document.body);
		var px = pos["x"];
		var py = pos["y"];

		var ww = window.innerWidth;
		var wh = window.innerHeight;
		var sx = (window.scrollX != null) ? window.scrollX : window.pageXOffset;
		var sy = (window.scrollY != null) ? window.scrollY : window.pageYOffset;
		var rb = ww + sx; // view port right bound
		var bb = wh + sy; // view port bottom bound

		var aw = t._attachedElem.offsetWidth;
		var ah = t._attachedElem.offsetHeight;
		var ew = t._elem.offsetWidth;
		var eh = t._elem.offsetHeight;
		var x, y;
		if(t._positioning == "right") {
			x = px + aw + this._gap;
			y = py;
			// Re-position, if the popup exceeds the bounds
			if((x + ew > rb) && (px - ew > sx)) {
				x = px - ew - this._gap;
			}
			if((y + eh > bb) && (py + ah - eh > sy)) {
				y = py + ah - eh;
			}
		} else if(t._positioning == "over") {
			x = px;
			y = py;
			// Re-position, if the popup exceeds the bounds
			if((x + ew > rb) && (px + aw - ew > sx)) {
				x = px + aw - ew;
			}
			if((y + eh > bb) && (py + aw - eh > sy)) {
				y = py + aw - eh;
			}
		} else { // bottom
			x = px;
			y = py + ah;
			// Re-position, if the popup exceeds the bounds
			if((x + ew > rb) && (px + aw - ew > sx)) {
				x = px + aw - ew;
			}
			if((y + eh > bb) && (py - eh > sy)) {
				y = py - eh;
			}
		}
		if(t._autoClipping) { // Last resort of positioning
			if(x + ew > rb) {
				if(t._origW == null) {
					t._origW = t._elem.style.width;
				}
				t._elem.style.width = (rb - x) + "px";
			}
			if(y + eh > bb) {
				if(t._origH == null) {
					t._origH = t._elem.style.height;
				}
				t._elem.style.height = (bb - y) + "px";
			}
		}

		t._elem.style.left = Math.floor(x - sx) + "px"; // Due to fixed position we have to subtract window scrolling
		t._elem.style.top = Math.floor(y - sy) + "px";
	} else if(t._positioning != "fixed" && t._positioning != "custom") { // Centering at the middle
		t._elem.style.left = "calc(50vw - " + Math.floor(t._elem.offsetWidth / 2) + "px)";
		t._elem.style.top = "calc(46vh - " + Math.floor(t._elem.offsetHeight / 2) + "px)";
	}

	var evtType = "positioning";
	t._evtArg["type"] = evtType;
	t._dispatch(evtType, t._evtArg);
};

/** @private
* @param {Object=} e
*/
Popup.prototype._onBlur = function(e) {
	if(this._blurTimer || !this._inDoc) {
		return;
	}
	if (e) {
		// use e.composedPath() instead of e.target (if composedPath exists)
		// when popup inside custom element and popup has been clicked
		// e.target appear to be custom element itself (we expect to be element item inside popup)
		// so use e.composedPath() will make the trick
		if (e.composedPath) {
			if (this.contains(e.composedPath())) {
				return;
			}
		} else if (this.contains(e.target)) {
			return;
		}
	}

	this._blurTimer = setTimeout(this._onBlurTimer, 10);
};
/** @private */
Popup.prototype._onBlurTimer = function() {
	this._blurTimer = 0;
	if(this.contains(document.activeElement)) {
		return;
	}
	this.hide();
};
/** @private
* @fires Popup#positioning
*/
Popup.prototype._onResize = function() {
	if(!this._resizeTimer && this._inDoc) {
		this._resizeTimer = setTimeout(this.updatePosition, 50);
	}
};
/** @private
* @param {Object} e
*/
Popup.prototype._onScroll = function (e) {
	// only hide if target is not child of popup and e.target not the popup itself.
	if (!this.contains(e.target)) {
		this.hide();
	}
};
/** @private
* @param {Object} e
*/
Popup.prototype._onMouseOver = function(e) {
	if(!this._hoverTimer && !this._inDoc) {
		this._hoverTimer = setTimeout(this._onMouseOverTimeout, 500);
	}
};
/** @private
* @param {Object} e
*/
Popup.prototype._onMouseOut = function(e) {
	if(this._hoverTimer) {
		if(!e.currentTarget.contains(e.relatedTarget)) {
			this._clearMouseOverTimer();
		}
	}
};
/** @private
*/
Popup.prototype._onMouseOverTimeout = function() {
	this._hoverTimer = 0;
	this.show();
};
/** @private
*/
Popup.prototype._clearMouseOverTimer = function() {
	if(this._hoverTimer) {
		clearTimeout(this._hoverTimer);
		this._hoverTimer = 0;
	}
};

/** @private */
Popup.prototype._restoreElementSize = function() {
	if(this._origW != null) {
		this._elem.style.width = this._origW;
		this._origW = null;
	}
	if(this._origH != null) {
		this._elem.style.height = this._origH;
		this._origH = null;
	}
};
/** @private */
Popup.prototype._removeEventListeners = function() {
	if(this._blurTimer) {
		clearTimeout(this._blurTimer);
		this._blurTimer = 0;
	}
	if(this._resizeTimer) {
		clearTimeout(this._resizeTimer);
		this._resizeTimer = 0;
	}

	window.removeEventListener("mousedown", this._onBlur, true);
	window.removeEventListener("touchstart", this._onBlur, true);
	window.removeEventListener("resize", this._onResize, false);
	window.removeEventListener("scroll", this._onScroll, true);
	if (this._elem.parentElement) {
		this._elem.parentElement.removeEventListener("scroll", this._onScroll, true);
	}
};


/* harmony default export */ var es6_Popup = (Popup);

// EXTERNAL MODULE: ./node_modules/tr-grid-util/es6/DateTime.js + 6 modules
var DateTime = __webpack_require__(30);

// CONCATENATED MODULE: ./node_modules/@grid/filter-dialog/lib/locale/translation-en.js
/**
* @namespace
*/
var translation_en_translationEn = {
	"Sort by": "Sort by",
	"Filter by": "Filter by",
	"VALUE": "VALUE",
	"CONDITION": "CONDITION",
	"Select All": "Select All",
	"Deselect All": "Deselect All",
	"Show rows where": "Show rows where",
	"Value": "Value",
	"And": "And",
	"Or": "Or",
	"Clear Filter": "Clear Filter",
	"Done": "Done",
	"Cancel": "Cancel",

	"Contains": "Contains",
	"Does Not Contain": "Does Not Contain",
	"Is Greater Than": "Is Greater Than",
	"Is Greater Than Or Equal To": "Is Greater Than Or Equal To",
	"Is Less Than": "Is Less Than",
	"Is Less Than Or Equal To": "Is Less Than Or Equal To",
	"Begins With": "Begins With",
	"Does Not Begin With": "Does Not Begin With",
	"Ends With": "Ends With",
	"Does Not End With": "Does Not End With",
	"Equals": "Equals",
	"Does Not Equal": "Does Not Equal",

	"Date is": "Date is",
	"Date is Before": "Date is Before",
	"Date is After": "Date is After"
};

/* harmony default export */ var locale_translation_en = (translation_en_translationEn);

// CONCATENATED MODULE: ./node_modules/@grid/filter-dialog/lib/locale/translation-de.js
/**
* @namespace
*/
var translation_de_translationDe = {
	"Sort by": "Sortieren nach",
	"Filter by": "Filtern nach",
	"VALUE": "WERT",
	"CONDITION": "BEDINGUNG",
	"Select All": "Alle auswhlen",
	"Deselect All": "Auswahl aufheben",
	"Show rows where": "Zeilen anzeigen, wo",
	"Value": "Wert",
	"And": "Und",
	"Or": "Oder",
	"Clear Filter": "Filter lschen",
	"Done": "Fertig",
	"Cancel": "Abbrechen",

	"Contains": "Enthlt",
	"Does Not Contain": "Enthlt nicht",
	"Is Greater Than": "Ist grer als",
	"Is Greater Than Or Equal To": "Ist grer als oder gleich",
	"Is Less Than": "Ist kleiner als",
	"Is Less Than Or Equal To": "Ist kleiner als oder gleich",
	"Begins With": "Beginnt mit",
	"Does Not Begin With": "Beginnt nicht mit",
	"Ends With": "Endet mit",
	"Does Not End With": "Endet nicht mit",
	"Equals": "Gleich",
	"Does Not Equal": "Stimmt nicht berein",

	"Date is": "Datum ist",
	"Date is Before": "Datum ist vor",
	"Date is After": "Datum ist nach"
};

/* harmony default export */ var locale_translation_de = (translation_de_translationDe);

// CONCATENATED MODULE: ./node_modules/@grid/filter-dialog/lib/locale/translation-ja.js
/**
* @namespace
*/
var translation_ja_translationJa = {
	"Sort by": "",
	"Filter by": "",
	"VALUE": "",
	"CONDITION": "",
	"Select All": "",
	"Deselect All": "",
	"Show rows where": "",
	"Value": "",
	"And": "AND",
	"Or": "OR",
	"Clear Filter": "",
	"Done": "",
	"Cancel": "",

	"Contains": "",
	"Does Not Contain": "",
	"Is Greater Than": "",
	"Is Greater Than Or Equal To": "",
	"Is Less Than": "",
	"Is Less Than Or Equal To": "",
	"Begins With": "",
	"Does Not Begin With": "",
	"Ends With": "",
	"Does Not End With": "",
	"Equals": "",
	"Does Not Equal": "",

	"Date is": "",
	"Date is Before": "",
	"Date is After": ""
};

/* harmony default export */ var locale_translation_ja = (translation_ja_translationJa);

// CONCATENATED MODULE: ./node_modules/@grid/filter-dialog/lib/locale/translation-zh.js
/**
* @namespace
*/
var translation_zh_translationZh = {
	"Sort by": "",
	"Filter by": "",
	"VALUE": "",
	"CONDITION": "",
	"Select All": "",
	"Deselect All": "",
	"Show rows where": "",
	"Value": "",
	"And": "",
	"Or": "",
	"Clear Filter": "",
	"Done": "",
	"Cancel": "",

	"Contains": "",
	"Does Not Contain": "",
	"Is Greater Than": "",
	"Is Greater Than Or Equal To": "",
	"Is Less Than": "",
	"Is Less Than Or Equal To": "",
	"Begins With": "",
	"Does Not Begin With": "",
	"Ends With": "",
	"Does Not End With": "",
	"Equals": "",
	"Does Not Equal": "",

	"Date is": "",
	"Date is Before": "",
	"Date is After": ""
};

/* harmony default export */ var locale_translation_zh = (translation_zh_translationZh);

// CONCATENATED MODULE: ./node_modules/@grid/filter-dialog/lib/locale/translation-zh-hant.js
/**
* @namespace
*/
var translation_zh_hant_translationZhHant = {
	"Sort by": "",
	"Filter by": "",
	"VALUE": "",
	"CONDITION": "",
	"Select All": "",
	"Deselect All": "",
	"Show rows where": "",
	"Value": "",
	"And": "",
	"Or": "",
	"Clear Filter": "",
	"Done": "",
	"Cancel": "",

	"Contains": "",
	"Does Not Contain": "",
	"Is Greater Than": "",
	"Is Greater Than Or Equal To": "",
	"Is Less Than": "",
	"Is Less Than Or Equal To": "",
	"Begins With": "",
	"Does Not Begin With": "",
	"Ends With": "",
	"Does Not End With": "",
	"Equals": "",
	"Does Not Equal": "",

	"Date is": "",
	"Date is Before": "",
	"Date is After": ""
};

/* harmony default export */ var locale_translation_zh_hant = (translation_zh_hant_translationZhHant);

// CONCATENATED MODULE: ./node_modules/@grid/filter-dialog/lib/locale/translation.js






/**
* @namespace
*/
var translation_translation = {
	"en": locale_translation_en,
	"de": locale_translation_de,
	"ja": locale_translation_ja,
	"zh": locale_translation_zh,
	"zh-Hant": locale_translation_zh_hant
};

/* harmony default export */ var lib_locale_translation = (translation_translation);
// CONCATENATED MODULE: ./node_modules/@grid/filter-dialog/lib/checkbox-list.js






/**
* @private
* @param {Object=} states
* @return {string}
*/
const _getStateText = function(states) {
	if(typeof states === "string") {
		return states;
	} else if(states) {
		return states.title || states.label || "";
	}
	return "";
};
/**
* @private
* @param {Element} item
* @param {Object=} states
*/
const _updateItemStates = function(item, states) {
	item._label.textContent = _getStateText(states);
	item._checkbox.checked = (states && states.checked) ? true : false;
};
/**
* @private
* @param {Array.<Element>} ary Array of Items
* @param {(string|Function)=} inputFilter
* @return {!Array} Array containing filtered data objects
*/
const _filter = function(ary, inputFilter) {
	var len = ary ? ary.length : 0;
	if(!len || !inputFilter) {
		return ary; // No new copy is generated
	}

	var filterMethod, ctx;
	if(typeof inputFilter === "function") {
		filterMethod = inputFilter;
		ctx = ary;
	} else {
		filterMethod = _caseInsensitiveFilter;
		ctx = (inputFilter + "").toLowerCase(); // Convert to lowercased string for case insensitive comparison
	}

	var filteredList = [];
	for(var i = 0; i < len; ++i) {
		var elem = ary[i];
		var str = elem._label.textContent;
		if(filterMethod(str, i, ctx)) {
			filteredList.push(elem);
		}
	}

	return filteredList;
};
/** @private
* @param {string} str
* @param {number} idx
* @param {string} ctx
* @returns {boolean}
*/
const _caseInsensitiveFilter = function(str, idx, ctx) {
	return str.toLowerCase().indexOf(ctx) >= 0;
};

class checkbox_list_CheckboxList extends lib_elf["a" /* BasicElement */] {
	static get properties() {
		return {
			config: {type: Object},
			data: {type: Array},
			lang: { type: String, reflect: true }
		};
	}

	constructor() {
		super();

		this.lang = "en";
		this._translation = lib_locale_translation;
		this.selectAll = this.selectAll.bind(this);
		this.deselectAll = this.deselectAll.bind(this);
		this._onItemClicked = this._onItemClicked.bind(this);

		this._config = {};
		this._cachedItems = []; // To avoid repeatedly creating the same item element
		this._items = []; // Actual existing elements (filtered items)
		this._origItems = this._items; // Original items before being filtered
		this._inputFilter = null;
	}

	update(changedProperties) {
		if(changedProperties.has("config") && !changedProperties.has("data")) {
			if(Array.isArray(this.config)) {
				this.data = this.config;
				this.config = null;
				this._inputFilter = null;
			} else if(this.config && this.config.data != null) {
				this.data = this.config.data;
				this._inputFilter = null;
			}
		}

		if(changedProperties.has("data")) {
			this._inputFilter = null;
		}

		super.update(changedProperties);
	}

	render() {
		var lang = this._translation[this.lang] ? this.lang : "en";
		var t =  this._translation[lang];
		return lib_elf["k" /* html */]`
			<div class='root'>
				<div>
					<coral-button class="select-btn" id="select_all">${t["Select All"]}</coral-button>
					<coral-button class="select-btn hidden" id="deselect_all">${t["Deselect All"]}</coral-button>
				</div>
				<div id="container"></div>
			</div>
		`;
	}

	firstUpdated(changedProps) {
		// Prepare list item template. TODO: This should be static variable
		var checkBox = document.createElement("coral-checkbox");
		var label = document.createElement("div");
		label.classList.add("item-label");
		var itemContainer = document.createElement("div");
		itemContainer.classList.add("item-container");
		itemContainer.appendChild(checkBox);
		itemContainer.appendChild(label);
		this._templateItemEl = document.createElement("coral-item");
		this._templateItemEl.appendChild(itemContainer);

		// Elements has been rendered. Cache element references for better performance
		var root = this.shadowRoot;
		this._containerEl = root.getElementById("container");

		this._selectAllBtn = root.getElementById("select_all");
		this._deselectAllBtn = root.getElementById("deselect_all");

		this._selectAllBtn.addEventListener("click", this.selectAll);
		this._deselectAllBtn.addEventListener("click", this.deselectAll);
	}

	updated(changedProps) {
		if (changedProps.has("data")) {
			var list = this.data;
			var len = list ? list.length : 0;

			if (this._cachedItems.length < len) {
				this._cachedItems.length = len;
			}
			this._items = new Array(len);

			for (var i = 0; i < len; i++) {
				var item = this._cachedItems[i]; // coral-item
				if (!item) {
					item = this._cachedItems[i] = this._templateItemEl.cloneNode(true);
					// item.addEventListener("click", this._onItemClicked);

					var itemContainer = item.firstChild; // div.item-container
					item._checkbox = itemContainer.firstChild; // coral-checkbox
					item._label = itemContainer.lastChild; // label
				}
				this._items[i] = item;

				_updateItemStates(item, list[i]);
			}

			if (this._inputFilter) {
				this._origItems = this._items;
				this._items = _filter(this._origItems, this._inputFilter);
			} else {
				this._origItems = this._items;
			}

			this._renderItems();
		}
	}
	/**
	* @private
	*/
	_renderItems() {
		if(!this._containerEl) {
			return;
		}

		// TODO: Optimize appending and removing items by finding appropriate item number
		var container = this._containerEl;
		while(container.lastChild) {
			container.removeChild(container.lastChild);
		}
		var len = this._items.length;
		for(var i = 0; i < len; ++i) {
			container.appendChild(this._items[i]);
		}
		this._updateSelectAllState();
	}

	/**
	* @public
	* @param {Array<Object>} list
	* @example
	*   setData([{
	*     title: "Refinitiv"
	*     checked: false
	*   }]);
	*/
	setData(list) {
		this.data = list;
	}

	/**
	* @public
	* @param {Array<Object>=} list
	*/
	updateData(list) {
		if(list && this.data !== list) {
			this.data = list;
			return;
		}

		var len = this._items.length;
		for(var i = 0; i < len; ++i) {
			_updateItemStates(this._items[i], this.data[i]);
		}

		this._updateSelectAllState();
	}

	/**
	* @public
	* @return {!Array<object>}
	*/
	getSelectedItems() {
		var items = [];
		var len = this._items.length;
		for(var i = 0; i < len; ++i) {
			if(this._items[i]._checkbox.checked) {
				items.push({
					title: this._items[i]._label.textContent,
					index: i
				});
			}
		}
		return items;
	}

	/**
	* @public
	* @param {boolean=} selected
	*/
	selectAll(selected) {
		selected = selected !== false;
		var len = this._items.length;
		for(var i = 0; i < len; ++i) {
			this._items[i]._checkbox.checked = selected;
		}
		this._updateSelectAllState(selected);
	}

	/**
	* @public
	*/
	deselectAll() {
		this.selectAll(false);
	}

	/**
	* @public
	* @param {(string|Function)=} inputFilter
	*/
	filter(inputFilter) {
		if(!inputFilter) {
			inputFilter = null;
		}
		var dirty = (typeof inputFilter === "function");
		if(this._inputFilter !== inputFilter) {
			this._inputFilter = inputFilter || null;
			dirty = true;
		}
		if(dirty) {
			this._items = _filter(this._origItems, this._inputFilter);
			this._renderItems();
		}
	}

	/**
	* @private
	* @param {Event} e
	*/
	_onItemClicked(e) {
		var itemEl = e.currentTarget;
		if(e.target.tagName !== "CORAL-CHECKBOX") { // checkbox may already toggle its state
			itemEl._checkbox.checked = !itemEl._checkbox.checked;
		}
		this._updateSelectAllState();
	}

	/**
	* @private
	* @param {boolean=} selected
	*/
	_updateSelectAllState(selected) {
		if(!this._containerEl) {
			return;
		}

		if(selected == null) {
			var len = this._items.length;
			selected = len ? true : false;
			for (var i = 0; i < len; i++) {
				if (!this._items[i]._checkbox.checked) {
					selected = false;
					break;
				}
			}
		}

		this._selectAllBtn.classList.toggle("hidden", selected);
		this._deselectAllBtn.classList.toggle("hidden", !selected);
	}
}

Object(lib_elf["i" /* customElement */])("checkbox-list")(checkbox_list_CheckboxList);


/* harmony default export */ var checkbox_list = (checkbox_list_CheckboxList);

// CONCATENATED MODULE: ./node_modules/@grid/filter-dialog/lib/filter-dialog.js

















/**
 * @typedef {Object} FilterDialog~Config
 * @property {Object} data Column data
 * @property {string=} sortState "a" for ascending or "d" for descending
 * @property {boolean=} sortUI Show Sort area
 * @property {boolean=} filterUI Show Filter area
 * @property {Function=} filterChanged Filter changed handler
 * @property {Function=} confirm Alias of filterChanged
 * @property {Function=} sortChanged Sort changed handler
*/

/** @type {Array.<Array>}
* @private
* @constant
*/
const DEFAULT_FILTERS = [
	["CONT", "Contains"], //0
	["NCONT", "Does Not Contain"], // 1
	["GT", "Is Greater Than"], // 2
	["GTE", "Is Greater Than Or Equal To"], // 3
	["LT", "Is Less Than"], // 4
	["LTE", "Is Less Than Or Equal To"], // 5
	["BEGIN", "Begins With"], // 6
	["NBEGIN", "Does Not Begin With"], // 7
	["END", "Ends With"], // 8
	["NEND", "Does Not End With"], // 9
	["EQ", "Equals"], // 10
	["NEQ", "Does Not Equal"] // 11
];
/** @type {Array.<Array>}
* @private
* @constant
*/
const DATE_FILTERS = [
	["DT", "Date is"],
	["DTB", "Date is Before"],
	["DTA", "Date is After"]
];
/** @type {Array.<Array>}
* @private
* @constant
*/
const TEXT_FILTERS = [
	DEFAULT_FILTERS[0],
	DEFAULT_FILTERS[1],
	DEFAULT_FILTERS[6],
	DEFAULT_FILTERS[7],
	DEFAULT_FILTERS[8],
	DEFAULT_FILTERS[9]
];
/** @type {Array.<Array>}
* @private
* @constant
*/
const NUMBER_FILTERS = [
	DEFAULT_FILTERS[2],
	DEFAULT_FILTERS[3],
	DEFAULT_FILTERS[4],
	DEFAULT_FILTERS[5],
	["NUMEQ", "Equals"],
	["NUMNEQ", "Does Not Equal"]
];

/** @private
* @function
* @param {Array.<String>} options
* @returns {Object}
*/
var arrayToComboBoxItem = function(options) {
	return {
		label: options[1],
		value: options[0]
	};
};
/** @private
* @function
* @param {Array.<Array>} conditions
* @returns {Array.<Object>}
*/
var createComboBoxData = function(conditions) {
	return conditions.map(arrayToComboBoxItem);
};

/**
 * @class
 * @public
 */
class filter_dialog_FilterDialog extends lib_elf["a" /* BasicElement */] {
	static get properties() {
		return {
			config: {type: Object},
			data: {type: Object},
			isShown: {type: Boolean},
			target: {attribute: false},
			filterMode: {type: String},
			conditions: {attribute: false},
			hiddenSortUI: {type: Boolean},
			hiddenFilterUI: {type: Boolean},
			sortState: {type: String},
			fieldDataType: {type: String},
			lang: { type: String, reflect: true }
		};
	}

	static get is() {
		return 'filter-dialog';
	}

	constructor() {
		super();

		this.lang = "en";
		this._translation = lib_locale_translation;
		this.hiddenSortUI = false;
		this.hiddenFilterUI = false;
		this.isShown = false;
		this.sortState = "n";
		this.fieldDataType = "";
		this._popup = new es6_Popup({
			"shown": this._onPopupShown.bind(this),
			"hidden": this._onPopupHidden.bind(this)
		});
		ElementObserver["a" /* default */].addLanguageListener(this);
	}

	/**
	 * @private
	 * @param {Object} changedProperties
	 */
	update(changedProperties) {
		if(changedProperties.has("config")) {
			var options = this.config;
			if(options) {
				if (options.data) {
					this.data = options.data;
				}

				if (options.sortState) {
					this.sortState = (options.sortState) ? options.sortState.charAt(0).toLowerCase() : "";
				}

				if (options.sortUI != null) {
					this.hiddenSortUI = options.sortUI === false;
				}

				if (options.filterUI != null) {
					this.hiddenFilterUI = options.filterUI === false;
				}

				if (options.target) {
					this.target = options.target;
				}

				if (typeof options.filterChanged === "function") {
					this.addEventListener("filterChanged", options.filterChanged, false);
				}

				if (typeof options.confirm === "function") {
					this.addEventListener("confirm", options.confirm, false);
				}

				if (typeof options.sortChanged === "function") {
					this.addEventListener("sortChanged", options.sortChanged, false);
				}

				if (options.filterMode) {
					this.filterMode = options.filterMode;
				}

				if (options.conditions) {
					this.conditions = options.conditions;
				}

				if (options.fieldDataType != null) {
					this.fieldDataType = options.fieldDataType;
					this._updateGeneralComboBoxes();
				}

				// allow config.lang overides default lang
				if(this._translation[options.lang]) {
					this.lang = options.lang;
				}
			}
		}

		super.update(changedProperties);
	}

	/** A `TemplateResult` that will be used to render the updated internal template
	 * @private
	 * @return {*}
	 */
	render() {
		var lang = this._translation[this.lang] ? this.lang : "en";
		var t =  this._translation[lang];
		return lib_elf["k" /* html */]`
			<coral-panel id="root_panel" spacing with-shadow with-border>
				<div id="filterDialogContent" class="filter-dialog dialog-theme-wrapper">

					<div class="group-block" id="filterSortUI">
						<label>${t["Sort by"]}:</label>
						<coral-split-button managed id="filterSortCoralSplitBtn">
							<coral-button toggles>A  Z</coral-button>
							<coral-button toggles>Z  A</coral-button>
						</coral-split-button>
					</div>

					<hr id="separator"/>

					<div class="group-block" id="filterUI">
						<label>${t["Filter by"]}:</label>
						<coral-split-button managed id="filterCoralSplitBtn">
							<coral-button toggles active>${t["VALUE"]}</coral-button>
							<coral-button toggles>${t["CONDITION"]}</coral-button>
						</coral-split-button>

						<div class="input-group" id="filterValueUI">
							<coral-search-field id="dataFilter"></coral-search-field>
							<checkbox-list id="dataSelector" lang="${lang}"></checkbox-list>
						</div>

						<div class="hide" id="filterAdvancedUI">
							<div class="input-group" id="general_conditon">
								<coral-combo-box placeholder="${t["Show rows where"]}:" lang="${lang}"></coral-combo-box>
								<coral-combo-box placeholder="${t["Value"]}" free-text lang="${lang}"></coral-combo-box>

								<div class="radio-group">
									<coral-radio-button name="filterRadio" value="AND" checked>${t["And"]}</coral-radio-button>
									<coral-radio-button name="filterRadio" value="OR">${t["Or"]}</coral-radio-button>
								</div>

								<coral-combo-box placeholder="${t["Show rows where"]}:" lang="${lang}"></coral-combo-box>
								<coral-combo-box placeholder="${t["Value"]}" free-text lang="${lang}"></coral-combo-box>
							</div>
							<div class="input-group hide" id="datetime_conditon">
								<coral-combo-box placeholder="${t["Show rows where"]}:" lang="${lang}"></coral-combo-box>
								<emerald-datetime-picker placeholder="DD-MM-YY" format="dd-MM-yy" lang="${lang}"></emerald-datetime-picker>

								<div class="radio-group">
									<coral-radio-button name="filterRadio" value="AND" checked>${t["And"]}</coral-radio-button>
									<coral-radio-button name="filterRadio" value="OR" >${t["Or"]}</coral-radio-button>
								</div>
								<coral-combo-box placeholder="${t["Show rows where"]}:" lang="${lang}"></coral-combo-box>
								<emerald-datetime-picker placeholder="DD-MM-YY" format="dd-MM-yy" lang="${lang}"></emerald-datetime-picker>
							</div>
						</div>
					</div>
				</div>
				<div class="cancel-ok"">
					<coral-button id="clear_btn">${t["Clear Filter"]}</coral-button>
					<coral-button cta id="done_btn">${t["Done"]}</coral-button><coral-button id="cancel_btn">${t["Cancel"]}</coral-button>
				</div>
			</coral-panel>
		`;
	}

	/**
	 * @private
	 * @override
	 */
	firstUpdated(changedProps) {
		this._initialized = true;

		const root = this.shadowRoot;

		this._separator = root.getElementById("separator");
		this._rootContainer = root.getElementById("root_panel");
		this._dialogContent = root.getElementById("filterDialogContent");
		this._sortUI = root.getElementById("filterSortUI");
		this._filterUI = root.getElementById("filterUI");
		this._cancelBtn = root.getElementById("cancel_btn");
		this._doneBtn = root.getElementById("done_btn");
		this._clearBtn = root.getElementById("clear_btn");
		this._sortBtns = root.getElementById("filterSortCoralSplitBtn");

		this._dataFilter = root.getElementById("dataFilter");
		this._dataSelector = root.getElementById("dataSelector");

		this._filterBtns = root.getElementById("filterCoralSplitBtn");
		this._valueFilterUI = root.getElementById("filterValueUI");

		this._advFilterUI = root.getElementById("filterAdvancedUI");
		this._generalCondUI = this._advFilterUI.querySelector("#general_conditon");
		this._generalComboBoxes = this._generalCondUI.getElementsByTagName("coral-combo-box");
		this._generalRadioBtns = this._generalCondUI.getElementsByTagName("coral-radio-button");
		this._dateTimeCondUI = this._advFilterUI.querySelector("#datetime_conditon");
		this._dateTimeComboBoxes = this._dateTimeCondUI.getElementsByTagName("coral-combo-box");
		this._dateTimePickers = this._dateTimeCondUI.getElementsByTagName("emerald-datetime-picker");
		this._dateTimeRadioBtns = this._dateTimeCondUI.getElementsByTagName("coral-radio-button");

		this._dateTimeComboBoxes[0].data = createComboBoxData(this._translateFilters(DATE_FILTERS));
		this._dateTimeComboBoxes[1].data = createComboBoxData(this._translateFilters(DATE_FILTERS));

		this._updateGeneralComboBoxes();

		let comboxBoxes = this._advFilterUI.getElementsByTagName("coral-combo-box");
		let len = comboxBoxes.length;
		for (let i = 0; i < len; i++) {
			comboxBoxes[i].addEventListener("keydown", this._onCondSelectorKeyDown);
		}

		this._dataFilter.addEventListener("value-changed", this._filterData.bind(this));

		this._cancelBtn.addEventListener("click", this._onCancelBtnClick.bind(this));
		this._doneBtn.addEventListener("click", this._onDoneBtnClick.bind(this));
		this._clearBtn.addEventListener("click", this._clearAdvanceFilterUI.bind(this));

		this._sortBtns.addEventListener("click", this._onClickSort.bind(this));
		this._filterBtns.addEventListener("click", this._onClickFilter.bind(this));
	}

	/**
	 * @private
	 * @override
	 */
	updated(changedProps) {
		// Update Sort UI
		var isHiddenSortUIChanged = changedProps.has('hiddenSortUI');
		var isHiddenFilterUIChanged = changedProps.has('hiddenFilterUI');
		if (isHiddenSortUIChanged) {
			let pn = this._sortUI.parentNode;
			if (this.hiddenSortUI) {
				if (pn) {
					pn.removeChild(this._sortUI);
				}
			} else {
				if (!pn) {
					// prepend child to _dialogContent
					if (this._dialogContent.firstChild) {
						this._dialogContent.insertBefore(this._sortUI, this._dialogContent.firstChild);
					} else {
						this._dialogContent.appendChild(this._sortUI);
					}
				}
			}
		}

		if (isHiddenFilterUIChanged) {
			// Update Filter UI
			let pn = this._filterUI.parentNode;
			if (this.hiddenFilterUI) {
				if (pn) {
					pn.removeChild(this._filterUI);
				}
				this._dialogContent.classList.add('no-filter-ui');
			} else {
				if (!pn) {
					this._dialogContent.appendChild(this._filterUI);
				}
				this._dialogContent.classList.remove('no-filter-ui');
			}
		}

		if (isHiddenSortUIChanged || isHiddenFilterUIChanged) {
			var isHide = this.hiddenSortUI || this.hiddenFilterUI;
			this._separator.classList.toggle('hide', isHide);
		}

		if (changedProps.has('isShown')) {
			if (this.isShown) {
				this._popup.attachTo(this.target, "bottom"); // This will cause popup to recalculate its position
				this._updateUIState(); // should updateUIState everytime popup being show
			}

			this._popup.show(this.isShown);
		}
	}

	/** Initialize dialog
	 * @public
	 * @param {FilterDialog~Config} options - initial data
	 */
	init(options) {
		this.config = options;
	}

	/** Show the dialog as a popup
	 * @public
	 */
	show() {
		this._popup.appendChild(this); // To force first time initialization

		this._popup.show();
	}

	/** Hide the dialog
	 * @public
	 */
	hide() {
		this._popup.hide();
	}

	/**
	 * @private
	 */
	_onPopupShown() {
		this.isShown = true; // To trigger update
	}
	/**
	 * @private
	 */
	_onPopupHidden() {
		this.isShown = false; // For backward compatability
	}

	/**
	 * @public
	 * @param {string} val Sorting state "d" or "a"
	 */
	setSortState(val) {
		this.sortState = (val) ? val.charAt(0).toLowerCase() : "";
	}

	/** Hide Sort UI block
	 * @public
	 * @param {boolean} val - value
	 */
	hideSortUI(val) {
		this.hiddenSortUI = val;
	}

	/**
	 * @private
	 * @param {*} e
	 */
	_filterData(e) {
		this._dataSelector.filter(e.detail.value);
	}

	/**
	 * @private
	 * @param {*} e
	 */
	_onCondSelectorKeyDown(e) {
		if (e.keyCode == 13) {
			e.stopPropagation();
		}
	}

	/**
	 * Click on sort buttons
	 * @private
	 * @param {object} e - event
	 */
	_onClickSort(e) {
		const tgt = e.target;
		let sortState = "n";

		// TODO: Simplify getting sort state logics
		const children = this._sortBtns.children;
		if (children[0].contains(tgt)) {
			sortState = "a";
		} else if (children[1].contains(tgt)) {
			sortState = "d";
		}
		this.sortState = sortState;

		this.dispatchEvent(new CustomEvent('sortChanged', {
			detail: {
				value: sortState
			}
		}));
		this.hide();
		e.preventDefault();
		e.stopPropagation();
	}

	/**
	 * Click on Filter By Value Condition buttons
	 * @private
	 * @param {object} e - event
	 */
	_onClickFilter(e) {
		const tgt = e.target;
		const children = this._filterBtns.children;
		this.filterMode = (children[1].contains(tgt)) ? "custom" : "text"; // Using setter
		e.preventDefault();
		e.stopPropagation();
		this._updateFilterModeSelectionUI();
	}

	/**
	 * @private
	 * @param {object} e - event
	 */
	_onDoneBtnClick(e) {
		let context;
		if (this._isAdvancedFilterMode()) {
			// Retrieve filter conditions from UI;
			let oper1, oper2, val1, val2, connector;
			var fdt = this.fieldDataType.toLowerCase();
			if (fdt === "datetime") {
				oper1 = this._dateTimeComboBoxes[0].value;
				val1 = this._dateTimePickers[0].value;
				if(val1) {
					val1 = new Date(val1);
				}
				oper2 = this._dateTimeComboBoxes[1].value;
				val2 = this._dateTimePickers[1].value;
				if(val2) {
					val2 = new Date(val2);
				}

				if (this._dateTimeRadioBtns[0].checked) {
					connector = "AND";
				} else if (this._dateTimeRadioBtns[1].checked) {
					connector = "OR";
				}
			} else {
				oper1 = this._generalComboBoxes[0].value;
				val1 = this._generalComboBoxes[1].value;
				oper2 = this._generalComboBoxes[2].value;
				val2 = this._generalComboBoxes[3].value;

				if (this._generalRadioBtns[0].checked) {
					connector = "AND";
				} else if (this._generalRadioBtns[1].checked) {
					connector = "OR";
				}

				if (fdt === 'number') { // fieldDataType number should convert value to Number
					if (val1) {
						val1 = Number(val1);
					}

					if (val2) {
						val2 = Number(val2);
					}
				}
			}

			context = {
				bubbles: false,
				detail: {
					conditions: [
						[oper1, val1, connector],
						[oper2, val2]
					]
				}
			};
		} else {
			context = {
				bubbles: false,
				detail: {
					value: this._dataSelector.getSelectedItems()
				}
			};
		}

		this.dispatchEvent(new CustomEvent('filterChanged', context));
		this.dispatchEvent(new CustomEvent('confirm', context));
		this.hide();
	}

	/**
	 * @private
	 * @param {object} e - event
	 */
	_onCancelBtnClick(e) {
		this.hide();
	}

	/**
	 * @private
	 */
	_clearAdvanceFilterUI() {
		var defaultVal = "";
		var fdt = this.fieldDataType.toLowerCase();
		if (fdt === "datetime") {
			defaultVal = "DT";
			this._clearValue(this._dateTimeComboBoxes[0], defaultVal);
			this._clearValue(this._dateTimeComboBoxes[1]);
			this._dateTimePickers[0].value = "";
			this._dateTimePickers[1].value = "";
			this._dateTimeRadioBtns[0].checked = true;
		} else {
			if(fdt === "number") {
				defaultVal = "GT";
			} else {
				defaultVal = "CONT";
			}
			this._clearValue(this._generalComboBoxes[0], defaultVal);
			this._clearValue(this._generalComboBoxes[1]);
			this._clearValue(this._generalComboBoxes[2]);
			this._clearValue(this._generalComboBoxes[3]);
			this._generalRadioBtns[0].checked = true;
		}
	}
	/**
	 * @private
	 */
	_updateGeneralComboBoxes() {
		if(this._initialized) {
			var filterItems;
			var fdt = this.fieldDataType.toLowerCase();
			if(fdt === "number") {
				filterItems = NUMBER_FILTERS;
			} else if(fdt === "general" || fdt === "text") {
				filterItems = TEXT_FILTERS;
			} else {
				filterItems = DEFAULT_FILTERS;
			}
			var translated = this._translateFilters(filterItems);
			this._generalComboBoxes[0].data = createComboBoxData(translated);
			this._generalComboBoxes[2].data = createComboBoxData(translated);
		}
	}

	/**
	 * Filter is Advanced (By Condition) or Custom (By Value)
	 * @private
	 * @return {boolean}
	 */
	_isAdvancedFilterMode() {
		const ch = this.filterMode ? this.filterMode.charAt(0).toLowerCase() : "";
		// a - Advanced Filter by Condition; c - Custom Filter by Value
		return (ch === "c" || ch === "a");
	}

	/**
	 * @private
	 * @param {Element} elem coral-combo-box element
	 * @param {string} defaultVal=""
	 */
	_clearValue(elem, defaultVal) {
		if(elem.clearSelection) { // clearSelection is deprecated in ELF v4
			elem.clearSelection();
		} else {
			elem.value = defaultVal || "";
		}
	}

	/** to prepare and sync state from config into all UI
	 * @private
	 */
	_updateUIState() {
		this._updateFilterModeSelectionUI();
		this._dataFilter.value = "";
		this._dataSelector.filter('');
		this._updateValueSelector();
		this._updateAdvanceFilterUI();
		this._updateSortButtonUI();
	}

	/**
	 * @private
	 */
	_updateAdvanceFilterUI() {
		// Reset Advance Filter UIs
		this._clearAdvanceFilterUI();

		let userConditions = this.conditions || null;
		if (userConditions && typeof userConditions === "string") {
			try {
				userConditions = JSON.parse(userConditions);
			} catch (err) {
				return;
			}
		}

		// Params is an array
		if (Array.isArray(userConditions)) {
			let conditions = /** @type{Array} */ (userConditions);
			const con1 = conditions[0] || [];
			const con2 = conditions[1] || [];
			const connector = con1[2] || "";
			const isDateTimeField = this.fieldDataType.toLowerCase() === "datetime";
			if (isDateTimeField) {
				if (con1[0]) {
					this._dateTimeComboBoxes[0].value = con1[0];
					this._dateTimePickers[0].value = con1[1] ? this._getDateString(con1[1]) : "";

					if (con2[0]) {
						this._dateTimeComboBoxes[1].value = con2[0];
						this._dateTimePickers[1].value = con2[1] ? this._getDateString(con2[1]) : "";
					}
				}
				this._dateTimeRadioBtns[0].checked = connector !== "OR";
				this._dateTimeRadioBtns[1].checked = connector === "OR";
			} else {
				if (con1[0]) {
					this._generalComboBoxes[0].value = con1[0];
					this._generalComboBoxes[1].value = con1[1] || "";

					if (con2[0]) {
						this._generalComboBoxes[2].value = con2[0];
						this._generalComboBoxes[3].value = con2[1] || "";
					}
				}
				this._generalRadioBtns.checked = connector !== "OR";
				this._generalRadioBtns[1].checked = connector === "OR";
			}
		}
	}

	/**
	 * @private
	 */
	_updateValueSelector() {
		this._dataSelector.data = this.data; // Preserve original referencing

		let data = this.data || [];
		let items = null;
		if (Array.isArray(data)) {
			items = data;
		} else {
			items = Object.keys(data); // TODO: Obsolete this
		}

		// Value selector for Filter by Condition
		this._generalComboBoxes[1].data = items.map(this._toComboBoxItem);
		this._generalComboBoxes[3].data = items.map(this._toComboBoxItem);
	}
	/**
	 * @private
	 * @param {*} obj
	 * @returns {Object}
	 */
	_toComboBoxItem(obj) {
		let itemVal = (typeof obj === "string") ? obj : obj.title || "";
		return {
			"label": itemVal,
			"value": itemVal
		};
	}

	/**
	 * Return date string in format yyyy-MM-dd
	 * @private
	 * @param {Object|string} date
	 * @return {string}
	 */
	_getDateString(date) {
		if (date instanceof Date) {
			return DateTime["b" /* default */].formatDateObject(date, 'yyyy-MM-dd');
		} else {
			var dateObj = new Date(date);
			return DateTime["b" /* default */].formatDateObject(dateObj, 'yyyy-MM-dd');
		}
	}

	/**
	 * @private
	 * @return {Object}
	 */
	_getTranslation() {
		var lang = this._translation[this.lang] ? this.lang : 'en';
		return this._translation[lang];
	}

	/**
	 * @private
	 * @param {Array} filters
	 * @return {Array}
	 */
	_translateFilters(filters) {
		let trans = this._getTranslation();
		var len = filters.length;
		var items = [];
		var item;
		for (var i = 0; i < len; i++) {
			item = filters[i];
			items.push([item[0], trans[item[1]]]);
		}
		return items;
	}

	/**
	 * Set filter Visibilities of layout
	 * @private
	 */
	_updateFilterModeSelectionUI() {
		// Filter By Value - Condition buttons
		const children = this._filterBtns.children;
		const isAdvanceMode = this._isAdvancedFilterMode();
		children[0].active = !isAdvanceMode;
		children[1].active = isAdvanceMode;
		this._valueFilterUI.classList.toggle("hide", isAdvanceMode);
		this._advFilterUI.classList.toggle("hide", !isAdvanceMode);
		this._clearBtn.classList.toggle("hide", !isAdvanceMode);

		const isDateTimeField = this.fieldDataType.toLowerCase() === "datetime";
		this._generalCondUI.classList.toggle("hide", isDateTimeField);
		this._dateTimeCondUI.classList.toggle("hide", !isDateTimeField);
	}

	/**
	 * to update state of sort button
	 * @private
	 */
	_updateSortButtonUI() {
		const sortState = this.sortState;
		const children = this._sortBtns.children;
		children[0].active = sortState === "a";
		children[1].active = sortState === "d";
	}
}

Object(lib_elf["i" /* customElement */])('filter-dialog')(filter_dialog_FilterDialog);


/* harmony default export */ var filter_dialog = (filter_dialog_FilterDialog);

// EXTERNAL MODULE: ./node_modules/@grid/filter-dialog/themes/solar/pearl/imports/native-elements.js
var pearl_imports_native_elements = __webpack_require__(48);

// CONCATENATED MODULE: ./node_modules/@grid/filter-dialog/themes/solar/pearl/checkbox-list.js



elf.customStyles.define('checkbox-list', ':host{display:block;scrollbar-face-color:#8a8a96;scrollbar-shadow-color:#8a8a96;scrollbar-highlight-color:#8a8a96;scrollbar-arrow-color:#8a8a96;scrollbar-track-color:#fff;scrollbar-3dlight-color:#fff;scrollbar-darkshadow-color:#fff;scrollbar-color:#8a8a96 #fff}:host .hidden{display:none}:host .select-btn{margin-top:0;margin-bottom:0;border-bottom:none}:host #container{border:1px solid #a9afba;overflow-y:auto;height:100%;max-height:192px}:host .item-container{display:flex;width:100%;align-items:center}:host .item-label{margin-left:7px;min-width:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}::-webkit-scrollbar{width:13px;height:13px}::-webkit-scrollbar-button{background:0 0/1px 2px no-repeat #fff;height:12px;width:12px;display:block}::-webkit-scrollbar-thumb{background:#8a8a96;border-radius:7px;border:2px solid #fff}::-webkit-scrollbar-thumb:hover{background:#a9afba}::-webkit-scrollbar-thumb:active{background:#ee7600}::-webkit-scrollbar-track{background:#fff}::-webkit-scrollbar-corner{background:#fff}::-webkit-scrollbar-button:end:decrement,::-webkit-scrollbar-button:start:increment{display:none}::-webkit-scrollbar-button:horizontal{background-size:2px 1px}::-webkit-scrollbar-button:vertical:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 6.5px,9px 5.5px,8px 4.5px,7px 3.5px,6px 2.5px,5px 3.5px,4px 4.5px,3px 5.5px,2px 6.5px}::-webkit-scrollbar-button:vertical:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:vertical:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:10px 3.5px,9px 4.5px,8px 5.5px,7px 6.5px,6px 7.5px,5px 6.5px,4px 5.5px,3px 4.5px,2px 3.5px}::-webkit-scrollbar-button:horizontal:start:decrement{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:start:decrement:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:6.5px 10px,5.5px 9px,4.5px 8px,3.5px 7px,2.5px 6px,3.5px 5px,4.5px 4px,5.5px 3px,6.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment{background-image:linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96),linear-gradient(#8a8a96,#8a8a96);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:hover{background-image:linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba),linear-gradient(#a9afba,#a9afba);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}::-webkit-scrollbar-button:horizontal:end:increment:active{background-image:linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600),linear-gradient(#ee7600,#ee7600);background-position:3.5px 10px,4.5px 9px,5.5px 8px,6.5px 7px,7.5px 6px,6.5px 5px,5.5px 4px,4.5px 3px,3.5px 2px}');

// CONCATENATED MODULE: ./node_modules/@grid/filter-dialog/themes/solar/pearl/filter-dialog.js




elf.customStyles.define('filter-dialog', ':host{display:block}:host *{margin-bottom:0;margin-top:0}:host coral-panel{box-shadow:0 0 10px rgba(0,0,0,.5);padding-top:17px;padding-bottom:31px;display:block}:host label{line-height:18px;font-size:12px}:host hr{border-top:1px solid;margin-top:9px;margin-bottom:6px}:host coral-radio-button{height:18px}:host #filterCoralSplitBtn,:host coral-combo-box,:host coral-input,:host coral-search-field,:host emerald-datetime-picker{width:100%}:host coral-radio-group{text-align:center}:host #filterAdvancedUI,:host #filterValueUI{margin-top:19px}:host #filterValueUI>*+*{margin-top:19px}:host #filterDialogContent{width:243px}:host .group-block>*+*{margin-top:4px}:host .group-block label{display:block}:host .input-group coral-combo-box+coral-combo-box,:host .input-group coral-combo-box+emerald-datetime-picker{margin-top:19px}:host .input-group coral-radio-button+coral-radio-button{margin-left:6px}:host .input-group coral-combo-box+div.radio-group,:host .input-group emerald-datetime-picker+div.radio-group{margin-top:13px}:host .input-group div.radio-group+coral-combo-box{margin-top:16px}:host .cancel-ok{text-align:right;margin-top:31px}:host .cancel-ok #cancel_btn{margin-left:12px}:host .cancel-ok #clear_btn{float:left}:host .hide{display:none}#filterDialogContent.no-filter-ui{width:119px}');

// EXTERNAL MODULE: ./node_modules/tr-grid-util/es6/ElfUtil.js + 1 modules
var ElfUtil = __webpack_require__(11);

// CONCATENATED MODULE: ./node_modules/@grid/popup-menu/lib/menu-item.js




class menu_item_MenuItem extends lib_elf["a" /* BasicElement */] {

	static get properties() {
		return {
			config: { type: Object },
			icon: { type: String },
			noIconSpace: { type: Boolean },
			group: { type: String, reflect: true },
			radioMode: { type: Boolean, reflect: true },
			indexScore: { type: Number },
			label: { type: String },
			shortcutKey: { type: String },
			disabled: { type: Boolean, reflect: true },
			checkbox: { type: Boolean, reflect: true },
			checked: { type: Boolean, reflect: true },
			selected: { type: Boolean, reflect: true },
			highlighted: { type: Boolean, reflect: true },
			value: { attribute: false },
			click: { type: Function },
			subMenu: { type: Boolean }
		};
	}

	set checked(isChecked) {
		this._checked = isChecked;
	}

	get checked() {
		var checkbox = this._getCheckbox();
		if (!checkbox) return false;

		return checkbox.checked;
	}

	constructor() {
		super();

		this.resetToDefaults();
	}

	resetToDefaults() {
		this.icon = '';
		this.label = '';
		this.shortcutKey = '';
		this.group = '';
		this.noIconSpace = false;
		this.disabled = false;
		this.checkbox = false;
		this.checked = false;
		this.selected = false;
		this.subMenu = false;
		this.radioMode = false;
		this.highlighted = false;
		this.indexScore = 0; // 100, 101, 102, etc. (used for internal sorting)
		this.click = null;
		this.value = null;
	}

	update(changedProperties) {
		// eslint-disable-next-line no-undefined
		if (changedProperties.has('config') && this.config !== undefined) {
			var config = this.config;
			this.resetToDefaults();

			if (config) {
				// string
				if (config.icon) this.icon = config.icon;
				if (config.label) this.label = config.label;
				if (config.shortcutKey) this.shortcutKey = config.shortcutKey;
				if (config.group) this.group = config.group;

				// boolean
				if (config.noIconSpace != null) this.noIconSpace = !!config.noIconSpace;
				if (config.disabled != null) this.disabled = !!config.disabled;
				if (config.checkbox != null) this.checkbox = !!config.checkbox;
				if (config.checked != null) this.checked = !!config.checked;
				if (config.selected != null) this.selected = !!config.selected;
				if (config.radioMode != null) this.radioMode = !!config.radioMode;
				if (config.highlighted != null) this.highlighted = !!config.highlighted;
				// type boolean but allow null to set
				// eslint-disable-next-line
				if (config.subMenu !== undefined) this.subMenu = !!config.subMenu;

				// number
				if (!isNaN(this.indexScore)) this.indexScore = parseInt(config.indexScore, 10);

				// event
				if (config.click) this.click = config.click;
				// any assign value
				// eslint-disable-next-line
				if (config.value !== undefined) this.value = config.value;
			}
		}

		super.update(changedProperties);
	}

	render() {
		var icon; // leave icon undefiend if this.noIconSpace = true
		if (!this.noIconSpace) {
			icon = this.icon;
			if (this.radioMode) {
				// in radio mode
				// we will show icon only if item selected
				// if no icon assign then use tick
				if (this.selected) {
					icon = this.icon.length ? this.icon : 'tick';
				} else {
					icon = '';
				}
			}
		}

		// if no content in right side of item then we should not render element
		var renderShortcut = this.shortcutKey.length;
		// if has shortcutKey, should always render icon to maintain layout
		var renderRight = this.shortcutKey.length || this.subMenu;

		var label = this.label;
		// uncomment to make first letter upper case
		// if (label.length) label = label.charAt(0).toUpperCase() + label.slice(1)


		return lib_elf["k" /* html */]`
		<coral-item
			id="item"
			label="${label}"
			?disabled="${this.disabled}"
			?selected="${this.selected}"
			.value="${this.value}"
			group="${this.group}"
			.icon="${icon}"
			?highlighted="${this.highlighted}"
		>
			${this.checkbox ? lib_elf["k" /* html */]`<coral-checkbox id="checkbox" ?checked="${this._checked}">${label}</coral-checkbox>` : ''}
			${renderShortcut ? lib_elf["k" /* html */]`<div slot="right" style="text-overflow: ellipsis; overflow: hidden; white-space: nowrap;">${this.shortcutKey}</div>` : ''}
			${renderRight ? lib_elf["k" /* html */]`<coral-icon icon="${this.subMenu ? 'right' : ''}" slot="right"/>` : ''}
		</coral-item>`;

		//TODO: make shortcut disappear when coral-item width is less than 150px or else.
	}

	updated(changedProperties) {
		if (changedProperties.has('click')) {
			var oldClick = changedProperties.get('click');
			if (oldClick) this.removeEventListener('click', oldClick); // remove old click event
			if (this.click) this.addEventListener('click', this.click); // add new click event
		}
	}

	/**
	* @private
	* @function
	* @return {HTMLElement}
	*/
	_getCheckbox() {
		return this.renderRoot.querySelector('#checkbox');
	}

	static get is() {
		return 'menu-item';
	}
}

Object(lib_elf["i" /* customElement */])('menu-item', { theme: true })(menu_item_MenuItem);

// CONCATENATED MODULE: ./node_modules/@grid/popup-menu/lib/menu-list.js









class menu_list_MenuList extends lib_elf["a" /* BasicElement */] {

	static get properties() {
		return {
			id: { type: String },
			icon: { type: String },
			// tooltip: {type: String},
			menuItems: { type: Array },
			groups: { type: Array },
			config: { type: Object }
		};
	}

	static get is() {
		return "menu-list";
	}

	constructor() {
		super();
		this._divider = Dom["b" /* default */].create("coral-item");
		this._divider.setAttribute("type", "divider");
		this._onMouseOverMenuItem = this._onMouseOverMenuItem.bind(this);
		this._onPopupHidden = this._onPopupHidden.bind(this);
		this._popup = null;
		this._menuItemEls = [];
		this.resetToDefaults();
	}

	resetToDefaults() {
		this.groups = [];
		this.menuItems = [];
	}

	update(changedProperties) {
		// eslint-disable-next-line no-undefined
		if (changedProperties.has("config") && this.config !== undefined) {
			var config = this.config;
			this.resetToDefaults();
			if (config) {
				if (config.groups) this.groups = config.groups;
				if (config.menuItems) this.menuItems = config.menuItems;
			}
		}

		super.update(changedProperties);
	}

	render() {
		return lib_elf["k" /* html */]`<coral-panel id="menu_container"></coral-panel>`;
	}

	// element referer
	_getContainer() {
		return this.renderRoot.querySelector('#menu_container');
	}

	firstUpdated() {
		this.addEventListener('click', this._onMenuClicked, true);
	}

	updated(changedProperties) {
		var container = this._getContainer();

		// clearing
		Dom["b" /* default */].removeChildren(container);
		this._menuItemEls = [];

		// grouping
		var groups = this.groups.slice();
		var groupedItems = {};
		var len = this.menuItems.length;
		var item, i, groupId;
		for (i = 0; i < len; i++) {
			item = this.menuItems[i];
			groupId = item.group || "NO_GROUP";
			if (groups.indexOf(groupId) < 0 && groupId !== "NO_GROUP") {
				groups.push(groupId);
			}
			if (!groupedItems[groupId]) {
				groupedItems[groupId] = [];
			}
			groupedItems[groupId].push(item);
		}
		// "NO_GROUP" must be last element
		groups.push("NO_GROUP");

		// filter empty group out
		var filteredGroups = [];
		var count = groups.length;
		for (i = 0; i < count; i++) {
			groupId = groups[i];
			if (groupedItems[groupId]) {
				filteredGroups.push(groupId);
			}
		}

		// sorting and rendering
		var members, el;
		var divider = this._divider;
		count = filteredGroups.length;
		for (i = 0; i < count; i++) {
			if (i > 0) {
				Dom["b" /* default */].appendChild(container, divider.cloneNode(true));
			}

			groupId = filteredGroups[i];
			members = groupedItems[groupId];
			var memberCount = members.length;
			members.sort(this._compareNumbers);
			for (var j = 0; j < memberCount; j++) {
				el = this._createMenuItem(members[j]);
				Dom["b" /* default */].appendChild(container, el);
				this._menuItemEls.push(el);
			}
		}
	}

	/**
	 * @public
	 * @function
	 * @param {HTMLElement} menuItemEl element where popup is attach to
	 * @returns {Popup}
	 */
	activatePopup(menuItemEl) {
		if (!this._popup) {
			this._popup = new es6_Popup(this);
			this._popup.init({
				autoHiding: false,
				hoverToShow: true
			});
			this.setAttribute('with-border', '');
			this.setAttribute('with-shadow', '');
		}
		this._popup.attachTo(menuItemEl, "right");
		this._popup.addEventListener("hidden", this._onPopupHidden);
		return this._popup;
	}

	/**
	 * @public
	 * @function
	 */
	show() {
		this._popup && this._popup.show();
	}

	/**
	 * @public
	 * @function
	 */
	hide() {
		this._popup && this._popup.hide();
	}

	/**
	 * @public to check menu/sub menu is member of the path
	 * @function
	 * @param {Array<HTMLElement>} path path from composedPath function
	 * @returns {boolean}
	 */
	checkContains(path) {
		if (path.indexOf(this) >= 0 ||
			(this._showingSubMenu && this._showingSubMenu.checkContains(path))
		) {
			return true;
		}
		return false;
	}

	/**
	 * @public
	 * @function
	 * @param {Popup} popup parent popup
	 */
	setParentPopup(popup) {
		this._popup = popup;
	}

	unhighlightAll() {
		// clear highlighted state
		var menuItemEls = this._menuItemEls;
		var len = menuItemEls.length;
		for (var i = 0; i < len; i++) {
			menuItemEls[i].highlighted = false;
		}
	}

	/**
	 * @private transform config into menu-item and sub menu element
	 * @function
	 * @param {Object} itemInfo config of menu-item
	 * @returns {Element}
	 */
	_createMenuItem(itemInfo) {
		var el = Dom["b" /* default */].create("menu-item");
		if (itemInfo.radioMode && (!itemInfo.group || itemInfo.group.length === 0)) {
			itemInfo.group = "NO_GROUP";
		}
		el.config = itemInfo;

		if (itemInfo.subMenu) {
			var subMenuEl = el._subMenuEl = Dom["b" /* default */].create("menu-list");
			subMenuEl.config = itemInfo.subMenu;
			subMenuEl.classList.add("child-popup");
			var gap = ElfUtil["b" /* default */].getCssVariable("--popup-gap", this) || 0;
			if (gap) {
				gap = parseInt(gap, 10);
			}
			var subMenuPopup = subMenuEl.activatePopup(el);
			subMenuPopup.setPopupGap(gap);
			if (this._popup) {
				this._popup.addPopupChild(subMenuPopup);
			}
		}

		if (itemInfo.radioMode) {
			el.addEventListener("click", this._onClickRadioMember);
		}

		el.addEventListener("mouseover", this._onMouseOverMenuItem);
		return el;
	}

	/**
	 * @private
	 * @function
	 * @param {Event} e click event
	 */
	_onMouseOverMenuItem(e) {
		this.unhighlightAll();
		var el = e.currentTarget;
		el.highlighted = true;
		if (this._showingSubMenu === el._subMenuEl) {
			return;
		} else if (this._showingSubMenu) {
			this._showingSubMenu.hide();
			this._showingSubMenu = null;
		}

		if (el._subMenuEl) {
			this._showingSubMenu = el._subMenuEl;
		}
	}

	/**
	 * @private
	 * @function
	 * @param {Event} e
	 */
	_onPopupHidden(e) {
		this.unhighlightAll();
	}

	/**
	 * @private handle menu item clicked in radio mode
	 * @function
	 * @param {Event} e click event
	 */
	_onClickRadioMember(e) {
		var el = e.currentTarget;
		if (el.selected) {
			return;
		}
		var group = el.group;
		if (group.length) {
			var parent = el.parentElement;
			var selectedEl = parent.querySelector(`menu-item[group=${group}][radioMode][selected]`);
			if (selectedEl) {
				selectedEl.selected = false;
			}
		}
		el.selected = true;
	}

	/**
	 * @private
	 * @function
	 * @param {number} a compare value on left side
	 * @param {number} b compare value on right side
	 * @return {boolean}
	 */
	_compareNumbers(a, b) {
		return (b.indexScore || 0) - (a.indexScore || 0);
	}
}

Object(lib_elf["i" /* customElement */])("menu-list", { theme: true })(menu_list_MenuList); // theme: true if we have a theme

// CONCATENATED MODULE: ./node_modules/@grid/popup-menu/lib/popup-menu.js








class popup_menu_PopupMenu extends lib_elf["a" /* BasicElement */] {

	static get properties() {
		return {
			config: { type: Object },
			menus: { type: Array },
			activeMenu: { type: String }
		};
	}

	static get is() {
		return 'popup-menu';
	}

	constructor() {
		super();
		this._onDocumentBodyClicked = this._onDocumentBodyClicked.bind(this);
		this._onPopupHidden = this._onPopupHidden.bind(this);
		this._popup = new es6_Popup();
		this._popup.init({
			autoHiding: false
		});
		this._popup.addEventListener("hidden", this._onPopupHidden);
		this._menuElemDict = {};
		this._activeMenuElem = null;
		this.resetToDefaults();
	}

	resetToDefaults() {
		this.activeMenu = 0;
		this.menus = [];
	}

	update(changedProperties) {
		// eslint-disable-next-line no-undefined
		if (changedProperties.has('config') && this.config !== undefined) {
			var config = this.config;
			this.resetToDefaults();
			if (config) {
				if (config.activeMenu) this.activeMenu = config.activeMenu;
				if (config.menus) this.menus = config.menus;
			}
		}

		if (changedProperties.has('menus')) {
			this._menuElemDict = {};
			// create menus element
			var count = this.menus.length;
			for (let i = 0; i < count; i++) {
				var menu = this.menus[i];
				if (!menu.id) {
					menu.id = 'g-' + i;
				}

				// TODO: Support rendering of other types of menu
				var elem = Dom["b" /* default */].create("menu-list");
				elem.config = menu;
				elem.setParentPopup(this._popup);
				this._menuElemDict[menu.id] = elem;
			}
		}

		if (changedProperties.has('activeMenu') || changedProperties.has('menus')) {
			this._activeMenuElem = this._getActiveMenuElement();
		}

		super.update(changedProperties);
	}

	render() {
		var showTab = this.menus.length > 1;

		return lib_elf["k" /* html */]`
			${showTab ? lib_elf["k" /* html */]`
				<coral-tab-bar level="3">
				${this.menus.map(menu => lib_elf["k" /* html */]`
					<coral-tab
					?active="${menu.id == this.activeMenu}"
					@focus="${this._onTabFocus}"
					menuId="${menu.id}"
					>
					<coral-icon icon="${menu.icon}"></coral-icon>
					</coral-tab>`
	)}
				</coral-tab-bar>
				<coral-item type="divider"></coral-item>`
		: ''}

			<div>${this._activeMenuElem || ''}</div>
		`;
	}

	updated(changedProperties) {
		super.updated(changedProperties);
	}

	/**
	* @public
	* @function
	* @param {HTMLElement} attachTo
	* @param {string} position
	* @param {HTMLElement} parentElement
	*/
	show(attachTo, position, parentElement) {
		this._popup.attachTo(attachTo, position);
		this._popup.getElement().appendChild(this);
		this._popup.show(true, parentElement);

		window.addEventListener("mousedown", this._onDocumentBodyClicked, true);
		window.addEventListener("touchstart", this._onDocumentBodyClicked, true);
	}

	/**
	* @public
	* @function
	*/
	hide() {
		this._popup.hide();

		window.removeEventListener("mousedown", this._onDocumentBodyClicked, true);
		window.removeEventListener("touchstart", this._onDocumentBodyClicked, true);
	}

	/**
	* @private
	* @function
	* @return {HTMLElement} active menu
	*/
	_getActiveMenuElement() {
		var content;
		if (typeof this.activeMenu === 'string') { // case id
			content = this._menuElemDict[this.activeMenu];
		} else if (typeof this.activeMenu === 'number') { // case index
			var menu = this.menus[this.activeMenu];
			if (menu) content = this._menuElemDict[menu.id];
		}
		return content;
	}

	/**
	* @private handle tab switching
	* @function
	* @param {Event} e focus event
	*/
	_onTabFocus(e) {
		this.activeMenu = e.currentTarget.getAttribute('menuId');
	}

	/**
	* @private to handle auto hiding
	* @function
	* @param {Event} e click event
	*/
	_onDocumentBodyClicked(e) {
		if (this._popup.contains(e.composedPath()) || this._activeMenuElem.checkContains(e.composedPath())) {
			return;
		}

		this.hide();
	}

	_onPopupHidden(e) {
		var menuList = this._getActiveMenuElement();
		menuList.unhighlightAll();
	}
}

Object(lib_elf["i" /* customElement */])('popup-menu', { theme: true })(popup_menu_PopupMenu);

// EXTERNAL MODULE: ./node_modules/@grid/popup-menu/themes/solar/pearl/imports/native-elements.js
var solar_pearl_imports_native_elements = __webpack_require__(39);

// CONCATENATED MODULE: ./node_modules/@grid/popup-menu/themes/solar/pearl/menu-list.js



elf.customStyles.define('menu-list', ':host{color:#484848;display:block;outline:0;box-sizing:border-box;-moz-box-sizing:border-box;overflow:hidden;margin:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#fafbfc}:host([with-shadow]){box-shadow:0 0 8px 0 rgba(0,0,0,.3)}:host coral-panel{background:0 0}:host([with-border]){border:none}');

// CONCATENATED MODULE: ./node_modules/@grid/popup-menu/themes/solar/pearl/menu-item.js



elf.customStyles.define('menu-item', ':host{display:block;margin:0;white-space:nowrap;cursor:pointer}:host([disabled]){pointer-events:none}:host coral-item{padding:3px 8px}:host coral-item coral-checkbox{width:100%}:host coral-item coral-checkbox::part(label){cursor:pointer}:host coral-item[focused] coral-checkbox,:host coral-item[highlighted] coral-checkbox{color:inherit}');

// CONCATENATED MODULE: ./node_modules/@grid/popup-menu/themes/solar/pearl/popup-menu.js





elf.customStyles.define('popup-menu', ':host{color:#484848;box-shadow:0 0 8px 0 rgba(0,0,0,.3);display:block;outline:0;box-sizing:border-box;-moz-box-sizing:border-box;overflow:hidden;margin:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid #f93;background-color:#fafbfc;border:none}:host coral-tab-bar::part(content){width:100%}:host coral-item[type=divider]{height:2px}:host coral-tab{flex-grow:1}');

// CONCATENATED MODULE: ./es6/components-solar-pearl.js



































































































/***/ })
/******/ ]);