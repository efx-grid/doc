!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return extendObject})),__webpack_require__.d(__webpack_exports__,"c",(function(){return parseCondition})),__webpack_require__.d(__webpack_exports__,"b",(function(){return nestedObjectToArray})),__webpack_require__.d(__webpack_exports__,"d",(function(){return rgb2Hex}));var Util={post:function(e,t){return Util._post(e,t).then(Util.toJSON)},requestText:function(e,t){return Util._post(e,t,"text/plain").then(Util.toText)},requestByUrlEncoded:function(e,t){return Util._post(e,t,"application/x-www-form-urlencoded").then(Util.toJSON)},toJSON:function(e){return Util._logError(e)?Promise.reject(e):e.json()},toText:function(e){return Util._logError(e)?Promise.reject(e):e.text()},_logError:function(e){return!!(e&&e.status>=300)&&(console.log("Response "+e.status+": "+e.statusText),!0)},_post:function(e,t,r){var n={method:t?"POST":"GET",headers:{"Content-Type":r||"application/json"}};return t&&(n.body="string"==typeof t?t:JSON.stringify(t)),fetch(e,n)}},extendObject=function(e,t,r){if(!e)return null;if(!t||e===t)return e;var n;if(r)for(var o=r.length,i=0;i<o;++i)(n=r[i])&&extendProperty(e,t,n);else for(n in t)extendProperty(e,t,n);return e},cloneObject=function(e,t){return extendObject({},e,t)},arrayToObject=function(e,t){if(!Array.isArray(e))return e;if(!t)return null;var r=e;e={};for(var n=r.length,o=0;o<n;++o){var i=t[o];i&&void 0!==r[o]&&(e[i]=r[o])}return e},extendProperty=function(e,t,r){var n=t[r];if(null!=n){var o=e[r];Array.isArray(o)?e[r]=o.concat(n):Array.isArray(n)&&o?e[r]=n.concat(o):e[r]=n}},extendArrayProperty=function(e,t,r){var n=null;if(r){var o=e[t];n=o?Array.isArray(o)?o:e[t]=[o]:e[t]=[],Array.isArray(r)?r.length&&(r.length>1?Array.prototype.push.apply(n,r):n.push(r[0])):n.push(r)}return n},_bracketExp=new RegExp(/\[[^\[]*\]/g),parseCondition=function(expression){if(!expression)return null;if("string"!=typeof expression)return"function"==typeof expression?expression:null;for(var brackets=expression.match(_bracketExp),map={},fields=[],len=brackets?brackets.length:0,i=len;--i>=0;){var field=brackets[i];map[field]||(map[field]="f["+fields.length+"]",fields.push(field.substring(1,field.length-1)))}expression=expression.replace(_bracketExp,(function(e){return"rowData["+map[e]+"]"}));var finalExp="(function(f, rowData) { return ("+expression+"); })",fn=null;try{fn=eval(finalExp),fn=fn.bind(null,fields)}catch(e){console.log(e.message)}return fn||null},_encloseBracket=function(e){return Array.isArray(e)?"{\n"+e.join("\n")+"\n}":e},_indentBracketContent=function(e){return e.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},prettifyCss=function(e){if(e){var t="";if(Array.isArray(e))t=e.map(_encloseBracket).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {");else t="string"==typeof e?e:e+"";if(t)return t.replace(/{[\w\W]*?}/g,_indentBracketContent)}return""},getShadowRoot=function(e){var t;if(e&&(e.shadowRoot?t=e.shadowRoot:e.getRootNode&&(t=e.getRootNode()),t&&t!==document&&t!==e))return t;return null},injectCss=function(e,t){if(!e)return null;var r=document.createElement("style");r.textContent="\n"+e+"\n";var n,o=getShadowRoot(t),i=!0;return o||(i=!1,o=document.head),i&&o.children&&o.children.length&&(n=o.children[0]),n?o.insertBefore(r,n):o.appendChild(r),r},isIE=function(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0},isMac=function(){return/Mac/.test(navigator.platform)},isTouchDevice=function(){return!!(navigator.maxTouchPoints&&navigator.maxTouchPoints<256||navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints<256)},nestedObjectToArray=function(e,t){for(var r in t||(t=[]),e){var n=e[r];"object"==typeof n?nestedObjectToArray(n,t):t.push(n)}return t},rgb2Hex=function(e){if(!e||"string"!=typeof e)return"";if("#"===e.charAt(0))return e;var t=e.match(/\d+/g);if(!t||t.length<3)return e;for(var r="#",n=0;n<3;n++){var o=+t[n];o>=16||(r+="0"),r+=o?o.toString(16).toUpperCase():"0"}return r},prepareTSVContent=function(e){if(null==e)return"";var t="string"==typeof e?e:e.toString();return t.length?(t.indexOf("\n")>=0&&(t=t.replace(/[\r\n]/g," ")),t.indexOf("\t")>=0&&(t=t.replace(/\t/g," "))," "!==t.charAt(0)&&" "!==t.charAt(t.length-1)||(t=t.trim()),t):""},_unused_webpack_default_export=Util},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FilterBuilder}));var _Util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_DateTime_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),FilterBuilder=function(e){this._initStaticVariables(),this._conditions=[],this.init(e)};FilterBuilder.prototype._initStaticVariables=function(){if(!this._opDefs){FilterBuilder._updateTimezoneOffset();var e,t,r=864e5-new Date%864e5;setTimeout(FilterBuilder._setUpdateInterval,r),FilterBuilder.prototype._opDefs=this._opDefs=t={},t.TXTEQ=t.EQ=e={},e.type="string",e.positive=1,e.caseSensitive=1,e.formula="str == input",t.NEQ=e={},e.type="string",e.positive=0,e.caseSensitive=1,e.formula="str != input",t.NUMEQ=e={},e.type="number",e.positive=1,e.caseSensitive=1,e.formula="val == input",t.NUMNEQ=e={},e.type="number",e.positive=0,e.caseSensitive=1,e.formula="val != input",t.GT=e={},e.type="number",e.positive=1,e.caseSensitive=1,e.formula="val > input",t.GTE=e={},e.type="number",e.positive=1,e.caseSensitive=1,e.formula="val >= input",t.LT=e={},e.type="number",e.positive=1,e.caseSensitive=1,e.formula="val < input",t.LTE=e={},e.type="number",e.positive=1,e.caseSensitive=1,e.formula="val <= input",t.BEGIN=e={},e.type="string",e.positive=1,e.caseSensitive=0,e.formula="str.indexOf(input) === 0",t.NBEGIN=e={},e.type="string",e.positive=0,e.caseSensitive=0,e.formula="str.indexOf(input) !== 0",t.END=e={},e.type="string",e.positive=1,e.caseSensitive=0,e.formula="(str.length >= input.length) && str.lastIndexOf(input) === (str.length - input.length)",t.NEND=e={},e.type="string",e.positive=0,e.caseSensitive=0,e.formula="(str.length < input.length) || str.lastIndexOf(input) !== (str.length - input.length)",t.CONT=e={},e.type="string",e.positive=1,e.caseSensitive=0,e.formula="str.indexOf(input) >= 0",t.NCONT=e={},e.type="string",e.positive=0,e.caseSensitive=0,e.formula="str.indexOf(input) < 0",t.BLANK=t.EQ_BLANK=e={},e.type="blank",e.positive=1,e.caseSensitive=1,e.formula="!val && val !== 0",t.NBLANK=t.EQ_NBLANK=e={},e.type="blank",e.positive=1,e.caseSensitive=1,e.formula="(val || val === 0) ? true : false",t.DT=e={},e.type="date",e.positive=1,e.caseSensitive=1,e.formula="Math.floor(ts / 86400000) === Math.floor(input / 86400000)",t.DTA=e={},e.type="date",e.positive=1,e.caseSensitive=1,e.formula="Math.floor(ts / 86400000) > Math.floor(input / 86400000)",t.DTB=e={},e.type="date",e.positive=1,e.caseSensitive=1,e.formula="Math.floor(ts / 86400000) < Math.floor(input / 86400000)"}},FilterBuilder.prototype._opDefs=null,FilterBuilder.prototype._fieldName="",FilterBuilder.prototype._formattedFieldName="",FilterBuilder.prototype._formatter=null,FilterBuilder.prototype._conditions=null,FilterBuilder._timezoneOffset=0,FilterBuilder._updateTimezoneOffset=function(){FilterBuilder._timezoneOffset=60*(new Date).getTimezoneOffset()},FilterBuilder._setUpdateInterval=function(){FilterBuilder._updateTimezoneOffset(),setInterval(FilterBuilder._updateTimezoneOffset,864e5)},FilterBuilder.prototype.reset=function(){this.setFieldDefinition("")},FilterBuilder.prototype.init=function(e){if(e){var t=e.field;t&&this.setFieldDefinition(t,e.formatter,e.formattedField)}},FilterBuilder.prototype.setFieldDefinition=function(e,t,r){this._fieldName=e,this._formattedFieldName=r||e+"_FORMATTED",this._formatter=t||null,this._conditions.length=0},FilterBuilder.prototype.addCondition=function(e,t,r){e=e?e.toUpperCase():"";var n=this._opDefs[e];if(n){if("{}"===t||"{*}"===t)e=n.positive^"{}"===t?"EQ_NBLANK":"EQ_BLANK";else if(!t&&0!==t)return;r=r&&"OR"===r.toUpperCase()?"||":"&&";var o={};o.oper=e,o.value=t,o.connector=r,o.definition=this._opDefs[e],this._conditions.push(o)}},FilterBuilder.prototype.buildFilter=function(){if(!this._fieldName)return null;var len=this._conditions.length,i,opDef;if(!len)return null;var hasTextOp=0,hasCaseInsensitiveOp=0,hasNumberOp=0,hasDateOp=0;for(i=0;i<len;i++)opDef=this._conditions[i].definition,"string"===opDef.type&&++hasTextOp,"number"===opDef.type&&++hasNumberOp,"date"===opDef.type&&++hasDateOp,opDef.caseSensitive||++hasCaseInsensitiveOp;var fieldName=this._fieldName,fmtFieldName=this._formattedFieldName,contextObj=null,filterStr=["var val = rowData['"+FilterBuilder._escapeQuotes(fieldName)+"'];"];hasTextOp||hasNumberOp?(filterStr.push("if(!val && val !== 0) { val = NaN; }"),hasTextOp&&(this._formatter?(contextObj={},contextObj.format=this._formatter,filterStr.push("var str = this.format(rowData);")):fmtFieldName!==fieldName?(filterStr.push("var str = rowData['"+FilterBuilder._escapeQuotes(fmtFieldName)+"'];"),filterStr.push("if(!str && str !== 0) {"),filterStr.push("  str = (!val && val !== 0) ? '' : val + '';"),filterStr.push("}")):filterStr.push("var str = (!val && val !== 0) ? '' : val + '';"),hasCaseInsensitiveOp&&filterStr.push("if(str) { str = str.toLowerCase(); };")),hasNumberOp&&-1!==fieldName.indexOf("FREE_TEXT")&&filterStr.push("val = !isNaN(Number(val)) ? Number(val) : val;")):hasDateOp&&(filterStr.push("var ts = 0;"),filterStr.push("if(!val || val != val || !val.getTime) {"),filterStr.push("  return false;"),filterStr.push("} else {"),filterStr.push("  ts = val.getTime();"),filterStr.push("  if(ts !== ts) {"),filterStr.push("    return false;"),filterStr.push("  }"),filterStr.push("}"));var condStr=[];for(i=0;i<len;i++){i>0&&condStr.push(this._conditions[i-1].connector);var cond=this._conditions[i];if(opDef=cond.definition,"blank"!==opDef.type){var inputVal=cond.value;if("string"===opDef.type){if(this._formatter&&"string"!=typeof inputVal){var dummyRow={};dummyRow[fieldName]=inputVal,dummyRow[fmtFieldName]=inputVal,inputVal=this._formatter(dummyRow)}else inputVal=FilterBuilder._toText(inputVal);!opDef.caseSensitive&&inputVal&&(inputVal=inputVal.toLowerCase())}else if(inputVal||0===inputVal){if("number"===opDef.type)inputVal=parseFloat(inputVal);else if("date"===opDef.type){var varName;if(contextObj||(contextObj={}),_DateTime_js__WEBPACK_IMPORTED_MODULE_1__.a.isValidDate(inputVal))"DT"===cond.oper?(varName="ts"+(i+1),inputVal=inputVal.getTime()):varName="date"+(i+1),contextObj[varName]=inputVal,inputVal="this."+varName;else inputVal=NaN}}else inputVal=NaN;"string"!=typeof inputVal||hasDateOp||(inputVal="'"+FilterBuilder._escapeQuotes(inputVal)+"'"),condStr.push("("+cond.definition.formula.replace(/input/g,inputVal)+")")}else condStr.push("("+cond.definition.formula+")")}filterStr.push("return "+condStr.join(" ")+";"),filterStr=filterStr.join("\n");var func=null;try{func=eval("(function(rowData) {\n"+filterStr+"\n})"),contextObj&&(func=func.bind(contextObj))}catch(e){}return this._conditions.length=0,func},FilterBuilder.prototype.buildMonitorFilter=function(e,t,r,n){this.setFieldDefinition(t,r,n);for(var o=t.lastIndexOf("_LOCAL")===t.length-6,i=e.split("♣"),l=0;l<i.length;l++){var a=i[l].split("♦");o&&(a[1]=(a[1]-FilterBuilder._timezoneOffset)%86400+""),this.addCondition(a[0],a[1],a[2])}return this.buildFilter()},FilterBuilder.prototype.parse=function(e,t,r,n){var o=typeof e;if("string"===o)return e.indexOf("♦")>=0?this.buildMonitorFilter(e,t,r,n):Object(_Util_js__WEBPACK_IMPORTED_MODULE_0__.c)(e);if(Array.isArray(e)){this.setFieldDefinition(t,r,n);for(var i=e.length,l=0;l<i;++l){var a=e[l];this.addCondition(a[0],a[1],a[2])}return this.buildFilter()}return"function"===o?e:null},FilterBuilder._toText=function(e){return"string"==typeof e?e:e||0===e?e+"":""},FilterBuilder._escapeQuotes=function(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")};var _unused_webpack_default_export=FilterBuilder},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n={en:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",Sunday:"Sunday",Monday:"Monday",Tuesday:"Tuesday",Wednesday:"Wednesday",Thursday:"Thursday",Friday:"Friday",Saturday:"Saturday",jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec",January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December",am:"am",AM:"AM",pm:"pm",PM:"PM"},de:{sun:"So",mon:"Mo",tue:"Di",wed:"Mi",thu:"Do",fri:"Fr",sat:"Sa",Sunday:"Sonntag",Monday:"Montag",Tuesday:"Dienstag",Wednesday:"Mittwoch",Thursday:"Donnerstag",Friday:"Freitag",Saturday:"Samstag",jan:"Jan",feb:"Feb",mar:"Mrz",apr:"Apr",may:"Mai",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Okt",nov:"Nov",dec:"Dez",January:"Januar",February:"Februar",March:"März",April:"April",May:"Mai",June:"Juni",July:"Juli",August:"August",September:"September",October:"Oktober",November:"November",December:"Dezember",am:"am",AM:"AM",pm:"pm",PM:"PM"},ja:{sun:"日",mon:"月",tue:"火",wed:"水",thu:"木",fri:"金",sat:"土",Sunday:"日曜日",Monday:"月曜日",Tuesday:"火曜日",Wednesday:"水曜日",Thursday:"木曜日",Friday:"金曜日",Saturday:"土曜日",jan:"1月",feb:"2月",mar:"3月",apr:"4月",may:"5月",jun:"6月",jul:"7月",aug:"8月",sep:"9月",oct:"10月",nov:"11月",dec:"12月",January:"1月",February:"2月",March:"3月",April:"4月",May:"5月",June:"6月",July:"7月",August:"8月",September:"9月",October:"10月",November:"11月",December:"12月",am:"午前",AM:"午前",pm:"午後",PM:"午後"},zh:{sun:"周日",mon:"周一",tue:"周二",wed:"周三",thu:"周四",fri:"周五",sat:"周六",Sunday:"星期日",Monday:"星期一",Tuesday:"星期二",Wednesday:"星期三",Thursday:"星期四",Friday:"星期五",Saturday:"星期六",jan:"1月",feb:"2月",mar:"3月",apr:"4月",may:"5月",jun:"6月",jul:"7月",aug:"8月",sep:"9月",oct:"10月",nov:"11月",dec:"12月",January:"一月",February:"二月",March:"三月",April:"四月",May:"五月",June:"六月",July:"七月",August:"八月",September:"九月",October:"十月",November:"十一月",December:"十二月",am:"上午",AM:"上午",pm:"下午",PM:"下午"},"zh-Hant":{sun:"週日",mon:"週一",tue:"週二",wed:"週三",thu:"週四",fri:"週五",sat:"週六",Sunday:"星期日",Monday:"星期一",Tuesday:"星期二",Wednesday:"星期三",Thursday:"星期四",Friday:"星期五",Saturday:"星期六",jan:"1月",feb:"2月",mar:"3月",apr:"4月",may:"5月",jun:"6月",jul:"7月",aug:"8月",sep:"9月",oct:"10月",nov:"11月",dec:"12月",January:"一月",February:"二月",March:"三月",April:"四月",May:"五月",June:"六月",July:"七月",August:"八月",September:"九月",October:"十月",November:"十一月",December:"十二月",am:"上午",AM:"上午",pm:"下午",PM:"下午"}},o=(new Date(NaN),Date.UTC(1900,0,1)),i=Date.UTC(1900,2,1),l=["sun","mon","tue","wed","thu","fri","sat"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],u=["January","February","March","April","May","June","July","August","September","October","November","December"],d=function(e){return e>9?""+e:"0"+e},p={D:function(e,t){return""+e.getDate()},DD:function(e,t){return d(e.getDate())},DDD:function(e,t){return t[l[e.getDay()]]},D_:function(e,t){return t[a[e.getDay()]]},M:function(e,t){return""+(e.getMonth()+1)},MM:function(e,t){return d(e.getMonth()+1)},MMM:function(e,t){return t[s[e.getMonth()]]},M_:function(e,t){return t[u[e.getMonth()]]},YY:function(e,t){return(""+e.getFullYear()).substr(-2)},Y_:function(e,t){return""+e.getFullYear()},H:function(e,t){return""+e.getHours()},H_:function(e,t){return d(e.getHours())},h:function(e,t){var r=e.getHours()%12;return 0===r?"12":""+r},h_:function(e,t){var r=e.getHours()%12;return d(r=0===r?12:r)},m:function(e,t){return""+e.getMinutes()},m_:function(e,t){return d(e.getMinutes())},S:function(e,t){return""+e.getSeconds()},S_:function(e,t){return d(e.getSeconds())},A:function(e,t){return e.getHours()<12?t.AM:t.PM},a:function(e,t){return e.getHours()<12?t.am:t.pm}},c={_dateTimePattern:"M/D/YY h:mm A",_localeSetting:"en",_activeLocaleMap:null,_activeInput:null,setDateTimePattern:function(e){c._dateTimePattern=e||"M/D/YY h:mm A"},setLocale:function(e){c._localeSetting=n[e]?e:"en"},format:function(e,t,r){var n=null,o="",i=!(!r||"LOCAL"!==r.toUpperCase());if("number"==typeof e)e>1e8?n=new Date(e):(n=c.fromDateNumber(e),i=!0);else if(e instanceof Date)n=new Date(e);else{var l=(o=e+"").match(/^\d{4}(-\d{2}(-\d{2}(T\d{2}\:\d{2}\:\d{2})?)?)?$/);o=o.replace(/\-/g,"/"),l&&(o=o.replace(/T/g," ")),n=new Date(o)}return c.isInvalidDate(n)?e||"":(i||n.setTime(n.getTime()+6e4*n.getTimezoneOffset()),c.formatDateObject(n,t))},formatDateObject:function(e,t){if(c.isInvalidDate(e))return"";t||(t=c._dateTimePattern),c._activeInput=e,c._activeLocaleMap=n[c._localeSetting]||DateTimeLocale.en;var r=t.replace(/D+|M+|Y+|H+|S+|A+|d+|m+|y+|h+|s+|a+|\[[^\]]*\]+/g,c._parseDatePattern);return c._activeInput=null,r},_lowerCaseDatePatterns:{d:!0,y:!0,s:!0},_parseDatePattern:function(e){var t=e?e.charAt(0):"";if("["===t)return e.substring(1,e.length-1);var r=p[e];if(!r){var n=e;c._lowerCaseDatePatterns[t]&&(n=e.toUpperCase(),t=t.toUpperCase(),r=p[n]),r||(r=p[n=t+"_"])}return r?r(c._activeInput,c._activeLocaleMap):e},isValidDate:function(e){if(e&&e.getTime){var t=e.getTime();return t==t}return!1},isInvalidDate:function(e){if(e&&e.getTime){var t=e.getTime();return t!=t}return!0},fromDateNumber:function(e){var t=c.dateNumberToMs(e);if(t==t){var r=c.timeNumberToMs(e);return new Date(t+r)}return new Date(NaN)},dateNumberToMs:function(e){if(!(e=Math.floor(+e))||e<=0||60===e)return NaN;var t=e-25569;return e<60&&t++,864e5*t},timeNumberToMs:function(e){"number"!=typeof e&&(e=+e);var t=e-Math.floor(e);return t?(t<0&&(t=-t),1e3*Math.round(86400*t)):0},toDateObject:function(e){var t=null;if(e instanceof Date)t=e;else if("number"==typeof e)t=e>3e9||e<=0?new Date(e):e>1e5?new Date(1e3*e):c.fromDateNumber(e);else if(e){var r=e+"",n=r.match(/^\d{4}(-\d{2}(-\d{2}(T\d{2}\:\d{2}\:\d{2})?)?)?$/);r=r.replace(/\-/g,"/"),n&&(r=r.replace(/T/g," ")),t=new Date(r)}else t=new Date(NaN);return t},toDateNumber:function(e){return c._millisecondToDateNumber(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))},toTimeNumber:function(e){return Date.UTC(1970,0,1,e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())/864e5},_millisecondToDateNumber:function(e){if((e=+e)!=e||e<o)return NaN;var t=e/864e5+25569;return e<i&&t--,t},toYYYYMMDD:function(e){var t=e?e.toJSON():"";return t?t.substr(0,10):""}}},function(e,t,r){"use strict";r.r(t);var n={inherits:function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(e,r,n){r||(r="constructor");for(var o=arguments.length,i=new Array(o),l=2;l<o;l++)i[l-2]=arguments[l];return t.prototype[r].apply(e,i)}}},o=function(){};o.prototype._events=null,o.prototype._listenerCount=0,o.prototype.addEventListener=function(e,t){if(e&&t){this._events||(this._events={});var r=this._events[e];r?r.indexOf(t)<0&&(r.push(t),++this._listenerCount):(this._events[e]=[t],++this._listenerCount)}},o.prototype.removeEventListener=function(e,t){var r=this._events?this._events[e]:null;if(r){var n=r.indexOf(t);n>=0&&(r.splice(n,1),--this._listenerCount)}},o.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},o.prototype.hasListener=function(e){if(this._listenerCount){if(e){var t=this._events?this._events[e]:null;return!!t&&t.length>0}return!0}return!1},o.prototype.getListener=function(e,t){if(e){var r=this._events?this._events[e]:null;if(r)return t||(t=0),r[t]||null}return null},o.prototype.addListener=function(e,t){var r=e?e[t]:null;"function"==typeof r&&this.addEventListener(t,r)},o.prototype._prepareEventArguments=function(e,t){return t},o.prototype._dispatch=function(e,t){var r=this._events?this._events[e]:null;if(r){t=this._prepareEventArguments(e,t);for(var n=r.length,o=0;o<n;++o)r[o](t)}};o.preventDefault=function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())};var i=function(e,t,r){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof e&&(this._resolveHandler=e),"function"==typeof t&&(this._rejectHandler=t),null!=r&&(this._ctx=r),this.promise=new Promise(function(e,t){this._resolve=e,this._reject=t}.bind(this))};i.prototype.promise=null,i.prototype._resolve=null,i.prototype._reject=null,i.prototype._resolveHandler=null,i.prototype._rejectHandler=null,i.prototype._ctx=null,i.prototype.resolve=function(e){if(this._resolve){if(this._resolveHandler){var t=this._resolveHandler(e,this._ctx||this);null!=t&&(e=t)}this._resolve(e),this._finally()}},i.prototype.reject=function(e){if(this._reject){if(this._rejectHandler){var t=this._rejectHandler(e,this._ctx||this);null!=t&&(e=t)}this._reject(e),this._finally()}},i.prototype._finally=function(){this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var l=function(){};n.inherits(l,o),l.prototype._hosts=null,l.prototype._compositeGrid=null,l.prototype._realTimeGrid=null,l.prototype._rowGetter=null,l.prototype._initializedGrid=!1,l.prototype.listen=l.prototype.addEventListener,l.prototype.unlisten=l.prototype.removeEventListener,l.prototype.afterInit=function(e,t,r){var n=null;r&&r.getCoreGrid&&(n=r.getCoreGrid()),n&&(this.getGridApi()||this.setGridWrapper("compositegrid",r),this._compositeGrid&&n.loadPlugin(this,t)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?s:a,this._afterInit())},l.prototype._afterInit=function(){},l.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},l.prototype.hasMultiTableSupport=function(){return!1},l.prototype._prepareEventArguments=function(e,t){return t||(t={}),t.api=this.getGridApi(),t},l.prototype.getName=function(){return"GridPlugin"},l.prototype.getRelativeGrid=function(e){var t=null;if(e.target){var r=(t=e.target).api;if(r&&r.getCoreGrid)return r.getCoreGrid()}else e.getElement?t=e.getElement():1===e.nodeType&&(t=e);if(t)for(var n=this._hosts.length;--n>=0;){var o=this._hosts[n];if(o.getElement().contains(t))return o}return null},l.prototype.setGridWrapper=function(e,t){e&&("compositegrid"===(e=e.toLowerCase())?this._compositeGrid=t:"realtimegrid"===e&&(this._realTimeGrid=t))},l.prototype.getGridApi=function(){return this._compositeGrid||this._realTimeGrid||null},l.prototype.getColumnName=function(e){if(this._compositeGrid){var t="string"==typeof e?e:this._compositeGrid.getColumnId(e),r=this._compositeGrid.getColumnModel(t);if(r)return r.title?r.title:r.field}else{var n=this.getColumnIndex(e),o=this._realTimeGrid.getColumnDefinition(n);if(o)return o.getName()}return""},l.prototype.getColumnIndex=function(e){if("number"==typeof e)return e;if(this._compositeGrid)return this._compositeGrid.getColumnIndex(e);for(var t=this._realTimeGrid,r=t.getColumnCount(),n=0;n<r;++n){var o=t.getColumnDefinition(n);if(o&&o.getId()===e)return n}return-1},l.prototype.getColumnId=function(e){if("string"==typeof e)return e;if(this._compositeGrid)return this._compositeGrid.getColumnId(e);var t=this._realTimeGrid.getColumnDefinition(e);return t?t.getId():""},l.prototype.getColumnCount=function(){if(this._hosts){var e=this._hosts[0];return e?e.getColumnCount():0}return 0},l.prototype._loadPlugin=function(e,t,r){return e||(e=t.getPlugin(r))||(e=t.loadPlugin(r))&&this._initializedGrid&&(e._initializedGrid=!0),e},l.prototype._requestPlugin=function(e,t,r){return this._initializedGrid?l.requestPlugin(e,t,r,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},l.requestPlugin=function(e,t,r,n,o){var a=null;if(e){var s=null;1===e.nodeType?s=e.api:e.getCoreGrid?s=e:e.getPlugin&&(a=e),s&&(a=s.getCoreGrid(),n||o||(s.getModel?n=s:o=s))}if(!a)return Promise.reject("Cannot find grid element");var u=a.getPlugin(t);if(u)return Promise.resolve(u);var d=new i;return setTimeout(l._onPluginRequested.bind(null,{grid:a,pluginRef:t,compositeGrid:n,realTimeGrid:o,config:r,deferred:d}),10),d.promise},l._onPluginRequested=function(e){var t=e.grid;if(!t.getElement())return e.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+e.pluginRef);var r=t.getPlugin(e.pluginRef);if(r)return e.deferred.resolve(r);var n=!1;return e.pluginRef.beforeInit&&(n=!0,e.pluginRef.beforeInit(t.getElement(),e.config,!0)),(r=t.loadPlugin(e.pluginRef,e.config))?(!n&&r.beforeInit&&(n=!0,r.beforeInit(t.getElement(),e.config)),r.setGridWrapper&&(e.compositeGrid?r.setGridWrapper("compositegrid",e.compositeGrid):e.realTimeGrid&&r.setGridWrapper("realtimegrid",e.realTimeGrid)),r.afterInit&&r.afterInit(),e.deferred.resolve(r)):e.deferred.reject("Unable to load required dependency: "+e.pluginRef)},l.prototype._getPlugin=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getPlugin(e):null},l.prototype._getColumnData=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getColumnData(e):null},l.prototype._getColumnOption=function(e,t,r){var n=this._getColumnData(e,r);return n?n[t]:null},l.prototype._newColumnData=function(e,t){if(null==t&&(t=this._hosts[0]),!t)return{};var r=t.getColumnData(e);return r||(r=t.setColumnData(e,{})),r},l.prototype._getField=function(e){var t=this._compositeGrid||this._realTimeGrid;return t?t.getColumnField(e):""},l.prototype._getRowData=function(e){return this._realTimeGrid&&e?e.ROW_DEF.getRowData():e},l.prototype._getRow=function(e,t){return u(e.getRowDataAt(t))},l.prototype._getData=function(e,t,r){var n=this._getRow(e,t);return n?n[r]:void 0},l.prototype._setData=function(e,t,r,n){if(this._realTimeGrid){var o=e.getRowDataAt(t);o&&o.ROW_DEF.setData(r,n)}else e.setDataAt(t,r,n)},l.prototype._setRowData=function(e,t,r){if(this._realTimeGrid){var n=e.getRowDataAt(t);n&&n.ROW_DEF.setRowData(r)}else e.setRowDataAt(t,r)},l.prototype._setColumnData=function(e,t,r,n){if(n=n||e.getAllRowIds()||[],this._realTimeGrid){for(var o=e.getDataSource(),i=o.freeze(),l=r.length<n.length?r.length:n.length,a=0;a<l;++a){var s=e.getRowData(n[a]);s&&s.ROW_DEF.setData(t,r[a])}o.freeze(i)}else e.setColumnData(t,r,n)};var a=function(e){return e},s=function(e){return e?e.ROW_DEF.getRowData():null},u=function(e){if(e){var t=e.ROW_DEF;return t?t.getRowData():e}return null},d=r(0),p={"⇧":1,"B⇧":1,"↑":1,"B↑":1,26:1,1:1,'"1"':1,"-1":-1,"⇩":-1,"B⇩":-1,"↓":-1,"B↓":-1,27:-1,2:-1,'"2"':-1},c={CF_TICK:1,PRCTCK_1:1,BID_TICK:1,ASK_TICK:1},f={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};f.themeColors=f._defaultColors,f._components={},f._themeName="",f._elfVersion=0,f._dummyIcon=null,f._iconLoaded=!1,f._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"list",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},f.getElfVersion=function(){if(!f._elfVersion){var e=0;if(window.elf)if(window.elf.version){var t=window.elf.version.match(/\d/);t&&t[0]&&(e=parseInt(t[0],10))}else window.elf.customElements?e=3:window.customElements&&(e=4);else window.Polymer&&(e=1);f._elfVersion=e}return f._elfVersion},f.hasComponent=function(e){var t=f._components[e];if(null==t){t=0;var r=f.getElfVersion();if(e)1===r?document.createElement(e).is===e&&(t=r):r>1&&(window.customElements&&window.customElements.get(e)||document.createElement(e).constructor!==HTMLElement)&&(t=r),f._components[e]=t}return t},f.hasTheme=function(e){return e===f.getThemeName()},f.getThemeName=function(e){return f._themeName||(f._themeName=f.getCssVariable("--theme-name",document.documentElement)),f._themeName},f.injectIcons=function(e,t){if("object"==typeof e){var r=f.getThemeName();e.themeName=r;var n=f.getElfVersion();e.elfVersion=n;var o=f._icons[r];o&&(e.icons=o)}},f.getIconList=function(){var e=f._icons[f.getThemeName()];return e?Object(d.b)(e):[]},f._onIconPreloaded=function(){if(f._dummyIcon){var e=f._dummyIcon.parentNode;e&&e.removeChild(f._dummyIcon),f._dummyIcon=null}},f.prepareIconPreloading=function(){if(!f._iconLoaded){f._iconLoaded=!0;var e=f.getIconList();if(e.length){setTimeout(f._onIconPreloaded,10);var t=f._dummyIcon=document.createElement("coral-icon");return t.style.transform="scale(0)",document.body.appendChild(t),e}}return null},f.getCssVariable=function(e,t){var r="",n=t||document.body;return window&&"string"==typeof e&&1===n.nodeType&&e.match(/^--/)&&(r=(r=window.getComputedStyle(n).getPropertyValue(e)).replace(/[\"\']/g,"")),r},f.getCssVariables=function(e,t){var r=t||document.body;if(window&&1===r.nodeType){var n=window.getComputedStyle(r);for(var o in e){var i=e[o];i&&i.match(/^--/)&&(e[o]=n.getPropertyValue(i).replace(/\"/g,""))}}return e||null},f.getThemeColors=function(){if(f.themeReady)return f.themeReady;var e=f._deferred=new i;f.themeReady=e.promise;var t=window?window.JET:null;if(t&&t.Settings)try{t.Settings.read(f._onColorProfile,{providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"})}catch(t){e.reject("Cannot read JET's settings")}else setTimeout(f._retrieveThemeColors,100);return e.promise},f._onColorProfile=function(e){e&&document.documentElement.setAttribute("movement-color-profile",e.toLowerCase()),f._retrieveThemeColors()},f.getMovementColorProfile=function(){return document.documentElement.getAttribute("movement-color-profile")},f._retrieveThemeColors=function(){var e=f.themeColors=f.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});e.up||(e.up=f._defaultColors.up,e.down=f._defaultColors.down,e.level=f._defaultColors.level,e.tickUp=f._defaultColors.tickUp,e.tickDown=f._defaultColors.tickDown),e.positive=e.up,e.negative=e.down,e.neutral=e.level;var t=document.createElement("table");t.style.visibility="hidden",t.style.position="fixed",t.style.left="0",t.style.top="0",t.style.width="0";var r=t.insertRow(-1),n=r.insertCell(-1);document.body.appendChild(t);var o=window.getComputedStyle(r);e.tableBg=o.backgroundColor;var i=window.getComputedStyle(n);e.tableText=i.color,e.tableBorder=i.borderColor,e.tableText===e.tableBorder&&(n.className="tr-lg",i=window.getComputedStyle(n),e.tableBg=i.backgroundColor,e.tableText=i.color,e.tableBorder=i.borderColor,e.tableText===e.tableBorder&&(e.tableBg=f._defaultColors.baseGrid,e.tableText=f._defaultColors.baseText,e.tableBorder="")),e.tableBg=Object(d.d)(e.tableBg),e.tableText=Object(d.d)(e.tableText),e.tableBorder=Object(d.d)(e.tableBorder),document.body.removeChild(t),e.baseGrid=e.tableBg,e.baseText=e.tableText,e.trackColor=e.primary||f._defaultColors.trackColor,f._deferred.resolve(e)};var h=function(){this._conditions=[],this._scopes=[],h._painters.push(this)};h.ColoringTypes={TEXT:1,HEATMAP:2,CONDITIONAL:3},h.prototype._coloringType=0,h.prototype._conditions=null,h.prototype._blinkCondition=null,h.prototype._scopes,h._runningBlinkId=0,h._painters=[],h._emptyAry=[],h._emptyObj={},h._bgObj={backgroundColor:"",color:""},h._colorObj={color:""},h._bgStyles=["backgroundColor","color"],h._nonBgStyles=["fontSize","fontWeight","fontStyle","textAlign","textDecoration"],h._supportedStyles=h._bgStyles.concat(h._nonBgStyles),h.themeReady=null,h.parse=d.c,h.prototype.dispose=function(){var e=h._painters.indexOf(this);e>=0&&h._painters.splice(e,1),this.reset(),this._conditions=null,this._scopes.length=0,this._blinkCondition=null},h.prototype.reset=function(){this._setColoringType(0);var e=this._scopes.length;if(e){for(var t=0;t<e;++t){var r=this._scopes[t];h._clearBlinkTimer(r)&&r._restorer(),delete r.cell.blinking,r.cell=null}this._scopes.length=0}this._blinkCondition=null},h.prototype.applyThemeColor=function(){var e=f.themeColors,t=this._conditions[0];if(t&&(this._coloringType===h.ColoringTypes.HEATMAP&&(t.textMode?t.baseColor=e.baseText:t.baseColor=e.baseGrid),t.useThemeColor&&(this._coloringType===h.ColoringTypes.HEATMAP||this._coloringType===h.ColoringTypes.TEXT))){var r,n;this._coloringType===h.ColoringTypes.TEXT&&"CF_TICK"===t.field?(r=e.tickUp,n=e.tickDown):(r=e.up,n=e.down);var o=e.level===e.baseText?"":e.level;h._setUpDownColors(t,r,n,o)}this._blinkCondition&&this._blinkCondition.useThemeColor&&h._setUpDownColors(this._blinkCondition,e.up,e.down,e.level,!0)},h.prototype.getConditions=function(){return this._conditions},h.prototype.getColoringType=function(){return this._coloringType},h.prototype._setColoringType=function(e){this._coloringType!==e&&(this._conditions.length=0,this._coloringType=e)},h.prototype.setConditions=function(e){this._conditions.length=0,this._setColoringType(h.ColoringTypes.CONDITIONAL);for(var t=e.length,r=0;r<t;r++)this._addCondition(e[r])},h.prototype._addCondition=function(e){var t=e.expression;t&&(e._fn=h.parse(t.text||t),this._conditions.push(e))},h.prototype.addHeatmap=function(e,t,r,n,o,i){this._setColoringType(h.ColoringTypes.HEATMAP);var l={heatmap:!0};return l.field=e,l.expression=h._heatMapCondition.bind(l),l.midPoint=t,h._setUpDownColors(l,r,n),l.baseColor=o,!0!==i&&"text"!==i||(l.textMode=!0),this._addCondition(l),l},h.prototype.addHeatmapWithTheme=function(e,t,r){var n=f.themeColors,o=this.addHeatmap(e,t,n.up,n.down,n.baseGrid,r);return!0!==r&&"text"!==r||(o.baseColor=n.baseText),o.useThemeColor=!0,o},h.prototype._addColorText=function(e,t,r,n,o){this._setColoringType(h.ColoringTypes.TEXT);var i={};return i.field=t,i.expression=e.bind(null,t),h._setUpDownColors(i,r,n,o),this._addCondition(i),i},h.prototype.addColorText=function(e,t,r,n){return this._addColorText(c[e]?h._tickColorTextCondition:h._colorTextCondition,e,t,r,n)},h.prototype.addColorTextWithTheme=function(e){var t=f.themeColors,r=this.addColorText(e,t.up,t.down,t.level===t.baseText?"":t.level);return r.useThemeColor=!0,r},h.prototype.addTickColorText=function(e,t,r){return this.addColorText("CF_TICK",e,t,r)},h.prototype.addTickColorTextWithTheme=function(){var e=f.themeColors,t=this.addTickColorText(e.tickUp,e.tickDown,e.level);return t.useThemeColor=!0,t},h.prototype.addTickBlink=function(e,t,r,n){return this.addBlink("CF_TICK",e,t,r,n)},h.prototype.addTickBlinkWithTheme=function(e){var t=f.themeColors,r=this.addTickBlink(t.tickUp,t.tickDown,t.level,e);return r.useThemeColor=!0,r},h.prototype.addBlink=function(e,t,r,n,o){return this._addBlink(c[e]?h._tickBlinkCondition:h._fieldBlinkCondition,e,t,r,n,o)},h.prototype.addBlinkWithTheme=function(e,t){var r=f.themeColors,n=this.addBlink(e,r.up,r.down,r.level,t);return n.useThemeColor=!0,n},h.prototype._addBlink=function(e,t,r,n,o,i){var l=this._blinkCondition={};return l.blink=!0,l.blinkId=h._runningBlinkId++,l.field=t,l._fn=l.expression=e,!0!==i&&"border"!==i||(l.border=!0),h._setUpDownColors(l,r,n,o,!0),l},h.prototype.render=function(e,t,r,n,o){this._render(e,t,r,n,o)},h.prototype.blink=function(e,t,r,n,o){this._render(e,r,n,o,null,t)},h.prototype._render=function(e,t,r,n,o,i){if(e){var l=e.getElement();if(l){var a=this._getStyles(t,r,n),s=null;if(this._blinkCell(e,t,a,o,i)?this._coloringType===h.ColoringTypes.CONDITIONAL&&(s=h._nonBgStyles):s=this._coloringType!==h.ColoringTypes.CONDITIONAL?h._bgStyles:h._supportedStyles,s)for(var u=l.style,d=s.length;--d>=0;){var p=s[d];u[p]=a[p]||""}}}},h.prototype._blinkCell=function(e,t,r,n,o){var i=this._blinkCondition;if(!i)return!1;r=r||{},n=n||{};var l,a,s=e.blinking;if(s||((s={}).cell=e,e.blinking=s,this._scopes.push(s)),s.blinkId!==i.blinkId){s.blinkId=i.blinkId,s.field=i.field;var u=i.border?h._borderRestorer:h._cellRestorer;s._restorer=u.bind(null,s)}if(!o&&0!==o&&!(o=this._blinkCondition._fn(t,n,s))&&0!==o)return!1;if(o>0?(l=i.upColor,a=i.contrastUpColor):o<0?(l=i.downColor,a=i.contrastDownColor):(l=i.levelColor,a=i.contrastLevelColor),!l)return!1;var d=e.getElement();return i.border?d.style.border="1px solid "+l:(d.style.backgroundColor=l,d.style.color=a),h._clearBlinkTimer(s),s.blinkTimer=setTimeout(s._restorer,250),!(i.border||!s.blinkTimer)&&(s.color=r.color,s.backgroundColor=r.backgroundColor,!0)},h.prototype.renderForPrinting=function(e,t,r,n){if(e){var o=this._getStyles(t,r,n),i=o.backgroundColor;i&&(e.style.backgroundColor=i),(i=o.color)&&(e.style.color=i)}},h._colorTextCondition=function(e,t){var r=t[e];if(r||0===r){if(r>0)return 1;if(r<0)return-1}return"u"},h._tickColorTextCondition=function(e,t){var r=p[t[e]];if(r)return r},h._heatMapCondition=function(e,t,r){var n=e[this.field],o=n||0===n?n-this.midPoint:NaN;if(0===o||o!=o)return 0;var i=1;return o>0?(i=r-this.midPoint)<0&&(i=t-this.midPoint):(i=t-this.midPoint)>0&&(i=r-this.midPoint),i<0&&(i=-i),o/i},h._tickBlinkCondition=function(e,t,r){var n=r.field||"";if(t[n]){var o=p[e[n]];if(o)return o}},h._fieldBlinkCondition=function(e,t,r){var n=r.field||"",o=e?e[n]:NaN,i=r.oldValue;if(o||0===o){if(o=+o,r.oldValue=o,t[n])return o>i?1:o<i?-1:0}else r.oldValue=NaN},h._borderRestorer=function(e){e.blinkTimer=0;var t=e.cell.getElement();t&&(t.style.border="")},h._cellRestorer=function(e){e.blinkTimer=0;var t=e.cell.getElement();t&&(t.style.backgroundColor=e.backgroundColor||"",t.style.color=e.color||"")},h.prototype._getStyles=function(e,t,r){if(!e)return h._emptyObj;for(var n=this._conditions.length,o=0;o<n;++o){var i,l=this._conditions[o],a=l._fn;try{var s=a&&a(e,t,r)}catch(e){}if(s)return this._coloringType===h.ColoringTypes.HEATMAP?(i=s>0?h.blendColor(l.baseColor,l.upColor,s):h.blendColor(l.baseColor,l.downColor,-s),l.textMode?(h._colorObj.color=h.num2Hex(i),h._colorObj):(h._bgObj.backgroundColor=h.num2Hex(i),h._bgObj.color=h.blackAndWhite(i),h._bgObj)):this._coloringType===h.ColoringTypes.TEXT?(h._colorObj.color=s>0?l.upColor:s<0?l.downColor:l.levelColor,h._colorObj):l}return h._emptyObj},h.blendColor=function(e,t,r){r>1?r=1:r<0&&(r=0);for(var n=h.hex2Num(e),o=h.hex2Num(t),i=[],l=0;l<3;++l){var a=(o[l]-n[l])*r;i.push(n[l]+a)}return i},h.blackAndWhite=function(e){return Math.sqrt(e[0]*e[0]*.241+e[1]*e[1]*.691+e[2]*e[2]*.068)>=135?"#000000":"#FFFFFF"},h.rgb2Hex=d.d,h.num2Hex=function(e){return"#"+(16777216+(e[2]|e[1]<<8|e[0]<<16)).toString(16).slice(1)},h.num2Rgb=function(e){return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},h.hex2Num=function(e){var t=parseInt(e.replace(/[^0-9A-F]/gi,""),16);return[t>>16&255,t>>8&255,255&t]},h.hex2Rgb=function(e){if(e){var t=parseInt(e.replace(/[^0-9A-F]/gi,""),16);return"rgb("+(t>>16&255)+", "+(t>>8&255)+", "+(255&t)+")"}return""},h.themeChanged=function(){},h.setThemeColors=function(){},h._onThemeChanged=function(e){for(var t=h._painters,r=t.length;--r>=0;)t[r].applyThemeColor();return e},h.loadThemeColors=function(){return h.themeReady||(h.themeReady=f.getThemeColors().then(h._onThemeChanged)),h.themeReady},h.reloadThemeColors=function(){return h.themeReady=f.themeReady=null,h.loadThemeColors()},h.clearCellStyle=function(e){var t=e.getElement();if(t){var r=e.blinking;r&&(h._clearBlinkTimer(r),delete e.blinking,r.cell=null);for(var n=h._supportedStyles,o=n.length;--o>=0;)t.style[n[o]]=""}},h._setUpDownColors=function(e,t,r,n,o){null!=t&&(e.upColor=t,o&&(e.contrastUpColor=h.getOppositeColor(t))),null!=r&&(e.downColor=r,o&&(e.contrastDownColor=h.getOppositeColor(r))),null!=n&&(e.levelColor=n,o&&(e.contrastLevelColor=h.getOppositeColor(n)))},h._clearBlinkTimer=function(e,t){return!!e.blinkTimer&&(clearTimeout(e.blinkTimer),e.blinkTimer=0,!0)},h.getOppositeColor=function(e){if("string"==typeof e){if("#"===e.charAt(0)){var t=h.hex2Num(e);return h.blackAndWhite(t)}}else if(Array.isArray(e))return h.blackAndWhite(e);return""};var _=r(1),m=function(){this._onSectionBinding=this._onSectionBinding.bind(this),this._onColumnAdded=this._onColumnAdded.bind(this),this._onColumnRemoved=this._onColumnRemoved.bind(this),this._onThemeLoaded=this._onThemeLoaded.bind(this),this._hosts=[]};n.inherits(m,l),m.prototype._blinkingEnabled=!1,m.prototype.getName=function(){return"ConditionalColoringPlugin"},m.prototype.hasMultiTableSupport=function(){return!0},m.prototype.initialize=function(e,t){var r=this._hosts;r.indexOf(e)>=0||(r.push(e),1===r.length?this.config(t):this._applyStyle(e,t),e.listen("postSectionDataBinding",this._onSectionBinding),e.listen("columnAdded",this._onColumnAdded),e.listen("columnRemoved",this._onColumnRemoved),h.themeReady||h.loadThemeColors().then(this._onThemeLoaded))},m.prototype.unload=function(e){var t=this._hosts.indexOf(e);t<0||(this._hosts.splice(t,1),e.unlisten("postSectionDataBinding",this._onSectionBinding),e.unlisten("columnAdded",this._onColumnAdded),e.unlisten("columnRemoved",this._onColumnRemoved),this._dispose())},m.prototype.beforeProcessOption=function(e,t){if("blinker"==e)return null},m.prototype.config=function(e){if(e){var t=e.columns;if(t)for(var r=t.length,n=0;n<r;++n)this.setColumnColoring(n,t[n])}},m.prototype.getConfigObject=function(e){var t=e||{},r=t.columns;r||(r=t.columns=[]);for(var n=this.getColumnCount(),o=this._hosts[0],i=0;i<n;++i){var l=r[i];l||(l=r[i]={});var a=this._getColumnOption(i,"conditions",o);if(Array.isArray(a)&&a.length>0){l.conditions=[];for(var s=a.length,u=0;u<s;u++){var p={};Object(d.a)(p,a[u],["expression","backgroundColor","color"]),l.conditions.push(p)}}var c=this._getColumnOption(i,"colorText",o);c&&(l.colorText=c);var f=this._getColumnOption(i,"tickColor",o);f&&(l.tickColor=f);var h=this._getColumnOption(i,"blinking",o);h&&(l.blinking=h);var _=this._getField(i);_&&(l.field=_)}return t},m.prototype._applyStyle=function(e,t){if(t){var r=t.columns;if(r)for(var n=r.length,o=0;o<n;++o)this.getColumnPainter(o)&&e.enableColumnClass(o,"conditionally-colored",!0)}},m.prototype.setColumnColoring=function(e,t){var r,n,o=this._newColumnData(e);t?(o.conditions=t.conditions,o.colorText=t.colorText,o.tickColor=t.tickColor,o.blinking=t.blinking):o.conditions=o.colorText=o.tickColor=o.blinking=null;var i=this._prepareColorOptions(e,t),l=o.painter;if(i.hasColor){l||(l=o.painter=new h),i.condColoring?l.setConditions(i.condColoring.conditions):i.colorText&&l.addColorTextWithTheme(i.colorText.field);var a=i.blinking;for(a&&(this._blinkingEnabled=!0,a.customColor?l.addBlink(a.field,a.up,a.down,a.level,a.border):l.addBlinkWithTheme(a.field,a.border)),l.inputField=i.inputField,r=this._hosts.length;--r>=0;)(n=this._hosts[r]).enableColumnClass(e,"conditionally-colored",!0);this._requestRowRefresh()}else if(l)for(this._clearPainter(o),r=this._hosts.length;--r>=0;){(n=this._hosts[r]).enableColumnClass(e,"conditionally-colored",!1);for(var s=n.getSection("content"),u=s.getRowCount(),d=0;d<u;++d){var p=s.getCell(e,d,!1);p&&h.clearCellStyle(p)}}},m.prototype.getColumnColoring=function(e,t){return t||(t={}),console.log("WARNING: getColumnColoring() is not implemented yet"),t},m.prototype.blinkRow=function(e,t,r){if(r=r||this._hosts[0]){var n=r.getDataSource();if(n){var o=r.getSection("content");if(o)for(var i=n.getRowDataAt(e),l=o.getColumnCount(),a=0;a<l;++a){var s=this.getColumnPainter(a);if(s){var u=o.getCell(a,e,!1);u&&s.blink(u,t,i,NaN,NaN)}}}}},m.prototype._prepareColorOptions=function(e,t){var r={};if(!t)return r;var n=this._getField(e),o=t.field||n;o=m._convertKeyword(o,n);var i=t.conditions,l=t.colorText||t.tickColor,a=t.inputField||"",s=i?i.length:0;if(s){r.condColoring={},r.condColoring.conditions=i,r.hasColor=1;var u=o==n?t.textFormatter:null,d=m.getFilterBuilder();d.setFieldDefinition(o,u,o);for(var p=s;--p>=0;){var c=i[p],f=c.expression;if(!f&&o){var h=c.condition,_=c.value1,g=c.value1;"BTW"!==h?d.addCondition(h,_):(d.addCondition("GTE",_),d.addCondition("LTE",g)),f=d.buildFilter(),c.expression=f}}r.inputField=a}else l&&(r.colorText={},r.hasColor=1,a=o,"string"==typeof l?a=l:"object"==typeof l&&(a=l.field||o),r.colorText.field=m._convertKeyword(a,o),r.inputField=a);var v=t.blinking;if(v){var y=r.blinking={};r.hasColor=1;var C=o;"string"==typeof v?C=v:"object"==typeof v&&(C=v.field||o,y.border=v.border,(v.up||v.down||v.level)&&(y.customColor=!0,y.up=v.up,y.down=v.down,y.level=v.level)),r.blinking.field=m._convertKeyword(C,o),r.blinking.inputField=C}return r},m._convertKeyword=function(e,t){return e?e.indexOf("THIS_COLUMN")?e:t:e},m._mergeUpdates=function(e){var t,r,n=e.events,o=n?n.length:0,i=e.dataSource,l=[],a={};for(r=0;r<o;++r)if("inserted"===(t=n[r]).type)a[t.rid]=!0;else if("updated"===t.type&&!a[t.rid]){var s=i.getRowIndex(t.rid),u=l[s];u||(u=l[s]={});var d=t.changes;for(var p in d)u[p]=1}return l},m.getFilterBuilder=function(){return m._fb||(m._fb=new _.a),m._fb},m._fb=null,m.prototype._requestRowRefresh=function(){for(var e=this._hosts.length;--e>=0;)this._hosts[e].requestRowRefresh()},m.prototype.getColumnPainter=function(e){return this._getColumnOption(e,"painter")},m.prototype.applyColor=function(e,t,r){var n=this.getColumnPainter(e);if(n){r||(r={});var o={};o[this._getField(e)]=1,n.render(t,r,NaN,NaN,o)}},m.prototype._onSectionBinding=function(e){var t,r,n,o,i=e.section,l=e.dataRows,a=i.getColumnCount(),s=e.fromRowIndex,u=e.toRowIndex,d=!e.actualUpdate;if(this._realTimeGrid){for(t=0;t<a;++t)if(o=this.getColumnPainter(t))for(r=s;r<u;++r)if(l[r]&&(n=i.getCell(t,r,!1))){var p=l[r].ROW_DEF;o.render(n,p.getRowData(),NaN,NaN,d?null:p.getUpdates())}}else{var c=this._blinkingEnabled?m._mergeUpdates(e):[];for(t=0;t<a;++t)if(o=this.getColumnPainter(t))for(r=s;r<u;++r)(n=i.getCell(t,r,!1))&&o.render(n,l[r],NaN,NaN,d?null:c[r])}},m.prototype._onColumnAdded=function(e){e.context&&this.setColumnColoring(e.colIndex,e.context,e.sender)},m.prototype._onColumnRemoved=function(e){var t=e.columnData;this._clearPainter(t)},m.prototype._onThemeLoaded=function(){this._requestRowRefresh()},m.prototype._clearPainter=function(e){if(e){var t=e.painter;t&&(t.dispose(),e.painter=null)}},m.setThemeColors=h.setThemeColors,m.prototype.reloadThemeColors=function(){return h.reloadThemeColors().then(this._onThemeLoaded)},m.symbolMap={EQ:"==",NEQ:"!=",GT:">",GTE:">=",LT:"<",LTE:"<="},function(e,t){if(e&&t&&t.prototype.getName){var r=t.prototype.getName().replace(/Plugin$/,"");if(r){var n=e.tr;n||(n=e.tr={});var o=n.grid;o||(o=n.grid={}),o[r+"Plugin"]=t,n[r+"Extension"]=t}}}(window,m)}]);