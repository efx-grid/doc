!function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return isTouchDevice})),__webpack_require__.d(__webpack_exports__,"b",(function(){return nestedObjectToArray})),__webpack_require__.d(__webpack_exports__,"c",(function(){return rgb2Hex}));var Util={post:function(e,t){return Util._post(e,t).then(Util.toJSON)},requestText:function(e,t){return Util._post(e,t,"text/plain").then(Util.toText)},requestByUrlEncoded:function(e,t){return Util._post(e,t,"application/x-www-form-urlencoded").then(Util.toJSON)},toJSON:function(e){return Util._logError(e)?Promise.reject(e):e.json()},toText:function(e){return Util._logError(e)?Promise.reject(e):e.text()},_logError:function(e){return!!(e&&e.status>=300)&&(console.log("Response "+e.status+": "+e.statusText),!0)},_post:function(e,t,o){var n={method:t?"POST":"GET",headers:{"Content-Type":o||"application/json"}};return t&&(n.body="string"==typeof t?t:JSON.stringify(t)),fetch(e,n)}},extendObject=function(e,t,o){if(!e)return null;if(!t||e===t)return e;var n;if(o)for(var i=o.length,r=0;r<i;++r)(n=o[r])&&extendProperty(e,t,n);else for(n in t)extendProperty(e,t,n);return e},cloneObject=function(e,t){return extendObject({},e,t)},arrayToObject=function(e,t){if(!Array.isArray(e))return e;if(!t)return null;var o=e;e={};for(var n=o.length,i=0;i<n;++i){var r=t[i];r&&void 0!==o[i]&&(e[r]=o[i])}return e},extendProperty=function(e,t,o){var n=t[o];if(null!=n){var i=e[o];Array.isArray(i)?e[o]=i.concat(n):Array.isArray(n)&&i?e[o]=n.concat(i):e[o]=n}},extendArrayProperty=function(e,t,o){var n=null;if(o){var i=e[t];n=i?Array.isArray(i)?i:e[t]=[i]:e[t]=[],Array.isArray(o)?o.length&&(o.length>1?Array.prototype.push.apply(n,o):n.push(o[0])):n.push(o)}return n},_bracketExp=new RegExp(/\[[^\[]*\]/g),parseCondition=function(expression){if(!expression)return null;if("string"!=typeof expression)return"function"==typeof expression?expression:null;for(var brackets=expression.match(_bracketExp),map={},fields=[],len=brackets?brackets.length:0,i=len;--i>=0;){var field=brackets[i];map[field]||(map[field]="f["+fields.length+"]",fields.push(field.substring(1,field.length-1)))}expression=expression.replace(_bracketExp,(function(e){return"rowData["+map[e]+"]"}));var finalExp="(function(f, rowData) { return ("+expression+"); })",fn=null;try{fn=eval(finalExp),fn=fn.bind(null,fields)}catch(e){console.log(e.message)}return fn||null},_encloseBracket=function(e){return Array.isArray(e)?"{\n"+e.join("\n")+"\n}":e},_indentBracketContent=function(e){return e.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},prettifyCss=function(e){if(e){var t="";if(Array.isArray(e))t=e.map(_encloseBracket).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {");else t="string"==typeof e?e:e+"";if(t)return t.replace(/{[\w\W]*?}/g,_indentBracketContent)}return""},getShadowRoot=function(e){var t;if(e&&(e.shadowRoot?t=e.shadowRoot:e.getRootNode&&(t=e.getRootNode()),t&&t!==document&&t!==e))return t;return null},injectCss=function(e,t){if(!e)return null;var o=document.createElement("style");o.textContent="\n"+e+"\n";var n,i=getShadowRoot(t),r=!0;return i||(r=!1,i=document.head),r&&i.children&&i.children.length&&(n=i.children[0]),n?i.insertBefore(o,n):i.appendChild(o),o},isIE=function(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0},isMac=function(){return/Mac/.test(navigator.platform)},isTouchDevice=function(){return!!(navigator.maxTouchPoints&&navigator.maxTouchPoints<256||navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints<256)},nestedObjectToArray=function(e,t){for(var o in t||(t=[]),e){var n=e[o];"object"==typeof n?nestedObjectToArray(n,t):t.push(n)}return t},rgb2Hex=function(e){if(!e||"string"!=typeof e)return"";if("#"===e.charAt(0))return e;var t=e.match(/\d+/g);if(!t||t.length<3)return e;for(var o="#",n=0;n<3;n++){var i=+t[n];i>=16||(o+="0"),o+=i?i.toString(16).toUpperCase():"0"}return o},prepareTSVContent=function(e){if(null==e)return"";var t="string"==typeof e?e:e.toString();return t.length?(t.indexOf("\n")>=0&&(t=t.replace(/[\r\n]/g," ")),t.indexOf("\t")>=0&&(t=t.replace(/\t/g," "))," "!==t.charAt(0)&&" "!==t.charAt(t.length-1)||(t=t.trim()),t):""},_unused_webpack_default_export=Util},function(e,t,o){"use strict";o.r(t);var n={inherits:function(e,t){function o(){}o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e,e.base=function(e,o,n){o||(o="constructor");for(var i=arguments.length,r=new Array(i),l=2;l<i;l++)r[l-2]=arguments[l];return t.prototype[o].apply(e,r)}}},i=function(){};i.prototype._events=null,i.prototype._listenerCount=0,i.prototype.addEventListener=function(e,t){if(e&&t){this._events||(this._events={});var o=this._events[e];o?o.indexOf(t)<0&&(o.push(t),++this._listenerCount):(this._events[e]=[t],++this._listenerCount)}},i.prototype.removeEventListener=function(e,t){var o=this._events?this._events[e]:null;if(o){var n=o.indexOf(t);n>=0&&(o.splice(n,1),--this._listenerCount)}},i.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},i.prototype.hasListener=function(e){if(this._listenerCount){if(e){var t=this._events?this._events[e]:null;return!!t&&t.length>0}return!0}return!1},i.prototype.getListener=function(e,t){if(e){var o=this._events?this._events[e]:null;if(o)return t||(t=0),o[t]||null}return null},i.prototype.addListener=function(e,t){var o=e?e[t]:null;"function"==typeof o&&this.addEventListener(t,o)},i.prototype._prepareEventArguments=function(e,t){return t},i.prototype._dispatch=function(e,t){var o=this._events?this._events[e]:null;if(o){t=this._prepareEventArguments(e,t);for(var n=o.length,i=0;i<n;++i)o[i](t)}};i.preventDefault=function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())};var r=function(e,t,o){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof e&&(this._resolveHandler=e),"function"==typeof t&&(this._rejectHandler=t),null!=o&&(this._ctx=o),this.promise=new Promise(function(e,t){this._resolve=e,this._reject=t}.bind(this))};r.prototype.promise=null,r.prototype._resolve=null,r.prototype._reject=null,r.prototype._resolveHandler=null,r.prototype._rejectHandler=null,r.prototype._ctx=null,r.prototype.resolve=function(e){if(this._resolve){if(this._resolveHandler){var t=this._resolveHandler(e,this._ctx||this);null!=t&&(e=t)}this._resolve(e),this._finally()}},r.prototype.reject=function(e){if(this._reject){if(this._rejectHandler){var t=this._rejectHandler(e,this._ctx||this);null!=t&&(e=t)}this._reject(e),this._finally()}},r.prototype._finally=function(){this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var l=function(){};n.inherits(l,i),l.prototype._hosts=null,l.prototype._compositeGrid=null,l.prototype._realTimeGrid=null,l.prototype._rowGetter=null,l.prototype._initializedGrid=!1,l.prototype.listen=l.prototype.addEventListener,l.prototype.unlisten=l.prototype.removeEventListener,l.prototype.afterInit=function(e,t,o){var n=null;o&&o.getCoreGrid&&(n=o.getCoreGrid()),n&&(this.getGridApi()||this.setGridWrapper("compositegrid",o),this._compositeGrid&&n.loadPlugin(this,t)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?a:s,this._afterInit())},l.prototype._afterInit=function(){},l.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},l.prototype.hasMultiTableSupport=function(){return!1},l.prototype._prepareEventArguments=function(e,t){return t||(t={}),t.api=this.getGridApi(),t},l.prototype.getName=function(){return"GridPlugin"},l.prototype.getRelativeGrid=function(e){var t=null;if(e.target){var o=(t=e.target).api;if(o&&o.getCoreGrid)return o.getCoreGrid()}else e.getElement?t=e.getElement():1===e.nodeType&&(t=e);if(t)for(var n=this._hosts.length;--n>=0;){var i=this._hosts[n];if(i.getElement().contains(t))return i}return null},l.prototype.setGridWrapper=function(e,t){e&&("compositegrid"===(e=e.toLowerCase())?this._compositeGrid=t:"realtimegrid"===e&&(this._realTimeGrid=t))},l.prototype.getGridApi=function(){return this._compositeGrid||this._realTimeGrid||null},l.prototype.getColumnName=function(e){if(this._compositeGrid){var t=this._compositeGrid.getColumnModel(e);if(t)return t.title?t.title:t.field}else{var o=this.getColumnIndex(e),n=this._realTimeGrid.getColumnDefinition(o);if(n)return n.getName()}return""},l.prototype.getColumnIndex=function(e){if("number"==typeof e)return e;if(this._compositeGrid)return this._compositeGrid.getColumnIndex(e);for(var t=this._realTimeGrid,o=t.getColumnCount(),n=0;n<o;++n){var i=t.getColumnDefinition(n);if(i&&i.getId()===e)return n}return-1},l.prototype.getColumnId=function(e){if("string"==typeof e)return e;if(this._compositeGrid)return this._compositeGrid.getColumnId(e);var t=this._realTimeGrid.getColumnDefinition(e);return t?t.getId():""},l.prototype.getColumnCount=function(){if(this._hosts){var e=this._hosts[0];return e?e.getColumnCount():0}return 0},l.prototype._loadPlugin=function(e,t,o){return e||(e=t.getPlugin(o))||(e=t.loadPlugin(o))&&this._initializedGrid&&(e._initializedGrid=!0),e},l.prototype._requestPlugin=function(e,t,o){return this._initializedGrid?l.requestPlugin(e,t,o,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},l.requestPlugin=function(e,t,o,n,i){var s=null;if(e){var a=null;1===e.nodeType?a=e.api:e.getCoreGrid?a=e:e.getPlugin&&(s=e),a&&(s=a.getCoreGrid(),n||i||(a.getModel?n=a:i=a))}if(!s)return Promise.reject("Cannot find grid element");var u=s.getPlugin(t);if(u)return Promise.resolve(u);var c=new r;return setTimeout(l._onPluginRequested.bind(null,{grid:s,pluginRef:t,compositeGrid:n,realTimeGrid:i,config:o,deferred:c}),10),c.promise},l._onPluginRequested=function(e){var t=e.grid;if(!t.getElement())return e.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+e.pluginRef);var o=t.getPlugin(e.pluginRef);if(o)return e.deferred.resolve(o);var n=!1;return e.pluginRef.beforeInit&&(n=!0,e.pluginRef.beforeInit(t.getElement(),e.config,!0)),(o=t.loadPlugin(e.pluginRef,e.config))?(!n&&o.beforeInit&&(n=!0,o.beforeInit(t.getElement(),e.config)),o.setGridWrapper&&(e.compositeGrid?o.setGridWrapper("compositegrid",e.compositeGrid):e.realTimeGrid&&o.setGridWrapper("realtimegrid",e.realTimeGrid)),o.afterInit&&o.afterInit(),e.deferred.resolve(o)):e.deferred.reject("Unable to load required dependency: "+e.pluginRef)},l.prototype._getPlugin=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getPlugin(e):null},l.prototype._getColumnData=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getColumnData(e):null},l.prototype._getColumnOption=function(e,t,o){var n=this._getColumnData(e,o);return n?n[t]:null},l.prototype._newColumnData=function(e,t){if(null==t&&(t=this._hosts[0]),!t)return{};var o=t.getColumnData(e);return o||(o=t.setColumnData(e,{})),o},l.prototype._getField=function(e){var t=this._compositeGrid||this._realTimeGrid;return t?t.getColumnField(e):""},l.prototype._getRowData=function(e){return this._realTimeGrid&&e?e.ROW_DEF.getRowData():e},l.prototype._getRow=function(e,t){return u(e.getRowDataAt(t))},l.prototype._getData=function(e,t,o){var n=this._getRow(e,t);return n?n[o]:void 0},l.prototype._setData=function(e,t,o,n){if(this._realTimeGrid){var i=e.getRowDataAt(t);i&&i.ROW_DEF.setData(o,n)}else e.setDataAt(t,o,n)},l.prototype._setRowData=function(e,t,o){if(this._realTimeGrid){var n=e.getRowDataAt(t);n&&n.ROW_DEF.setRowData(o)}else e.setRowDataAt(t,o)},l.prototype._setColumnData=function(e,t,o,n){if(n=n||e.getAllRowIds()||[],this._realTimeGrid){for(var i=e.getDataSource(),r=i.freeze(),l=o.length<n.length?o.length:n.length,s=0;s<l;++s){var a=e.getRowData(n[s]);a&&a.ROW_DEF.setData(t,o[s])}i.freeze(r)}else e.setColumnData(t,o,n)};var s=function(e){return e},a=function(e){return e?e.ROW_DEF.getRowData():null},u=function(e){if(e){var t=e.ROW_DEF;return t?t.getRowData():e}return null},c={create:function(e,t){var o=document.createElement(e);return t&&(o.className=t),o},div:function(e){return c.create("div",e)},text:function(e,t){var o=c.create("span",t);return(e||0===e)&&(o.textContent=e),o},appendChild:function(e,t){if(!e)return null;var o,n;Array.isArray(arguments[1])?(n=arguments[1],o=0):(n=arguments,o=1);for(var i=n.length;o<i;)e.appendChild(n[o]),++o;return e},buildTree:function(e,t){if(!e)return null;for(var o=arguments,n=o.length,i=1;i<n;++i){var r,l=o[i];if(l)Array.isArray(l)?r=c.buildTree.apply(null,l):1===l.nodeType&&(r=l),r&&e.appendChild(r)}return e},removeParent:function(e){if(!e)return null;var t=e.parentNode;return t&&t.removeChild(e),t},setParent:function(e,t){return e?t?(t.appendChild(e),t):c.removeParent(e):null},removeChildren:function(e,t){if(e){var o=e.childNodes.length;for((null==t||t>o)&&(t=o);--t>=0;)e.removeChild(e.lastChild)}},setContent:function(e,t){if(e)if(t||0===t){var o=t.nodeType;1===o||3===o?t!==e.lastChild&&(c.removeChildren(e),e.appendChild(t)):Array.isArray(t)?(c.removeChildren(e),c.appendChild(e,t)):e.textContent=t}else c.removeChildren(e)},toggleAttribute:function(e,t,o){o?e.setAttribute(t,"string"==typeof o?o:""):null==o?e.hasAttribute(t)?e.removeAttribute(t):e.setAttribute(t,""):e.removeAttribute(t)},toggleClass:function(e,t,o){o?e.classList.add(t):null==o?e.classList.contains(t)?e.classList.remove(t):e.classList.add(t):e.classList.remove(t)},addClasses:function(e,t){if(e)for(var o=Array.isArray(t)?t:arguments,n=o.length,i=0;i<n;++i){var r=o[i];r&&"string"==typeof r&&e.classList.add(r)}},removeClasses:function(e,t){if(e)for(var o=Array.isArray(t)?t:arguments,n=o.length,i=0;i<n;++i){var r=o[i];r&&"string"==typeof r&&e.classList.remove(r)}},preventDefault:function(e){e.preventDefault(),e.stopPropagation()},stopPropagation:function(e){e.stopPropagation()},getClientPosition:function(e,t){var o=t||{x:0,y:0};if(e.getBoundingClientRect){var n=e.getBoundingClientRect();o.x=n.left,o.y=n.top}else o.x=e.clientX,o.y=e.clientY;return o},getRelativePosition:function(e,t,o){o=c.getClientPosition(e,o);var n=c.getClientPosition(t);return o.x-=n.x,o.y-=n.y,o},closestElement:function(e,t){for(var o=e;o&&o.classList;){if(o.classList.contains(t))return o;o=o.parentNode}return null},closestTagName:function(e,t){for(var o=e;o&&o.tagName;){if(o.tagName==t)return o;o=o.parentNode}return null}},d=function(e,t){var o=this;o.show=o.show=o.show.bind(o),o.hide=o.hide=o.hide.bind(o),o.toggle=o.toggle=o.toggle.bind(o),o._onBlur=o._onBlur.bind(o),o._onBlurTimer=o._onBlurTimer.bind(o),o._onResize=o._onResize.bind(o),o.updatePosition=o.updatePosition.bind(o),o._onScroll=o._onScroll.bind(o),o._onMouseOver=o._onMouseOver.bind(o),o._onMouseOut=o._onMouseOut.bind(o),o._onMouseOverTimeout=o._onMouseOverTimeout.bind(o),e&&1!==e.nodeType&&(t=e,e=null),e?(o._elem=e,c.removeParent(e)):o._elem=document.createElement("div"),o._elem.style.position="fixed",o._elem.style.left="0",o._elem.style.top="0",o._elem.style.display="inline-block",o._focusElements=[o._elem],o._children=[],o._evtArg={target:o._elem,currentTarget:o._elem},o._parentElement=document.body,o.init(t)};n.inherits(d,i),d.prototype._elem=null,d.prototype._disabled=!1,d.prototype._inDoc=!1,d.prototype._autoHiding=!0,d.prototype._blurTimer=0,d.prototype._resizeTimer=0,d.prototype._attachedElem=null,d.prototype._positioning="under",d.prototype._focusElements,d.prototype._parentElement,d.prototype._children,d.prototype._evtArg,d.prototype._autoClipping=!0,d.prototype._origW=null,d.prototype._origH=null,d.prototype._hoverToShow=!1,d.prototype._hoverTimer=0,d.prototype._gap=0,d.prototype.dispose=function(){this._removeEventListeners(),this._clearMouseOverTimer();for(var e=this._children.length;--e>=0;)this._children[e].dispose();this._inDoc=!1,c.removeParent(this._elem),this._elem=null},d.prototype.getElement=function(){return this._elem},d.prototype.appendChild=function(e){e&&this._elem.appendChild(e)},d.prototype.disable=function(e){this._disabled=!1!==e},d.prototype.enable=function(e){this._disabled=!1===e},d.prototype.init=function(e){if(e){e.positioning&&(this._positioning=e.positioning),null!=e.autoHiding&&(this._autoHiding=!!e.autoHiding),null!=e.hoverToShow&&(this._hoverToShow=!!e.hoverToShow),null!=e.autoClipping&&(this._autoClipping=!!e.autoClipping),null!=e.attachedElement&&this.attachTo(e.attachedElement),null!=e.contentElement&&this.appendChild(e.contentElement),null!=e.parentElement&&this.setParentElement(e.parentElement),null!=e.popupChild&&this.addPopupChild(e.popupChild),this.addListener(e,"show"),this.addListener(e,"hide"),this.addListener(e,"shown"),this.addListener(e,"hidden");var t=e.focusElement||e.focusElements;if(t)if(Array.isArray(t))for(var o=t.length;--o>=0;)this.addFocusElement(t[o]);else this.addFocusElement(t)}},d.prototype.attachTo=function(e,t){e||(e=null),this._attachedElem!==e&&(this._hoverToShow&&this._attachedElem&&(this._attachedElem.removeEventListener("mouseover",this._onMouseOver,!1),this._attachedElem.removeEventListener("mouseout",this._onMouseOut,!1)),this.removeFocusElement(this._attachedElem),this._attachedElem=e,this.addFocusElement(this._attachedElem),this._hoverToShow&&this._attachedElem&&(this._attachedElem.addEventListener("mouseover",this._onMouseOver,!1),this._attachedElem.addEventListener("mouseout",this._onMouseOut,!1))),null!=t&&this.setPositioning(t)},d.prototype.setAttachedElement=d.prototype.attachTo,d.prototype.addFocusElement=function(e){e&&this._focusElements.indexOf(e)<0&&this._focusElements.push(e)},d.prototype.removeFocusElement=function(e){if(e){var t=this._focusElements.indexOf(e);t>=0&&this._focusElements.splice(t,1)}},d.prototype.addPopupChild=function(e){return e||((e=new d).setPositioning("right"),e.attachTo(this._elem)),this.addFocusElement(e.getElement()),this._children.push(e),e},d.prototype.setPopupGap=function(e){this._gap="number"==typeof e?e:0},d.prototype.setParentElement=function(e){return e instanceof Element?this._parentElement=e:this._parentElement||(this._parentElement=document.body),this._parentElement},d.prototype.show=function(e,t){var o=this;if(o._clearMouseOverTimer(),!o._disabled){var n=!1!==e;if(o._inDoc!==n){var i=n?"show":"hide";if(o._evtArg.type=i,o._dispatch(i,o._evtArg),o._evtArg.cancel)o._evtArg.cancel=!1;else{if(n)o._inDoc=!0,t instanceof Element||(t=o._parentElement),t.appendChild(o._elem),t.addEventListener("scroll",o._onScroll,!0),o._autoHiding&&(window.addEventListener("mousedown",o._onBlur,!0),window.addEventListener("touchstart",o._onBlur,!0)),window.addEventListener("resize",o._onResize,!1),window.addEventListener("scroll",o._onScroll,!0);else if(o._inDoc){o._removeEventListeners(),o._restoreElementSize();for(var r=o._children.length;--r>=0;)o._children[r].hide();o._inDoc=!1,c.removeParent(o._elem)}i=n?"shown":"hidden",o._evtArg.type=i,o._dispatch(i,o._evtArg),n&&o.updatePosition()}}else o.updatePosition()}},d.prototype.hide=function(e){this.show(!1===e)},d.prototype.toggle=function(e,t){null==e&&(e=!this._inDoc),e?this.show(!0,t):this.hide()},d.prototype.isShown=function(){return this._inDoc},d.prototype.isHidden=function(){return!this._inDoc},d.prototype.contains=function(e){if(e){e=Array.isArray(e)?e:[e];for(var t=this._focusElements,o=t.length;--o>=0;)if(e.indexOf(t[o])>=0||t[o].contains(e[0]))return!0}return!1},d.prototype.setPositioning=function(e){this._positioning!==e&&(this._positioning=e,this.updatePosition())},d.prototype.disableAutoHiding=function(e){var t=!1===e;this._autoHiding!==t&&(this._autoHiding=t,this._inDoc&&(t?(window.addEventListener("mousedown",this._onBlur,!0),window.addEventListener("touchstart",this._onBlur,!0)):(window.removeEventListener("mousedown",this._onBlur,!0),window.removeEventListener("touchstart",this._onBlur,!0))))},d.prototype.disableAutoClipping=function(e){var t=!1===e;this._autoClipping!==t&&(this._autoClipping=t)},d.prototype.updatePosition=function(){var e=this;if(e._resizeTimer=0,e._inDoc){if(e._attachedElem){if(!e._attachedElem.offsetWidth)return;e._autoClipping&&e._restoreElementSize();var t,o,n=c.getRelativePosition(e._attachedElem,document.body),i=n.x,r=n.y,l=window.innerWidth,s=window.innerHeight,a=null!=window.scrollX?window.scrollX:window.pageXOffset,u=null!=window.scrollY?window.scrollY:window.pageYOffset,d=l+a,p=s+u,h=e._attachedElem.offsetWidth,_=e._attachedElem.offsetHeight,m=e._elem.offsetWidth,f=e._elem.offsetHeight;"right"==e._positioning?(o=r,(t=i+h+this._gap)+m>d&&i-m>a&&(t=i-m-this._gap),o+f>p&&r+_-f>u&&(o=r+_-f)):"over"==e._positioning?((t=i)+m>d&&i+h-m>a&&(t=i+h-m),(o=r)+f>p&&r+h-f>u&&(o=r+h-f)):((t=i)+m>d&&i+h-m>a&&(t=i+h-m),(o=r+_)+f>p&&r-f>u&&(o=r-f)),e._autoClipping&&(t+m>d&&(null==e._origW&&(e._origW=e._elem.style.width),e._elem.style.width=d-t+"px"),o+f>p&&(null==e._origH&&(e._origH=e._elem.style.height),e._elem.style.height=p-o+"px")),e._elem.style.left=Math.floor(t-a)+"px",e._elem.style.top=Math.floor(o-u)+"px"}else"fixed"!=e._positioning&&"custom"!=e._positioning&&(e._elem.style.left="calc(50vw - "+Math.floor(e._elem.offsetWidth/2)+"px)",e._elem.style.top="calc(46vh - "+Math.floor(e._elem.offsetHeight/2)+"px)");e._evtArg.type="positioning",e._dispatch("positioning",e._evtArg)}},d.prototype._onBlur=function(e){if(!this._blurTimer&&this._inDoc){if(e)if(e.composedPath){if(this.contains(e.composedPath()))return}else if(this.contains(e.target))return;this._blurTimer=setTimeout(this._onBlurTimer,10)}},d.prototype._onBlurTimer=function(){this._blurTimer=0,this.contains(document.activeElement)||this.hide()},d.prototype._onResize=function(){!this._resizeTimer&&this._inDoc&&(this._resizeTimer=setTimeout(this.updatePosition,50))},d.prototype._onScroll=function(e){this.contains(e.target)||this.hide()},d.prototype._onMouseOver=function(e){this._hoverTimer||this._inDoc||(this._hoverTimer=setTimeout(this._onMouseOverTimeout,500))},d.prototype._onMouseOut=function(e){this._hoverTimer&&(e.currentTarget.contains(e.relatedTarget)||this._clearMouseOverTimer())},d.prototype._onMouseOverTimeout=function(){this._hoverTimer=0,this.show()},d.prototype._clearMouseOverTimer=function(){this._hoverTimer&&(clearTimeout(this._hoverTimer),this._hoverTimer=0)},d.prototype._restoreElementSize=function(){null!=this._origW&&(this._elem.style.width=this._origW,this._origW=null),null!=this._origH&&(this._elem.style.height=this._origH,this._origH=null)},d.prototype._removeEventListeners=function(){this._blurTimer&&(clearTimeout(this._blurTimer),this._blurTimer=0),this._resizeTimer&&(clearTimeout(this._resizeTimer),this._resizeTimer=0),window.removeEventListener("mousedown",this._onBlur,!0),window.removeEventListener("touchstart",this._onBlur,!0),window.removeEventListener("resize",this._onResize,!1),window.removeEventListener("scroll",this._onScroll,!0),this._elem.parentElement&&this._elem.parentElement.removeEventListener("scroll",this._onScroll,!0)};var p=o(0),h={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};h.themeColors=h._defaultColors,h._components={},h._themeName="",h._elfVersion=0,h._dummyIcon=null,h._iconLoaded=!1,h._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"list",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},h.getElfVersion=function(){if(!h._elfVersion){var e=0;if(window.EFX_GRID)e=5;else if(window.elf)if(window.elf.version){var t=window.elf.version.match(/\d/);t&&t[0]&&(e=parseInt(t[0],10))}else window.elf.customElements?e=3:window.customElements&&(e=4);else window.Polymer&&(e=1);h._elfVersion=e}return h._elfVersion},h.hasComponent=function(e){var t=h._components[e];if(null==t){t=0;var o=h.getElfVersion();if(e)1===o?document.createElement(e).is===e&&(t=o):o>1&&(window.customElements&&window.customElements.get(e)||document.createElement(e).constructor!==HTMLElement)&&(t=o),h._components[e]=t}return t},h.hasTheme=function(e){return e===h.getThemeName()},h.getThemeName=function(e){return h._themeName||(h._themeName=h.getCssVariable("--theme-name",document.documentElement)),h._themeName},h.injectIcons=function(e,t){if("object"==typeof e){var o=h.getThemeName();e.themeName=o;var n=h.getElfVersion();e.elfVersion=n;var i=h._icons[o];i&&(e.icons=i)}},h.getIconList=function(){var e=h._icons[h.getThemeName()];return e?Object(p.b)(e):[]},h._onIconPreloaded=function(){if(h._dummyIcon){var e=h._dummyIcon.parentNode;e&&e.removeChild(h._dummyIcon),h._dummyIcon=null}},h.prepareIconPreloading=function(){if(!h._iconLoaded){h._iconLoaded=!0;var e=h.getIconList();if(e.length){setTimeout(h._onIconPreloaded,10);var t=h._dummyIcon=document.createElement("coral-icon");return t.style.transform="scale(0)",document.body.appendChild(t),e}}return null},h.getCssVariable=function(e,t){var o="",n=t||document.body;return window&&"string"==typeof e&&1===n.nodeType&&e.match(/^--/)&&(o=(o=window.getComputedStyle(n).getPropertyValue(e)).replace(/[\"\']/g,"")),o},h.getCssVariables=function(e,t){var o=t||document.body;if(window&&1===o.nodeType){var n=window.getComputedStyle(o);for(var i in e){var r=e[i];r&&r.match(/^--/)&&(e[i]=n.getPropertyValue(r).replace(/\"/g,""))}}return e||null},h.getThemeColors=function(){if(h.themeReady)return h.themeReady;var e=h._deferred=new r;h.themeReady=e.promise;var t=window?window.JET:null;if(t&&t.Settings)try{t.Settings.read(h._onColorProfile,{providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"})}catch(t){e.reject("Cannot read JET's settings")}else setTimeout(h._retrieveThemeColors,100);return e.promise},h._onColorProfile=function(e){e&&document.documentElement.setAttribute("movement-color-profile",e.toLowerCase()),h._retrieveThemeColors()},h.getMovementColorProfile=function(){return document.documentElement.getAttribute("movement-color-profile")},h._retrieveThemeColors=function(){var e=h.themeColors=h.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});e.up||(e.up=h._defaultColors.up,e.down=h._defaultColors.down,e.level=h._defaultColors.level,e.tickUp=h._defaultColors.tickUp,e.tickDown=h._defaultColors.tickDown),e.positive=e.up,e.negative=e.down,e.neutral=e.level;var t=document.createElement("table");t.style.visibility="hidden",t.style.position="fixed",t.style.left="0",t.style.top="0",t.style.width="0";var o=t.insertRow(-1),n=o.insertCell(-1);document.body.appendChild(t);var i=window.getComputedStyle(o);e.tableBg=i.backgroundColor;var r=window.getComputedStyle(n);e.tableText=r.color,e.tableBorder=r.borderColor,e.tableText===e.tableBorder&&(n.className="tr-lg",r=window.getComputedStyle(n),e.tableBg=r.backgroundColor,e.tableText=r.color,e.tableBorder=r.borderColor,e.tableText===e.tableBorder&&(e.tableBg=h._defaultColors.baseGrid,e.tableText=h._defaultColors.baseText,e.tableBorder="")),e.tableBg=Object(p.c)(e.tableBg),e.tableText=Object(p.c)(e.tableText),e.tableBorder=Object(p.c)(e.tableBorder),document.body.removeChild(t),e.baseGrid=e.tableBg,e.baseText=e.tableText,e.trackColor=e.primary||h._defaultColors.trackColor,h._deferred.resolve(e)};var _={from:function(e){if(e){var t=e;if("string"==typeof e||"number"==typeof e?t=new Date(e):Array.isArray(e)&&(t=new Date(Date.UTC(e[0]||0,e[1]||0,e[2]||0))),_.isValid(t))return t}return null},isValid:function(e){if(e&&e.getTime){var t=e.getTime();return t==t}return!1},prefixSingleDigit:function(e){return e<10&&e>=0?"0"+e:""+e},_ymdRe:/^\d{4}\-d{2}\-\d{2}/,toYMD:function(e){if("string"==typeof e&&_._ymdRe.test(e))return e;var t=_.from(e);return t?t.getFullYear()+"-"+_.prefixSingleDigit(t.getMonth()+1)+"-"+_.prefixSingleDigit(t.getDate()):""},setDate:function(e,t){e&&(e.isAttached?e.value=_.from(t):e.value=_.toYMD(t))},getDate:function(e){return e?_.from(e.value):null},compare:function(e,t){if(e!==t)if(e=_.from(e),t=_.from(t),e){if(!t)return 1;if(e<t)return-1;if(e>t)return 1}else if(t)return-1;return 0},equal:function(e,t){return!_.compare(e,t)},extractDate:function(e){return _.isValid(e)?[e.getFullYear(),e.getMonth(),e.getDate()]:null}},m={create:function(e){if(Array.isArray(e)){for(var t=e.length,o=new Array(t),n=0;n<t;++n){var i=e[n];null!=i?"object"!=typeof i&&(i={value:i}):i={value:""};var r=i.label;r||"string"==typeof r||(i.label=i.value+""),o[n]=i}return o}return null}},f=function(e){var t=this;t._onDoubleClick=t._onDoubleClick.bind(t),t._onTextBlur=t._onTextBlur.bind(t),t._onScroll=t._onScroll.bind(t),t._onTextKeyDown=t._onTextKeyDown.bind(t),t._onTextKeyUp=t._onTextKeyUp.bind(t),t._onTouchStart=t._onTouchStart.bind(t),t._onTouchEnd=t._onTouchEnd.bind(t),t._onTimer=t._onTimer.bind(t),t._createContentEditor=t._createContentEditor.bind(t),t._createTitleEditor=t._createTitleEditor.bind(t),t._onColumnAdded=t._onColumnAdded.bind(t),t._onValueChanged=t._onValueChanged.bind(t),t._onPostSectionDataBinding=t._onPostSectionDataBinding.bind(t),t._hosts=[],e&&this.config({inCellEditing:e})};n.inherits(f,l),f._uiElementTypesMap={input:"input",text:"input",number:"coral-input",select:"coral-select",dropdown:"coral-select",date:"emerald-datetime-picker",checkbox:"coral-checkbox",boolean:"coral-checkbox",combobox:"coral-combo-box"},f.prototype._editableTitle=!1,f.prototype._editableContent=!1,f.prototype._activePos=null,f.prototype._activeCell=null,f.prototype._activeRow=null,f.prototype._lastActiveGrid=null,f.prototype._prevContent=null,f.prototype._initialText="",f.prototype._headerInCellCache=null,f.prototype._activeInCellCache=null,f.prototype._usingBalloon=!1,f.prototype._balloonMode=!1,f.prototype._dataBinding=!0,f.prototype._dblClick=!0,f.prototype._autoCommitText=!1,f.prototype._timerId=0,f.prototype._longPressTime=1e3,f.prototype._editing=!1,f.prototype._customElement=null,f.prototype._customElementPopup=null,f.prototype._tabToMove=!1,f.prototype._contentSource="textContent",f.prototype._inlineStyling=!1,f.prototype._defaultTag="input",f.prototype._elfVersion=0,f._primaryColor="",f._onThemeLoaded=function(e){f._primaryColor||(f._primaryColor=e.primary)},f.prototype._createInputElement=function(e){var t=this,o=document.createElement(e),n=f._uiElementTypesMap;return h.hasComponent("coral-number-field")&&(n.number="coral-number-field"),o.style.width="100%",o.style.height="100%",o.style.margin="0",o.style.borderColor=f._primaryColor||"#ee7600",o.style.maxHeight="unset",e===n.checkbox?(o.style.borderStyle="solid",o.style.borderWidth="1px",o.style.boxSizing="border-box",o.style.display="flex",o.style.justifyContent="center",o.addEventListener("keydown",(function(e){13===e.keyCode&&e.preventDefault()}))):e===n.select||e===n.combobox||e===n.date?o.addEventListener("value-changed",t._onValueChanged):"coral-input"===e?o.setAttribute("type","number"):e===n.input&&o.setAttribute("type","text"),o.addEventListener("keydown",t._onTextKeyDown,!1),o.addEventListener("keyup",t._onTextKeyUp,!1),o.addEventListener("mousedown",t._stopPropagation,!1),o.addEventListener("mouseup",t._stopPropagation,!1),o.addEventListener("click",t._stopPropagation,!1),o.addEventListener("copy",t._stopPropagation,!1),o.addEventListener("cut",t._stopPropagation,!1),o.addEventListener("paste",t._stopPropagation,!1),o},f.prototype._createEditor=function(){var e=document.createElement("div");return e.className="cell editing",e.style.position="absolute",e},f.prototype._createBalloonPopup=function(e){var t=new d(e,{positioning:"over"});return t.addEventListener("hidden",this._onTextBlur),t},f.prototype._createInCellCache=function(e,t){var o=this,n=o._createEditor(),i=o._createInputElement(t),r=o._createBalloonPopup(n);return n.appendChild(i),{grid:e,inputElement:i,editor:n,balloonPopup:r}},f.prototype._createTitleEditor=function(e){var t=this;return t._headerInCellCache||(t._headerInCellCache=t._createInCellCache(e,"input")),t._headerInCellCache},f.prototype._createContentEditor=function(e,t){var o=this,n=f._uiElementTypesMap,i=o._getColumnData(e,t),r=i.inCellEditing,l=n[r&&r.type]||o._defaultTag;i.inCellCache||(i.inCellCache=o._createInCellCache(t,l));var s=i.inCellCache;return l!==n.select&&l!==n.combobox||(s.inputElement.data=r&&r.entries),s},f.prototype.getName=function(){return"InCellEditingPlugin"},f.prototype._onColumnAdded=function(e){e.context&&null!=e.colIndex&&this._retrieveColumnOption(e.context,e.colIndex)},f.prototype.initialize=function(e,t){this._hosts.indexOf(e)>=0||(this._hosts.push(e),this._dblClick&&this._listenForTriggering(e,!0),this.config(t),f._primaryColor||h.getThemeColors().then(f._onThemeLoaded))},f.prototype.beforeProcessOption=function(e,t){if("cellEditing"==e)return null},f.prototype._afterInit=function(){this._elfVersion=h.getElfVersion()},f.prototype.config=function(e){if(e){var t=this,o=e.columns;if(o)for(var n=o.length,i=0;i<n;++i)t._retrieveColumnOption(o[i],i);var r=e.inCellEditing;r&&(r.type&&(t._defaultTag=f._uiElementTypesMap[r.type]),r.balloonMode&&t.enableBalloonMode(r.balloonMode),r.editableTitle&&t.enableTitleEditing(r.editableTitle),r.editableContent&&(t._editableContent=!0),r.tabToMove&&(t._tabToMove=!0),r.autoCommitText&&t.enableAutoCommitText(r.autoCommitText),null!=r.dataBinding&&t.disableDataBinding(!r.dataBinding),null!=r.contentSource&&(t._contentSource=r.contentSource),r.popupElement&&t.setPopupElement(r.popupElement),null!=r.doubleClick&&t.disableDblClick(!r.doubleClick),r.inlineStyling&&(t._inlineStyling=!0),t.addListener(r,"preEditorOpening"),t.addListener(r,"editorOpened"),t.addListener(r,"beforeCommit"),t.addListener(r,"editorClosed"),t.addListener(r,"keyUp"),t.addListener(r,"beforeRowCommit"))}},f.prototype.getConfigObject=function(e){var t=e||{},o=t.columns;o||(o=t.columns=[]);for(var n=this.getColumnCount(),i=0;i<n;++i){var r=o[i];r||(r=o[i]={});var l=this._getColumnData(i);l&&(null!=l.editableContent&&(r.editableContent=l.editableContent),null!=l.inCellEditing&&(r.inCellEditing=l.inCellEditing))}var s=t.inCellEditing;return s||(s=t.inCellEditing={}),s.balloonMode=this._balloonMode,s.editableTitle=this._editableTitle,s.editableContent=this._editableContent,s.tabToMove=this._tabToMove,s.autoCommitText=this._autoCommitText,s.dataBinding=this._dataBinding,s.contentSource=this._contentSource,s.doubleClick=this._dblClick,s.inlineStyling=this._inlineStyling,t},f.prototype._retrieveColumnOption=function(e,t){var o=e.inCellEditing,n=e.editableContent;if(null!=o||null!=n){var i=this._newColumnData(t);null!=o&&(i.inCellEditing=o,o.entries=m.create(o.entries)),null!=n&&(i.editableContent=n)}},f.prototype.unload=function(e){var t=this._hosts.indexOf(e);t<0||(this._hosts.splice(t,1),this._listenForTriggering(e,!1),this._dispose())},f.prototype.openEditor=function(e,t,o,n){if(n||(n=this._hosts[0])){var i=n.getSectionSettings(o||"content"),r=this._activePos;if(r){var l=i?i.getType():null;if(r.colIndex===e&&r.rowIndex===t&&r.sectionName===l&&r.grid===n)return;this.closeCellEditor()}n.scrollToColumn(e),n.scrollToRow(null,t);var s=i.getSection(),a=s?s.getCell(e,t):null;setTimeout(this._openEditor.bind(this,a,n),100)}},f.prototype.closeCellEditor=function(e){this._commitText(e||this._autoCommitText)},f.prototype.enableBalloonMode=function(e){this._balloonMode=!1!==e},f.prototype.enableTitleEditing=function(e){this._editableTitle=!1!==e},f.prototype.disableTitleEditing=function(e){this._editableTitle=!1===e},f.prototype.disableCellEditing=function(e,t){e&&e.enableClass("no-editing",!1!==t)},f.prototype.disableDataBinding=function(e){this._dataBinding=!1===e},f.prototype.disableDblClick=function(e){var t=!1===e;if(this._dblClick!==t){this._dblClick=t;for(var o=this._hosts.length;--o>=0;)this._listenForTriggering(this._hosts[o],this._dblClick)}},f.prototype.isEditing=function(){return this._editing},f.prototype.getTextBox=function(){return this._activeInCellCache?this._activeInCellCache.inputElement:null},f.prototype.getInitialText=function(){return this._initialText},f.prototype._getSourceContent=function(e,t,o,n){if("field"==this._contentSource)return this._getData(e,t,o);var i,r;if(n)for(var l=n.childNodes.length,s=0;s<l;++s)if(3===n.childNodes[s].nodeType){i=n.childNodes[s];break}return i?r=i.textContent:n&&(r=n.textContent),r},f.prototype.getActiveGrid=function(){return this._activePos?this._activePos.grid:null},f.prototype.getActiveColIndex=function(){if(this._activePos){var e=this._activePos.colIndex;return null!=e?e:-1}return-1},f.prototype.getInputElementPosition=function(){return this._activePos||null},f.prototype.enableAutoCommitText=function(e){this._autoCommitText=!1!==e},f.prototype.isColumnEditable=function(e){var t=this._getColumnOption(e,"editableContent");return null==t?this._editableContent:t},f.prototype._onDoubleClick=function(e,t){var o=this,n=t||o.getRelativeGrid(e);if(!o.isEditing()&&n){var i=n.getRelativePosition(e),r=i.sectionType;("content"!==r||o.isColumnEditable(i.colIndex))&&("title"!==r||o._editableTitle)&&"header"!==r&&(e.preventDefault&&c.preventDefault(e),o.openEditor(i.colIndex,i.rowIndex,i.section,n))}},f.prototype._openEditor=function(e,t,o){var n=this;if(t.getElement()&&!(this._hosts.indexOf(t)<0)&&(o||(o=t.getRelativePosition(e)),n._dispatch("preEditorOpening",o),!o.cancel&&o.hit)){var i=o.colIndex,r=o.rowIndex,l=o.section,s=l.getCell(i,r);if(s&&!s.hasClass("no-editing")&&!s.hasClass("folder")){n.closeRowEditor(!1,t),l.addClass("edit-mode"),n._activePos=o,o.cell=n._activeCell=s,o.content=n._prevContent=s.getContent(),o.field=n._getField(i),"title"===o.sectionType?n._activeInCellCache=n._createTitleEditor(t):n._activeInCellCache=n._createContentEditor(i,t);var a=o.inputElement=n._activeInCellCache.inputElement,u=o.editor=n._activeInCellCache.editor,c=n._activeInCellCache.balloonPopup,d=o?n._getSourceContent(o.dataSource,o.rowIndex,o.field,o.content):"";r+1>=l.getRowCount()?a.classList.add("bottom"):a.classList.remove("bottom"),n._usingBalloon=n._isBalloonMode(s),n._usingBalloon?u.classList.add("balloon"):u.classList.remove("balloon");var p=u.style;(this._elfVersion||n._inlineStyling)&&(p.backgroundColor=l.getComputedStyle().backgroundColor);var h=l.getRowHeight(r),_=l.getCellWidth(i,r);if(!t.isPinnedColumn(i)){var m=t.getHScrollbar();if(m.isActive()){var f=m.getPaneSize();_>f&&(_=f)}}!n._usingBalloon||_>208?p.width=_+"px":p.width="",p.height=h+"px";var g=document.body;if(n._compositeGrid||n._realTimeGrid){var v=n.getActiveGrid();v&&(g=v.getElement().parentElement)}c.attachTo(s.getElement()),c.show(!0,g),c.disableAutoHiding(!1),n._customElement&&(n._customElementPopup.attachTo(u),n._customElementPopup.show(!0,g),n._customElementPopup.disableAutoHiding(!1),o.popupElement=n._customElement),n._setText(d,a),o.initialText=n._initialText=d,n._dispatch("editorOpened",o),a.focus(),"function"==typeof a.select&&a.select(),o.initialText=n._initialText=n.getText(),n._editing=!0,n._lastActiveGrid=t}}},f.prototype.openRowEditor=function(e,t){var o=this;if(t=t||o._hosts[0],o._activeRow!==e&&t){var n;o.closeRowEditor(!1,t),o._commitText(!1);var i=t.getSection("content"),r=t.getDataSource(),l=(i.getColumnCount()||0)-1,s=e+1>=i.getRowCount(),a=this._elfVersion||o._inlineStyling?i.getComputedStyle().backgroundColor:null,u=i.getRowHeight(e),c=document.body;(o._compositeGrid||o._realTimeGrid)&&(c=t.getElement().parentElement);for(var d=0;d<=l;d++)if(o.isColumnEditable(d)){var p=i.getCell(d,e);if(p&&!p.hasClass("no-editing")&&!p.hasClass("folder")){var h=o._createContentEditor(d,t),_=p.getContent(),m=o._getField(d),f=o._getSourceContent(r,e,m,_),g=h.inputElement,v=h.editor,y=h.balloonPopup;o._setText(f,g),s?g.classList.add("bottom"):g.classList.remove("bottom");var C=v.style;a&&(C.backgroundColor=a),C.height=u+"px";var b=i.getCellWidth(d,e);C.width=b+"px",v.classList.remove("balloon"),y.attachTo(p.getElement()),y.show(!0,c),y.disableAutoHiding(!0),n||(n=g)}}n&&(o._activeRow=e,t.listen("postSectionDataBinding",o._onPostSectionDataBinding),n.focus(),i.addClass("edit-mode"),o._editing=!0,o._lastActiveGrid=t)}},f.prototype.closeRowEditor=function(e){var t=this,o=t._lastActiveGrid;if(null!=t._activeRow&&o){for(var n,i=t._activeRow,r=o.getSection("content"),l=o.getColumnCount(),s={},a=[],u=0;u<l;u++){var c=t._getColumnData(u,o),d=c&&c.inCellCache;if(d&&(d.columnIndex=u,a.push(d),e)){var p=t._getField(u);d.field=p,s[p]=this._getValue(d.inputElement)}}var h,_=a.length;if(e){if(t.hasListener("beforeRowCommit")){var m={grid:o,rowIndex:i,fieldValue:s,cancel:!1};t._dispatch("beforeRowCommit",m),e=!m.cancel}if(e){var f=o.getDataSource();for(h=0;h<_;h++){var g=s[(n=a[h]).field];f&&t._setData(f,i,n.field,g);var v=r.getCell(n.columnIndex,i),y=v.getContent();y&&y.classList.contains("text")&&v.setContent(g)}}}for(h=0;h<_;h++)a[h].balloonPopup.hide();r.removeClass("edit-mode"),t._editing=!1,t._activeRow=t._lastActiveGrid=null,o.focus(),o.unlisten("postSectionDataBinding",t._onPostSectionDataBinding)}},f.prototype.toggleRowEditor=function(e,t,o){this._activeRow===e?this.closeRowEditor(t,o):null!=this._activeRow?(this.closeRowEditor(t,o),this.openRowEditor(e,o)):this.openRowEditor(e,o)},f.prototype._onPostSectionDataBinding=function(e){e.globalChange&&this.closeRowEditor(!1)},f.prototype._onScroll=function(e){this.closeRowEditor(!1),this._commitText(!1)},f.prototype._onTextBlur=function(e){null==this._activeRow&&this._commitText(this._autoCommitText)},f.prototype._onValueChanged=function(e){null==this._activeRow&&this._commitText(!0)},f.prototype._onTextKeyDown=function(e){e.stopPropagation(),null==this._activeRow&&(27===e.keyCode&&this._onTextBlur(e),9===e.keyCode&&e.preventDefault())},f.prototype._onTextKeyUp=function(e){if(e.stopPropagation(),null==this._activeRow){this.hasListener("keyUp")&&(this._activePos.text=this._activePos.enteredText=this._activeInCellCache.inputElement.value,this._dispatch("keyUp",this._activePos));var t=9===e.keyCode;if(t||13===e.keyCode){var o=this.getText(),n=this._activePos;if(this._initialText!==o?(this._commitText(!0),e.preventDefault()):this._commitText(!1),t&&this._tabToMove&&!e.altKey&&!e.ctrlKey){var i=n?n.grid:null;if(i&&i.getCellInfo)for(var r=i.getDataSource();n;)if((n=e.shiftKey?i.getPrevCell(n):i.getNextCell(n))&&n.cell){if(r.getRowDataAt(n.rowIndex)&&this.isColumnEditable(n.colIndex)){this.openEditor(n.colIndex,n.rowIndex,n.sectionName,n.grid);break}}else n=null}}}},f.prototype._commitText=function(e){var t=this,o=t._activePos;if(t.isEditing()&&o){o.section.removeClass("edit-mode"),t._editing=!1;var n=o.text=this.getValue();if(e&&(t.hasListener("beforeCommit")&&(t._dispatch("beforeCommit",o),e=!o.cancel,n=o.text),e&&t._dataBinding)){var i=o.sectionSettings,r=i.getType();if("content"===r){var l=i.getDataSource();l&&(t._setData(l,o.rowIndex,o.field,n),t._prevContent&&t._prevContent.classList.contains("text")&&t._activeCell.setContent(n))}else if("title"===r){var s=this._compositeGrid||this._realTimeGrid||null;s&&s.setColumnName(o.colIndex,n)}else t._activeCell.setContent(n)}t.hasListener("editorClosed")&&(o.canceled=o.cancelled=!e,o.committed=e,t._dispatch("editorClosed",o)),t._activeInCellCache&&t._activeInCellCache.balloonPopup&&t._activeInCellCache.balloonPopup.hide(),c.removeParent(t._customElement),o.grid.focus(),t._activePos=t._activeCell=t._prevContent=t._lastActiveGrid=null}},f.prototype._stopPropagation=function(e){e.stopPropagation()},f.prototype._isBalloonMode=function(e){var t=e.getElement(),o=t?window.getComputedStyle(t):{};return this._balloonMode||"none"===o.display||"hidden"===o.visibility},f.prototype._listenForTriggering=function(e,t){t?(e.listen("columnAdded",this._onColumnAdded),e.listen("dblclick",this._onDoubleClick),e.getVScrollbar().listen("scroll",this._onScroll),Object(p.a)()&&(e.listen("touchstart",this._onTouchStart),e.listen("touchend",this._onTouchEnd),e.listen("touchcancel",this._onTouchEnd))):(e.unlisten("columnAdded",this._onColumnAdded),e.unlisten("dblclick",this._onDoubleClick),e.getVScrollbar().unlisten("scroll",this._onScroll),e.unlisten("touchstart",this._onTouchStart),e.unlisten("touchend",this._onTouchEnd),e.unlisten("touchcancel",this._onTouchEnd))},f.prototype._onTouchStart=function(e){this._resetTimer(),this._timerId=setTimeout(this._onTimer,this._longPressTime)},f.prototype._onTimer=function(e){this._timerId=0},f.prototype._onTouchEnd=function(e){this._resetTimer()||this._onDoubleClick(e)},f.prototype._resetTimer=function(){return!!this._timerId&&(clearTimeout(this._timerId),this._timerId=0,!0)},f.prototype.setPopupElement=function(e){var t=this._activeInCellCache&&this._activeInCellCache.balloonPopup;this._customElement&&(t&&t.removeFocusElement(this._customElement),this._customElementPopup.dispose(),this._customElementPopup=null),this._customElement=e,this._customElement&&(this._customElementPopup=new d(this._customElement),t&&t.addFocusElement(this._customElement))},f.prototype._updateEditorLayout=function(e){var t=f._uiElementTypesMap,o=e.tagName.toLowerCase();o!==t.date&&o!==t.select||(e.opened=!0)},f.prototype.setText=function(e){this._activeInCellCache&&this._setText(e,this._activeInCellCache.inputElement)},f.prototype._setText=function(e,t){t._origValue=e;var o=t.tagName.toLowerCase(),n=f._uiElementTypesMap;if(o===n.checkbox)!!e&&!("f"===e||"false"===e)?t.setAttribute("checked","true"):t.removeAttribute("checked");else if(o===n.combobox)this._elfVersion<=3?(t.value="",t.value={value:e,label:e}):t.value=e;else if(o===n.date)_.setDate(t,e);else{var i="";null!=e&&(i="string"==typeof e?e:e+""),t.value=i}},f.prototype.getText=function(){return this._activeInCellCache?this._getText(this._activeInCellCache.inputElement):""},f.prototype._getText=function(e){var t=e.tagName.toLowerCase(),o=f._uiElementTypesMap;if(t===o.checkbox)return e.checked+"";if(t===o.combobox){if(this._elfVersion<=3)return e.value?e.value.value:""}else if(t===o.date)return e.value+"";return e.value},f.prototype.getValue=function(){return this._activeInCellCache?this._getValue(this._activeInCellCache.inputElement):null},f.prototype._getValue=function(e){var t=e.tagName.toLowerCase(),o=f._uiElementTypesMap;return t===o.checkbox?!!e.checked:t===o.date?_.getDate(e):t===o.number||"number"==typeof e._origValue?+e.value:this._getText(e)},f.prototype.clearText=function(){this.setText("")},f.prototype.appendText=function(e){e&&this._activeInCellCache&&(this._activeInCellCache.inputElement.value+=e)},f.prototype.commitText=function(e){e&&this.setText(e),this._commitText(!0)},f.prototype.getBalloonPopup=function(){return this._activeInCellCache?this._activeInCellCache.balloonPopup:null};!function(e,t){if(e&&t&&t.prototype.getName){var o=t.prototype.getName().replace(/Plugin$/,"");if(o){var n=e.tr;n||(n=e.tr={});var i=n.grid;i||(i=n.grid={}),i[o+"Plugin"]=t,n[o+"Extension"]=t}}}(window,f)}]);